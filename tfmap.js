// OpenLayers. See https://openlayers.org/
// License: https://raw.githubusercontent.com/openlayers/openlayers/master/LICENSE.md
// Version: v4.2.0
;(function (root, factory) {
  if (typeof exports === "object") {
    module.exports = factory();
  } else if (typeof define === "function" && define.amd) {
    define([], factory);
  } else {
    root.ol = factory();
  }
}(this, function () {
  var OPENLAYERS = {};
  var k,aa=this;function t(a,b){var c=OPENLAYERS;a=a.split(".");c=c||aa;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};var ea,fa;function ia(a,b){return a>b?1:a<b?-1:0}function ja(a,b){return 0<=a.indexOf(b)}function ka(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1}function la(a,b){var c=Array.isArray(b)?b:[b],d=c.length;for(b=0;b<d;b++)a[a.length]=c[b]}function ma(a,b){b=a.indexOf(b);-1<b&&a.splice(b,1)}
function na(a,b){for(var c=a.length>>>0,d,e=0;e<c;e++)if(d=a[e],b(d,e,a))return d;return null}function pa(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}function qa(a){var b=ra,c=a.length,d=Array(a.length),e;for(e=0;e<c;e++)d[e]={index:e,value:a[e]};d.sort(function(a,c){return b(a.value,c.value)||a.index-c.index});for(e=0;e<a.length;e++)a[e]=d[e].value}function sa(a,b){var c;return a.every(function(d,e){c=e;return!b(d,e,a)})?-1:c}
function ta(a,b){var c=b||ia;return a.every(function(b,e){if(!e)return!0;b=c(a[e-1],b);return!(0<b||0===b)})};function v(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function ua(){}function w(a){return a.Vo||(a.Vo=++va)}var va=0;function wa(a){this.message="Assertion failed. See https://openlayers.org/en/v4.2.0/doc/errors/#"+a+" for details.";this.code=a;this.name="AssertionError"}v(wa,Error);function xa(a,b){if(!a)throw new wa(b);};function ya(a,b,c,d){this.ca=a;this.$=b;this.da=c;this.ia=d}function za(a,b,c){return a.ca<=b&&b<=a.$&&a.da<=c&&c<=a.ia}function Aa(a,b){return a.ca==b.ca&&a.da==b.da&&a.$==b.$&&a.ia==b.ia}function Ba(a,b){return a.ca<=b.$&&a.$>=b.ca&&a.da<=b.ia&&a.ia>=b.da};function Ca(a,b,c){return Math.min(Math.max(a,b),c)}var Da=function(){var a;"cosh"in Math?a=Math.cosh:a=function(a){a=Math.exp(a);return(a+1/a)/2};return a}();function Ea(a){xa(0<a,29);return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function Fa(a,b,c,d,e,f){var g=e-c,h=f-d;if(g||h){var l=((a-c)*g+(b-d)*h)/(g*g+h*h);1<l?(c=e,d=f):0<l&&(c+=g*l,d+=h*l)}return Ga(a,b,c,d)}function Ga(a,b,c,d){a=c-a;b=d-b;return a*a+b*b}function Ha(a){return a*Math.PI/180}function Ia(a,b){a%=b;return 0>a*b?a+b:a}
function Ja(a,b,c){return a+c*(b-a)};function Ka(a,b,c){void 0===c&&(c=[0,0]);c[0]=a[0]+2*b;c[1]=a[1]+2*b;return c}function La(a,b,c){void 0===c&&(c=[0,0]);c[0]=a[0]*b+.5|0;c[1]=a[1]*b+.5|0;return c}function Ma(a,b){if(Array.isArray(a))return a;void 0===b?b=[a,a]:b[0]=b[1]=a;return b};function Na(a){for(var b=Oa(),c=0,d=a.length;c<d;++c)Pa(b,a[c]);return b}function Qa(a,b,c){return c?(c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]+b,c[3]=a[3]+b,c):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function Ra(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()}function Sa(a,b,c){b=b<a[0]?a[0]-b:a[2]<b?b-a[2]:0;a=c<a[1]?a[1]-c:a[3]<c?c-a[3]:0;return b*b+a*a}function Ta(a,b){return Ua(a,b[0],b[1])}function Va(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]}
function Ua(a,b,c){return a[0]<=b&&b<=a[2]&&a[1]<=c&&c<=a[3]}function Wa(a,b){var c=a[1],d=a[2],e=a[3],f=b[0];b=b[1];var g=0;f<a[0]?g|=16:f>d&&(g|=4);b<c?g|=8:b>e&&(g|=2);g||(g=1);return g}function Oa(){return[Infinity,Infinity,-Infinity,-Infinity]}function Xa(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function Ya(a){return Xa(Infinity,Infinity,-Infinity,-Infinity,a)}function Za(a,b){var c=a[0];a=a[1];return Xa(c,a,c,a,b)}function $a(a,b,c,d,e){e=Ya(e);return ab(e,a,b,c,d)}
function bb(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]}function cb(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3]);return a}function Pa(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])}function ab(a,b,c,d,e){for(;c<d;c+=e){var f=a,g=b[c],h=b[c+1];f[0]=Math.min(f[0],g);f[1]=Math.min(f[1],h);f[2]=Math.max(f[2],g);f[3]=Math.max(f[3],h)}return a}
function db(a,b,c){var d;return(d=b.call(c,eb(a)))||(d=b.call(c,gb(a)))||(d=b.call(c,hb(a)))?d:(d=b.call(c,ib(a)))?d:!1}function jb(a){var b=0;kb(a)||(b=lb(a)*mb(a));return b}function eb(a){return[a[0],a[1]]}function gb(a){return[a[2],a[1]]}function nb(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}
function ob(a,b,c,d,e){var f=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);var g=Math.sin(c);c=f*b;f*=g;b*=d;var h=d*g,l=a[0],m=a[1];a=l-c+h;d=l-c-h;g=l+c-h;c=l+c+h;var h=m-f-b,l=m-f+b,n=m+f+b,f=m+f-b;return Xa(Math.min(a,d,g,c),Math.min(h,l,n,f),Math.max(a,d,g,c),Math.max(h,l,n,f),e)}function mb(a){return a[3]-a[1]}function pb(a,b,c){c=c?c:Oa();qb(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function ib(a){return[a[0],a[3]]}
function hb(a){return[a[2],a[3]]}function lb(a){return a[2]-a[0]}function qb(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function kb(a){return a[2]<a[0]||a[3]<a[1]}function rb(a,b){var c=(a[2]-a[0])/2*(b-1);b=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=b;a[3]+=b}
function sb(a,b,c){a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(a,a,2);var d=[a[0],a[2],a[4],a[6]],e=[a[1],a[3],a[5],a[7]];b=Math.min.apply(null,d);a=Math.min.apply(null,e);d=Math.max.apply(null,d);e=Math.max.apply(null,e);return Xa(b,a,d,e,c)};var tb="function"===typeof Object.assign?Object.assign:function(a,b){if(!a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1,e=arguments.length;d<e;++d){var f=arguments[d];if(void 0!==f&&null!==f)for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])}return c};function ub(a){for(var b in a)delete a[b]}function vb(a){var b=[],c;for(c in a)b.push(a[c]);return b}function wb(a){for(var b in a)return!1;return!b};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licensed under CC-BY-3.0.
*/
function xb(a){this.radius=a}xb.prototype.a=function(a){for(var b=0,c=a.length,d=a[c-1][0],e=a[c-1][1],f=0;f<c;f++)var g=a[f][0],h=a[f][1],b=b+Ha(g-d)*(2+Math.sin(Ha(e))+Math.sin(Ha(h))),d=g,e=h;return b*this.radius*this.radius/2};xb.prototype.b=function(a,b){var c=Ha(a[1]),d=Ha(b[1]),e=(d-c)/2;a=Ha(b[0]-a[0])/2;c=Math.sin(e)*Math.sin(e)+Math.sin(a)*Math.sin(a)*Math.cos(c)*Math.cos(d);return 2*this.radius*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))};
xb.prototype.offset=function(a,b,c){var d=Ha(a[1]);b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(Ha(a[0])+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var yb=new xb(6370997);var zb={};zb.degrees=2*Math.PI*yb.radius/360;zb.ft=.3048;zb.m=1;zb["us-ft"]=1200/3937;var Ab=null;function Bb(a){this.mb=a.code;this.a=a.units;this.f=void 0!==a.extent?a.extent:null;this.g=void 0!==a.worldExtent?a.worldExtent:null;this.b=void 0!==a.axisOrientation?a.axisOrientation:"enu";this.c=void 0!==a.global?a.global:!1;this.i=!(!this.c||!this.f);this.o=a.getPointResolution;this.j=null;this.l=a.metersPerUnit;var b=a.code,c=Ab||window.proj4;"function"==typeof c&&(b=c.defs(b),void 0!==b&&(void 0!==b.axis&&void 0===a.axisOrientation&&(this.b=b.axis),void 0===a.metersPerUnit&&(this.l=b.to_meter),
void 0===a.units&&(this.a=b.units)))}k=Bb.prototype;k.Jk=function(){return this.mb};k.G=function(){return this.f};k.Un=function(){return this.a};k.sc=function(){return this.l||zb[this.a]};k.tl=function(){return this.g};k.dm=function(){return this.c};k.$p=function(a){this.c=a;this.i=!(!a||!this.f)};k.Vn=function(a){this.f=a;this.i=!(!this.c||!a)};k.kq=function(a){this.g=a};k.Zp=function(a){this.o=a};function Cb(a){Bb.call(this,{code:a,units:"m",extent:Db,global:!0,worldExtent:Eb,getPointResolution:function(a,c){return a/Da(c[1]/6378137)}})}v(Cb,Bb);var Fb=6378137*Math.PI,Db=[-Fb,-Fb,Fb,Fb],Eb=[-180,-85,180,85],Gb="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(a){return new Cb(a)});
function Hb(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(2<c?b=a.slice():b=Array(d));for(var e=0;e<d;e+=c){b[e]=Fb*a[e]/180;var f=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));f>Fb?f=Fb:f<-Fb&&(f=-Fb);b[e+1]=f}return b}function Ib(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(2<c?b=a.slice():b=Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/Fb,b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};var Jb=new xb(6378137);function Kb(a,b){Bb.call(this,{code:a,units:"degrees",extent:Lb,axisOrientation:b,global:!0,metersPerUnit:Mb,worldExtent:Lb})}v(Kb,Bb);var Lb=[-180,-90,180,90],Mb=Math.PI*Jb.radius/180,Nb=[new Kb("CRS:84"),new Kb("EPSG:4326","neu"),new Kb("urn:ogc:def:crs:EPSG::4326","neu"),new Kb("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Kb("urn:ogc:def:crs:OGC:1.3:CRS84"),new Kb("urn:ogc:def:crs:OGC:2:84"),new Kb("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Kb("urn:x-ogc:def:crs:EPSG:4326","neu")];var Ob={};var Pb={};function Qb(a,b,c){a=a.mb;b=b.mb;a in Pb||(Pb[a]={});Pb[a][b]=c}function Rb(a,b){var c;a in Pb&&b in Pb[a]&&(c=Pb[a][b]);return c};function Sb(a,b,c){a=Tb(a);var d=a.o;d?b=d(b,c):"degrees"!=a.a&&(d=Vb(a,Tb("EPSG:4326")),b=[c[0]-b/2,c[1],c[0]+b/2,c[1],c[0],c[1]-b/2,c[0],c[1]+b/2],b=d(b,b,2),b=(yb.b(b.slice(0,2),b.slice(2,4))+yb.b(b.slice(4,6),b.slice(6,8)))/2,a=a.sc(),void 0!==a&&(b/=a));return b}function Wb(a){a.forEach(Xb);a.forEach(function(b){a.forEach(function(a){b!==a&&Qb(b,a,Yb)})})}function Zb(){Nb.forEach(function(a){Gb.forEach(function(b){Qb(a,b,Hb);Qb(b,a,Ib)})})}function Xb(a){Ob[a.mb]=a;Qb(a,a,Yb)}
function $b(a){return a?"string"===typeof a?Tb(a):a:Tb("EPSG:3857")}function ac(a,b,c,d){a=Tb(a);b=Tb(b);Qb(a,b,cc(c));Qb(b,a,cc(d))}function cc(a){return function(b,c,d){var e=b.length;d=void 0!==d?d:2;c=void 0!==c?c:Array(e);var f;for(f=0;f<e;f+=d){var g=a([b[f],b[f+1]]);c[f]=g[0];c[f+1]=g[1];for(g=d-1;2<=g;--g)c[f+g]=b[f+g]}return c}}
function Tb(a){var b=null;if(a instanceof Bb)b=a;else if("string"===typeof a){var b=Ob[a]||null,c=Ab||window.proj4;b||"function"!=typeof c||void 0===c.defs(a)||(b=new Bb({code:a}),Xb(b))}return b}function dc(a,b){if(a===b)return!0;var c=a.a===b.a;return a.mb===b.mb?c:Vb(a,b)===Yb&&c}function ec(a,b){a=Tb(a);b=Tb(b);return Vb(a,b)}
function Vb(a,b){var c=a.mb,d=b.mb,e=Rb(c,d);if(!e){var f=Ab||window.proj4;if("function"==typeof f){var g=f.defs(c),h=f.defs(d);void 0!==g&&void 0!==h&&(g===h?Wb([b,a]):(e=f(d,c),ac(b,a,e.forward,e.inverse)),e=Rb(c,d))}}e||(e=fc);return e}function fc(a,b){if(void 0!==b&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function Yb(a,b){if(void 0!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}else a=a.slice();return a}function gc(a,b,c){return ec(b,c)(a,void 0,a.length)}
function hc(a,b,c){b=ec(b,c);return sb(a,b)}function ic(){Wb(Gb);Wb(Nb);Zb()}ic();function jc(a,b,c,d){return void 0!==d?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function kc(a){var b=a[0],c=Array(b),d=1<<b-1,e;for(e=0;e<b;++e){var f=48;a[1]&d&&(f+=1);a[2]&d&&(f+=2);c[e]=String.fromCharCode(f);d>>=1}return c.join("")};function lc(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0;this.b=a.resolutions;xa(ta(this.b,function(a,b){return b-a}),17);this.maxZoom=this.b.length-1;this.i=void 0!==a.origin?a.origin:null;this.c=null;void 0!==a.origins&&(this.c=a.origins,xa(this.c.length==this.b.length,20));var b=a.extent;void 0===b||this.i||this.c||(this.i=ib(b));xa(!this.i&&this.c||this.i&&!this.c,18);this.f=null;void 0!==a.tileSizes&&(this.f=a.tileSizes,xa(this.f.length==this.b.length,19));this.g=void 0!==a.tileSize?a.tileSize:
this.f?null:256;xa(!this.g&&this.f||this.g&&!this.f,22);this.v=void 0!==b?b:null;this.a=null;this.j=[0,0];void 0!==a.sizes?this.a=a.sizes.map(function(a){return new ya(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):b&&mc(this,b)}var nc=[0,0,0];k=lc.prototype;k.Rf=function(a,b,c){a=oc(this,a,b);for(var d=a.ca,e=a.$;d<=e;++d)for(var f=a.da,g=a.ia;f<=g;++f)c([b,d,f])};
function pc(a,b,c,d,e){e=a.Aa(b,e);for(b=b[0]-1;b>=a.minZoom;){if(c.call(null,b,oc(a,e,b,d)))return!0;--b}return!1}k.G=function(){return this.v};k.Ti=function(){return this.maxZoom};k.Ui=function(){return this.minZoom};k.Pc=function(a){return this.i?this.i:this.c[a]};k.Da=function(a){return this.b[a]};k.Vi=function(){return this.b};function qc(a,b,c,d){return b[0]<a.maxZoom?(d=a.Aa(b,d),oc(a,d,b[0]+1,c)):null}
function rc(a,b,c,d){sc(a,b[0],b[1],c,!1,nc);var e=nc[1],f=nc[2];sc(a,b[2],b[3],c,!0,nc);a=nc[1];b=nc[2];void 0!==d?(d.ca=e,d.$=a,d.da=f,d.ia=b):d=new ya(e,a,f,b);return d}function oc(a,b,c,d){return rc(a,b,a.Da(c),d)}function tc(a,b){var c=a.Pc(b[0]),d=a.Da(b[0]);a=Ma(a.gb(b[0]),a.j);return[c[0]+(b[1]+.5)*a[0]*d,c[1]+(b[2]+.5)*a[1]*d]}k.Aa=function(a,b){var c=this.Pc(a[0]),d=this.Da(a[0]),e=Ma(this.gb(a[0]),this.j),f=c[0]+a[1]*e[0]*d;a=c[1]+a[2]*e[1]*d;return Xa(f,a,f+e[0]*d,a+e[1]*d,b)};
k.Be=function(a,b,c){return sc(this,a[0],a[1],b,!1,c)};function sc(a,b,c,d,e,f){var g=a.tc(d),h=d/a.Da(g),l=a.Pc(g);a=Ma(a.gb(g),a.j);b=h*Math.floor((b-l[0])/d+(e?.5:0))/a[0];c=h*Math.floor((c-l[1])/d+(e?0:.5))/a[1];e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));return jc(g,b,c,f)}k.bg=function(a,b,c){return sc(this,a[0],a[1],this.Da(b),!1,c)};k.gb=function(a){return this.g?this.g:this.f[a]};k.tc=function(a,b){return Ca(ka(this.b,a,b||0),this.minZoom,this.maxZoom)};
function mc(a,b){for(var c=a.b.length,d=Array(c),e=a.minZoom;e<c;++e)d[e]=oc(a,b,e);a.a=d};function vc(a){var b=a.j;b||(b=wc(a),a.j=b);return b}function xc(a){var b={};tb(b,a?a:{});void 0===b.extent&&(b.extent=Tb("EPSG:3857").G());b.resolutions=yc(b.extent,b.maxZoom,b.tileSize);delete b.maxZoom;return new lc(b)}function yc(a,b,c){b=void 0!==b?b:42;var d=mb(a);a=lb(a);c=Ma(void 0!==c?c:256);c=Math.max(a/c[0],d/c[1]);b+=1;d=Array(b);for(a=0;a<b;++a)d[a]=c/Math.pow(2,a);return d}function wc(a,b,c){a=zc(a);b=yc(a,b,c);return new lc({extent:a,origin:ib(a),resolutions:b,tileSize:c})}
function zc(a){a=Tb(a);var b=a.G();b||(a=180*zb.degrees/a.sc(),b=Xa(-a,-a,a,a));return b};function Ac(a){this.b=a.html;this.a=a.tileRanges?a.tileRanges:null}Ac.prototype.i=function(){return this.b};function Bc(a){return function(b){if(b)return[Ca(b[0],a[0],a[2]),Ca(b[1],a[1],a[3])]}}function Cc(a){return a};function Dc(a){function b(b){var c=a.listener,e=a.lh||a.target;a.nh&&Ec(a);return c.call(e,b)}return a.mh=b}function Fc(a,b,c,d){for(var e,f=0,g=a.length;f<g;++f)if(e=a[f],e.listener===b&&e.lh===c)return d&&(e.deleteIndex=f),e}function Gc(a,b){return(a=a.fb)?a[b]:void 0}function Hc(a){var b=a.fb;b||(b=a.fb={});return b}function Ic(a,b){var c=Gc(a,b);if(c){for(var d=0,e=c.length;d<e;++d)a.removeEventListener(b,c[d].mh),ub(c[d]);c.length=0;if(c=a.fb)delete c[b],Object.keys(c).length||delete a.fb}}
function y(a,b,c,d,e){var f=Hc(a),g=f[b];g||(g=f[b]=[]);(f=Fc(g,c,d,!1))?e||(f.nh=!1):(f={lh:d,nh:!!e,listener:c,target:a,type:b},a.addEventListener(b,Dc(f)),g.push(f));return f}function Jc(a,b,c,d){return y(a,b,c,d,!0)}function Kc(a,b,c,d){(a=Gc(a,b))&&(c=Fc(a,c,d,!0))&&Ec(c)}function Ec(a){if(a&&a.target){a.target.removeEventListener(a.type,a.mh);var b=Gc(a.target,a.type);if(b){var c="deleteIndex"in a?a.deleteIndex:b.indexOf(a);-1!==c&&b.splice(c,1);b.length||Ic(a.target,a.type)}ub(a)}}
function Lc(a){var b=Hc(a),c;for(c in b)Ic(a,c)};function Mc(){}Mc.prototype.Jb=!1;function Nc(a){a.Jb||(a.Jb=!0,a.ka())}Mc.prototype.ka=ua;function Oc(a){this.type=a;this.target=null}Oc.prototype.preventDefault=Oc.prototype.stopPropagation=function(){this.qp=!0};function Pc(a){a.stopPropagation()};function Qc(){this.Ua={};this.ra={};this.oa={}}v(Qc,Mc);Qc.prototype.addEventListener=function(a,b){var c=this.oa[a];c||(c=this.oa[a]=[]);-1===c.indexOf(b)&&c.push(b)};
Qc.prototype.b=function(a){var b="string"===typeof a?new Oc(a):a;a=b.type;b.target=this;var c=this.oa[a];if(c){a in this.ra||(this.ra[a]=0,this.Ua[a]=0);++this.ra[a];for(var d=0,e=c.length;d<e;++d)if(!1===c[d].call(this,b)||b.qp){var f=!1;break}--this.ra[a];if(!this.ra[a]){b=this.Ua[a];for(delete this.Ua[a];b--;)this.removeEventListener(a,ua);delete this.ra[a]}return f}};Qc.prototype.ka=function(){Lc(this)};function Rc(a,b){return b?b in a.oa:0<Object.keys(a.oa).length}
Qc.prototype.removeEventListener=function(a,b){var c=this.oa[a];c&&(b=c.indexOf(b),a in this.Ua?(c[b]=ua,++this.Ua[a]):(c.splice(b,1),c.length||delete this.oa[a]))};function Sc(){Qc.call(this);this.i=0}v(Sc,Qc);k=Sc.prototype;k.s=function(){++this.i;this.b("change")};k.L=function(){return this.i};k.J=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=y(this,a[f],b,c);return e}return y(this,a,b,c)};k.once=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=Jc(this,a[f],b,c);return e}return Jc(this,a,b,c)};
k.K=function(a,b,c){if(Array.isArray(a))for(var d=0,e=a.length;d<e;++d)Kc(this,a[d],b,c);else Kc(this,a,b,c)};function Tc(a){Sc.call(this);w(this);this.S={};void 0!==a&&this.H(a)}v(Tc,Sc);var Uc={};function Vc(a){return Uc.hasOwnProperty(a)?Uc[a]:Uc[a]="change:"+a}k=Tc.prototype;k.get=function(a){var b;this.S.hasOwnProperty(a)&&(b=this.S[a]);return b};k.O=function(){return Object.keys(this.S)};k.N=function(){return tb({},this.S)};function Wc(a,b,c){var d=Vc(b);a.b(new Xc(d,b,c));a.b(new Xc("propertychange",b,c))}k.set=function(a,b,c){c?this.S[a]=b:(c=this.S[a],this.S[a]=b,c!==b&&Wc(this,a,c))};
k.H=function(a,b){for(var c in a)this.set(c,a[c],b)};k.P=function(a,b){if(a in this.S){var c=this.S[a];delete this.S[a];b||Wc(this,a,c)}};function Xc(a,b,c){Oc.call(this,a);this.key=b;this.oldValue=c}v(Xc,Oc);function Yc(a,b){Tc.call(this);this.c=!!(b||{}).unique;this.a=a?a:[];if(this.c)for(a=0,b=this.a.length;a<b;++a)Zc(this,this.a[a],a);$c(this)}v(Yc,Tc);k=Yc.prototype;k.clear=function(){for(;0<this.dc();)this.pop()};k.fg=function(a){var b;var c=0;for(b=a.length;c<b;++c)this.push(a[c]);return this};k.forEach=function(a,b){this.a.forEach(a,b)};k.tm=function(){return this.a};k.item=function(a){return this.a[a]};k.dc=function(){return this.get(ad)};
k.He=function(a,b){this.c&&Zc(this,b);this.a.splice(a,0,b);$c(this);this.b(new bd("add",b))};k.pop=function(){return this.Hg(this.dc()-1)};k.push=function(a){this.c&&Zc(this,a);var b=this.dc();this.He(b,a);return this.dc()};k.remove=function(a){var b=this.a,c;var d=0;for(c=b.length;d<c;++d)if(b[d]===a)return this.Hg(d)};k.Hg=function(a){var b=this.a[a];this.a.splice(a,1);$c(this);this.b(new bd("remove",b));return b};
k.Wp=function(a,b){var c=this.dc();if(a<c)this.c&&Zc(this,b,a),c=this.a[a],this.a[a]=b,this.b(new bd("remove",c)),this.b(new bd("add",b));else{for(;c<a;++c)this.He(c,void 0);this.He(a,b)}};function $c(a){a.set(ad,a.a.length)}function Zc(a,b,c){for(var d=0,e=a.a.length;d<e;++d)if(a.a[d]===b&&d!==c)throw new wa(58);}var ad="length";function bd(a,b){Oc.call(this,a);this.element=b}v(bd,Oc);var cd=/^#(?:[0-9a-f]{3}){1,2}$/i,dd=/^([a-z]*)$/i;function ed(a){return Array.isArray(a)?a:fd(a)}function gd(a){if("string"!==typeof a){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+(void 0===a[3]?1:a[3])+")"}return a}
var fd=function(){var a={},b=0;return function(c){if(a.hasOwnProperty(c))var d=a[c];else{if(1024<=b){d=0;for(var e in a)d++&3||(delete a[e],--b)}d=c;dd.exec(d)&&(e=document.createElement("div"),e.style.color=d,document.body.appendChild(e),d=getComputedStyle(e).color,document.body.removeChild(e));if(cd.exec(d)){var f=d.length-1;xa(3==f||6==f,54);var g=3==f?1:2;f=parseInt(d.substr(1+0*g,g),16);e=parseInt(d.substr(1+1*g,g),16);d=parseInt(d.substr(1+2*g,g),16);1==g&&(f=(f<<4)+f,e=(e<<4)+e,d=(d<<4)+d);
f=[f,e,d,1]}else d.indexOf("rgba(")?d.indexOf("rgb(")?xa(!1,14):(d=d.slice(4,-1).split(",").map(Number),d.push(1),f=hd(d)):(d=d.slice(5,-1).split(",").map(Number),f=hd(d));d=f;a[c]=d;++b}return d}}();function hd(a){var b=[];b[0]=Ca(a[0]+.5|0,0,255);b[1]=Ca(a[1]+.5|0,0,255);b[2]=Ca(a[2]+.5|0,0,255);b[3]=Ca(a[3],0,1);return b};function id(a){return"string"===typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient?a:gd(a)};function jd(a,b){var c=document.createElement("CANVAS");a&&(c.width=a);b&&(c.height=b);return c.getContext("2d")}function kd(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function ld(a){a&&a.parentNode&&a.parentNode.removeChild(a)};function md(a){Tc.call(this);this.element=a.element?a.element:null;this.a=this.R=null;this.v=[];this.render=a.render?a.render:ua;a.target&&this.f(a.target)}v(md,Tc);md.prototype.ka=function(){ld(this.element);Tc.prototype.ka.call(this)};md.prototype.g=function(){return this.a};
md.prototype.setMap=function(a){this.a&&ld(this.element);for(var b=0,c=this.v.length;b<c;++b)Ec(this.v[b]);this.v.length=0;if(this.a=a)(this.R?this.R:a.D).appendChild(this.element),this.render!==ua&&this.v.push(y(a,"postrender",this.render,this)),a.render()};md.prototype.f=function(a){this.R="string"===typeof a?document.getElementById(a):a};function nd(a){a=a?a:{};this.I=document.createElement("UL");this.u=document.createElement("LI");this.I.appendChild(this.u);this.u.style.display="none";this.c=void 0!==a.collapsed?a.collapsed:!0;this.o=void 0!==a.collapsible?a.collapsible:!0;this.o||(this.c=!1);var b=void 0!==a.className?a.className:"ol-attribution",c=void 0!==a.tipLabel?a.tipLabel:"Attributions",d=void 0!==a.collapseLabel?a.collapseLabel:"\u00bb";"string"===typeof d?(this.D=document.createElement("span"),this.D.textContent=d):this.D=
d;d=void 0!==a.label?a.label:"i";"string"===typeof d?(this.C=document.createElement("span"),this.C.textContent=d):this.C=d;var e=this.o&&!this.c?this.D:this.C,d=document.createElement("button");d.setAttribute("type","button");d.title=c;d.appendChild(e);y(d,"click",this.Vm,this);c=document.createElement("div");c.className=b+" ol-unselectable ol-control"+(this.c&&this.o?" ol-collapsed":"")+(this.o?"":" ol-uncollapsible");c.appendChild(this.I);c.appendChild(d);md.call(this,{element:c,render:a.render?
a.render:od,target:a.target});this.B=!0;this.l={};this.j={};this.T={}}v(nd,md);
function od(a){if(a=a.frameState){var b,c,d,e,f,g=a.layerStatesArray,h=tb({},a.attributions),l={},m={},n=a.viewState.projection;var p=0;for(b=g.length;p<b;p++)if(e=g[p].layer.ha()){var q=w(e).toString();if(f=e.j){var r=0;for(c=f.length;r<c;r++){var u=f[r];var x=w(u).toString();if(!(x in h)){if(d=a.usedTiles[q]){var B=e.Ta(n);a:{var E=void 0;var A,L=u,oa=B,ha=n;if(L.a){for(E in d)if(E in L.a){var B=d[E];var ga=0;for(A=L.a[E].length;ga<A;++ga){var z=L.a[E][ga];if(Ba(z,B)){E=!0;break a}var M=oc(oa,zc(ha),
parseInt(E,10)),ba=M.$-M.ca+1;if(B.ca<M.ca||B.$>M.$)if(Ba(z,new ya(Ia(B.ca,ba),Ia(B.$,ba),B.da,B.ia))||B.$-B.ca+1>ba&&Ba(z,M)){E=!0;break a}}}E=!1}else E=!0}}else E=!1;E?(x in l&&delete l[x],E=u.b,E in m||(m[E]=!0,h[x]=u)):l[x]=u}}}}b=[h,l];p=b[0];b=b[1];for(var da in this.l)da in p?(this.j[da]||(this.l[da].style.display="",this.j[da]=!0),delete p[da]):da in b?(this.j[da]&&(this.l[da].style.display="none",delete this.j[da]),delete b[da]):(ld(this.l[da]),delete this.l[da],delete this.j[da]);for(da in p)r=
document.createElement("LI"),r.innerHTML=p[da].b,this.I.appendChild(r),this.l[da]=r,this.j[da]=!0;for(da in b)r=document.createElement("LI"),r.innerHTML=b[da].b,r.style.display="none",this.I.appendChild(r),this.l[da]=r;da=!wb(this.j)||!wb(a.logos);this.B!=da&&(this.element.style.display=da?"":"none",this.B=da);da&&wb(this.j)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");a=a.logos;da=this.T;for(ca in da)ca in a||(ld(da[ca]),delete da[ca]);for(var fb in a)if(b=
a[fb],b instanceof HTMLElement&&(this.u.appendChild(b),da[fb]=b),!(fb in da)){var ca=new Image;ca.src=fb;""===b?p=ca:(p=document.createElement("a"),p.href=b,p.appendChild(ca));this.u.appendChild(p);da[fb]=p}this.u.style.display=wb(a)?"none":""}else this.B&&(this.element.style.display="none",this.B=!1)}k=nd.prototype;k.Vm=function(a){a.preventDefault();pd(this)};function pd(a){a.element.classList.toggle("ol-collapsed");a.c?kd(a.D,a.C):kd(a.C,a.D);a.c=!a.c}k.Um=function(){return this.o};
k.Xm=function(a){this.o!==a&&(this.o=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.c&&pd(this))};k.Wm=function(a){this.o&&this.c!==a&&pd(this)};k.Tm=function(){return this.c};function qd(a){return Math.pow(a,3)}function rd(a){return 1-qd(1-a)}function sd(a){return 3*a*a-2*a*a*a}function td(a){return a};function ud(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-rotate",c=void 0!==a.label?a.label:"\u21e7";this.c=null;"string"===typeof c?(this.c=document.createElement("span"),this.c.className="ol-compass",this.c.textContent=c):(this.c=c,this.c.classList.add("ol-compass"));var d=a.tipLabel?a.tipLabel:"Reset rotation",c=document.createElement("button");c.className=b+"-reset";c.setAttribute("type","button");c.title=d;c.appendChild(this.c);y(c,"click",ud.prototype.D,this);d=document.createElement("div");
d.className=b+" ol-unselectable ol-control";d.appendChild(c);b=a.render?a.render:vd;this.o=a.resetNorth?a.resetNorth:void 0;md.call(this,{element:d,render:b,target:a.target});this.l=void 0!==a.duration?a.duration:250;this.j=void 0!==a.autoHide?a.autoHide:!0;this.u=void 0;this.j&&this.element.classList.add("ol-hidden")}v(ud,md);ud.prototype.D=function(a){a.preventDefault();this.o?this.o():(a=this.a.Z())&&void 0!==a.Qa()&&(0<this.l?a.animate({rotation:0,duration:this.l,easing:rd}):a.Oe(0))};
function vd(a){if(a=a.frameState){a=a.viewState.rotation;if(a!=this.u){var b="rotate("+a+"rad)";if(this.j){var c=this.element.classList.contains("ol-hidden");c||a?c&&a&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.c.style.msTransform=b;this.c.style.webkitTransform=b;this.c.style.transform=b}this.u=a}};function wd(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-zoom",c=void 0!==a.delta?a.delta:1,d=void 0!==a.zoomInLabel?a.zoomInLabel:"+",e=void 0!==a.zoomOutLabel?a.zoomOutLabel:"\u2212",f=void 0!==a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in",g=void 0!==a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=b+"-in";h.setAttribute("type","button");h.title=f;h.appendChild("string"===typeof d?document.createTextNode(d):d);y(h,"click",wd.prototype.j.bind(this,
c));d=document.createElement("button");d.className=b+"-out";d.setAttribute("type","button");d.title=g;d.appendChild("string"===typeof e?document.createTextNode(e):e);y(d,"click",wd.prototype.j.bind(this,-c));c=document.createElement("div");c.className=b+" ol-unselectable ol-control";c.appendChild(h);c.appendChild(d);md.call(this,{element:c,target:a.target});this.c=void 0!==a.duration?a.duration:250}v(wd,md);
wd.prototype.j=function(a,b){b.preventDefault();if(b=this.a.Z()){var c=b.Pa();c&&(a=b.constrainResolution(c,a),0<this.c?(b.Ic()&&b.ed(),b.animate({resolution:a,duration:this.c,easing:rd})):b.Vc(a))}};function xd(a){a=a?a:{};var b=new Yc;(void 0!==a.zoom?a.zoom:1)&&b.push(new wd(a.zoomOptions));(void 0!==a.rotate?a.rotate:1)&&b.push(new ud(a.rotateOptions));(void 0!==a.attribution?a.attribution:1)&&b.push(new nd(a.attributionOptions));return b};function yd(a){a=a?a:{};this.c=void 0!==a.className?a.className:"ol-full-screen";var b=void 0!==a.label?a.label:"\u2922";this.o="string"===typeof b?document.createTextNode(b):b;b=void 0!==a.labelActive?a.labelActive:"\u00d7";this.l="string"===typeof b?document.createTextNode(b):b;var c=a.tipLabel?a.tipLabel:"Toggle full-screen",b=document.createElement("button");b.className=this.c+"-"+zd();b.setAttribute("type","button");b.title=c;b.appendChild(this.o);y(b,"click",this.C,this);c=document.createElement("div");
c.className=this.c+" ol-unselectable ol-control "+(Ad()?"":"ol-unsupported");c.appendChild(b);md.call(this,{element:c,target:a.target});this.D=void 0!==a.keys?a.keys:!1;this.j=a.source}v(yd,md);
yd.prototype.C=function(a){a.preventDefault();Ad()&&(a=this.a)&&(zd()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.j?"string"===typeof this.j?document.getElementById(this.j):this.j:a.jd(),this.D?a.mozRequestFullScreenWithKeys?a.mozRequestFullScreenWithKeys():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):
Bd(a):Bd(a)))};yd.prototype.u=function(){var a=this.element.firstElementChild,b=this.a;zd()?(a.className=this.c+"-true",kd(this.l,this.o)):(a.className=this.c+"-false",kd(this.o,this.l));b&&b.Ad()};yd.prototype.setMap=function(a){md.prototype.setMap.call(this,a);a&&this.v.push(y(document,Cd(),this.u,this))};
function Ad(){var a=document.body;return!!(a.webkitRequestFullscreen||a.mozRequestFullScreen&&document.mozFullScreenEnabled||a.msRequestFullscreen&&document.msFullscreenEnabled||a.requestFullscreen&&document.fullscreenEnabled)}function zd(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}
function Bd(a){a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()}var Cd=function(){var a;return function(){if(!a){var b=document.body;b.webkitRequestFullscreen?a="webkitfullscreenchange":b.mozRequestFullScreen?a="mozfullscreenchange":b.msRequestFullscreen?a="MSFullscreenChange":b.requestFullscreen&&(a="fullscreenchange")}return a}}();function Dd(a){a=a?a:{};var b=document.createElement("DIV");b.className=void 0!==a.className?a.className:"ol-mouse-position";md.call(this,{element:b,render:a.render?a.render:Ed,target:a.target});y(this,Vc(Fd),this.Ym,this);a.coordinateFormat&&this.kj(a.coordinateFormat);a.projection&&this.$h(a.projection);this.u=void 0!==a.undefinedHTML?a.undefinedHTML:"";this.l=b.innerHTML;this.o=this.j=this.c=null}v(Dd,md);
function Ed(a){a=a.frameState;a?this.c!=a.viewState.projection&&(this.c=a.viewState.projection,this.j=null):this.c=null;Gd(this,this.o)}k=Dd.prototype;k.Ym=function(){this.j=null};k.xh=function(){return this.get(Hd)};k.Zh=function(){return this.get(Fd)};k.Ll=function(a){this.o=this.a.xe(a);Gd(this,this.o)};k.Ml=function(){Gd(this,null);this.o=null};k.setMap=function(a){md.prototype.setMap.call(this,a);a&&(a=a.a,this.v.push(y(a,"mousemove",this.Ll,this),y(a,"mouseout",this.Ml,this)))};
k.kj=function(a){this.set(Hd,a)};k.$h=function(a){this.set(Fd,Tb(a))};function Gd(a,b){var c=a.u;if(b&&a.c){if(!a.j){var d=a.Zh();a.j=d?Vb(a.c,d):fc}if(b=a.a.Wa(b))a.j(b,b),c=(c=a.xh())?c(b):b.toString()}a.l&&c==a.l||(a.element.innerHTML=c,a.l=c)}var Fd="projection",Hd="coordinateFormat";function Id(a,b,c){Oc.call(this,a);this.map=b;this.frameState=void 0!==c?c:null}v(Id,Oc);function Jd(a,b,c,d,e){Id.call(this,a,b,e);this.originalEvent=c;this.pixel=b.xe(c);this.coordinate=b.Wa(this.pixel);this.dragging=void 0!==d?d:!1}v(Jd,Id);Jd.prototype.preventDefault=function(){Id.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};Jd.prototype.stopPropagation=function(){Id.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};var Kd=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Ld(a,b){var c,d,e=Kd.length;for(d=0;d<e;++d)try{if(c=a.getContext(Kd[d],b))return c}catch(f){}return null};var Md,Nd="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",Od=-1!==Nd.indexOf("firefox"),Pd=-1!==Nd.indexOf("safari")&&-1==Nd.indexOf("chrom"),Qd=-1!==Nd.indexOf("webkit")&&-1==Nd.indexOf("edge"),Rd=-1!==Nd.indexOf("macintosh"),Sd=window.devicePixelRatio||1,Td=!1,Ud=function(){if(!("HTMLCanvasElement"in window))return!1;try{var a=document.createElement("CANVAS").getContext("2d");return a?(void 0!==a.setLineDash&&(Td=!0),!0):!1}catch(b){return!1}}(),Vd="DeviceOrientationEvent"in
window,Wd="geolocation"in navigator,Xd="ontouchstart"in window,Yd="PointerEvent"in window,Zd=!!navigator.msPointerEnabled,$d=!1,ae,be=[];if("WebGLRenderingContext"in window)try{var ce=Ld(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});ce&&($d=!0,ae=ce.getParameter(ce.MAX_TEXTURE_SIZE),be=ce.getSupportedExtensions())}catch(a){}Md=$d;fa=be;ea=ae;var de={Iq:"singleclick",xq:"click",yq:"dblclick",Bq:"pointerdrag",Eq:"pointermove",Aq:"pointerdown",Hq:"pointerup",Gq:"pointerover",Fq:"pointerout",Cq:"pointerenter",Dq:"pointerleave",zq:"pointercancel"};function ee(a,b,c,d,e){Jd.call(this,a,b,c.b,d,e);this.b=c}v(ee,Jd);function fe(a,b){this.b=a;this.f=b};function ge(a){fe.call(this,a,{mousedown:this.fm,mousemove:this.gm,mouseup:this.jm,mouseover:this.im,mouseout:this.hm});this.a=a.i;this.i=[]}v(ge,fe);function he(a,b){a=a.i;var c=b.clientX;b=b.clientY;for(var d=0,e=a.length,f;d<e&&(f=a[d]);d++){var g=Math.abs(b-f[1]);if(25>=Math.abs(c-f[0])&&25>=g)return!0}return!1}function ie(a){var b=je(a,a),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}k=ge.prototype;
k.fm=function(a){if(!he(this,a)){(1).toString()in this.a&&this.cancel(a);var b=ie(a);this.a[(1).toString()]=a;ke(this.b,"pointerdown",b,a)}};k.gm=function(a){if(!he(this,a)){var b=ie(a);ke(this.b,"pointermove",b,a)}};k.jm=function(a){if(!he(this,a)){var b=this.a[(1).toString()];b&&b.button===a.button&&(b=ie(a),ke(this.b,"pointerup",b,a),delete this.a[(1).toString()])}};k.im=function(a){if(!he(this,a)){var b=ie(a);le(this.b,b,a)}};k.hm=function(a){if(!he(this,a)){var b=ie(a);me(this.b,b,a)}};
k.cancel=function(a){var b=ie(a);this.b.cancel(b,a);delete this.a[(1).toString()]};function ne(a){fe.call(this,a,{MSPointerDown:this.om,MSPointerMove:this.pm,MSPointerUp:this.sm,MSPointerOut:this.qm,MSPointerOver:this.rm,MSPointerCancel:this.nm,MSGotPointerCapture:this.lm,MSLostPointerCapture:this.mm});this.a=a.i;this.i=["","unavailable","touch","pen","mouse"]}v(ne,fe);function oe(a,b){var c=b;"number"===typeof b.pointerType&&(c=je(b,b),c.pointerType=a.i[b.pointerType]);return c}k=ne.prototype;
k.om=function(a){this.a[a.pointerId.toString()]=a;var b=oe(this,a);ke(this.b,"pointerdown",b,a)};k.pm=function(a){var b=oe(this,a);ke(this.b,"pointermove",b,a)};k.sm=function(a){var b=oe(this,a);ke(this.b,"pointerup",b,a);delete this.a[a.pointerId.toString()]};k.qm=function(a){var b=oe(this,a);me(this.b,b,a)};k.rm=function(a){var b=oe(this,a);le(this.b,b,a)};k.nm=function(a){var b=oe(this,a);this.b.cancel(b,a);delete this.a[a.pointerId.toString()]};
k.mm=function(a){this.b.b(new pe("lostpointercapture",a,a))};k.lm=function(a){this.b.b(new pe("gotpointercapture",a,a))};function qe(a){fe.call(this,a,{pointerdown:this.ip,pointermove:this.jp,pointerup:this.mp,pointerout:this.kp,pointerover:this.lp,pointercancel:this.hp,gotpointercapture:this.ul,lostpointercapture:this.em})}v(qe,fe);k=qe.prototype;k.ip=function(a){re(this.b,a)};k.jp=function(a){re(this.b,a)};k.mp=function(a){re(this.b,a)};k.kp=function(a){re(this.b,a)};k.lp=function(a){re(this.b,a)};k.hp=function(a){re(this.b,a)};k.em=function(a){re(this.b,a)};k.ul=function(a){re(this.b,a)};function pe(a,b,c){Oc.call(this,a);this.b=b;a=c?c:{};this.buttons=se(a);this.pressure=te(a,this.buttons);this.bubbles="bubbles"in a?a.bubbles:!1;this.cancelable="cancelable"in a?a.cancelable:!1;this.view="view"in a?a.view:null;this.detail="detail"in a?a.detail:null;this.screenX="screenX"in a?a.screenX:0;this.screenY="screenY"in a?a.screenY:0;this.clientX="clientX"in a?a.clientX:0;this.clientY="clientY"in a?a.clientY:0;this.ctrlKey="ctrlKey"in a?a.ctrlKey:!1;this.altKey="altKey"in a?a.altKey:!1;this.shiftKey=
"shiftKey"in a?a.shiftKey:!1;this.metaKey="metaKey"in a?a.metaKey:!1;this.button="button"in a?a.button:0;this.relatedTarget="relatedTarget"in a?a.relatedTarget:null;this.pointerId="pointerId"in a?a.pointerId:0;this.width="width"in a?a.width:0;this.height="height"in a?a.height:0;this.tiltX="tiltX"in a?a.tiltX:0;this.tiltY="tiltY"in a?a.tiltY:0;this.pointerType="pointerType"in a?a.pointerType:"";this.isPrimary="isPrimary"in a?a.isPrimary:!1;b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}
v(pe,Oc);function se(a){if(a.buttons||ue)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function te(a,b){var c=0;a.pressure?c=a.pressure:c=b?.5:0;return c}var ue=!1;try{ue=1===(new MouseEvent("click",{buttons:1})).buttons}catch(a){};function ve(a,b){fe.call(this,a,{touchstart:this.rq,touchmove:this.qq,touchend:this.pq,touchcancel:this.oq});this.a=a.i;this.j=b;this.i=void 0;this.g=0;this.c=void 0}v(ve,fe);k=ve.prototype;k.ij=function(){this.g=0;this.c=void 0};
function we(a,b,c){b=je(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.g;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.i===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function xe(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.changedTouches),f=e.length,g;for(g=0;g<f;++g){var h=we(a,b,e[g]);h.preventDefault=d;c.call(a,b,h)}}
k.rq=function(a){var b=a.touches,c=Object.keys(this.a),d=c.length;if(d>=b.length){var e=[],f;for(f=0;f<d;++f){var g=c[f];var h=this.a[g];var l;if(!(l=1==g))a:{for(var m=b.length,n=0;n<m;n++)if(l=b[n],l.identifier===g-2){l=!0;break a}l=!1}l||e.push(h.out)}for(f=0;f<e.length;++f)this.Kf(a,e[f])}b=a.changedTouches[0];c=Object.keys(this.a).length;if(!c||1===c&&(1).toString()in this.a)this.i=b.identifier,void 0!==this.c&&clearTimeout(this.c);ye(this,a);this.g++;xe(this,a,this.cp)};
k.cp=function(a,b){this.a[b.pointerId]={target:b.target,out:b,Wi:b.target};var c=this.b;b.bubbles=!0;ke(c,"pointerover",b,a);c=this.b;b.bubbles=!1;ke(c,"pointerenter",b,a);ke(this.b,"pointerdown",b,a)};k.qq=function(a){a.preventDefault();xe(this,a,this.km)};
k.km=function(a,b){var c=this.a[b.pointerId];if(c){var d=c.out,e=c.Wi;ke(this.b,"pointermove",b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(me(this.b,d,a),le(this.b,b,a)):(b.target=e,b.relatedTarget=null,this.Kf(a,b)));c.out=b;c.Wi=b.target}};k.pq=function(a){ye(this,a);xe(this,a,this.sq)};
k.sq=function(a,b){ke(this.b,"pointerup",b,a);this.b.out(b,a);ze(this.b,b,a);delete this.a[b.pointerId];b.isPrimary&&(this.i=void 0,this.c=setTimeout(this.ij.bind(this),200))};k.oq=function(a){xe(this,a,this.Kf)};k.Kf=function(a,b){this.b.cancel(b,a);this.b.out(b,a);ze(this.b,b,a);delete this.a[b.pointerId];b.isPrimary&&(this.i=void 0,this.c=setTimeout(this.ij.bind(this),200))};
function ye(a,b){var c=a.j.i;b=b.changedTouches[0];if(a.i===b.identifier){var d=[b.clientX,b.clientY];c.push(d);setTimeout(function(){ma(c,d)},2500)}};function Ae(a){Qc.call(this);this.g=a;this.i={};this.f={};this.a=[];Yd?Be(this,new qe(this)):Zd?Be(this,new ne(this)):(a=new ge(this),Be(this,a),Xd&&Be(this,new ve(this,a)));a=this.a.length;for(var b,c=0;c<a;c++)b=this.a[c],Ce(this,Object.keys(b.f))}v(Ae,Qc);function Be(a,b){var c=Object.keys(b.f);c&&(c.forEach(function(a){var c=b.f[a];c&&(this.f[a]=c.bind(b))},a),a.a.push(b))}Ae.prototype.c=function(a){var b=this.f[a.type];b&&b(a)};
function Ce(a,b){b.forEach(function(a){y(this.g,a,this.c,this)},a)}function De(a,b){b.forEach(function(a){Kc(this.g,a,this.c,this)},a)}function je(a,b){for(var c={},d,e=0,f=Ee.length;e<f;e++)d=Ee[e][0],c[d]=a[d]||b[d]||Ee[e][1];return c}function ze(a,b,c){b.bubbles=!1;ke(a,"pointerleave",b,c)}Ae.prototype.out=function(a,b){a.bubbles=!0;ke(this,"pointerout",a,b)};Ae.prototype.cancel=function(a,b){ke(this,"pointercancel",a,b)};
function me(a,b,c){a.out(b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||ze(a,b,c)}function le(a,b,c){b.bubbles=!0;ke(a,"pointerover",b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||(b.bubbles=!1,ke(a,"pointerenter",b,c))}function ke(a,b,c,d){a.b(new pe(b,d,c))}function re(a,b){a.b(new pe(b.type,b,b))}Ae.prototype.ka=function(){for(var a=this.a.length,b,c=0;c<a;c++)b=this.a[c],De(this,Object.keys(b.f));Qc.prototype.ka.call(this)};
var Ee=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Fe(a,b){Qc.call(this);this.i=a;this.j=0;this.o=!1;this.f=[];this.D=b?b*Sd:Sd;this.c=null;a=this.i.a;this.S=0;this.u={};this.g=new Ae(a);this.a=null;this.l=y(this.g,"pointerdown",this.Ol,this);this.v=y(this.g,"pointermove",this.Lp,this)}v(Fe,Qc);function Ge(a,b){var c=new ee("click",a.i,b);a.b(c);a.j?(clearTimeout(a.j),a.j=0,c=new ee("dblclick",a.i,b),a.b(c)):a.j=setTimeout(function(){this.j=0;var a=new ee("singleclick",this.i,b);this.b(a)}.bind(a),250)}
function He(a,b){"pointerup"==b.type||"pointercancel"==b.type?delete a.u[b.pointerId]:"pointerdown"==b.type&&(a.u[b.pointerId]=!0);a.S=Object.keys(a.u).length}k=Fe.prototype;k.Jh=function(a){He(this,a);var b=new ee("pointerup",this.i,a);this.b(b);this.o||a.button||Ge(this,this.c);this.S||(this.f.forEach(Ec),this.f.length=0,this.o=!1,this.c=null,Nc(this.a),this.a=null)};
k.Ol=function(a){He(this,a);var b=new ee("pointerdown",this.i,a);this.b(b);this.c=a;this.f.length||(this.a=new Ae(document),this.f.push(y(this.a,"pointermove",this.Hm,this),y(this.a,"pointerup",this.Jh,this),y(this.g,"pointercancel",this.Jh,this)))};k.Hm=function(a){if(Ie(this,a)){this.o=!0;var b=new ee("pointerdrag",this.i,a,this.o);this.b(b)}a.preventDefault()};k.Lp=function(a){this.b(new ee(a.type,this.i,a,!(!this.c||!Ie(this,a))))};
function Ie(a,b){return Math.abs(b.clientX-a.c.clientX)>a.D||Math.abs(b.clientY-a.c.clientY)>a.D}k.ka=function(){this.v&&(Ec(this.v),this.v=null);this.l&&(Ec(this.l),this.l=null);this.f.forEach(Ec);this.f.length=0;this.a&&(Nc(this.a),this.a=null);this.g&&(Nc(this.g),this.g=null);Qc.prototype.ka.call(this)};function Ke(a,b){this.l=a;this.c=b;this.b=[];this.i=[];this.a={}}Ke.prototype.clear=function(){this.b.length=0;this.i.length=0;ub(this.a)};function Le(a){var b=a.b,c=a.i,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),Me(a,0));b=a.c(d);delete a.a[b];return d}Ke.prototype.f=function(a){xa(!(this.c(a)in this.a),31);var b=this.l(a);return Infinity!=b?(this.b.push(a),this.i.push(b),this.a[this.c(a)]=!0,Ne(this,0,this.b.length-1),!0):!1};
function Me(a,b){for(var c=a.b,d=a.i,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var l=2*b+1,m=2*b+2,l=m<e&&d[m]<d[l]?m:l;c[b]=c[l];d[b]=d[l];b=l}c[b]=f;d[b]=g;Ne(a,h,b)}function Ne(a,b,c){var d=a.b;a=a.i;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}
function Oe(a){var b=a.l,c=a.b,d=a.i,e=0,f=c.length,g;for(g=0;g<f;++g){var h=c[g];var l=b(h);Infinity==l?delete a.a[a.c(h)]:(d[e]=l,c[e++]=h)}c.length=e;d.length=e;for(b=(a.b.length>>1)-1;0<=b;b--)Me(a,b)};function Pe(a,b){Ke.call(this,function(b){return a.apply(null,b)},function(a){return a[0].bb()});this.v=b;this.j=0;this.g={}}v(Pe,Ke);Pe.prototype.f=function(a){var b=Ke.prototype.f.call(this,a);b&&y(a[0],"change",this.o,this);return b};Pe.prototype.o=function(a){a=a.target;var b=a.getState();if(2===b||3===b||4===b||5===b)Kc(a,"change",this.o,this),a=a.bb(),a in this.g&&(delete this.g[a],--this.j),this.v()};
function Qe(a,b,c){for(var d=0,e,f;a.j<b&&d<c&&0<a.b.length;)e=Le(a)[0],f=e.bb(),0!==e.getState()||f in a.g||(a.g[f]=!0,++a.j,++d,e.load())};function Re(a){return function(b,c,d){if(void 0!==b)return b=ka(a,b,d),b=Ca(b+c,0,a.length-1),c=Math.floor(b),b!=c&&c<a.length-1?a[c]/Math.pow(a[c]/a[c+1],b-c):a[c]}}function Se(a,b,c){return function(d,e,f){if(void 0!==d)return d=Math.max(Math.floor(Math.log(b/d)/Math.log(a)+(-f/2+.5))+e,0),void 0!==c&&(d=Math.min(d,c)),b/Math.pow(a,d)}};function Te(a){if(void 0!==a)return 0}function Ue(a,b){if(void 0!==a)return a+b}function Ve(a){var b=2*Math.PI/a;return function(a,d){if(void 0!==a)return a=Math.floor((a+d)/b+.5)*b}}function We(){var a=Ha(5);return function(b,c){if(void 0!==b)return Math.abs(b+c)<=a?0:b+c}};function Xe(a,b){a=void 0!==b?a.toFixed(b):""+a;b=a.indexOf(".");b=-1===b?a.length:b;return 2<b?a:Array(3-b).join("0")+a}function Ye(a){a=(""+a).split(".");for(var b=["1","3"],c=0;c<Math.max(a.length,b.length);c++){var d=parseInt(a[c]||"0",10),e=parseInt(b[c]||"0",10);if(d>e)return 1;if(e>d)return-1}return 0};function Ze(a,b){a[0]+=b[0];a[1]+=b[1];return a}function $e(a,b){var c=b.pd(),d=b.wa();b=d[0];var d=d[1],e=a[0]-b;a=a[1]-d;e||a||(e=1);var f=Math.sqrt(e*e+a*a);return[b+c*e/f,d+c*a/f]}function af(a,b){var c=a[0];a=a[1];var d=b[0],e=b[1];b=d[0];var d=d[1],f=e[0],e=e[1],g=f-b,h=e-d,c=g||h?(g*(c-b)+h*(a-d))/(g*g+h*h||0):0;0>=c?(a=b,c=d):1<=c?(a=f,c=e):(a=b+c*g,c=d+c*h);return[a,c]}
function bf(a,b,c){b=Ia(b+180,360)-180;var d=Math.abs(3600*b);c=c||0;var e=Math.pow(10,c),f=Math.floor(d/3600),g=Math.floor((d-3600*f)/60),d=Math.ceil((d-3600*f-60*g)*e)/e;60<=d&&(d=0,g+=1);60<=g&&(g=0,f+=1);return f+"\u00b0 "+Xe(g)+"\u2032 "+Xe(d,c)+"\u2033"+(b?" "+a.charAt(0>b?1:0):"")}function cf(a,b,c){return a?b.replace("{x}",a[0].toFixed(c)).replace("{y}",a[1].toFixed(c)):""}function df(a,b){for(var c=!0,d=a.length-1;0<=d;--d)if(a[d]!=b[d]){c=!1;break}return c}
function ef(a,b){var c=Math.cos(b);b=Math.sin(b);var d=a[1]*c+a[0]*b;a[0]=a[0]*c-a[1]*b;a[1]=d;return a}function gf(a,b){a[0]*=b;a[1]*=b}function hf(a,b){var c=a[0]-b[0];a=a[1]-b[1];return c*c+a*a}function jf(a,b){return Math.sqrt(hf(a,b))}function kf(a,b){return hf(a,af(a,b))}function lf(a,b){return cf(a,"{x}, {y}",b)};function mf(){return!0}function nf(){return!1};function of(){Tc.call(this);this.l=Oa();this.v=-1;this.f={};this.o=this.g=0}v(of,Tc);k=of.prototype;k.Ab=function(a,b){b=b?b:[NaN,NaN];this.Kb(a[0],a[1],b,Infinity);return b};k.sb=function(a){return this.Mc(a[0],a[1])};k.Mc=nf;k.G=function(a){this.v!=this.i&&(this.l=this.se(this.l),this.v=this.i);var b=this.l;a?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};k.Rb=function(a){return this.Vd(a*a)};k.tb=function(a,b){this.Dc(ec(a,b));return this};function pf(a,b,c,d,e,f){for(var g=f?f:[],h=0;b<c;b+=d){var l=a[b],m=a[b+1];g[h++]=e[0]*l+e[2]*m+e[4];g[h++]=e[1]*l+e[3]*m+e[5]}f&&g.length!=h&&(g.length=h);return g}function qf(a,b,c,d,e,f,g){for(var h=g?g:[],l=0,m;b<c;b+=d)for(h[l++]=a[b]+e,h[l++]=a[b+1]+f,m=b+2;m<b+d;++m)h[l++]=a[m];g&&h.length!=l&&(h.length=l);return h};function rf(){of.call(this);this.ja="XY";this.a=2;this.A=null}v(rf,of);function sf(a){var b;"XY"==a?b=2:"XYZ"==a||"XYM"==a?b=3:"XYZM"==a&&(b=4);return b}k=rf.prototype;k.Mc=nf;k.se=function(a){return $a(this.A,0,this.A.length,this.a,a)};k.ac=function(){return this.A.slice(0,this.a)};k.ga=function(){return this.A};k.bc=function(){return this.A.slice(this.A.length-this.a)};k.cc=function(){return this.ja};
k.Vd=function(a){this.o!=this.i&&(ub(this.f),this.g=0,this.o=this.i);if(0>a||this.g&&a<=this.g)return this;var b=a.toString();if(this.f.hasOwnProperty(b))return this.f[b];var c=this.hd(a);if(c.ga().length<this.A.length)return this.f[b]=c;this.g=a;return this};k.hd=function(){return this};k.qa=function(){return this.a};function tf(a,b,c){a.a=sf(b);a.ja=b;a.A=c}
function uf(a,b,c,d){if(b)c=sf(b);else{for(b=0;b<d;++b)if(c.length)c=c[0];else{a.ja="XY";a.a=2;return}c=c.length;var e;2==c?e="XY":3==c?e="XYZ":4==c&&(e="XYZM");b=e}a.ja=b;a.a=c}k.Dc=function(a){this.A&&(a(this.A,this.A,this.a),this.s())};
k.rotate=function(a,b){var c=this.ga();if(c){var d=c.length,e=this.qa(),f=c?c:[],g=Math.cos(a);a=Math.sin(a);var h=b[0];b=b[1];for(var l=0,m=0;m<d;m+=e){var n=c[m]-h,p=c[m+1]-b;f[l++]=h+n*g-p*a;f[l++]=b+n*a+p*g;for(n=m+2;n<m+e;++n)f[l++]=c[n]}c&&f.length!=l&&(f.length=l);this.s()}};
k.scale=function(a,b,c){var d=b;void 0===d&&(d=a);var e=c;e||(e=nb(this.G()));if(c=this.ga()){b=c.length;for(var f=this.qa(),g=c?c:[],h=e[0],e=e[1],l=0,m=0;m<b;m+=f){var n=c[m]-h,p=c[m+1]-e;g[l++]=h+a*n;g[l++]=e+d*p;for(n=m+2;n<m+f;++n)g[l++]=c[n]}c&&g.length!=l&&(g.length=l);this.s()}};k.translate=function(a,b){var c=this.ga();c&&(qf(c,0,c.length,this.qa(),a,b,c),this.s())};function vf(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],l=a[b+1],e=e+(g*h-f*l),f=h,g=l;return e/2}function wf(a,b,c,d){var e=0,f;var g=0;for(f=c.length;g<f;++g){var h=c[g],e=e+vf(a,b,h,d);b=h}return e};function xf(a,b,c,d,e,f,g){var h=a[b],l=a[b+1],m=a[c]-h,n=a[c+1]-l;if(m||n)if(f=((e-h)*m+(f-l)*n)/(m*m+n*n),1<f)b=c;else if(0<f){for(e=0;e<d;++e)g[e]=Ja(a[b+e],a[c+e],f);g.length=d;return}for(e=0;e<d;++e)g[e]=a[b+e];g.length=d}function yf(a,b,c,d,e){var f=a[b],g=a[b+1];for(b+=d;b<c;b+=d){var h=a[b],l=a[b+1],f=Ga(f,g,h,l);f>e&&(e=f);f=h;g=l}return e}function zf(a,b,c,d,e){var f;var g=0;for(f=c.length;g<f;++g){var h=c[g];e=yf(a,b,h,d,e);b=h}return e}
function Af(a,b,c,d,e,f,g,h,l,m,n){if(b==c)return m;if(!e){var p=Ga(g,h,a[b],a[b+1]);if(p<m){for(n=0;n<d;++n)l[n]=a[b+n];l.length=d;return p}return m}for(var q=n?n:[NaN,NaN],r=b+d;r<c;)if(xf(a,r-d,r,d,g,h,q),p=Ga(g,h,q[0],q[1]),p<m){m=p;for(n=0;n<d;++n)l[n]=q[n];l.length=d;r+=d}else r+=d*Math.max((Math.sqrt(p)-Math.sqrt(m))/e|0,1);if(f&&(xf(a,c-d,b,d,g,h,q),p=Ga(g,h,q[0],q[1]),p<m)){m=p;for(n=0;n<d;++n)l[n]=q[n];l.length=d}return m}
function Bf(a,b,c,d,e,f,g,h,l,m,n){n=n?n:[NaN,NaN];var p;var q=0;for(p=c.length;q<p;++q){var r=c[q];m=Af(a,b,r,d,e,f,g,h,l,m,n);b=r}return m};function Cf(a,b){var c=0,d;var e=0;for(d=b.length;e<d;++e)a[c++]=b[e];return c}function Df(a,b,c,d){var e;var f=0;for(e=c.length;f<e;++f){var g=c[f],h;for(h=0;h<d;++h)a[b++]=g[h]}return b}function Ef(a,b,c,d,e){e=e?e:[];var f=0,g;var h=0;for(g=c.length;h<g;++h)b=Df(a,b,c[h],d),e[f++]=b;e.length=f;return e};function Ff(a,b,c,d,e){e=void 0!==e?e:[];for(var f=0;b<c;b+=d)e[f++]=a.slice(b,b+d);e.length=f;return e}function Gf(a,b,c,d,e){e=void 0!==e?e:[];var f=0,g;var h=0;for(g=c.length;h<g;++h){var l=c[h];e[f++]=Ff(a,b,l,d,e[f]);b=l}e.length=f;return e};function Hf(a,b,c,d,e,f,g){var h=(c-b)/d;if(3>h){for(;b<c;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var l=Array(h);l[0]=1;l[h-1]=1;c=[b,c-d];for(var m=0,n;0<c.length;){var p=c.pop(),q=c.pop(),r=0,u=a[q],x=a[q+1],B=a[p],E=a[p+1];for(n=q+d;n<p;n+=d){var A=Fa(a[n],a[n+1],u,x,B,E);A>r&&(m=n,r=A)}r>e&&(l[(m-b)/d]=1,q+d<m&&c.push(q,m),m+d<p&&c.push(m,p))}for(n=0;n<h;++n)l[n]&&(f[g++]=a[b+n*d],f[g++]=a[b+n*d+1]);return g}
function If(a,b,c,d,e,f,g,h){var l;var m=0;for(l=c.length;m<l;++m){var n=c[m];a:{var p=a,q=n,r=d,u=e,x=f,B=g;if(b!=q){var E=u*Math.round(p[b]/u),A=u*Math.round(p[b+1]/u);b+=r;x[B++]=E;x[B++]=A;do{var L=u*Math.round(p[b]/u);g=u*Math.round(p[b+1]/u);b+=r;if(b==q){x[B++]=L;x[B++]=g;g=B;break a}}while(L==E&&g==A);for(;b<q;){var oa=u*Math.round(p[b]/u);var ha=u*Math.round(p[b+1]/u);b+=r;if(oa!=L||ha!=g){var ga=L-E,z=g-A,M=oa-E,ba=ha-A;ga*ba==z*M&&(0>ga&&M<ga||ga==M||0<ga&&M>ga)&&(0>z&&ba<z||z==ba||0<z&&
ba>z)||(x[B++]=L,x[B++]=g,E=L,A=g);L=oa;g=ha}}x[B++]=L;x[B++]=g}g=B}h.push(g);b=n}return g};function Jf(a,b){rf.call(this);this.c=this.j=-1;this.ma(a,b)}v(Jf,rf);k=Jf.prototype;k.clone=function(){var a=new Jf(null);Kf(a,this.ja,this.A.slice());return a};k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;this.c!=this.i&&(this.j=Math.sqrt(yf(this.A,0,this.A.length,this.a,0)),this.c=this.i);return Af(this.A,0,this.A.length,this.a,this.j,!0,a,b,c,d)};k.qn=function(){return vf(this.A,0,this.A.length,this.a)};k.X=function(){return Ff(this.A,0,this.A.length,this.a)};
k.hd=function(a){var b=[];b.length=Hf(this.A,0,this.A.length,this.a,a,b,0);a=new Jf(null);Kf(a,"XY",b);return a};k.U=function(){return"LinearRing"};k.Xa=function(){};k.ma=function(a,b){a?(uf(this,b,a,1),this.A||(this.A=[]),this.A.length=Df(this.A,0,a,this.a),this.s()):Kf(this,"XY",null)};function Kf(a,b,c){tf(a,b,c);a.s()};function C(a,b){rf.call(this);this.ma(a,b)}v(C,rf);k=C.prototype;k.clone=function(){var a=new C(null);a.ba(this.ja,this.A.slice());return a};k.Kb=function(a,b,c,d){var e=this.A;a=Ga(a,b,e[0],e[1]);if(a<d){d=this.a;for(b=0;b<d;++b)c[b]=e[b];c.length=d;return a}return d};k.X=function(){return this.A?this.A.slice():[]};k.se=function(a){return Za(this.A,a)};k.U=function(){return"Point"};k.Xa=function(a){return Ua(a,this.A[0],this.A[1])};
k.ma=function(a,b){a?(uf(this,b,a,0),this.A||(this.A=[]),this.A.length=Cf(this.A,a),this.s()):this.ba("XY",null)};k.ba=function(a,b){tf(this,a,b);this.s()};function Lf(a,b,c,d,e){return!db(e,function(e){return!Mf(a,b,c,d,e[0],e[1])})}function Mf(a,b,c,d,e,f){for(var g=0,h=a[c-d],l=a[c-d+1];b<c;b+=d){var m=a[b],n=a[b+1];l<=f?n>f&&0<(m-h)*(f-l)-(e-h)*(n-l)&&g++:n<=f&&0>(m-h)*(f-l)-(e-h)*(n-l)&&g--;h=m;l=n}return!!g}function Nf(a,b,c,d,e,f){if(!c.length||!Mf(a,b,c[0],d,e,f))return!1;var g;b=1;for(g=c.length;b<g;++b)if(Mf(a,c[b-1],c[b],d,e,f))return!1;return!0};function Of(a,b,c,d,e,f,g){var h,l=e[f+1],m=[],n=c[0];var p=a[n-d];var q=a[n-d+1];for(h=b;h<n;h+=d){var r=a[h];var u=a[h+1];if(l<=q&&u<=l||q<=l&&l<=u)p=(l-q)/(u-q)*(r-p)+p,m.push(p);p=r;q=u}n=NaN;q=-Infinity;m.sort(ia);p=m[0];h=1;for(u=m.length;h<u;++h){r=m[h];var x=Math.abs(r-p);x>q&&(p=(p+r)/2,Nf(a,b,c,d,p,l)&&(n=p,q=x));p=r}isNaN(n)&&(n=e[f]);return g?(g.push(n,l),g):[n,l]};function Pf(a,b,c,d,e,f){for(var g=[a[b],a[b+1]],h=[],l;b+d<c;b+=d){h[0]=a[b+d];h[1]=a[b+d+1];if(l=e.call(f,g,h))return l;g[0]=h[0];g[1]=h[1]}return!1};function Qf(a,b,c,d,e){var f=ab(Oa(),a,b,c,d);return qb(e,f)?Va(e,f)||f[0]>=e[0]&&f[2]<=e[2]||f[1]>=e[1]&&f[3]<=e[3]?!0:Pf(a,b,c,d,function(a,b){var c=!1,d=Wa(e,a),f=Wa(e,b);if(1===d||1===f)c=!0;else{var g=e[0],h=e[1],r=e[2],u=e[3],x=b[0];b=b[1];a=(b-a[1])/(x-a[0]);f&2&&!(d&2)&&(c=x-(b-u)/a,c=c>=g&&c<=r);c||!(f&4)||d&4||(c=b-(x-r)*a,c=c>=h&&c<=u);c||!(f&8)||d&8||(c=x-(b-h)/a,c=c>=g&&c<=r);c||!(f&16)||d&16||(c=b-(x-g)*a,c=c>=h&&c<=u)}return c}):!1}
function Rf(a,b,c,d,e){var f=c[0];if(!(Qf(a,b,f,d,e)||Mf(a,b,f,d,e[0],e[1])||Mf(a,b,f,d,e[0],e[3])||Mf(a,b,f,d,e[2],e[1])||Mf(a,b,f,d,e[2],e[3])))return!1;if(1===c.length)return!0;b=1;for(f=c.length;b<f;++b)if(Lf(a,c[b-1],c[b],d,e))return!1;return!0};function Sf(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],l=a[b+1],e=e+(h-f)*(l+g),f=h,g=l;return 0<e}function Tf(a,b,c,d){var e=0;d=void 0!==d?d:!1;var f;var g=0;for(f=b.length;g<f;++g){var h=b[g],e=Sf(a,e,h,c);if(!g){if(d&&e||!d&&!e)return!1}else if(d&&!e||!d&&e)return!1;e=h}return!0}
function Uf(a,b,c,d,e){e=void 0!==e?e:!1;var f;var g=0;for(f=c.length;g<f;++g){var h=c[g],l=Sf(a,b,h,d);if(g?e&&!l||!e&&l:e&&l||!e&&!l)for(var l=a,m=h,n=d;b<m-n;){var p;for(p=0;p<n;++p){var q=l[b+p];l[b+p]=l[m-n+p];l[m-n+p]=q}b+=n;m-=n}b=h}return b}function Vf(a,b,c,d){var e=0,f;var g=0;for(f=b.length;g<f;++g)e=Uf(a,e,b[g],c,d);return e};function D(a,b){rf.call(this);this.c=[];this.u=-1;this.D=null;this.I=this.C=this.B=-1;this.j=null;this.ma(a,b)}v(D,rf);k=D.prototype;k.pk=function(a){this.A?la(this.A,a.ga()):this.A=a.ga().slice();this.c.push(this.A.length);this.s()};k.clone=function(){var a=new D(null);a.ba(this.ja,this.A.slice(),this.c.slice());return a};
k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;this.C!=this.i&&(this.B=Math.sqrt(zf(this.A,0,this.c,this.a,0)),this.C=this.i);return Bf(this.A,0,this.c,this.a,this.B,!0,a,b,c,d)};k.Mc=function(a,b){return Nf(this.ec(),0,this.c,this.a,a,b)};k.tn=function(){return wf(this.ec(),0,this.c,this.a)};k.X=function(a){if(void 0!==a){var b=this.ec().slice();Uf(b,0,this.c,this.a,a)}else b=this.A;return Gf(b,0,this.c,this.a)};k.Bb=function(){return this.c};
function Wf(a){if(a.u!=a.i){var b=nb(a.G());a.D=Of(a.ec(),0,a.c,a.a,b,0);a.u=a.i}return a.D}k.Tk=function(){return new C(Wf(this))};k.Zk=function(){return this.c.length};k.Ch=function(a){if(0>a||this.c.length<=a)return null;var b=new Jf(null);Kf(b,this.ja,this.A.slice(a?this.c[a-1]:0,this.c[a]));return b};k.Sd=function(){var a=this.ja,b=this.A,c=this.c,d=[],e=0,f;var g=0;for(f=c.length;g<f;++g){var h=c[g],l=new Jf(null);Kf(l,a,b.slice(e,h));d.push(l);e=h}return d};
k.ec=function(){if(this.I!=this.i){var a=this.A;Tf(a,this.c,this.a)?this.j=a:(this.j=a.slice(),this.j.length=Uf(this.j,0,this.c,this.a));this.I=this.i}return this.j};k.hd=function(a){var b=[],c=[];b.length=If(this.A,0,this.c,this.a,Math.sqrt(a),b,0,c);a=new D(null);a.ba("XY",b,c);return a};k.U=function(){return"Polygon"};k.Xa=function(a){return Rf(this.ec(),0,this.c,this.a,a)};
k.ma=function(a,b){a?(uf(this,b,a,2),this.A||(this.A=[]),a=Ef(this.A,0,a,this.a,this.c),this.A.length=a.length?a[a.length-1]:0,this.s()):this.ba("XY",null,this.c)};k.ba=function(a,b,c){tf(this,a,b);this.c=c;this.s()};function Xf(a,b,c,d){var e=d?d:32;d=[];var f;for(f=0;f<e;++f)la(d,a.offset(b,c,2*Math.PI*f/e));d.push(d[0],d[1]);a=new D(null);a.ba("XY",d,[d.length]);return a}function Yf(a){var b=a[0],c=a[1],d=a[2];a=a[3];b=[b,c,b,a,d,a,d,c,b,c];c=new D(null);c.ba("XY",b,[b.length]);return c}
function Zf(a,b,c){var d=b?b:32,e=a.qa();b=a.ja;for(var f=new D(null,b),d=e*(d+1),e=Array(d),g=0;g<d;g++)e[g]=0;f.ba(b,e,[e.length]);$f(f,a.wa(),a.pd(),c);return f}function $f(a,b,c,d){var e=a.ga(),f=a.ja,g=a.qa(),h=a.Bb(),l=e.length/g-1;d=d?d:0;for(var m,n,p=0;p<=l;++p)n=p*g,m=d+2*Ia(p,l)*Math.PI/l,e[n]=b[0]+c*Math.cos(m),e[n+1]=b[1]+c*Math.sin(m);a.ba(f,e,h)};function F(a){Tc.call(this);a=tb({},a);this.o=[0,0];this.c=[];this.wf=this.wf.bind(this);this.v=$b(a.projection);ag(this,a)}v(F,Tc);
function ag(a,b){var c={};c.center=void 0!==b.center?b.center:null;var d=void 0!==b.minZoom?b.minZoom:0;var e=void 0!==b.maxZoom?b.maxZoom:28;var f=void 0!==b.zoomFactor?b.zoomFactor:2;if(void 0!==b.resolutions){e=b.resolutions;var g=e[0];var h=e[e.length-1];e=Re(e)}else{g=$b(b.projection);h=g.G();var l=(h?Math.max(lb(h),mb(h)):360*zb.degrees/g.sc())/256/Math.pow(2,0),m=l/Math.pow(2,28);g=b.maxResolution;void 0!==g?d=0:g=l/Math.pow(f,d);h=b.minResolution;void 0===h&&(h=void 0!==b.maxZoom?void 0!==
b.maxResolution?g/Math.pow(f,e):l/Math.pow(f,e):m);e=d+Math.floor(Math.log(g/h)/Math.log(f));h=g/Math.pow(f,e-d);e=Se(f,g,e-d)}a.a=g;a.f=h;a.C=f;a.j=b.resolutions;a.l=d;(void 0!==b.enableRotation?b.enableRotation:1)?(d=b.constrainRotation,d=void 0===d||!0===d?We():!1===d?Ue:"number"===typeof d?Ve(d):Ue):d=Te;a.g={center:void 0!==b.extent?Bc(b.extent):Cc,resolution:e,rotation:d};void 0!==b.resolution?c.resolution=b.resolution:void 0!==b.zoom&&(c.resolution=a.constrainResolution(a.a,b.zoom-a.l));c.rotation=
void 0!==b.rotation?b.rotation:0;a.H(c);a.D=b}function bg(a,b){var c=tb({},a.D);void 0!==c.resolution?c.resolution=a.Pa():c.zoom=a.Hh();c.center=a.wa();c.rotation=a.Qa();return tb({},c,b)}k=F.prototype;
k.animate=function(a){var b=Date.now(),c=this.wa().slice(),d=this.Pa(),e=this.Qa(),f=arguments.length;if(1<f&&"function"===typeof arguments[f-1]){var g=arguments[f-1];--f}for(var h=[],l=0;l<f;++l){var m=arguments[l],n={start:b,complete:!1,anchor:m.anchor,duration:void 0!==m.duration?m.duration:1E3,easing:m.easing||sd};m.center&&(n.Rg=c,n.Tg=m.center,c=n.Tg);void 0!==m.zoom?(n.tf=d,n.zd=this.constrainResolution(this.a,m.zoom-this.l,0),d=n.zd):m.resolution&&(n.tf=d,n.zd=m.resolution,d=n.zd);void 0!==
m.rotation&&(n.Sg=e,n.uf=m.rotation,e=n.uf);n.callback=g;b+=n.duration;h.push(n)}this.c.push(h);cg(this,0,1);this.wf()};k.Ic=function(){return 0<dg(this)[0]};k.Rk=function(){return 0<dg(this)[1]};k.ed=function(){cg(this,0,-dg(this)[0]);for(var a=0,b=this.c.length;a<b;++a){var c=this.c[a];c[0].callback&&c[0].callback(!1)}this.c.length=0};
k.wf=function(){void 0!==this.u&&(cancelAnimationFrame(this.u),this.u=void 0);if(this.Ic()){for(var a=Date.now(),b=!1,c=this.c.length-1;0<=c;--c){for(var d=this.c[c],e=!0,f=0,g=d.length;f<g;++f){var h=d[f];if(!h.complete){b=a-h.start;b=0<h.duration?b/h.duration:1;1<=b?(h.complete=!0,b=1):e=!1;b=h.easing(b);if(h.Rg){var l=h.Rg[0],m=h.Rg[1];this.set("center",[l+b*(h.Tg[0]-l),m+b*(h.Tg[1]-m)])}h.tf&&h.zd&&(l=1===b?h.zd:h.tf+b*(h.zd-h.tf),h.anchor&&this.set("center",eg(this,l,h.anchor)),this.set("resolution",
l));void 0!==h.Sg&&void 0!==h.uf&&(b=1===b?h.uf:h.Sg+b*(h.uf-h.Sg),h.anchor&&this.set("center",fg(this,b,h.anchor)),this.set("rotation",b));b=!0;if(!h.complete)break}}e&&(this.c[c]=null,cg(this,0,-1),(d=d[0].callback)&&d(!0))}this.c=this.c.filter(Boolean);b&&void 0===this.u&&(this.u=requestAnimationFrame(this.wf))}};function fg(a,b,c){var d=a.wa();if(void 0!==d){var e=[d[0]-c[0],d[1]-c[1]];ef(e,b-a.Qa());Ze(e,c)}return e}
function eg(a,b,c){var d,e=a.wa();a=a.Pa();void 0!==e&&void 0!==a&&(d=[c[0]-b*(c[0]-e[0])/a,c[1]-b*(c[1]-e[1])/a]);return d}function gg(a){var b=[100,100];a='.ol-viewport[data-view="'+w(a)+'"]';if(a=document.querySelector(a))a=getComputedStyle(a),b[0]=parseInt(a.width,10),b[1]=parseInt(a.height,10);return b}k.Ec=function(a){return this.g.center(a)};k.constrainResolution=function(a,b,c){return this.g.resolution(a,b||0,c||0)};k.constrainRotation=function(a,b){return this.g.rotation(a,b||0)};k.wa=function(){return this.get("center")};
function dg(a,b){return void 0!==b?(b[0]=a.o[0],b[1]=a.o[1],b):a.o.slice()}k.dd=function(a){a=a||gg(this);var b=this.wa();xa(b,1);var c=this.Pa();xa(void 0!==c,2);var d=this.Qa();xa(void 0!==d,3);return ob(b,c,d,a)};k.Nm=function(){return this.a};k.Pm=function(){return this.f};k.Om=function(){return this.Ce(this.f)};k.eq=function(a){ag(this,bg(this,{maxZoom:a}))};k.Qm=function(){return this.Ce(this.a)};k.fq=function(a){ag(this,bg(this,{minZoom:a}))};k.Rm=function(){return this.v};k.Pa=function(){return this.get("resolution")};
k.Sm=function(){return this.j};k.ze=function(a,b){b=b||gg(this);return Math.max(lb(a)/b[0],mb(a)/b[1])};function hg(a){var b=a.a,c=Math.log(b/a.f)/Math.log(2);return function(a){return b/Math.pow(2,a*c)}}k.Qa=function(){return this.get("rotation")};function ig(a){var b=a.a,c=Math.log(b/a.f)/Math.log(2);return function(a){return Math.log(b/a)/Math.log(2)/c}}k.getState=function(){var a=this.wa(),b=this.v,c=this.Pa(),d=this.Qa();return{center:a.slice(),projection:void 0!==b?b:null,resolution:c,rotation:d}};
k.Hh=function(){var a,b=this.Pa();void 0!==b&&(a=this.Ce(b));return a};k.Ce=function(a){if(a>=this.f&&a<=this.a){var b=this.l||0;if(this.j){var c=ka(this.j,a,1);b+=c;if(c==this.j.length-1)return b;var d=this.j[c];c=d/this.j[c+1]}else d=this.a,c=this.C;b+=Math.log(d/a)/Math.log(c)}return b};
k.Qf=function(a,b){b=b||{};var c=b.size;c||(c=gg(this));if(a instanceof rf)if("Circle"===a.U()){a=a.G();var d=Yf(a);d.rotate(this.Qa(),nb(a))}else d=a;else xa(Array.isArray(a),24),xa(!kb(a),25),d=Yf(a);var e=b.padding?b.padding:[0,0,0,0],f=void 0!==b.constrainResolution?b.constrainResolution:!0,g=void 0!==b.nearest?b.nearest:!1,h;void 0!==b.minResolution?h=b.minResolution:void 0!==b.maxZoom?h=this.constrainResolution(this.a,b.maxZoom-this.l,0):h=0;var l=d.ga(),m=this.Qa();a=Math.cos(-m);var m=Math.sin(-m),
n=Infinity,p=Infinity,q=-Infinity,r=-Infinity;d=d.qa();for(var u=0,x=l.length;u<x;u+=d)var B=l[u]*a-l[u+1]*m,E=l[u]*m+l[u+1]*a,n=Math.min(n,B),p=Math.min(p,E),q=Math.max(q,B),r=Math.max(r,E);c=this.ze([n,p,q,r],[c[0]-e[1]-e[3],c[1]-e[0]-e[2]]);c=isNaN(c)?h:Math.max(c,h);f&&(h=this.constrainResolution(c,0,0),!g&&h<c&&(h=this.constrainResolution(h,-1,0)),c=h);m=-m;h=(n+q)/2+(e[1]-e[3])/2*c;e=(p+r)/2+(e[0]-e[2])/2*c;a=[h*a-e*m,e*a+h*m];e=b.callback?b.callback:ua;void 0!==b.duration?this.animate({resolution:c,
center:a,duration:b.duration,easing:b.easing},e):(this.Vc(c),this.ob(a),setTimeout(e.bind(void 0,!0),0))};k.uk=function(a,b,c){var d=this.Qa(),e=Math.cos(-d),d=Math.sin(-d),f=a[0]*e-a[1]*d;a=a[1]*e+a[0]*d;var g=this.Pa(),f=f+(b[0]/2-c[0])*g;a+=(c[1]-b[1]/2)*g;d=-d;this.ob([f*e-a*d,a*e+f*d])};function jg(a){return!!a.wa()&&void 0!==a.Pa()}k.rotate=function(a,b){void 0!==b&&(b=fg(this,a,b),this.ob(b));this.Oe(a)};k.ob=function(a){this.set("center",a);this.Ic()&&this.ed()};
function cg(a,b,c){a.o[b]+=c;a.s()}k.Vc=function(a){this.set("resolution",a);this.Ic()&&this.ed()};k.Oe=function(a){this.set("rotation",a);this.Ic()&&this.ed()};k.lq=function(a){a=this.constrainResolution(this.a,a-this.l,0);this.Vc(a)};function kg(a,b,c){this.f=a;this.c=b;this.g=c;this.b=[];this.a=this.i=0}function lg(a){a.b.length=0;a.i=0;a.a=0}function mg(a){if(6>a.b.length)return!1;var b=Date.now()-a.g,c=a.b.length-3;if(a.b[c+2]<b)return!1;for(var d=c-3;0<d&&a.b[d+2]>b;)d-=3;b=a.b[c+2]-a.b[d+2];if(b<1E3/60)return!1;var e=a.b[c]-a.b[d],c=a.b[c+1]-a.b[d+1];a.i=Math.atan2(c,e);a.a=Math.sqrt(e*e+c*c)/b;return a.a>a.c};function ng(a){Tc.call(this);this.v=null;this.Ha(!0);this.handleEvent=a.handleEvent}v(ng,Tc);ng.prototype.c=function(){return this.get("active")};ng.prototype.f=function(){return this.v};ng.prototype.Ha=function(a){this.set("active",a)};ng.prototype.setMap=function(a){this.v=a};function og(a,b,c,d){if(void 0!==b){var e=a.Qa(),f=a.wa();void 0!==e&&f&&0<d?a.animate({rotation:b,anchor:c,duration:d,easing:rd}):a.rotate(b,c)}}
function pg(a,b,c,d){var e=a.Pa();b=a.constrainResolution(e,b,0);if(c&&void 0!==b&&b!==e){var f=a.wa();c=eg(a,b,c);c=a.Ec(c);c=[(b*f[0]-e*c[0])/(b-e),(b*f[1]-e*c[1])/(b-e)]}qg(a,b,c,d)}function qg(a,b,c,d){if(b){var e=a.Pa(),f=a.wa();void 0!==e&&f&&b!==e&&d?a.animate({resolution:b,anchor:c,duration:d,easing:rd}):(c&&(c=eg(a,b,c),a.ob(c)),a.Vc(b))}};function rg(a){a=a?a:{};this.a=a.delta?a.delta:1;ng.call(this,{handleEvent:sg});this.g=void 0!==a.duration?a.duration:250}v(rg,ng);function sg(a){var b=!1,c=a.originalEvent;if("dblclick"==a.type){var b=a.coordinate,c=c.shiftKey?-this.a:this.a,d=a.map.Z();pg(d,c,b,this.g);a.preventDefault();b=!0}return!b};function tg(a){a=a.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function ug(a){a=a.originalEvent;return!a.button&&!(Qd&&Rd&&a.ctrlKey)}function vg(a){return"pointermove"==a.type}function wg(a){return"singleclick"==a.type}function xg(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}function yg(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}
function Ag(a){a=a.originalEvent.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a}function Bg(a){xa(a.b,56);return"mouse"==a.b.pointerType}function Cg(a){a=a.b;return a.isPrimary&&0===a.button};function Dg(a){a=a?a:{};ng.call(this,{handleEvent:a.handleEvent?a.handleEvent:Eg});this.yf=a.handleDownEvent?a.handleDownEvent:nf;this.If=a.handleDragEvent?a.handleDragEvent:ua;this.Jf=a.handleMoveEvent?a.handleMoveEvent:ua;this.sk=a.handleUpEvent?a.handleUpEvent:nf;this.D=!1;this.na={};this.o=[]}v(Dg,ng);function Fg(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}
function Eg(a){if(!(a instanceof ee))return!0;var b=!1,c=a.type;if("pointerdown"===c||"pointerdrag"===c||"pointerup"===c)c=a.b,"pointerup"==a.type?delete this.na[c.pointerId]:"pointerdown"==a.type?this.na[c.pointerId]=c:c.pointerId in this.na&&(this.na[c.pointerId]=c),this.o=vb(this.na);this.D?"pointerdrag"==a.type?this.If(a):"pointerup"==a.type&&(this.D=this.sk(a)&&0<this.o.length):"pointerdown"==a.type?(this.D=a=this.yf(a),b=this.Xc(a)):"pointermove"==a.type&&this.Jf(a);return!b}
Dg.prototype.Xc=function(a){return a};function Gg(a){Dg.call(this,{handleDownEvent:Hg,handleDragEvent:Ig,handleUpEvent:Jg});a=a?a:{};this.a=a.kinetic;this.g=null;this.u=a.condition?a.condition:xg;this.j=!1}v(Gg,Dg);function Ig(a){var b=this.o,c=Fg(b);if(b.length==this.l){if(this.a&&this.a.b.push(c[0],c[1],Date.now()),this.g){var d=this.g[0]-c[0],e=c[1]-this.g[1];a=a.map.Z();var f=a.getState(),d=[d,e];gf(d,f.resolution);ef(d,f.rotation);Ze(d,f.center);d=a.Ec(d);a.ob(d)}}else this.a&&lg(this.a);this.g=c;this.l=b.length}
function Jg(a){var b=a.map;a=b.Z();if(this.o.length)return this.a&&lg(this.a),this.g=null,!0;if(!this.j&&this.a&&mg(this.a)){var c=this.a;c=(c.c-c.a)/c.f;var d=this.a.i,e=a.wa(),e=b.Ja(e),b=b.Wa([e[0]-c*Math.cos(d),e[1]-c*Math.sin(d)]);a.animate({center:a.Ec(b),duration:500,easing:rd})}cg(a,1,-1);return!1}
function Hg(a){if(0<this.o.length&&this.u(a)){var b=a.map.Z();this.g=null;this.D||cg(b,1,1);dg(b)[0]&&b.ob(a.frameState.viewState.center);this.a&&lg(this.a);this.j=1<this.o.length;return!0}return!1}Gg.prototype.Xc=nf;function Kg(a){a=a?a:{};Dg.call(this,{handleDownEvent:Lg,handleDragEvent:Mg,handleUpEvent:Ng});this.g=a.condition?a.condition:tg;this.a=void 0;this.j=void 0!==a.duration?a.duration:250}v(Kg,Dg);function Mg(a){if(Bg(a)){var b=a.map,c=b.Z();if(c.g.rotation!==Te){b=b.Ob();a=a.pixel;a=Math.atan2(b[1]/2-a[1],a[0]-b[0]/2);if(void 0!==this.a){var b=a-this.a,d=c.Qa();og(c,d-b)}this.a=a}}}
function Ng(a){if(!Bg(a))return!0;a=a.map.Z();cg(a,1,-1);var b=a.Qa(),c=this.j,b=a.constrainRotation(b,0);og(a,b,void 0,c);return!1}function Lg(a){return Bg(a)&&ug(a)&&this.g(a)?(cg(a.map.Z(),1,1),this.a=void 0,!0):!1}Kg.prototype.Xc=nf;function Og(a){this.Gc=null;this.a=document.createElement("div");this.a.style.position="absolute";this.a.className="ol-box "+a;this.i=this.c=this.b=null}v(Og,Mc);Og.prototype.ka=function(){this.setMap(null)};function Pg(a){var b=a.c,c=a.i;a=a.a.style;a.left=Math.min(b[0],c[0])+"px";a.top=Math.min(b[1],c[1])+"px";a.width=Math.abs(c[0]-b[0])+"px";a.height=Math.abs(c[1]-b[1])+"px"}
Og.prototype.setMap=function(a){if(this.b){this.b.C.removeChild(this.a);var b=this.a.style;b.left=b.top=b.width=b.height="inherit"}(this.b=a)&&this.b.C.appendChild(this.a)};function Qg(a){var b=a.c,c=a.i,b=[b,[b[0],c[1]],c,[c[0],b[1]]].map(a.b.Wa,a.b);b[4]=b[0].slice();a.Gc?a.Gc.ma([b]):a.Gc=new D([b])}Og.prototype.V=function(){return this.Gc};function Rg(a){Dg.call(this,{handleDownEvent:Sg,handleDragEvent:Tg,handleUpEvent:Ug});a=a?a:{};this.a=new Og(a.className||"ol-dragbox");this.u=void 0!==a.minArea?a.minArea:64;this.g=null;this.C=a.condition?a.condition:mf;this.l=a.boxEndCondition?a.boxEndCondition:Vg}v(Rg,Dg);function Vg(a,b,c){a=c[0]-b[0];b=c[1]-b[1];return a*a+b*b>=this.u}function Tg(a){if(Bg(a)){var b=this.a,c=a.pixel;b.c=this.g;b.i=c;Qg(b);Pg(b);this.b(new Wg(Xg,a.coordinate,a))}}Rg.prototype.V=function(){return this.a.V()};
Rg.prototype.j=ua;function Ug(a){if(!Bg(a))return!0;this.a.setMap(null);this.l(a,this.g,a.pixel)&&(this.j(a),this.b(new Wg(Yg,a.coordinate,a)));return!1}function Sg(a){if(Bg(a)&&ug(a)&&this.C(a)){this.g=a.pixel;this.a.setMap(a.map);var b=this.a,c=this.g;b.c=this.g;b.i=c;Qg(b);Pg(b);this.b(new Wg(Zg,a.coordinate,a));return!0}return!1}var Zg="boxstart",Xg="boxdrag",Yg="boxend";function Wg(a,b,c){Oc.call(this,a);this.coordinate=b;this.mapBrowserEvent=c}v(Wg,Oc);function $g(a){a=a?a:{};var b=a.condition?a.condition:yg;this.B=void 0!==a.duration?a.duration:200;this.I=void 0!==a.out?a.out:!1;Rg.call(this,{condition:b,className:a.className||"ol-dragzoom"})}v($g,Rg);
$g.prototype.j=function(){var a=this.v,b=a.Z(),c=a.Ob(),d=this.V().G();if(this.I){var e=b.dd(c),d=[a.Ja(eb(d)),a.Ja(hb(d))],a=Ya(void 0),f;var g=0;for(f=d.length;g<f;++g)Pa(a,d[g]);d=b.ze(a,c);rb(e,1/d);d=e}c=b.constrainResolution(b.ze(d,c));e=nb(d);e=b.Ec(e);b.animate({resolution:c,center:e,duration:this.B,easing:rd})};function ah(a){ng.call(this,{handleEvent:bh});a=a||{};this.a=function(a){return xg(a)&&Ag(a)};this.g=a.condition?a.condition:this.a;this.j=void 0!==a.duration?a.duration:100;this.o=void 0!==a.pixelDelta?a.pixelDelta:128}v(ah,ng);
function bh(a){var b=!1;if("keydown"==a.type){var c=a.originalEvent.keyCode;if(this.g(a)&&(40==c||37==c||39==c||38==c)){var b=a.map.Z(),d=b.Pa()*this.o,e=0,f=0;40==c?f=-d:37==c?e=-d:39==c?e=d:f=d;d=[e,f];ef(d,b.Qa());c=this.j;if(e=b.wa())d=b.Ec([e[0]+d[0],e[1]+d[1]]),c?b.animate({duration:c,easing:td,center:d}):b.ob(d);a.preventDefault();b=!0}}return!b};function ch(a){ng.call(this,{handleEvent:dh});a=a?a:{};this.g=a.condition?a.condition:Ag;this.a=a.delta?a.delta:1;this.j=void 0!==a.duration?a.duration:100}v(ch,ng);function dh(a){var b=!1;if("keydown"==a.type||"keypress"==a.type){var c=a.originalEvent.charCode;!this.g(a)||43!=c&&45!=c||(b=43==c?this.a:-this.a,c=a.map.Z(),pg(c,b,void 0,this.j),a.preventDefault(),b=!0)}return!b};function eh(a){ng.call(this,{handleEvent:fh});a=a||{};this.j=0;this.D=void 0!==a.duration?a.duration:250;this.na=void 0!==a.timeout?a.timeout:80;this.C=void 0!==a.useAnchor?a.useAnchor:!0;this.R=a.constrainResolution||!1;this.a=null;this.l=this.o=this.u=this.g=void 0}v(eh,ng);
function fh(a){var b=a.type;if("wheel"!==b&&"mousewheel"!==b)return!0;a.preventDefault();var b=a.map,c=a.originalEvent;this.C&&(this.a=a.coordinate);if("wheel"==a.type){var d=c.deltaY;Od&&c.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(d/=Sd);c.deltaMode===WheelEvent.DOM_DELTA_LINE&&(d*=40)}else"mousewheel"==a.type&&(d=-c.wheelDeltaY,Pd&&(d/=3));if(0===d)return!1;a=Date.now();void 0===this.g&&(this.g=a);if(!this.o||400<a-this.g)this.o=4>Math.abs(d)?gh:hh;if(this.o===gh){b=b.Z();this.l?clearTimeout(this.l):
cg(b,1,1);this.l=setTimeout(this.B.bind(this),400);var c=b.Pa()*Math.pow(2,d/300),e=b.f,f=b.a,g=0;c<e?(c=Math.max(c,e/1.5),g=1):c>f&&(c=Math.min(c,1.5*f),g=-1);if(this.a){var h=eg(b,c,this.a);b.ob(b.Ec(h))}b.Vc(c);!g&&this.R&&b.animate({resolution:b.constrainResolution(c,0<d?-1:1),easing:rd,anchor:this.a,duration:this.D});0<g?b.animate({resolution:e,easing:rd,anchor:this.a,duration:500}):0>g&&b.animate({resolution:f,easing:rd,anchor:this.a,duration:500});this.g=a;return!1}this.j+=d;d=Math.max(this.na-
(a-this.g),0);clearTimeout(this.u);this.u=setTimeout(this.I.bind(this,b),d);return!1}eh.prototype.B=function(){this.l=void 0;cg(this.v.Z(),1,-1)};eh.prototype.I=function(a){a=a.Z();a.Ic()&&a.ed();pg(a,-Ca(this.j,-1,1),this.a,this.D);this.o=void 0;this.j=0;this.a=null;this.u=this.g=void 0};eh.prototype.T=function(a){this.C=a;a||(this.a=null)};var gh="trackpad",hh="wheel";function ih(a){Dg.call(this,{handleDownEvent:jh,handleDragEvent:kh,handleUpEvent:lh});a=a||{};this.g=null;this.j=void 0;this.a=!1;this.l=0;this.C=void 0!==a.threshold?a.threshold:.3;this.u=void 0!==a.duration?a.duration:250}v(ih,Dg);
function kh(a){var b=0,c=this.o[0],d=this.o[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);void 0!==this.j&&(b=c-this.j,this.l+=b,!this.a&&Math.abs(this.l)>this.C&&(this.a=!0));this.j=c;a=a.map;c=a.Z();if(c.g.rotation!==Te){var d=a.a.getBoundingClientRect(),e=Fg(this.o);e[0]-=d.left;e[1]-=d.top;this.g=a.Wa(e);this.a&&(d=c.Qa(),a.render(),og(c,d+b,this.g))}}
function lh(a){if(2>this.o.length){a=a.map.Z();cg(a,1,-1);if(this.a){var b=a.Qa(),c=this.g,d=this.u,b=a.constrainRotation(b,0);og(a,b,c,d)}return!1}return!0}function jh(a){return 2<=this.o.length?(a=a.map,this.g=null,this.j=void 0,this.a=!1,this.l=0,this.D||cg(a.Z(),1,1),!0):!1}ih.prototype.Xc=nf;function mh(a){Dg.call(this,{handleDownEvent:nh,handleDragEvent:oh,handleUpEvent:ph});a=a?a:{};this.l=a.constrainResolution||!1;this.g=null;this.u=void 0!==a.duration?a.duration:400;this.a=void 0;this.j=1}v(mh,Dg);
function oh(a){var b=1,c=this.o[0],d=this.o[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);void 0!==this.a&&(b=this.a/e);this.a=e;a=a.map;var e=a.Z(),d=e.Pa(),f=e.a,g=e.f,c=d*b;c>f?(b=f/d,c=f):c<g&&(b=g/d,c=g);1!=b&&(this.j=b);b=a.a.getBoundingClientRect();d=Fg(this.o);d[0]-=b.left;d[1]-=b.top;this.g=a.Wa(d);a.render();qg(e,c,this.g)}
function ph(a){if(2>this.o.length){a=a.map.Z();cg(a,1,-1);var b=a.Pa();if(this.l||b<a.f||b>a.a){var c=this.g,d=this.u,b=a.constrainResolution(b,0,this.j-1);qg(a,b,c,d)}return!1}return!0}function nh(a){return 2<=this.o.length?(a=a.map,this.g=null,this.a=void 0,this.j=1,this.D||cg(a.Z(),1,1),!0):!1}mh.prototype.Xc=nf;function qh(a){a=a?a:{};var b=new Yc,c=new kg(-.005,.05,100);(void 0!==a.altShiftDragRotate?a.altShiftDragRotate:1)&&b.push(new Kg);(void 0!==a.doubleClickZoom?a.doubleClickZoom:1)&&b.push(new rg({delta:a.zoomDelta,duration:a.zoomDuration}));(void 0!==a.dragPan?a.dragPan:1)&&b.push(new Gg({kinetic:c}));(void 0!==a.pinchRotate?a.pinchRotate:1)&&b.push(new ih);(void 0!==a.pinchZoom?a.pinchZoom:1)&&b.push(new mh({constrainResolution:a.constrainResolution,duration:a.zoomDuration}));if(void 0!==a.keyboard?
a.keyboard:1)b.push(new ah),b.push(new ch({delta:a.zoomDelta,duration:a.zoomDuration}));(void 0!==a.mouseWheelZoom?a.mouseWheelZoom:1)&&b.push(new eh({constrainResolution:a.constrainResolution,duration:a.zoomDuration}));(void 0!==a.shiftDragZoom?a.shiftDragZoom:1)&&b.push(new $g({duration:a.zoomDuration}));return b};function sh(a){Tc.call(this);var b=tb({},a);b.opacity=void 0!==a.opacity?a.opacity:1;b.visible=void 0!==a.visible?a.visible:!0;b.zIndex=void 0!==a.zIndex?a.zIndex:0;b.maxResolution=void 0!==a.maxResolution?a.maxResolution:Infinity;b.minResolution=void 0!==a.minResolution?a.minResolution:0;this.H(b);this.a={layer:this,Je:!0}}v(sh,Tc);
function th(a){a.a.opacity=Ca(a.hc(),0,1);a.a.yj=a.$f();a.a.visible=a.Mb();a.a.extent=a.G();a.a.zIndex=a.Ba();a.a.maxResolution=a.fc();a.a.minResolution=Math.max(a.gc(),0);return a.a}k=sh.prototype;k.G=function(){return this.get("extent")};k.fc=function(){return this.get("maxResolution")};k.gc=function(){return this.get("minResolution")};k.hc=function(){return this.get("opacity")};k.Mb=function(){return this.get("visible")};k.Ba=function(){return this.get("zIndex")};
k.vc=function(a){this.set("extent",a)};k.Ac=function(a){this.set("maxResolution",a)};k.Bc=function(a){this.set("minResolution",a)};k.wc=function(a){this.set("opacity",a)};k.xc=function(a){this.set("visible",a)};k.Vb=function(a){this.set("zIndex",a)};function uh(a){var b=a||{};a=tb({},b);delete a.layers;b=b.layers;sh.call(this,a);this.f=[];this.c={};y(this,Vc(vh),this.Hl,this);b?Array.isArray(b)?b=new Yc(b.slice(),{unique:!0}):xa(b instanceof Yc,43):b=new Yc(void 0,{unique:!0});this.xi(b)}v(uh,sh);k=uh.prototype;k.Fd=function(){};k.Fe=function(){this.Mb()&&this.s()};
k.Hl=function(){this.f.forEach(Ec);this.f.length=0;var a=this.qd();this.f.push(y(a,"add",this.Gl,this),y(a,"remove",this.Il,this));for(var b in this.c)this.c[b].forEach(Ec);ub(this.c);var a=a.a,c;b=0;for(c=a.length;b<c;b++){var d=a[b];this.c[w(d).toString()]=[y(d,"propertychange",this.Fe,this),y(d,"change",this.Fe,this)]}this.s()};k.Gl=function(a){a=a.element;var b=w(a).toString();this.c[b]=[y(a,"propertychange",this.Fe,this),y(a,"change",this.Fe,this)];this.s()};
k.Il=function(a){a=w(a.element).toString();this.c[a].forEach(Ec);delete this.c[a];this.s()};k.qd=function(){return this.get(vh)};k.xi=function(a){this.set(vh,a)};
k.Yf=function(a){var b=void 0!==a?a:[],c=b.length;this.qd().forEach(function(a){a.Yf(b)});a=th(this);var d;for(d=b.length;c<d;c++){var e=b[c];e.opacity*=a.opacity;e.visible=e.visible&&a.visible;e.maxResolution=Math.min(e.maxResolution,a.maxResolution);e.minResolution=Math.max(e.minResolution,a.minResolution);void 0!==a.extent&&(e.extent=void 0!==e.extent?pb(e.extent,a.extent):a.extent)}return b};k.$f=function(){return"ready"};var vh="layers";function wh(a){var b=tb({},a);delete b.source;sh.call(this,b);this.v=this.l=this.o=null;a.map&&this.setMap(a.map);y(this,Vc("source"),this.Ul,this);this.Wc(a.source?a.source:null)}v(wh,sh);function xh(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution}k=wh.prototype;k.Yf=function(a){a=a?a:[];a.push(th(this));return a};k.ha=function(){return this.get("source")||null};k.$f=function(){var a=this.ha();return a?a.getState():"undefined"};k.Tn=function(){this.s()};
k.Ul=function(){this.v&&(Ec(this.v),this.v=null);var a=this.ha();a&&(this.v=y(a,"change",this.Tn,this));this.s()};k.setMap=function(a){this.o&&(Ec(this.o),this.o=null);a||this.s();this.l&&(Ec(this.l),this.l=null);a&&(this.o=y(a,"precompose",function(a){var b=th(this);b.Je=!1;b.zIndex=Infinity;a.frameState.layerStatesArray.push(b);a.frameState.layerStates[w(this)]=b},this),this.l=y(this,"change",a.render,a),this.s())};k.Wc=function(a){this.set("source",a)};function yh(){this.b={};this.a=0}yh.prototype.clear=function(){this.b={};this.a=0};yh.prototype.get=function(a,b,c){a=b+":"+a+":"+(c?gd(c):"null");return a in this.b?this.b[a]:null};yh.prototype.set=function(a,b,c,d){this.b[b+":"+a+":"+(c?gd(c):"null")]=d;++this.a};var zh=new yh;var Ah=Array(6);function Bh(){return[1,0,0,1,0,0]}function Ch(a){return Dh(a,1,0,0,1,0,0)}function Eh(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],l=b[0],m=b[1],n=b[2],p=b[3],q=b[4];b=b[5];a[0]=c*l+e*m;a[1]=d*l+f*m;a[2]=c*n+e*p;a[3]=d*n+f*p;a[4]=c*q+e*b+g;a[5]=d*q+f*b+h;return a}function Dh(a,b,c,d,e,f,g){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;return a}function Fh(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}
function Gh(a,b){var c=b[0],d=b[1];b[0]=a[0]*c+a[2]*d+a[4];b[1]=a[1]*c+a[3]*d+a[5];return b}function Hh(a,b){var c=Math.cos(b);b=Math.sin(b);Eh(a,Dh(Ah,c,b,-b,c,0,0))}function Ih(a,b,c){return Eh(a,Dh(Ah,b,0,0,c,0,0))}function Jh(a,b,c){Eh(a,Dh(Ah,1,0,0,1,b,c))}function Kh(a,b,c,d,e,f,g,h){var l=Math.sin(f);f=Math.cos(f);a[0]=d*f;a[1]=e*l;a[2]=-d*l;a[3]=e*f;a[4]=g*d*f-h*d*l+b;a[5]=g*e*l+h*e*f+c;return a}
function Lh(a){var b=a[0]*a[3]-a[1]*a[2];xa(!!b,32);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5];a[0]=f/b;a[1]=-d/b;a[2]=-e/b;a[3]=c/b;a[4]=(e*h-f*g)/b;a[5]=-(c*h-d*g)/b;return a};function Mh(a,b){this.o=b;this.c={};this.v={}}v(Mh,Mc);function Nh(a){var b=a.viewState,c=a.coordinateToPixelTransform,d=a.pixelToCoordinateTransform;Kh(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);Lh(Fh(d,c))}k=Mh.prototype;k.ka=function(){for(var a in this.c)Nc(this.c[a])};function Oh(){if(32<zh.a){var a=0,b;for(b in zh.b){var c=zh.b[b];a++&3||Rc(c)||(delete zh.b[b],--zh.a)}}}
k.Ea=function(a,b,c,d,e,f,g){function h(a,c){var f=w(a).toString(),g=b.layerStates[w(c)].Je;if(!(f in b.skippedFeatureUids)||g)return d.call(e,a,g?c:null)}var l,m=b.viewState,n=m.resolution,p=m.projection,m=a;if(p.i){var p=p.G(),q=lb(p),r=a[0];if(r<p[0]||r>p[2])m=[r+q*Math.ceil((p[0]-r)/q),a[1]]}p=b.layerStatesArray;for(q=p.length-1;0<=q;--q){var u=p[q],r=u.layer;if(xh(u,n)&&f.call(g,r)&&(u=Ph(this,r),r.ha()&&(l=u.Ea(r.ha().u?m:a,b,c,h,e)),l))return l}};
k.Ei=function(a,b,c,d,e){return void 0!==this.Ea(a,b,c,mf,this,d,e)};function Ph(a,b){var c=w(b).toString();if(c in a.c)return a.c[c];b=b.Fd(a);a.c[c]=b;a.v[c]=y(b,"change",a.Fl,a);return b}k.Fl=function(){this.o.render()};k.Jg=ua;k.Rp=function(a,b){for(var c in this.c)if(!(b&&c in b.layerStates)){a=c;var d=this.c[a];delete this.c[a];Ec(this.v[a]);delete this.v[a];Nc(d)}};function Qh(a,b){for(var c in a.c)if(!(c in b.layerStates)){b.postRenderFunctions.push(a.Rp.bind(a));break}}
function ra(a,b){return a.zIndex-b.zIndex};function Rh(a,b,c,d,e){Oc.call(this,a);this.vectorContext=b;this.frameState=c;this.context=d;this.glContext=e}v(Rh,Oc);var Sh=[0,0,0,1],Th=[],Uh=[0,0,0,1];function Vh(a,b,c,d){b&&(a.translate(c,d),a.rotate(b),a.translate(-c,-d))};function Wh(){}k=Wh.prototype;k.zb=function(){};k.rd=function(){};k.Zb=function(){};k.te=function(){};k.ue=function(){};k.mc=function(){};k.nc=function(){};k.oc=function(){};k.pc=function(){};k.qc=function(){};k.rc=function(){};k.yc=function(){};k.Ma=function(){};k.Ub=function(){};k.Cb=function(){};function Xh(a,b,c,d,e){this.i=a;this.u=b;this.c=c;this.S=d;this.Yb=e;this.M=this.b=this.a=this.Ua=this.R=this.I=null;this.na=this.T=this.l=this.B=this.C=this.D=0;this.fa=!1;this.f=this.fb=0;this.pa=!1;this.oa=0;this.Ia="";this.va=this.Jb=0;this.Sa=!1;this.j=this.$a=0;this.ra=this.o=this.g=null;this.v=[];this.xb=Bh()}v(Xh,Wh);
function Yh(a,b,c){if(a.M){b=pf(b,0,c,2,a.S,a.v);c=a.i;var d=a.xb,e=c.globalAlpha;1!=a.l&&(c.globalAlpha=e*a.l);var f=a.fb;a.fa&&(f+=a.Yb);var g;var h=0;for(g=b.length;h<g;h+=2){var l=b[h]-a.D,m=b[h+1]-a.C;a.pa&&(l=Math.round(l),m=Math.round(m));if(f||1!=a.f){var n=l+a.D,p=m+a.C;Kh(d,n,p,a.f,a.f,f,-n,-p);c.setTransform.apply(c,d)}c.drawImage(a.M,a.T,a.na,a.oa,a.B,l,m,a.oa,a.B)}(f||1!=a.f)&&c.setTransform(1,0,0,1,0,0);1!=a.l&&(c.globalAlpha=e)}}
function Zh(a,b,c,d){var e=0;if(a.ra&&""!==a.Ia){a.g&&$h(a,a.g);a.o&&ai(a,a.o);var f=a.ra,g=a.i,h=a.Ua;h?(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline)):(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.Ua={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline});b=pf(b,e,c,d,a.S,a.v);f=a.i;g=a.$a;for(a.Sa&&(g+=a.Yb);e<c;e+=d){var h=b[e]+
a.Jb,l=b[e+1]+a.va;if(g||1!=a.j){var m=Kh(a.xb,h,l,a.j,a.j,g,-h,-l);f.setTransform.apply(f,m)}a.o&&f.strokeText(a.Ia,h,l);a.g&&f.fillText(a.Ia,h,l)}(g||1!=a.j)&&f.setTransform(1,0,0,1,0,0)}}function bi(a,b,c,d,e,f){var g=a.i;a=pf(b,c,d,e,a.S,a.v);g.moveTo(a[0],a[1]);b=a.length;f&&(b-=2);for(c=2;c<b;c+=2)g.lineTo(a[c],a[c+1]);f&&g.closePath();return d}function ci(a,b,c,d,e){var f;var g=0;for(f=d.length;g<f;++g)c=bi(a,b,c,d[g],e,!0);return c}k=Xh.prototype;
k.Zb=function(a){if(qb(this.c,a.G())){if(this.a||this.b){this.a&&$h(this,this.a);this.b&&ai(this,this.b);var b=this.S;var c=this.v,d=a.ga();b=d?pf(d,0,d.length,a.qa(),b,c):null;c=b[2]-b[0];d=b[3]-b[1];c=Math.sqrt(c*c+d*d);d=this.i;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);this.a&&d.fill();this.b&&d.stroke()}""!==this.Ia&&Zh(this,a.wa(),2,2)}};k.rd=function(a){this.Ma(a.Fa(),a.Ga());this.Ub(a.Y());this.Cb(a.Na())};
k.zb=function(a){switch(a.U()){case "Point":this.qc(a);break;case "LineString":this.mc(a);break;case "Polygon":this.rc(a);break;case "MultiPoint":this.oc(a);break;case "MultiLineString":this.nc(a);break;case "MultiPolygon":this.pc(a);break;case "GeometryCollection":this.ue(a);break;case "Circle":this.Zb(a)}};k.te=function(a,b){(a=(0,b.Za)(a))&&qb(this.c,a.G())&&(this.rd(b),this.zb(a))};k.ue=function(a){a=a.a;var b;var c=0;for(b=a.length;c<b;++c)this.zb(a[c])};
k.qc=function(a){var b=a.ga();a=a.qa();this.M&&Yh(this,b,b.length);""!==this.Ia&&Zh(this,b,b.length,a)};k.oc=function(a){var b=a.ga();a=a.qa();this.M&&Yh(this,b,b.length);""!==this.Ia&&Zh(this,b,b.length,a)};k.mc=function(a){if(qb(this.c,a.G())){if(this.b){ai(this,this.b);var b=this.i,c=a.ga();b.beginPath();bi(this,c,0,c.length,a.qa(),!1);b.stroke()}""!==this.Ia&&(a=di(a),Zh(this,a,2,2))}};
k.nc=function(a){var b=a.G();if(qb(this.c,b)){if(this.b){ai(this,this.b);var b=this.i,c=a.ga(),d=0,e=a.Bb(),f=a.qa();b.beginPath();var g;var h=0;for(g=e.length;h<g;++h)d=bi(this,c,d,e[h],f,!1);b.stroke()}""!==this.Ia&&(a=ei(a),Zh(this,a,a.length,2))}};k.rc=function(a){if(qb(this.c,a.G())){if(this.b||this.a){this.a&&$h(this,this.a);this.b&&ai(this,this.b);var b=this.i;b.beginPath();ci(this,a.ec(),0,a.Bb(),a.qa());this.a&&b.fill();this.b&&b.stroke()}""!==this.Ia&&(a=Wf(a),Zh(this,a,2,2))}};
k.pc=function(a){if(qb(this.c,a.G())){if(this.b||this.a){this.a&&$h(this,this.a);this.b&&ai(this,this.b);var b=this.i,c=fi(a),d=0,e=a.c,f=a.qa(),g;b.beginPath();var h=0;for(g=e.length;h<g;++h)d=ci(this,c,d,e[h],f);this.a&&b.fill();this.b&&b.stroke()}""!==this.Ia&&(a=gi(a),Zh(this,a,a.length,2))}};function $h(a,b){var c=a.i,d=a.I;d?d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle):(c.fillStyle=b.fillStyle,a.I={fillStyle:b.fillStyle})}
function ai(a,b){var c=a.i,d=a.R;d?(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),Td&&!pa(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle)):(c.lineCap=b.lineCap,Td&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=
b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.R={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle})}
k.Ma=function(a,b){a?(a=a.b,this.a={fillStyle:id(a?a:Sh)}):this.a=null;if(b){a=b.a;var c=b.f,d=b.i,e=b.g,f=b.j,g=b.c;b=b.o;this.b={lineCap:void 0!==c?c:"round",lineDash:d?d:Th,lineDashOffset:e?e:0,lineJoin:void 0!==f?f:"round",lineWidth:this.u*(void 0!==g?g:1),miterLimit:void 0!==b?b:10,strokeStyle:id(a?a:Uh)}}else this.b=null};
k.Ub=function(a){if(a){var b=a.Hc(),c=a.Y(1),d=a.Oc(),e=a.ic();this.D=b[0];this.C=b[1];this.B=e[1];this.M=c;this.l=a.f;this.T=d[0];this.na=d[1];this.fa=a.l;this.fb=a.g;this.f=a.a;this.pa=a.v;this.oa=e[0]}else this.M=null};
k.Cb=function(a){if(a){var b=a.Fa();b?(b=b.b,this.g={fillStyle:id(b?b:Sh)}):this.g=null;var c=a.Ga();if(c){var b=c.a,d=c.f,e=c.i,f=c.g,g=c.j,h=c.c,c=c.o;this.o={lineCap:void 0!==d?d:"round",lineDash:e?e:Th,lineDashOffset:f?f:0,lineJoin:void 0!==g?g:"round",lineWidth:void 0!==h?h:1,miterLimit:void 0!==c?c:10,strokeStyle:id(b?b:Uh)}}else this.o=null;var b=a.a,d=a.i,e=a.c,f=a.o,g=a.f,h=a.b,c=a.Na(),l=a.g;a=a.j;this.ra={font:void 0!==b?b:"10px sans-serif",textAlign:void 0!==l?l:"center",textBaseline:void 0!==
a?a:"middle"};this.Ia=void 0!==c?c:"";this.Jb=void 0!==d?this.u*d:0;this.va=void 0!==e?this.u*e:0;this.Sa=void 0!==f?f:!1;this.$a=void 0!==g?g:0;this.j=this.u*(void 0!==h?h:1)}else this.Ia=""};function hi(a,b){Mh.call(this,0,b);this.i=jd();this.b=this.i.canvas;this.b.style.width="100%";this.b.style.height="100%";this.b.style.display="block";this.b.className="ol-unselectable";a.insertBefore(this.b,a.childNodes[0]||null);this.a=!0;this.f=Bh()}v(hi,Mh);
function ii(a,b,c){var d=a.o,e=a.i;if(Rc(d,b)){var f=c.extent,g=c.pixelRatio,h=c.viewState.rotation,l=c.viewState,m=c.pixelRatio/l.resolution;a=Kh(a.f,a.b.width/2,a.b.height/2,m,-m,-l.rotation,-l.center[0],-l.center[1]);d.b(new Rh(b,new Xh(e,g,f,a,h),c,e,null))}}hi.prototype.U=function(){return"canvas"};
hi.prototype.Jg=function(a){if(a){var b=this.i,c=a.pixelRatio,d=Math.round(a.size[0]*c),e=Math.round(a.size[1]*c);this.b.width!=d||this.b.height!=e?(this.b.width=d,this.b.height=e):b.clearRect(0,0,d,e);c=a.viewState.rotation;Nh(a);ii(this,"precompose",a);var f=a.layerStatesArray;qa(f);c&&(b.save(),Vh(b,c,d/2,e/2));var d=a.viewState.resolution,g,e=0;for(g=f.length;e<g;++e){var h=f[e];var l=h.layer;l=Ph(this,l);xh(h,d)&&"ready"==h.yj&&l.sd(a,h)&&l.S(a,h,b)}c&&b.restore();ii(this,"postcompose",a);this.a||
(this.b.style.display="",this.a=!0);Qh(this,a);a.postRenderFunctions.push(Oh)}else this.a&&(this.b.style.display="none",this.a=!1)};hi.prototype.Di=function(a,b,c,d,e,f){var g=b.viewState.resolution,h=b.layerStatesArray,l=h.length;a=Gh(b.pixelToCoordinateTransform,a.slice());for(--l;0<=l;--l){var m=h[l];var n=m.layer;if(xh(m,g)&&e.call(f,n)&&(m=Ph(this,n).u(a,b,c,d)))return m}};var ji=["Polygon","Circle","LineString","Image","Text"];function ki(){};function li(a){this.b=a};function mi(a){this.b=a}v(mi,li);mi.prototype.U=function(){return 35632};function ni(a){this.b=a}v(ni,li);ni.prototype.U=function(){return 35633};function oi(){this.b="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"}
v(oi,mi);var pi=new oi;
function qi(){this.b="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"}
v(qi,ni);var ri=new qi;function si(a,b){this.B=a.getUniformLocation(b,"n");this.oa=a.getUniformLocation(b,"k");this.c=a.getUniformLocation(b,"j");this.f=a.getUniformLocation(b,"i");this.a=a.getUniformLocation(b,"m");this.ra=a.getUniformLocation(b,"l");this.i=a.getUniformLocation(b,"h");this.I=a.getUniformLocation(b,"p");this.R=a.getUniformLocation(b,"o");this.j=a.getAttribLocation(b,"f");this.b=a.getAttribLocation(b,"e");this.S=a.getAttribLocation(b,"g")};function ti(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function ui(a,b){a[0]=b[0];a[1]=b[1];a[4]=b[2];a[5]=b[3];a[12]=b[4];a[13]=b[5];return a};function vi(a,b){this.origin=nb(b);this.xb=Bh();this.Sa=Bh();this.$a=Bh();this.Jb=ti();this.b=[];this.o=null;this.i=[];this.f=[];this.a=[];this.l=null;this.g=void 0}v(vi,Wh);
vi.prototype.La=function(a,b,c,d,e,f,g,h,l,m,n){var p=a.b;if(this.g){var q=p.isEnabled(p.STENCIL_TEST);var r=p.getParameter(p.STENCIL_FUNC);var u=p.getParameter(p.STENCIL_VALUE_MASK);var x=p.getParameter(p.STENCIL_REF);var B=p.getParameter(p.STENCIL_WRITEMASK);var E=p.getParameter(p.STENCIL_FAIL);var A=p.getParameter(p.STENCIL_PASS_DEPTH_PASS);var L=p.getParameter(p.STENCIL_PASS_DEPTH_FAIL);p.enable(p.STENCIL_TEST);p.clear(p.STENCIL_BUFFER_BIT);p.stencilMask(255);p.stencilFunc(p.ALWAYS,1,255);p.stencilOp(p.KEEP,
p.KEEP,p.REPLACE);this.g.La(a,b,c,d,e,f,g,h,l,m,n);p.stencilMask(0);p.stencilFunc(p.NOTEQUAL,1,255)}wi(a,34962,this.l);wi(a,34963,this.o);f=this.rf(p,a,e,f);var oa=Ch(this.xb);Ih(oa,2/(c*e[0]),2/(c*e[1]));Hh(oa,-d);Jh(oa,-(b[0]-this.origin[0]),-(b[1]-this.origin[1]));b=Ch(this.$a);Ih(b,2/e[0],2/e[1]);e=Ch(this.Sa);d&&Hh(e,-d);p.uniformMatrix4fv(f.i,!1,ui(this.Jb,oa));p.uniformMatrix4fv(f.f,!1,ui(this.Jb,b));p.uniformMatrix4fv(f.c,!1,ui(this.Jb,e));p.uniform1f(f.a,g);if(l){m?a=this.ve(p,a,h,l,n):(p.clear(p.COLOR_BUFFER_BIT|
p.DEPTH_BUFFER_BIT),this.Od(p,a,h,!0),a=(a=l(null))?a:void 0);var ha=a}else this.Od(p,a,h,!1);this.sf(p,f);this.g&&(q||p.disable(p.STENCIL_TEST),p.clear(p.STENCIL_BUFFER_BIT),p.stencilFunc(r,x,u),p.stencilMask(B),p.stencilOp(E,L,A));return ha};function xi(a,b,c,d){a.drawElements(4,d-c,b.g?5125:5123,c*(b.g?4:2))};var yi=[0,0,0,1],zi=[],Ai=[0,0,0,1];function Bi(a,b,c,d,e,f){a=(c-a)*(f-b)-(e-a)*(d-b);return a<=Ci&&a>=-Ci?void 0:0<a}var Ci=Number.EPSILON||2.220446049250313E-16;function Di(a){this.b=void 0!==a?a:[];this.a=Ei}var Ei=35044;function Fi(a,b){vi.call(this,0,b);this.v=null;this.j=[];this.u=[];this.S=0;this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,s:!1}}v(Fi,vi);k=Fi.prototype;
k.Zb=function(a,b){var c=a.pd(),d=a.qa();if(c){this.i.push(this.b.length);this.f.push(b);this.c.s&&(this.u.push(this.b.length),this.c.s=!1);this.S=c;a=a.ga();a=qf(a,0,2,d,-this.origin[0],-this.origin[1]);b=this.a.length;var c=this.b.length,e=b/4,f;for(f=0;2>f;f+=d)this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=0,this.a[b++]=this.S,this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=1,this.a[b++]=this.S,this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=2,this.a[b++]=this.S,this.a[b++]=a[f],this.a[b++]=
a[f+1],this.a[b++]=3,this.a[b++]=this.S,this.b[c++]=e,this.b[c++]=e+1,this.b[c++]=e+2,this.b[c++]=e+2,this.b[c++]=e+3,this.b[c++]=e,e+=4}else this.c.s&&(this.j.pop(),this.j.length&&(d=this.j[this.j.length-1],this.c.fillColor=d[0],this.c.strokeColor=d[1],this.c.lineWidth=d[2],this.c.s=!1))};k.Db=function(){this.l=new Di(this.a);this.o=new Di(this.b);this.i.push(this.b.length);!this.u.length&&0<this.j.length&&(this.j=[]);this.b=this.a=null};
k.Eb=function(a){var b=this.l,c=this.o;return function(){Gi(a,b);Gi(a,c)}};k.rf=function(a,b,c,d){var e=Hi(b,pi,ri);if(this.v)var f=this.v;else this.v=f=new si(a,e);b.Qc(e);a.enableVertexAttribArray(f.b);a.vertexAttribPointer(f.b,2,5126,!1,16,0);a.enableVertexAttribArray(f.j);a.vertexAttribPointer(f.j,1,5126,!1,16,8);a.enableVertexAttribArray(f.S);a.vertexAttribPointer(f.S,1,5126,!1,16,12);a.uniform2fv(f.I,c);a.uniform1f(f.ra,d);return f};
k.sf=function(a,b){a.disableVertexAttribArray(b.b);a.disableVertexAttribArray(b.j);a.disableVertexAttribArray(b.S)};
k.Od=function(a,b,c){if(wb(c)){var d=this.i[this.i.length-1];for(c=this.u.length-1;0<=c;--c){var e=this.u[c];var f=this.j[c];a.uniform4fv(this.v.B,f[0]);Ii(this,a,f[1],f[2]);xi(a,b,e,d);d=e}}else{var g=this.i.length-2;f=d=this.i[g+1];for(e=this.u.length-1;0<=e;--e){var h=this.j[e];a.uniform4fv(this.v.B,h[0]);Ii(this,a,h[1],h[2]);for(h=this.u[e];0<=g&&this.i[g]>=h;){var l=this.i[g];var m=this.f[g];m=w(m).toString();c[m]&&(d!==f&&xi(a,b,d,f),f=l);g--;d=l}d!==f&&xi(a,b,d,f);d=f=h}}};
k.ve=function(a,b,c,d,e){var f,g;var h=this.i.length-2;var l=this.i[h+1];for(f=this.u.length-1;0<=f;--f){var m=this.j[f];a.uniform4fv(this.v.B,m[0]);Ii(this,a,m[1],m[2]);for(g=this.u[f];0<=h&&this.i[h]>=g;){m=this.i[h];var n=this.f[h];var p=w(n).toString();if(void 0===c[p]&&n.V()&&(void 0===e||qb(e,n.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),xi(a,b,m,l),l=d(n)))return l;h--;l=m}}};function Ii(a,b,c,d){b.uniform4fv(a.v.R,c);b.uniform1f(a.v.oa,d)}
k.Ma=function(a,b){if(b){var c=b.i;this.c.lineDash=c?c:zi;c=b.g;this.c.lineDashOffset=c?c:0;c=b.a;c instanceof CanvasGradient||c instanceof CanvasPattern?c=Ai:c=ed(c).map(function(a,b){return 3!=b?a/255:a})||Ai;b=b.c;b=void 0!==b?b:1}else c=[0,0,0,0],b=0;a=a?a.b:[0,0,0,0];a instanceof CanvasGradient||a instanceof CanvasPattern?a=yi:a=ed(a).map(function(a,b){return 3!=b?a/255:a})||yi;this.c.strokeColor&&pa(this.c.strokeColor,c)&&this.c.fillColor&&pa(this.c.fillColor,a)&&this.c.lineWidth===b||(this.c.s=
!0,this.c.fillColor=a,this.c.strokeColor=c,this.c.lineWidth=b,this.j.push([a,c,b]))};function Ji(){this.b="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}v(Ji,mi);var Ki=new Ji;
function Li(){this.b="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"}v(Li,ni);var Mi=new Li;
function Ni(a,b){this.c=a.getUniformLocation(b,"j");this.f=a.getUniformLocation(b,"i");this.a=a.getUniformLocation(b,"k");this.i=a.getUniformLocation(b,"h");this.v=a.getAttribLocation(b,"e");this.u=a.getAttribLocation(b,"f");this.b=a.getAttribLocation(b,"c");this.D=a.getAttribLocation(b,"g");this.C=a.getAttribLocation(b,"d")};function Oi(a,b){this.j=a;this.b=b;this.a={};this.c={};this.i={};this.l=this.v=this.f=this.o=null;(this.g=ja(fa,"OES_element_index_uint"))&&b.getExtension("OES_element_index_uint");y(this.j,"webglcontextlost",this.Xo,this);y(this.j,"webglcontextrestored",this.Yo,this)}v(Oi,Mc);
function wi(a,b,c){var d=a.b,e=c.b,f=String(w(c));if(f in a.a)d.bindBuffer(b,a.a[f].buffer);else{var g=d.createBuffer();d.bindBuffer(b,g);var h;34962==b?h=new Float32Array(e):34963==b&&(h=a.g?new Uint32Array(e):new Uint16Array(e));d.bufferData(b,h,c.a);a.a[f]={lc:c,buffer:g}}}function Gi(a,b){var c=a.b;b=String(w(b));var d=a.a[b];c.isContextLost()||c.deleteBuffer(d.buffer);delete a.a[b]}k=Oi.prototype;
k.ka=function(){Lc(this.j);var a=this.b;if(!a.isContextLost()){for(var b in this.a)a.deleteBuffer(this.a[b].buffer);for(b in this.i)a.deleteProgram(this.i[b]);for(b in this.c)a.deleteShader(this.c[b]);a.deleteFramebuffer(this.f);a.deleteRenderbuffer(this.l);a.deleteTexture(this.v)}};k.Wo=function(){return this.b};
function Pi(a){if(!a.f){var b=a.b,c=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,c);var d=Qi(b,1,1),e=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,e);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,1,1);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,d,0);b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,e);b.bindTexture(b.TEXTURE_2D,null);b.bindRenderbuffer(b.RENDERBUFFER,null);b.bindFramebuffer(b.FRAMEBUFFER,null);a.f=c;
a.v=d;a.l=e}return a.f}function Ri(a,b){var c=String(w(b));if(c in a.c)return a.c[c];var d=a.b,e=d.createShader(b.U());d.shaderSource(e,b.b);d.compileShader(e);return a.c[c]=e}function Hi(a,b,c){var d=w(b)+"/"+w(c);if(d in a.i)return a.i[d];var e=a.b,f=e.createProgram();e.attachShader(f,Ri(a,b));e.attachShader(f,Ri(a,c));e.linkProgram(f);return a.i[d]=f}k.Xo=function(){ub(this.a);ub(this.c);ub(this.i);this.l=this.v=this.f=this.o=null};k.Yo=function(){};
k.Qc=function(a){if(a==this.o)return!1;this.b.useProgram(a);this.o=a;return!0};function Si(a,b,c){var d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);void 0!==b&&a.texParameteri(3553,10242,b);void 0!==c&&a.texParameteri(3553,10243,c);return d}function Qi(a,b,c){var d=Si(a,void 0,void 0);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null);return d}
function Ti(a,b){var c=Si(a,33071,33071);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return c};function Ui(a,b){vi.call(this,0,b);this.C=this.D=void 0;this.S=[];this.v=[];this.oa=void 0;this.j=[];this.c=[];this.I=this.ra=void 0;this.B=null;this.fb=this.fa=this.na=this.T=this.Ua=this.R=void 0;this.va=[];this.u=[];this.pa=void 0}v(Ui,vi);k=Ui.prototype;k.Eb=function(a){var b=this.l,c=this.o,d=this.va,e=this.u,f=a.b;return function(){if(!f.isContextLost()){var g;var h=0;for(g=d.length;h<g;++h)f.deleteTexture(d[h]);h=0;for(g=e.length;h<g;++h)f.deleteTexture(e[h])}Gi(a,b);Gi(a,c)}};
function Vi(a,b,c,d){var e=a.D,f=a.C,g=a.oa,h=a.ra,l=a.I,m=a.R,n=a.Ua,p=a.T,q=a.na?1:0,r=-a.fa,u=a.fb,x=a.pa,B=Math.cos(r),r=Math.sin(r),E=a.b.length,A=a.a.length,L;for(L=0;L<c;L+=d){var oa=b[L]-a.origin[0];var ha=b[L+1]-a.origin[1];var ga=A/8;var z=-u*e;var M=-u*(g-f);a.a[A++]=oa;a.a[A++]=ha;a.a[A++]=z*B-M*r;a.a[A++]=z*r+M*B;a.a[A++]=n/l;a.a[A++]=(p+g)/h;a.a[A++]=m;a.a[A++]=q;z=u*(x-e);M=-u*(g-f);a.a[A++]=oa;a.a[A++]=ha;a.a[A++]=z*B-M*r;a.a[A++]=z*r+M*B;a.a[A++]=(n+x)/l;a.a[A++]=(p+g)/h;a.a[A++]=
m;a.a[A++]=q;z=u*(x-e);M=u*f;a.a[A++]=oa;a.a[A++]=ha;a.a[A++]=z*B-M*r;a.a[A++]=z*r+M*B;a.a[A++]=(n+x)/l;a.a[A++]=p/h;a.a[A++]=m;a.a[A++]=q;z=-u*e;M=u*f;a.a[A++]=oa;a.a[A++]=ha;a.a[A++]=z*B-M*r;a.a[A++]=z*r+M*B;a.a[A++]=n/l;a.a[A++]=p/h;a.a[A++]=m;a.a[A++]=q;a.b[E++]=ga;a.b[E++]=ga+1;a.b[E++]=ga+2;a.b[E++]=ga;a.b[E++]=ga+2;a.b[E++]=ga+3}}k.oc=function(a,b){this.i.push(this.b.length);this.f.push(b);b=a.ga();Vi(this,b,b.length,a.qa())};
k.qc=function(a,b){this.i.push(this.b.length);this.f.push(b);b=a.ga();Vi(this,b,b.length,a.qa())};k.Db=function(a){a=a.b;this.S.push(this.b.length);this.v.push(this.b.length);this.l=new Di(this.a);this.o=new Di(this.b);var b={};Wi(this.va,this.j,b,a);Wi(this.u,this.c,b,a);this.oa=this.C=this.D=void 0;this.c=this.j=null;this.I=this.ra=void 0;this.b=null;this.fb=this.fa=this.na=this.T=this.Ua=this.R=void 0;this.a=null;this.pa=void 0};
function Wi(a,b,c,d){var e,f=b.length;for(e=0;e<f;++e){var g=b[e];var h=w(g).toString();h in c?g=c[h]:(g=Ti(d,g),c[h]=g);a[e]=g}}
k.rf=function(a,b){var c=Hi(b,Ki,Mi);if(this.B)var d=this.B;else this.B=d=new Ni(a,c);b.Qc(c);a.enableVertexAttribArray(d.b);a.vertexAttribPointer(d.b,2,5126,!1,32,0);a.enableVertexAttribArray(d.v);a.vertexAttribPointer(d.v,2,5126,!1,32,8);a.enableVertexAttribArray(d.C);a.vertexAttribPointer(d.C,2,5126,!1,32,16);a.enableVertexAttribArray(d.u);a.vertexAttribPointer(d.u,1,5126,!1,32,24);a.enableVertexAttribArray(d.D);a.vertexAttribPointer(d.D,1,5126,!1,32,28);return d};
k.sf=function(a,b){a.disableVertexAttribArray(b.b);a.disableVertexAttribArray(b.v);a.disableVertexAttribArray(b.C);a.disableVertexAttribArray(b.u);a.disableVertexAttribArray(b.D)};
k.Od=function(a,b,c,d){var e=d?this.u:this.va;d=d?this.v:this.S;if(wb(c)){var f;c=0;var g=e.length;for(f=0;c<g;++c){a.bindTexture(3553,e[c]);var h=d[c];xi(a,b,f,h);f=h}}else for(f=g=0,h=e.length;f<h;++f){a.bindTexture(3553,e[f]);for(var l=0<f?d[f-1]:0,m=d[f],n=l;g<this.i.length&&this.i[g]<=m;){var p=w(this.f[g]).toString();void 0!==c[p]?(n!==l&&xi(a,b,n,l),l=n=g===this.i.length-1?m:this.i[g+1]):l=g===this.i.length-1?m:this.i[g+1];g++}n!==l&&xi(a,b,n,l)}};
k.ve=function(a,b,c,d,e){var f,g,h=this.i.length-1;for(f=this.u.length-1;0<=f;--f){a.bindTexture(3553,this.u[f]);var l=0<f?this.v[f-1]:0;for(g=this.v[f];0<=h&&this.i[h]>=l;){var m=this.i[h];var n=this.f[h];var p=w(n).toString();if(void 0===c[p]&&n.V()&&(void 0===e||qb(e,n.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),xi(a,b,m,g),g=d(n)))return g;g=m;h--}}};
k.Ub=function(a){var b=a.Hc(),c=a.Y(1),d=a.ye(),e=a.qg(1),f=a.f,g=a.Oc(),h=a.l,l=a.g,m=a.ic();a=a.a;if(this.j.length){var n=this.j[this.j.length-1];w(n)!=w(c)&&(this.S.push(this.b.length),this.j.push(c))}else this.j.push(c);this.c.length?(n=this.c[this.c.length-1],w(n)!=w(e)&&(this.v.push(this.b.length),this.c.push(e))):this.c.push(e);this.D=b[0];this.C=b[1];this.oa=m[1];this.ra=d[1];this.I=d[0];this.R=f;this.Ua=g[0];this.T=g[1];this.fa=l;this.na=h;this.fb=a;this.pa=m[0]};function Xi(a,b,c){var d=b-c;return a[0]===a[d]&&a[1]===a[d+1]&&3<(b-0)/c?!!vf(a,0,b,c):!1};function Yi(){this.b="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}v(Yi,mi);var Zi=new Yi;
function $i(){this.b="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"}
v($i,ni);var aj=new $i;function bj(a,b){this.B=a.getUniformLocation(b,"n");this.oa=a.getUniformLocation(b,"k");this.R=a.getUniformLocation(b,"l");this.c=a.getUniformLocation(b,"j");this.f=a.getUniformLocation(b,"i");this.a=a.getUniformLocation(b,"m");this.ra=a.getUniformLocation(b,"p");this.i=a.getUniformLocation(b,"h");this.I=a.getUniformLocation(b,"o");this.g=a.getAttribLocation(b,"g");this.o=a.getAttribLocation(b,"d");this.l=a.getAttribLocation(b,"f");this.b=a.getAttribLocation(b,"e")};function cj(a,b){vi.call(this,0,b);this.v=null;this.u=[];this.j=[];this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,s:!1}}v(cj,vi);
function dj(a,b,c,d){var e,f=a.a.length,g=a.b.length,h="bevel"===a.c.lineJoin?0:"miter"===a.c.lineJoin?1:2,l="butt"===a.c.lineCap?0:"square"===a.c.lineCap?1:2,m=Xi(b,c,d),n=g,p=1;for(e=0;e<c;e+=d){var q=f/7;var r=u;var u=x||[b[e],b[e+1]];if(e)if(e===c-d){if(m)var x=B;else r=r||[0,0],f=ej(a,r,u,[0,0],p*fj*(l||1),f),f=ej(a,r,u,[0,0],-p*fj*(l||1),f),a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=n,a.b[g++]=q+1,a.b[g++]=q,l&&(f=ej(a,r,u,[0,0],p*gj*l,f),f=ej(a,r,u,[0,0],-p*gj*l,f),a.b[g++]=q+2,a.b[g++]=q,
a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2);break}else x=[b[e+d],b[e+d+1]];else{x=[b[e+d],b[e+d+1]];if(c-0===2*d&&pa(u,x))break;if(m){r=[b[c-2*d],b[c-2*d+1]];var B=x}else{l&&(f=ej(a,[0,0],u,x,p*hj*l,f),f=ej(a,[0,0],u,x,-p*hj*l,f),a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2);f=ej(a,[0,0],u,x,p*ij*(l||1),f);f=ej(a,[0,0],u,x,-p*ij*(l||1),f);n=f/7-1;continue}}var E=Bi(r[0],r[1],u[0],u[1],x[0],x[1])?-1:1;f=ej(a,r,u,x,E*jj*(h||1),f);f=ej(a,r,u,x,E*kj*(h||1),f);f=
ej(a,r,u,x,-E*lj*(h||1),f);0<e&&(a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=0<p*E?n:n-1);a.b[g++]=q;a.b[g++]=q+2;a.b[g++]=q+1;n=q+2;p=E;h&&(f=ej(a,r,u,x,E*mj*h,f),a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q)}m&&(q=q||f/7,E=Sf([r[0],r[1],u[0],u[1],x[0],x[1]],0,6,2)?1:-1,f=ej(a,r,u,x,E*jj*(h||1),f),ej(a,r,u,x,-E*lj*(h||1),f),a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=q+1,a.b[g++]=q,a.b[g++]=0<p*E?n:n-1)}
function ej(a,b,c,d,e,f){a.a[f++]=b[0];a.a[f++]=b[1];a.a[f++]=c[0];a.a[f++]=c[1];a.a[f++]=d[0];a.a[f++]=d[1];a.a[f++]=e;return f}function nj(a,b,c,d){c-=b;return c<2*d?!1:c===2*d?!pa([a[b],a[b+1]],[a[b+d],a[b+d+1]]):!0}k=cj.prototype;k.mc=function(a,b){var c=a.ga();a=a.qa();nj(c,0,c.length,a)&&(c=qf(c,0,c.length,a,-this.origin[0],-this.origin[1]),this.c.s&&(this.j.push(this.b.length),this.c.s=!1),this.i.push(this.b.length),this.f.push(b),dj(this,c,c.length,a))};
k.nc=function(a,b){var c=this.b.length,d=a.Bb();d.unshift(0);var e=a.ga();a=a.qa();var f;if(1<d.length){var g=1;for(f=d.length;g<f;++g)if(nj(e,d[g-1],d[g],a)){var h=qf(e,d[g-1],d[g],a,-this.origin[0],-this.origin[1]);dj(this,h,h.length,a)}}this.b.length>c&&(this.i.push(c),this.f.push(b),this.c.s&&(this.j.push(c),this.c.s=!1))};
function oj(a,b,c,d){Xi(b,b.length,d)||(b.push(b[0]),b.push(b[1]));dj(a,b,b.length,d);if(c.length){var e;b=0;for(e=c.length;b<e;++b)Xi(c[b],c[b].length,d)||(c[b].push(c[b][0]),c[b].push(c[b][1])),dj(a,c[b],c[b].length,d)}}function pj(a,b,c){c=void 0===c?a.b.length:c;a.i.push(c);a.f.push(b);a.c.s&&(a.j.push(c),a.c.s=!1)}k.Db=function(){this.l=new Di(this.a);this.o=new Di(this.b);this.i.push(this.b.length);!this.j.length&&0<this.u.length&&(this.u=[]);this.b=this.a=null};
k.Eb=function(a){var b=this.l,c=this.o;return function(){Gi(a,b);Gi(a,c)}};
k.rf=function(a,b,c,d){var e=Hi(b,Zi,aj);if(this.v)var f=this.v;else this.v=f=new bj(a,e);b.Qc(e);a.enableVertexAttribArray(f.o);a.vertexAttribPointer(f.o,2,5126,!1,28,0);a.enableVertexAttribArray(f.b);a.vertexAttribPointer(f.b,2,5126,!1,28,8);a.enableVertexAttribArray(f.l);a.vertexAttribPointer(f.l,2,5126,!1,28,16);a.enableVertexAttribArray(f.g);a.vertexAttribPointer(f.g,1,5126,!1,28,24);a.uniform2fv(f.I,c);a.uniform1f(f.ra,d);return f};
k.sf=function(a,b){a.disableVertexAttribArray(b.o);a.disableVertexAttribArray(b.b);a.disableVertexAttribArray(b.l);a.disableVertexAttribArray(b.g)};
k.Od=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL));if(wb(c)){var g=this.i[this.i.length-1];for(c=this.j.length-1;0<=c;--c){var h=this.j[c];var l=this.u[c];qj(this,a,l[0],l[1],l[2]);xi(a,b,h,g);a.clear(a.DEPTH_BUFFER_BIT);g=h}}else{var m=this.i.length-2;l=g=this.i[m+1];for(h=this.j.length-1;0<=h;--h){var n=this.u[h];qj(this,a,n[0],n[1],n[2]);for(n=this.j[h];0<=m&&this.i[m]>=n;){var p=this.i[m];
var q=this.f[m];q=w(q).toString();c[q]&&(g!==l&&(xi(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),l=p);m--;g=p}g!==l&&(xi(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT));g=l=n}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))};
k.ve=function(a,b,c,d,e){var f,g;var h=this.i.length-2;var l=this.i[h+1];for(f=this.j.length-1;0<=f;--f){var m=this.u[f];qj(this,a,m[0],m[1],m[2]);for(g=this.j[f];0<=h&&this.i[h]>=g;){m=this.i[h];var n=this.f[h];var p=w(n).toString();if(void 0===c[p]&&n.V()&&(void 0===e||qb(e,n.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),xi(a,b,m,l),l=d(n)))return l;h--;l=m}}};function qj(a,b,c,d,e){b.uniform4fv(a.v.B,c);b.uniform1f(a.v.oa,d);b.uniform1f(a.v.R,e)}
k.Ma=function(a,b){a=b.f;this.c.lineCap=void 0!==a?a:"round";a=b.i;this.c.lineDash=a?a:zi;a=b.g;this.c.lineDashOffset=a?a:0;a=b.j;this.c.lineJoin=void 0!==a?a:"round";a=b.a;a instanceof CanvasGradient||a instanceof CanvasPattern?a=Ai:a=ed(a).map(function(a,b){return 3!=b?a/255:a})||Ai;var c=b.c,c=void 0!==c?c:1;b=b.o;b=void 0!==b?b:10;this.c.strokeColor&&pa(this.c.strokeColor,a)&&this.c.lineWidth===c&&this.c.miterLimit===b||(this.c.s=!0,this.c.strokeColor=a,this.c.lineWidth=c,this.c.miterLimit=b,
this.u.push([a,c,b]))};var ij=3,fj=5,hj=7,gj=11,jj=13,kj=17,lj=19,mj=23;function rj(){this.b="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}v(rj,mi);var sj=new rj;function tj(){this.b="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"}v(tj,ni);var uj=new tj;
function vj(a,b){this.B=a.getUniformLocation(b,"e");this.c=a.getUniformLocation(b,"d");this.f=a.getUniformLocation(b,"c");this.a=a.getUniformLocation(b,"f");this.i=a.getUniformLocation(b,"b");this.b=a.getAttribLocation(b,"a")};function wj(a){a=a||{};this.a=void 0!==a.color?a.color:null;this.f=a.lineCap;this.i=void 0!==a.lineDash?a.lineDash:null;this.g=a.lineDashOffset;this.j=a.lineJoin;this.o=a.miterLimit;this.c=a.width;this.b=void 0}k=wj.prototype;k.clone=function(){var a=this.a;return new wj({color:a&&a.slice?a.slice():a||void 0,lineCap:this.f,lineDash:this.i?this.i.slice():void 0,lineDashOffset:this.g,lineJoin:this.j,miterLimit:this.o,width:this.c})};k.No=function(){return this.a};k.Vk=function(){return this.f};
k.Oo=function(){return this.i};k.Wk=function(){return this.g};k.Xk=function(){return this.j};k.bl=function(){return this.o};k.Po=function(){return this.c};k.Qo=function(a){this.a=a;this.b=void 0};k.aq=function(a){this.f=a;this.b=void 0};k.setLineDash=function(a){this.i=a;this.b=void 0};k.bq=function(a){this.g=a;this.b=void 0};k.cq=function(a){this.j=a;this.b=void 0};k.gq=function(a){this.o=a;this.b=void 0};k.jq=function(a){this.c=a;this.b=void 0};function xj(a){this.b=this.a=this.i=void 0;this.f=void 0===a?!0:a;this.c=0}function yj(a){var b=a.b;if(b){var c=b.next,d=b.ub;c&&(c.ub=d);d&&(d.next=c);a.b=c||d;a.i===a.a?(a.b=void 0,a.i=void 0,a.a=void 0):a.i===b?a.i=a.b:a.a===b&&(a.a=d?a.b.ub:a.b);a.c--}}function zj(a){a.b=a.i;if(a.b)return a.b.data}function Aj(a){if(a.b&&a.b.next)return a.b=a.b.next,a.b.data}function Bj(a){if(a.b&&a.b.next)return a.b.next.data}function Cj(a){if(a.b&&a.b.ub)return a.b=a.b.ub,a.b.data}
function Dj(a){if(a.b&&a.b.ub)return a.b.ub.data}function Ej(a){if(a.b)return a.b.data}xj.prototype.concat=function(a){if(a.b){if(this.b){var b=this.b.next;this.b.next=a.i;a.i.ub=this.b;b.ub=a.a;a.a.next=b;this.c+=a.c}else this.b=a.b,this.i=a.i,this.a=a.a,this.c=a.c;a.b=void 0;a.i=void 0;a.a=void 0;a.c=0}};var Fj={$d:function(){}};
(function(a){function b(a,e,f,g,h){f=f||0;g=g||a.length-1;for(h=h||d;g>f;){if(600<g-f){var l=g-f+1,m=e-f+1,n=Math.log(l),p=.5*Math.exp(2*n/3),n=.5*Math.sqrt(n*p*(l-p)/l)*(0>m-l/2?-1:1);b(a,e,Math.max(f,Math.floor(e-m*p/l+n)),Math.min(g,Math.floor(e+(l-m)*p/l+n)),h)}l=a[e];m=f;p=g;c(a,f,e);for(0<h(a[g],l)&&c(a,f,g);m<p;){c(a,m,p);m++;for(p--;0>h(a[m],l);)m++;for(;0<h(a[p],l);)p--}0===h(a[f],l)?c(a,f,p):(p++,c(a,p,g));p<=e&&(f=p+1);e<=p&&(g=p-1)}}function c(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}function d(a,
b){return a<b?-1:a>b?1:0}function e(a,b){if(!(this instanceof e))return new e(a,b);this.Hf=Math.max(4,a||9);this.fh=Math.max(2,Math.ceil(.4*this.Hf));b&&this.ek(b);this.clear()}function f(a,b){g(a,0,a.children.length,b,a)}function g(a,b,c,d,e){e||(e=u(null));e.ca=Infinity;e.da=Infinity;e.$=-Infinity;e.ia=-Infinity;for(var f;b<c;b++)f=a.children[b],h(e,a.ib?d(f):f);return e}function h(a,b){a.ca=Math.min(a.ca,b.ca);a.da=Math.min(a.da,b.da);a.$=Math.max(a.$,b.$);a.ia=Math.max(a.ia,b.ia)}function l(a,
b){return a.ca-b.ca}function m(a,b){return a.da-b.da}function n(a){return(a.$-a.ca)*(a.ia-a.da)}function p(a){return a.$-a.ca+(a.ia-a.da)}function q(a,b){return a.ca<=b.ca&&a.da<=b.da&&b.$<=a.$&&b.ia<=a.ia}function r(a,b){return b.ca<=a.$&&b.da<=a.ia&&b.$>=a.ca&&b.ia>=a.da}function u(a){return{children:a,height:1,ib:!0,ca:Infinity,da:Infinity,$:-Infinity,ia:-Infinity}}function x(a,b,c,d,e){for(var f=[b,c],g;f.length;)c=f.pop(),b=f.pop(),c-b<=d||(g=b+Math.ceil((c-b)/d/2)*d,B(a,g,b,c,e),f.push(b,g,
g,c))}var B=b;e.prototype={all:function(){return this.$g(this.data,[])},search:function(a){var b=this.data,c=[],d=this.wb;if(!r(a,b))return c;for(var e=[],f,g,h,l;b;){f=0;for(g=b.children.length;f<g;f++)h=b.children[f],l=b.ib?d(h):h,r(a,l)&&(b.ib?c.push(h):q(a,l)?this.$g(h,c):e.push(h));b=e.pop()}return c},load:function(a){if(!a||!a.length)return this;if(a.length<this.fh){for(var b=0,c=a.length;b<c;b++)this.Ca(a[b]);return this}a=this.bh(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===
a.height?this.hh(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.eh(a,this.data.height-a.height-1,!0)):this.data=a;return this},Ca:function(a){a&&this.eh(a,this.data.height-1);return this},clear:function(){this.data=u([]);return this},remove:function(a,b){if(!a)return this;for(var c=this.data,d=this.wb(a),e=[],f=[],g,h,l,m;c||e.length;){c||(c=e.pop(),h=e[e.length-1],g=f.pop(),m=!0);if(c.ib){a:{l=a;var n=c.children,p=b;if(p){for(var r=0;r<n.length;r++)if(p(l,n[r])){l=r;
break a}l=-1}else l=n.indexOf(l)}if(-1!==l){c.children.splice(l,1);e.push(c);this.ck(e);break}}m||c.ib||!q(c,d)?h?(g++,c=h.children[g],m=!1):c=null:(e.push(c),f.push(g),g=0,h=c,c=c.children[0])}return this},wb:function(a){return a},Lf:l,Mf:m,toJSON:function(){return this.data},$g:function(a,b){for(var c=[];a;)a.ib?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},bh:function(a,b,c,d){var e=c-b+1,g=this.Hf;if(e<=g){var h=u(a.slice(b,c+1));f(h,this.wb);return h}d||(d=Math.ceil(Math.log(e)/
Math.log(g)),g=Math.ceil(e/Math.pow(g,d-1)));h=u([]);h.ib=!1;h.height=d;var e=Math.ceil(e/g),g=e*Math.ceil(Math.sqrt(g)),l;for(x(a,b,c,g,this.Lf);b<=c;b+=g){var m=Math.min(b+g-1,c);x(a,b,m,e,this.Mf);for(l=b;l<=m;l+=e){var n=Math.min(l+e-1,m);h.children.push(this.bh(a,l,n,d-1))}}f(h,this.wb);return h},bk:function(a,b,c,d){for(var e,f,g,h,l,m,p,q;;){d.push(b);if(b.ib||d.length-1===c)break;p=q=Infinity;e=0;for(f=b.children.length;e<f;e++)g=b.children[e],l=n(g),m=(Math.max(g.$,a.$)-Math.min(g.ca,a.ca))*
(Math.max(g.ia,a.ia)-Math.min(g.da,a.da))-l,m<q?(q=m,p=l<p?l:p,h=g):m===q&&l<p&&(p=l,h=g);b=h||b.children[0]}return b},eh:function(a,b,c){var d=this.wb;c=c?a:d(a);var d=[],e=this.bk(c,this.data,b,d);e.children.push(a);for(h(e,c);0<=b;)if(d[b].children.length>this.Hf)this.jk(d,b),b--;else break;this.Zj(c,d,b)},jk:function(a,b){var c=a[b],d=c.children.length,e=this.fh;this.$j(c,e,d);d=this.ak(c,e,d);d=u(c.children.splice(d,c.children.length-d));d.height=c.height;d.ib=c.ib;f(c,this.wb);f(d,this.wb);
b?a[b-1].children.push(d):this.hh(c,d)},hh:function(a,b){this.data=u([a,b]);this.data.height=a.height+1;this.data.ib=!1;f(this.data,this.wb)},ak:function(a,b,c){var d,e;var f=e=Infinity;for(d=b;d<=c-b;d++){var h=g(a,0,d,this.wb);var l=g(a,d,c,this.wb);var m=Math.max(0,Math.min(h.$,l.$)-Math.max(h.ca,l.ca))*Math.max(0,Math.min(h.ia,l.ia)-Math.max(h.da,l.da));h=n(h)+n(l);if(m<f){f=m;var p=d;e=h<e?h:e}else m===f&&h<e&&(e=h,p=d)}return p},$j:function(a,b,c){var d=a.ib?this.Lf:l,e=a.ib?this.Mf:m,f=this.ah(a,
b,c,d);b=this.ah(a,b,c,e);f<b&&a.children.sort(d)},ah:function(a,b,c,d){a.children.sort(d);d=this.wb;var e=g(a,0,b,d),f=g(a,c-b,c,d),l=p(e)+p(f),m;for(m=b;m<c-b;m++){var n=a.children[m];h(e,a.ib?d(n):n);l+=p(e)}for(m=c-b-1;m>=b;m--)n=a.children[m],h(f,a.ib?d(n):n),l+=p(f);return l},Zj:function(a,b,c){for(;0<=c;c--)h(b[c],a)},ck:function(a){for(var b=a.length-1,c;0<=b;b--)0===a[b].children.length?0<b?(c=a[b-1].children,c.splice(c.indexOf(a[b]),1)):this.clear():f(a[b],this.wb)},ek:function(a){var b=
["return a"," - b",";"];this.Lf=new Function("a","b",b.join(a[0]));this.Mf=new Function("a","b",b.join(a[1]));this.wb=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}};a["default"]=e})(Fj.$d=Fj.$d||{});Fj.$d=Fj.$d.default;function Gj(a){this.a=Fj.$d(a);this.b={}}k=Gj.prototype;k.Ca=function(a,b){a={ca:a[0],da:a[1],$:a[2],ia:a[3],value:b};this.a.Ca(a);this.b[w(b)]=a};k.load=function(a,b){for(var c=Array(b.length),d=0,e=b.length;d<e;d++){var f=a[d],g=b[d],f={ca:f[0],da:f[1],$:f[2],ia:f[3],value:g};c[d]=f;this.b[w(g)]=f}this.a.load(c)};k.remove=function(a){a=w(a);var b=this.b[a];delete this.b[a];return null!==this.a.remove(b)};function Hj(a,b,c){var d=a.b[w(c)];bb([d.ca,d.da,d.$,d.ia],b)||(a.remove(c),a.Ca(b,c))}
function Ij(a){return a.a.all().map(function(a){return a.value})}function Jj(a,b){return a.a.search({ca:b[0],da:b[1],$:b[2],ia:b[3]}).map(function(a){return a.value})}k.forEach=function(a,b){return Kj(Ij(this),a,b)};function Lj(a,b,c,d){return Kj(Jj(a,b),c,d)}function Kj(a,b,c){for(var d,e=0,f=a.length;e<f&&!(d=b.call(c,a[e]));e++);return d}k.clear=function(){this.a.clear();this.b={}};k.G=function(a){var b=this.a.data;return Xa(b.ca,b.da,b.$,b.ia,a)};
k.concat=function(a){this.a.load(a.a.all());for(var b in a.b)this.b[b|0]=a.b[b|0]};function Mj(a,b){vi.call(this,0,b);this.g=new cj(0,b);this.v=null;this.u=[];this.c=[];this.j={fillColor:null,s:!1}}v(Mj,vi);
function Nj(a,b,c,d){var e=new xj,f=new Gj;b=Oj(a,b,d,e,f,!0);if(c.length){var g,h=[];var l=0;for(g=c.length;l<g;++l){var m={list:new xj,$:void 0,Mg:new Gj};h.push(m);m.$=Oj(a,c[l],d,m.list,m.Mg,!1)}h.sort(function(a,b){return b.$[0]===a.$[0]?a.$[1]-b.$[1]:b.$[0]-a.$[0]});for(l=0;l<h.length;++l){c=h[l].list;g=d=zj(c);do{if(Pj(g,f).length){var n=!0;break}g=Aj(c)}while(d!==g);n||(Qj(c,h[l].Mg,!0),Rj(c,h[l].$[0],e,b[0],f)&&(f.concat(h[l].Mg),Qj(e,f,!1)))}}else Qj(e,f,!1);Sj(a,e,f)}
function Oj(a,b,c,d,e,f){var g,h=a.a.length/2,l,m=[],n=[];if(f===Sf(b,0,b.length,c)){var p=l=Tj(a,b[0],b[1],h++);f=b[0];var q=b[1];var r=c;for(g=b.length;r<g;r+=c){var u=Tj(a,b[r],b[r+1],h++);n.push(Uj(p,u,d));m.push([Math.min(p.x,u.x),Math.min(p.y,u.y),Math.max(p.x,u.x),Math.max(p.y,u.y)]);b[r]>f&&(f=b[r],q=b[r+1]);p=u}}else for(r=b.length-c,p=l=Tj(a,b[r],b[r+1],h++),f=b[r],q=b[r+1],r-=c,g=0;r>=g;r-=c)u=Tj(a,b[r],b[r+1],h++),n.push(Uj(p,u,d)),m.push([Math.min(p.x,u.x),Math.min(p.y,u.y),Math.max(p.x,
u.x),Math.max(p.y,u.y)]),b[r]>f&&(f=b[r],q=b[r+1]),p=u;n.push(Uj(u,l,d));m.push([Math.min(p.x,u.x),Math.min(p.y,u.y),Math.max(p.x,u.x),Math.max(p.y,u.y)]);e.load(m,n);return[f,q]}function Qj(a,b,c){var d=zj(a),e=d,f=Aj(a),g=!1;do{var h=c?Bi(f.W.x,f.W.y,e.W.x,e.W.y,e.aa.x,e.aa.y):Bi(e.aa.x,e.aa.y,e.W.x,e.W.y,f.W.x,f.W.y);void 0===h?(Vj(e,f,a,b),g=!0,f===d&&(d=Bj(a)),f=e,Cj(a)):e.W.Fb!==h&&(e.W.Fb=h,g=!0);e=f;f=Aj(a)}while(e!==d);return g}
function Rj(a,b,c,d,e){for(var f=zj(a);f.W.x!==b;)f=Aj(a);b=f.W;d={x:d,y:b.y,hb:-1};var g=Infinity,h;var l=Pj({aa:b,W:d},e,!0);var m=0;for(h=l.length;m<h;++m){var n=l[m],p=Wj(b,d,n.aa,n.W,!0),q=Math.abs(b.x-p[0]);if(q<g&&void 0!==Bi(b.x,b.y,n.aa.x,n.aa.y,n.W.x,n.W.y)){g=q;var r={x:p[0],y:p[1],hb:-1};f=n}}if(Infinity===g)return!1;l=f.W;if(0<g&&(f=Xj(b,r,f.W,e),f.length))for(r=Infinity,m=0,h=f.length;m<h;++m)if(g=f[m],n=Math.atan2(b.y-g.y,d.x-g.x),n<r||n===r&&g.x<l.x)r=n,l=g;for(f=zj(c);f.W.x!==l.x||
f.W.y!==l.y;)f=Aj(c);d={x:b.x,y:b.y,hb:b.hb,Fb:void 0};m={x:f.W.x,y:f.W.y,hb:f.W.hb,Fb:void 0};Bj(a).aa=d;Uj(b,f.W,a,e);Uj(m,d,a,e);f.W=m;a.f&&a.b&&(a.i=a.b,a.a=a.b.ub);c.concat(a);return!0}
function Sj(a,b,c){for(var d=!1,e=Yj(b,c);3<b.c;)if(e){if(!Zj(a,b,c,e,d)&&!Qj(b,c,d)&&!ak(a,b,c,!0))break}else if(!Zj(a,b,c,e,d)&&!Qj(b,c,d)&&!ak(a,b,c))if(e=Yj(b,c)){var d=b,f=2*d.c,g=Array(f),h=zj(d),l=h,m=0;do g[m++]=l.aa.x,g[m++]=l.aa.y,l=Aj(d);while(l!==h);d=!Sf(g,0,f,2);Qj(b,c,d)}else{e=a;d=b;f=g=zj(d);do{h=Pj(f,c);if(h.length){g=h[0];h=Wj(f.aa,f.W,g.aa,g.W);h=Tj(e,h[0],h[1],e.a.length/2);l=new xj;m=new Gj;Uj(h,f.W,l,m);f.W=h;Hj(c,[Math.min(f.aa.x,h.x),Math.min(f.aa.y,h.y),Math.max(f.aa.x,h.x),
Math.max(f.aa.y,h.y)],f);for(f=Aj(d);f!==g;)Uj(f.aa,f.W,l,m),c.remove(f),yj(d),f=Ej(d);Uj(g.aa,h,l,m);g.aa=h;Hj(c,[Math.min(g.W.x,h.x),Math.min(g.W.y,h.y),Math.max(g.W.x,h.x),Math.max(g.W.y,h.y)],g);Qj(d,c,!1);Sj(e,d,c);Qj(l,m,!1);Sj(e,l,m);break}f=Aj(d)}while(f!==g);break}3===b.c&&(e=a.b.length,a.b[e++]=Dj(b).aa.hb,a.b[e++]=Ej(b).aa.hb,a.b[e++]=Bj(b).aa.hb)}
function Zj(a,b,c,d,e){var f=a.b.length,g=zj(b),h=Dj(b),l=g,m=Aj(b),n=Bj(b),p=!1;do{var q=l.aa;var r=l.W;var u=m.W;if(!1===r.Fb){var x=e?bk(n.W,u,r,q,h.aa):bk(h.aa,q,r,u,n.W);!d&&Pj({aa:q,W:u},c).length||!x||Xj(q,r,u,c,!0).length||!d&&!1!==q.Fb&&!1!==u.Fb&&Sf([h.aa.x,h.aa.y,q.x,q.y,r.x,r.y,u.x,u.y,n.W.x,n.W.y],0,10,2)!==!e||(a.b[f++]=q.hb,a.b[f++]=r.hb,a.b[f++]=u.hb,Vj(l,m,b,c),m===g&&(g=n),p=!0)}h=Dj(b);l=Ej(b);m=Aj(b);n=Bj(b)}while(l!==g&&3<b.c);return p}
function ak(a,b,c,d){var e=zj(b);Aj(b);var f=e,g=Aj(b),h=!1;do{var l=Wj(f.aa,f.W,g.aa,g.W,d);if(l){var h=a.b.length,m=a.a.length/2,n=Cj(b);yj(b);c.remove(n);var p=n===e;d?(l[0]===f.aa.x&&l[1]===f.aa.y?(Cj(b),l=f.aa,g.aa=l,c.remove(f),p=p||f===e):(l=g.W,f.W=l,c.remove(g),p=p||g===e),yj(b)):(l=Tj(a,l[0],l[1],m),f.W=l,g.aa=l,Hj(c,[Math.min(f.aa.x,f.W.x),Math.min(f.aa.y,f.W.y),Math.max(f.aa.x,f.W.x),Math.max(f.aa.y,f.W.y)],f),Hj(c,[Math.min(g.aa.x,g.W.x),Math.min(g.aa.y,g.W.y),Math.max(g.aa.x,g.W.x),
Math.max(g.aa.y,g.W.y)],g));a.b[h++]=n.aa.hb;a.b[h++]=n.W.hb;a.b[h++]=l.hb;h=!0;if(p)break}f=Dj(b);g=Aj(b)}while(f!==e);return h}function Yj(a,b){var c=zj(a),d=c;do{if(Pj(d,b).length)return!1;d=Aj(a)}while(d!==c);return!0}function Tj(a,b,c,d){var e=a.a.length;a.a[e++]=b;a.a[e++]=c;return{x:b,y:c,hb:d,Fb:void 0}}
function Uj(a,b,c,d){var e={aa:a,W:b},f={ub:void 0,next:void 0,data:e},g=c.b;if(g){var h=g.next;f.ub=g;f.next=h;g.next=f;h&&(h.ub=f);g===c.a&&(c.a=f)}else c.i=f,c.a=f,c.f&&(f.next=f,f.ub=f);c.b=f;c.c++;d&&d.Ca([Math.min(a.x,b.x),Math.min(a.y,b.y),Math.max(a.x,b.x),Math.max(a.y,b.y)],e);return e}function Vj(a,b,c,d){Ej(c)===b&&(yj(c),a.W=b.W,d.remove(b),Hj(d,[Math.min(a.aa.x,a.W.x),Math.min(a.aa.y,a.W.y),Math.max(a.aa.x,a.W.x),Math.max(a.aa.y,a.W.y)],a))}
function Xj(a,b,c,d,e){var f,g,h=[],l=Jj(d,[Math.min(a.x,b.x,c.x),Math.min(a.y,b.y,c.y),Math.max(a.x,b.x,c.x),Math.max(a.y,b.y,c.y)]);d=0;for(f=l.length;d<f;++d)for(g in l[d]){var m=l[d][g];"object"!==typeof m||e&&!m.Fb||m.x===a.x&&m.y===a.y||m.x===b.x&&m.y===b.y||m.x===c.x&&m.y===c.y||-1!==h.indexOf(m)||!Mf([a.x,a.y,b.x,b.y,c.x,c.y],0,6,2,m.x,m.y)||h.push(m)}return h}
function Pj(a,b,c){var d=a.aa,e=a.W;b=Jj(b,[Math.min(d.x,e.x),Math.min(d.y,e.y),Math.max(d.x,e.x),Math.max(d.y,e.y)]);var f=[],g;var h=0;for(g=b.length;h<g;++h){var l=b[h];a!==l&&(c||l.aa!==e||l.W!==d)&&Wj(d,e,l.aa,l.W,c)&&f.push(l)}return f}
function Wj(a,b,c,d,e){var f=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);if(f&&(d=((d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x))/f,c=((b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x))/f,!e&&d>Ci&&d<1-Ci&&c>Ci&&c<1-Ci||e&&0<=d&&1>=d&&0<=c&&1>=c))return[a.x+d*(b.x-a.x),a.y+d*(b.y-a.y)]}
function bk(a,b,c,d,e){if(void 0===b.Fb||void 0===d.Fb)return!1;var f=(c.x-d.x)*(b.y-d.y)>(c.y-d.y)*(b.x-d.x);e=(e.x-d.x)*(b.y-d.y)<(e.y-d.y)*(b.x-d.x);a=(a.x-b.x)*(d.y-b.y)>(a.y-b.y)*(d.x-b.x);c=(c.x-b.x)*(d.y-b.y)<(c.y-b.y)*(d.x-b.x);b=b.Fb?c||a:c&&a;return(d.Fb?e||f:e&&f)&&b}k=Mj.prototype;
k.pc=function(a,b){var c=a.c,d=a.qa(),e=this.b.length,f=this.g.b.length;a=a.ga();var g,h,l;var m=h=0;for(g=c.length;m<g;++m){var n=c[m];if(0<n.length){var p=qf(a,h,n[0],d,-this.origin[0],-this.origin[1]);if(p.length){var q=[];h=1;for(l=n.length;h<l;++h)if(n[h]!==n[h-1]){var r=qf(a,n[h-1],n[h],d,-this.origin[0],-this.origin[1]);q.push(r)}oj(this.g,p,q,d);Nj(this,p,q,d)}}h=n[n.length-1]}this.b.length>e&&(this.i.push(e),this.f.push(b),this.j.s&&(this.c.push(e),this.j.s=!1));this.g.b.length>f&&pj(this.g,
b,f)};k.rc=function(a,b){var c=a.Bb(),d=a.qa();if(0<c.length){a=a.ga().map(Number);var e=qf(a,0,c[0],d,-this.origin[0],-this.origin[1]);if(e.length){var f=[],g;var h=1;for(g=c.length;h<g;++h)if(c[h]!==c[h-1]){var l=qf(a,c[h-1],c[h],d,-this.origin[0],-this.origin[1]);f.push(l)}this.i.push(this.b.length);this.f.push(b);this.j.s&&(this.c.push(this.b.length),this.j.s=!1);pj(this.g,b);oj(this.g,e,f,d);Nj(this,e,f,d)}}};
k.Db=function(a){this.l=new Di(this.a);this.o=new Di(this.b);this.i.push(this.b.length);this.g.Db(a);!this.c.length&&0<this.u.length&&(this.u=[]);this.b=this.a=null};k.Eb=function(a){var b=this.l,c=this.o,d=this.g.Eb(a);return function(){Gi(a,b);Gi(a,c);d()}};k.rf=function(a,b){var c=Hi(b,sj,uj);if(this.v)var d=this.v;else this.v=d=new vj(a,c);b.Qc(c);a.enableVertexAttribArray(d.b);a.vertexAttribPointer(d.b,2,5126,!1,8,0);return d};k.sf=function(a,b){a.disableVertexAttribArray(b.b)};
k.Od=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL));if(wb(c)){var g=this.i[this.i.length-1];for(c=this.c.length-1;0<=c;--c){var h=this.c[c];var l=this.u[c];a.uniform4fv(this.v.B,l);xi(a,b,h,g);g=h}}else{var m=this.i.length-2;l=g=this.i[m+1];for(h=this.c.length-1;0<=h;--h){var n=this.u[h];a.uniform4fv(this.v.B,n);for(n=this.c[h];0<=m&&this.i[m]>=n;){var p=this.i[m];var q=this.f[m];q=w(q).toString();
c[q]&&(g!==l&&(xi(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),l=p);m--;g=p}g!==l&&(xi(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT));g=l=n}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))};
k.ve=function(a,b,c,d,e){var f,g;var h=this.i.length-2;var l=this.i[h+1];for(f=this.c.length-1;0<=f;--f){var m=this.u[f];a.uniform4fv(this.v.B,m);for(g=this.c[f];0<=h&&this.i[h]>=g;){m=this.i[h];var n=this.f[h];var p=w(n).toString();if(void 0===c[p]&&n.V()&&(void 0===e||qb(e,n.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),xi(a,b,m,l),l=d(n)))return l;h--;l=m}}};
k.Ma=function(a,b){a=a?a.b:[0,0,0,0];a instanceof CanvasGradient||a instanceof CanvasPattern?a=yi:a=ed(a).map(function(a,b){return 3!=b?a/255:a})||yi;this.j.fillColor&&pa(a,this.j.fillColor)||(this.j.fillColor=a,this.j.s=!0,this.u.push(a));b?this.g.Ma(null,b):this.g.Ma(null,new wj({color:[0,0,0,0],lineWidth:0}))};function ck(){}ck.prototype.La=function(){};function dk(a,b,c){this.f=b;this.g=a;this.c=c;this.a={}}v(dk,ki);function ek(a,b){var c=[],d;for(d in a.a){var e=a.a[d],f;for(f in e)c.push(e[f].Eb(b))}return function(){for(var a=c.length,b,d=0;d<a;d++)b=c[d].apply(this,arguments);return b}}function fk(a,b){for(var c in a.a){var d=a.a[c],e;for(e in d)d[e].Db(b)}}dk.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0";a=this.a[c];void 0===a&&(a={},this.a[c]=a);c=a[b];void 0===c&&(c=new gk[b](this.g,this.f),a[b]=c);return c};
dk.prototype.i=function(){return wb(this.a)};dk.prototype.La=function(a,b,c,d,e,f,g,h){var l=Object.keys(this.a).map(Number);l.sort(ia);var m,n;var p=0;for(m=l.length;p<m;++p){var q=this.a[l[p].toString()];var r=0;for(n=ji.length;r<n;++r){var u=q[ji[r]];void 0!==u&&u.La(a,b,c,d,e,f,g,h,void 0,!1)}}};
function hk(a,b,c,d,e,f,g,h,l,m,n){var p=ik,q=Object.keys(a.a).map(Number);q.sort(function(a,b){return b-a});var r,u;var x=0;for(r=q.length;x<r;++x){var B=a.a[q[x].toString()];for(u=ji.length-1;0<=u;--u){var E=B[ji[u]];if(void 0!==E&&(E=E.La(b,c,d,e,p,f,g,h,l,m,n)))return E}}}
dk.prototype.Ea=function(a,b,c,d,e,f,g,h,l,m){var n=b.b;n.bindFramebuffer(n.FRAMEBUFFER,Pi(b));var p;void 0!==this.c&&(p=Qa(Za(a),d*this.c));return hk(this,b,a,d,e,g,h,l,function(a){var b=new Uint8Array(4);n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,b);if(0<b[3]&&(a=m(a)))return a},!0,p)};
function jk(a,b,c,d,e,f,g,h){var l=c.b;l.bindFramebuffer(l.FRAMEBUFFER,Pi(c));return void 0!==hk(a,c,b,d,e,f,g,h,function(){var a=new Uint8Array(4);l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,a);return 0<a[3]},!1)}var ik=[1,1],gk={Circle:Fi,Image:Ui,LineString:cj,Polygon:Mj,Text:ck};function kk(a,b,c,d,e,f,g){this.b=a;this.i=b;this.a=f;this.c=g;this.j=e;this.g=d;this.f=c;this.o=this.l=this.v=null}v(kk,Wh);k=kk.prototype;k.rd=function(a){this.Ma(a.Fa(),a.Ga());this.Ub(a.Y())};
k.zb=function(a){switch(a.U()){case "Point":this.qc(a,null);break;case "LineString":this.mc(a,null);break;case "Polygon":this.rc(a,null);break;case "MultiPoint":this.oc(a,null);break;case "MultiLineString":this.nc(a,null);break;case "MultiPolygon":this.pc(a,null);break;case "GeometryCollection":this.ue(a,null);break;case "Circle":this.Zb(a,null)}};k.te=function(a,b){(a=(0,b.Za)(a))&&qb(this.a,a.G())&&(this.rd(b),this.zb(a))};k.ue=function(a){a=a.a;var b;var c=0;for(b=a.length;c<b;++c)this.zb(a[c])};
k.qc=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"Image");d.Ub(this.v);d.qc(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};k.oc=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"Image");d.Ub(this.v);d.oc(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};
k.mc=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"LineString");d.Ma(null,this.o);d.mc(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};k.nc=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"LineString");d.Ma(null,this.o);d.nc(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};
k.rc=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"Polygon");d.Ma(this.l,this.o);d.rc(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};k.pc=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"Polygon");d.Ma(this.l,this.o);d.pc(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};
k.Zb=function(a,b){var c=this.b,d=(new dk(1,this.a)).b(0,"Circle");d.Ma(this.l,this.o);d.Zb(a,b);d.Db(c);d.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1);d.Eb(c)()};k.Ub=function(a){this.v=a};k.Ma=function(a,b){this.l=a;this.o=b};function lk(){this.c=0;this.b={};this.i=this.a=null}k=lk.prototype;k.clear=function(){this.c=0;this.b={};this.i=this.a=null};k.forEach=function(a,b){for(var c=this.a;c;)a.call(b,c.Yc,c.uc,this),c=c.Nb};k.get=function(a){a=this.b[a];xa(!!a,15);if(a===this.i)return a.Yc;a===this.a?(this.a=this.a.Nb,this.a.vd=null):(a.Nb.vd=a.vd,a.vd.Nb=a.Nb);a.Nb=null;a.vd=this.i;this.i=this.i.Nb=a;return a.Yc};
k.pop=function(){var a=this.a;delete this.b[a.uc];a.Nb&&(a.Nb.vd=null);this.a=a.Nb;this.a||(this.i=null);--this.c;return a.Yc};k.replace=function(a,b){this.get(a);this.b[a].Yc=b};k.set=function(a,b){xa(!(a in this.b),16);b={uc:a,Nb:null,vd:this.i,Yc:b};this.i?this.i.Nb=b:this.a=b;this.i=b;this.b[a]=b;++this.c};function mk(a,b){Mh.call(this,0,b);this.b=document.createElement("CANVAS");this.b.style.width="100%";this.b.style.height="100%";this.b.style.display="block";this.b.className="ol-unselectable";a.insertBefore(this.b,a.childNodes[0]||null);this.S=this.D=0;this.C=jd();this.l=!0;this.i=Ld(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0});this.f=new Oi(this.b,this.i);y(this.b,"webglcontextlost",this.Yn,this);y(this.b,"webglcontextrestored",this.Zn,this);
this.a=new lk;this.u=null;this.j=new Ke(function(a){var b=a[1];a=a[2];var c=b[0]-this.u[0],b=b[1]-this.u[1];return 65536*Math.log(a)+Math.sqrt(c*c+b*b)/a}.bind(this),function(a){return a[0].bb()});this.B=function(){if(this.j.b.length){Oe(this.j);var a=Le(this.j);nk(this,a[0],a[3],a[4])}return!1}.bind(this);this.g=0;ok(this)}v(mk,Mh);
function nk(a,b,c,d){var e=a.i,f=b.bb();if(a.a.b.hasOwnProperty(f))a=a.a.get(f),e.bindTexture(3553,a.Ib),9729!=a.Ph&&(e.texParameteri(3553,10240,9729),a.Ph=9729),9729!=a.Rh&&(e.texParameteri(3553,10241,9729),a.Rh=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var h=a.C.canvas,l=a.C;a.D!==c[0]||a.S!==c[1]?(h.width=c[0],h.height=c[1],a.D=c[0],a.S=c[1]):l.clearRect(0,0,c[0],c[1]);l.drawImage(b.Y(),d,d,c[0],c[1],0,0,c[0],c[1]);e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,
0,6408,6408,5121,b.Y());e.texParameteri(3553,10240,9729);e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.a.set(f,{Ib:g,Ph:9729,Rh:9729})}}function pk(a,b,c){var d=a.o;if(Rc(d,b)){a=a.f;var e=c.viewState;d.b(new Rh(b,new kk(a,e.center,e.resolution,e.rotation,c.size,c.extent,c.pixelRatio),c,null,a))}}k=mk.prototype;k.ka=function(){var a=this.i;a.isContextLost()||this.a.forEach(function(b){b&&a.deleteTexture(b.Ib)});Nc(this.f);Mh.prototype.ka.call(this)};
k.xk=function(a,b){a=this.i;for(var c;1024<this.a.c-this.g;){if(c=this.a.a.Yc)a.deleteTexture(c.Ib);else if(+this.a.a.uc==b.index)break;else--this.g;this.a.pop()}};k.U=function(){return"webgl"};k.Yn=function(a){a.preventDefault();this.a.clear();this.g=0;a=this.c;for(var b in a)a[b].mg()};k.Zn=function(){ok(this);this.o.render()};function ok(a){a=a.i;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
k.Jg=function(a){var b=this.f,c=this.i;if(c.isContextLost())return!1;if(!a)return this.l&&(this.b.style.display="none",this.l=!1),!1;this.u=a.focus;this.a.set((-a.index).toString(),null);++this.g;pk(this,"precompose",a);var d=[],e=a.layerStatesArray;qa(e);var f=a.viewState.resolution,g;var h=0;for(g=e.length;h<g;++h){var l=e[h];if(xh(l,f)&&"ready"==l.yj){var m=Ph(this,l.layer);m.ng(a,l,b)&&d.push(l)}}e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.b.width!=e||this.b.height!=f)this.b.width=
e,this.b.height=f;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.b.width,this.b.height);h=0;for(g=d.length;h<g;++h)l=d[h],m=Ph(this,l.layer),m.Gi(a,l,b);this.l||(this.b.style.display="",this.l=!0);Nh(a);1024<this.a.c-this.g&&a.postRenderFunctions.push(this.xk.bind(this));this.j.b.length&&(a.postRenderFunctions.push(this.B),a.animate=!0);pk(this,"postcompose",a);Qh(this,a);a.postRenderFunctions.push(Oh)};
k.Ea=function(a,b,c,d,e,f,g){if(this.i.isContextLost())return!1;var h=b.viewState,l=b.layerStatesArray,m;for(m=l.length-1;0<=m;--m){var n=l[m];var p=n.layer;if(xh(n,h.resolution)&&f.call(g,p)&&(n=Ph(this,p).Ea(a,b,c,d,e)))return n}};k.Ei=function(a,b,c,d,e){c=!1;if(this.i.isContextLost())return!1;var f=b.viewState,g=b.layerStatesArray,h;for(h=g.length-1;0<=h;--h){var l=g[h],m=l.layer;if(xh(l,f.resolution)&&d.call(e,m)&&(c=Ph(this,m).Ue(a,b)))return!0}return c};
k.Di=function(a,b,c,d,e){if(this.i.isContextLost())return!1;var f=b.viewState,g=b.layerStatesArray,h;for(h=g.length-1;0<=h;--h){var l=g[h];var m=l.layer;if(xh(l,f.resolution)&&e.call(d,m)&&(l=Ph(this,m).lg(a,b,c,d)))return l}};var qk=["canvas","webgl"];
function G(a){Tc.call(this);var b=rk(a);this.Cf=void 0!==a.loadTilesWhileAnimating?a.loadTilesWhileAnimating:!1;this.Df=void 0!==a.loadTilesWhileInteracting?a.loadTilesWhileInteracting:!1;this.If=void 0!==a.pixelRatio?a.pixelRatio:Sd;this.yf=b.logos;this.pa=function(){this.j=void 0;this.Sp.call(this,Date.now())}.bind(this);this.Yb=Bh();this.Jf=Bh();this.ad=0;this.I=this.R=this.T=this.g=this.c=null;this.a=document.createElement("DIV");this.a.className="ol-viewport"+(Xd?" ol-touch":"");this.a.style.position=
"relative";this.a.style.overflow="hidden";this.a.style.width="100%";this.a.style.height="100%";this.a.style.msTouchAction="none";this.a.style.touchAction="none";this.C=document.createElement("DIV");this.C.className="ol-overlaycontainer";this.a.appendChild(this.C);this.D=document.createElement("DIV");this.D.className="ol-overlaycontainer-stopevent";for(var c="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),d=0,e=c.length;d<e;++d)y(this.D,c[d],Pc);this.a.appendChild(this.D);
this.Sa=new Fe(this,a.moveTolerance);for(var f in de)y(this.Sa,de[f],this.Ih,this);this.va=b.keyboardEventTarget;this.u=null;y(this.a,"wheel",this.ld,this);y(this.a,"mousewheel",this.ld,this);this.l=b.controls;this.o=b.interactions;this.v=b.overlays;this.rg={};this.B=new b.Up(this.a,this);this.na=null;this.xb=[];this.$a=new Pe(this.ql.bind(this),this.Wl.bind(this));this.fa={};y(this,Vc("layergroup"),this.El,this);y(this,Vc("view"),this.Xl,this);y(this,Vc("size"),this.Tl,this);y(this,Vc("target"),
this.Vl,this);this.H(b.values);this.l.forEach(function(a){a.setMap(this)},this);y(this.l,"add",function(a){a.element.setMap(this)},this);y(this.l,"remove",function(a){a.element.setMap(null)},this);this.o.forEach(function(a){a.setMap(this)},this);y(this.o,"add",function(a){a.element.setMap(this)},this);y(this.o,"remove",function(a){a.element.setMap(null)},this);this.v.forEach(this.kh,this);y(this.v,"add",function(a){this.kh(a.element)},this);y(this.v,"remove",function(a){var b=a.element.g;void 0!==
b&&delete this.rg[b.toString()];a.element.setMap(null)},this)}v(G,Tc);k=G.prototype;k.kk=function(a){this.l.push(a)};k.lk=function(a){this.o.push(a)};k.ih=function(a){this.Kc().qd().push(a)};k.jh=function(a){this.v.push(a)};k.kh=function(a){var b=a.g;void 0!==b&&(this.rg[b.toString()]=a);a.setMap(this)};
k.ka=function(){Nc(this.Sa);Nc(this.B);Kc(this.a,"wheel",this.ld,this);Kc(this.a,"mousewheel",this.ld,this);this.f&&(window.removeEventListener("resize",this.f,!1),this.f=void 0);this.j&&(cancelAnimationFrame(this.j),this.j=void 0);this.Le(null);Tc.prototype.ka.call(this)};k.we=function(a,b,c){if(this.c)return a=this.Wa(a),c=c?c:{},this.B.Ea(a,this.c,void 0!==c.hitTolerance?c.hitTolerance*this.c.pixelRatio:0,b,null,c.layerFilter?c.layerFilter:mf,null)};
k.Im=function(a,b,c,d,e){if(this.c)return this.B.Di(a,this.c,b,void 0!==c?c:null,d?d:mf,void 0!==e?e:null)};k.Yl=function(a,b){if(!this.c)return!1;a=this.Wa(a);b=b?b:{};return this.B.Ei(a,this.c,void 0!==b.hitTolerance?b.hitTolerance*this.c.pixelRatio:0,b.layerFilter?b.layerFilter:mf,null)};k.Tf=function(a){return this.Wa(this.xe(a))};k.xe=function(a){var b=this.a.getBoundingClientRect();a=a.changedTouches?a.changedTouches[0]:a;return[a.clientX-b.left,a.clientY-b.top]};k.ag=function(){return this.get("target")};
k.jd=function(){var a=this.ag();return void 0!==a?"string"===typeof a?document.getElementById(a):a:null};k.Wa=function(a){var b=this.c;return b?Gh(b.pixelToCoordinateTransform,a.slice()):null};k.Lk=function(){return this.l};k.fl=function(){return this.v};k.el=function(a){a=this.rg[a.toString()];return void 0!==a?a:null};k.Sk=function(){return this.o};k.Kc=function(){return this.get("layergroup")};k.Xh=function(){return this.Kc().qd()};
k.Ja=function(a){var b=this.c;return b?Gh(b.coordinateToPixelTransform,a.slice(0,2)):null};k.Ob=function(){return this.get("size")};k.Z=function(){return this.get("view")};k.sl=function(){return this.a};k.ql=function(a,b,c,d){var e=this.c;if(!(e&&b in e.wantedTiles&&e.wantedTiles[b][a.bb()]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};k.ld=function(a,b){a=new Jd(b||a.type,this,a);this.Ih(a)};
k.Ih=function(a){if(this.c){this.na=a.coordinate;a.frameState=this.c;var b=this.o.a,c;if(!1!==this.b(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.c()&&!d.handleEvent(a))break}}};k.Rl=function(){var a=this.c,b=this.$a;if(b.b.length){var c=16,d=c;if(a){var e=a.viewHints;e[0]&&(c=this.Cf?8:0,d=2);e[1]&&(c=this.Df?8:0,d=2)}b.j<c&&(Oe(b),Qe(b,c,d))}b=this.xb;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};k.Tl=function(){this.render()};
k.Vl=function(){var a;this.ag()&&(a=this.jd());if(this.u){for(var b=0,c=this.u.length;b<c;++b)Ec(this.u[b]);this.u=null}a?(a.appendChild(this.a),a=this.va?this.va:a,this.u=[y(a,"keydown",this.ld,this),y(a,"keypress",this.ld,this)],this.f||(this.f=this.Ad.bind(this),window.addEventListener("resize",this.f,!1))):(ld(this.a),this.f&&(window.removeEventListener("resize",this.f,!1),this.f=void 0));this.Ad()};k.Wl=function(){this.render()};k.Lh=function(){this.render()};
k.Xl=function(){this.T&&(Ec(this.T),this.T=null);this.R&&(Ec(this.R),this.R=null);var a=this.Z();a&&(this.a.setAttribute("data-view",w(a)),this.T=y(a,"propertychange",this.Lh,this),this.R=y(a,"change",this.Lh,this));this.render()};k.El=function(){this.I&&(this.I.forEach(Ec),this.I=null);var a=this.Kc();a&&(this.I=[y(a,"propertychange",this.render,this),y(a,"change",this.render,this)]);this.render()};k.Tp=function(){this.j&&cancelAnimationFrame(this.j);this.pa()};
k.render=function(){void 0===this.j&&(this.j=requestAnimationFrame(this.pa))};k.Mp=function(a){return this.l.remove(a)};k.Np=function(a){return this.o.remove(a)};k.Pp=function(a){return this.Kc().qd().remove(a)};k.Qp=function(a){return this.v.remove(a)};
k.Sp=function(a){var b,c=this.Ob(),d=this.Z(),e=Oa(),f=this.c,g=null;if(void 0!==c&&0<c[0]&&0<c[1]&&d&&jg(d)){var g=dg(d,this.c?this.c.viewHints:void 0),h=this.Kc().Yf(),l={};var m=0;for(b=h.length;m<b;++m)l[w(h[m].layer)]=h[m];m=d.getState();g={animate:!1,attributions:{},coordinateToPixelTransform:this.Yb,extent:e,focus:this.na?this.na:m.center,index:this.ad++,layerStates:l,layerStatesArray:h,logos:tb({},this.yf),pixelRatio:this.If,pixelToCoordinateTransform:this.Jf,postRenderFunctions:[],size:c,
skippedFeatureUids:this.fa,tileQueue:this.$a,time:a,usedTiles:{},viewState:m,viewHints:g,wantedTiles:{}}}g&&(g.extent=ob(m.center,m.resolution,m.rotation,g.size,e));this.c=g;this.B.Jg(g);g&&(g.animate&&this.render(),Array.prototype.push.apply(this.xb,g.postRenderFunctions),!f||this.g&&(kb(this.g)||bb(g.extent,this.g))||(this.b(new Id("movestart",this,f)),this.g=Ya(this.g)),!this.g||g.viewHints[0]||g.viewHints[1]||bb(g.extent,this.g)||(this.b(new Id("moveend",this,g)),Ra(g.extent,this.g)));this.b(new Id("postrender",
this,g));setTimeout(this.Rl.bind(this),0)};k.qj=function(a){this.set("layergroup",a)};k.Qg=function(a){this.set("size",a)};k.Le=function(a){this.set("target",a)};k.iq=function(a){this.set("view",a)};k.xj=function(a){a=w(a).toString();this.fa[a]=!0;this.render()};
k.Ad=function(){var a=this.jd();if(a){var b=getComputedStyle(a);this.Qg([a.offsetWidth-parseFloat(b.borderLeftWidth)-parseFloat(b.paddingLeft)-parseFloat(b.paddingRight)-parseFloat(b.borderRightWidth),a.offsetHeight-parseFloat(b.borderTopWidth)-parseFloat(b.paddingTop)-parseFloat(b.paddingBottom)-parseFloat(b.borderBottomWidth)])}else this.Qg(void 0)};k.Cj=function(a){a=w(a).toString();delete this.fa[a];this.render()};
function rk(a){var b=null;void 0!==a.keyboardEventTarget&&(b="string"===typeof a.keyboardEventTarget?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(void 0===a.logo||"boolean"===typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"https://openlayers.org/";else{var e=a.logo;"string"===typeof e?d[e]="":e instanceof HTMLElement?d[w(e).toString()]=e:e&&(xa("string"==typeof e.href,44),xa("string"==typeof e.src,45),d[e.src]=e.href)}e=a.layers instanceof uh?a.layers:new uh({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=void 0!==a.view?a.view:new F;var e=Mh,f;void 0!==a.renderer?(Array.isArray(a.renderer)?f=a.renderer:"string"===typeof a.renderer?f=[a.renderer]:xa(!1,46),0<=f.indexOf("dom")&&(f=f.concat(qk))):f=qk;var g;
var h=0;for(g=f.length;h<g;++h){var l=f[h];if("canvas"==l){if(Ud){e=hi;break}}else if("webgl"==l&&Md){e=mk;break}}void 0!==a.controls?Array.isArray(a.controls)?f=new Yc(a.controls.slice()):(xa(a.controls instanceof Yc,47),f=a.controls):f=xd();void 0!==a.interactions?Array.isArray(a.interactions)?h=new Yc(a.interactions.slice()):(xa(a.interactions instanceof Yc,48),h=a.interactions):h=qh();void 0!==a.overlays?Array.isArray(a.overlays)?a=new Yc(a.overlays.slice()):(xa(a.overlays instanceof Yc,49),a=
a.overlays):a=new Yc;return{controls:f,interactions:h,keyboardEventTarget:b,logos:d,overlays:a,Up:e,values:c}};function sk(a){Tc.call(this);this.g=a.id;this.l=void 0!==a.insertFirst?a.insertFirst:!0;this.v=void 0!==a.stopEvent?a.stopEvent:!0;this.c=document.createElement("DIV");this.c.className="ol-overlay-container ol-selectable";this.c.style.position="absolute";this.autoPan=void 0!==a.autoPan?a.autoPan:!1;this.j=a.autoPanAnimation||{};this.o=void 0!==a.autoPanMargin?a.autoPanMargin:20;this.a={re:"",Ie:"",nf:"",vf:"",visible:!0};this.f=null;y(this,Vc(tk),this.zl,this);y(this,Vc(uk),this.Jl,this);y(this,Vc(vk),
this.Nl,this);y(this,Vc(wk),this.Pl,this);y(this,Vc(xk),this.Ql,this);void 0!==a.element&&this.lj(a.element);this.rj(void 0!==a.offset?a.offset:[0,0]);this.uj(void 0!==a.positioning?a.positioning:"top-left");void 0!==a.position&&this.Ne(a.position)}v(sk,Tc);k=sk.prototype;k.Rd=function(){return this.get(tk)};k.Jm=function(){return this.g};k.Me=function(){return this.get(uk)};k.Dh=function(){return this.get(vk)};k.Yh=function(){return this.get(wk)};k.Eh=function(){return this.get(xk)};
k.zl=function(){for(var a=this.c;a.lastChild;)a.removeChild(a.lastChild);(a=this.Rd())&&this.c.appendChild(a)};k.Jl=function(){this.f&&(ld(this.c),Ec(this.f),this.f=null);var a=this.Me();a&&(this.f=y(a,"postrender",this.render,this),yk(this),a=this.v?a.D:a.C,this.l?a.insertBefore(this.c,a.childNodes[0]||null):a.appendChild(this.c))};k.render=function(){yk(this)};k.Nl=function(){yk(this)};
k.Pl=function(){yk(this);if(this.get(wk)&&this.autoPan){var a=this.Me();if(a&&a.jd()){var b=zk(a.jd(),a.Ob()),c=this.Rd(),d=c.offsetWidth,e=getComputedStyle(c),d=d+(parseInt(e.marginLeft,10)+parseInt(e.marginRight,10)),e=c.offsetHeight,f=getComputedStyle(c),e=e+(parseInt(f.marginTop,10)+parseInt(f.marginBottom,10)),g=zk(c,[d,e]),c=this.o;Va(b,g)||(d=g[0]-b[0],e=b[2]-g[2],f=g[1]-b[1],g=b[3]-g[3],b=[0,0],0>d?b[0]=d-c:0>e&&(b[0]=Math.abs(e)+c),0>f?b[1]=f-c:0>g&&(b[1]=Math.abs(g)+c),0===b[0]&&0===b[1])||
(c=a.Z().wa(),c=a.Ja(c),b=[c[0]+b[0],c[1]+b[1]],a.Z().animate({center:a.Wa(b),duration:this.j.duration,easing:this.j.easing}))}}};k.Ql=function(){yk(this)};k.lj=function(a){this.set(tk,a)};k.setMap=function(a){this.set(uk,a)};k.rj=function(a){this.set(vk,a)};k.Ne=function(a){this.set(wk,a)};function zk(a,b){var c=a.getBoundingClientRect();a=c.left+window.pageXOffset;c=c.top+window.pageYOffset;return[a,c,a+b[0],c+b[1]]}k.uj=function(a){this.set(xk,a)};
function Ak(a,b){a.a.visible!==b&&(a.c.style.display=b?"":"none",a.a.visible=b)}
function yk(a){var b=a.Me(),c=a.Yh();if(b&&b.c&&c){var c=b.Ja(c),d=b.Ob(),b=a.c.style,e=a.Dh(),f=a.Eh();Ak(a,!0);var g=e[0],e=e[1];if("bottom-right"==f||"center-right"==f||"top-right"==f)""!==a.a.Ie&&(a.a.Ie=b.left=""),g=Math.round(d[0]-c[0]-g)+"px",a.a.nf!=g&&(a.a.nf=b.right=g);else{""!==a.a.nf&&(a.a.nf=b.right="");if("bottom-center"==f||"center-center"==f||"top-center"==f)g-=a.c.offsetWidth/2;g=Math.round(c[0]+g)+"px";a.a.Ie!=g&&(a.a.Ie=b.left=g)}if("bottom-left"==f||"bottom-center"==f||"bottom-right"==
f)""!==a.a.vf&&(a.a.vf=b.top=""),c=Math.round(d[1]-c[1]-e)+"px",a.a.re!=c&&(a.a.re=b.bottom=c);else{""!==a.a.re&&(a.a.re=b.bottom="");if("center-left"==f||"center-center"==f||"center-right"==f)e-=a.c.offsetHeight/2;c=Math.round(c[1]+e)+"px";a.a.vf!=c&&(a.a.vf=b.top=c)}}else Ak(a,!1)}var tk="element",uk="map",vk="offset",wk="position",xk="positioning";function Bk(a){function b(a){a=h.Tf(a);l.a.Z().ob(a);window.removeEventListener("mousemove",c);window.removeEventListener("mouseup",b)}function c(a){a=h.Tf({clientX:a.clientX-n.offsetWidth/2,clientY:a.clientY+n.offsetHeight/2});m.Ne(a)}a=a?a:{};this.j=void 0!==a.collapsed?a.collapsed:!0;this.o=void 0!==a.collapsible?a.collapsible:!0;this.o||(this.j=!1);var d=void 0!==a.className?a.className:"ol-overviewmap",e=void 0!==a.tipLabel?a.tipLabel:"Overview map",f=void 0!==a.collapseLabel?a.collapseLabel:
"\u00ab";"string"===typeof f?(this.u=document.createElement("span"),this.u.textContent=f):this.u=f;f=void 0!==a.label?a.label:"\u00bb";"string"===typeof f?(this.D=document.createElement("span"),this.D.textContent=f):this.D=f;var g=this.o&&!this.j?this.u:this.D,f=document.createElement("button");f.setAttribute("type","button");f.title=e;f.appendChild(g);y(f,"click",this.an,this);this.C=document.createElement("DIV");this.C.className="ol-overviewmap-map";var h=this.c=new G({controls:new Yc,interactions:new Yc,
view:a.view});a.layers&&a.layers.forEach(function(a){h.ih(a)},this);e=document.createElement("DIV");e.className="ol-overviewmap-box";e.style.boxSizing="border-box";this.l=new sk({position:[0,0],positioning:"bottom-left",element:e});this.c.jh(this.l);e=document.createElement("div");e.className=d+" ol-unselectable ol-control"+(this.j&&this.o?" ol-collapsed":"")+(this.o?"":" ol-uncollapsible");e.appendChild(this.C);e.appendChild(f);md.call(this,{element:e,render:a.render?a.render:Ck,target:a.target});
var l=this,m=this.l,n=this.l.Rd();n.addEventListener("mousedown",function(){window.addEventListener("mousemove",c);window.addEventListener("mouseup",b)})}v(Bk,md);k=Bk.prototype;k.setMap=function(a){var b=this.a;a!==b&&(b&&((b=b.Z())&&Kc(b,Vc("rotation"),this.Ge,this),this.c.Le(null)),md.prototype.setMap.call(this,a),a&&(this.c.Le(this.C),this.v.push(y(a,"propertychange",this.Kl,this)),this.c.Xh().dc()||this.c.qj(a.Kc()),a=a.Z()))&&(y(a,Vc("rotation"),this.Ge,this),jg(a)&&(this.c.Ad(),Dk(this)))};
k.Kl=function(a){"view"===a.key&&((a=a.oldValue)&&Kc(a,Vc("rotation"),this.Ge,this),a=this.a.Z(),y(a,Vc("rotation"),this.Ge,this))};k.Ge=function(){this.c.Z().Oe(this.a.Z().Qa())};function Ck(){var a=this.a,b=this.c;if(a.c&&b.c){var c=a.Ob(),a=a.Z().dd(c),d=b.Ob(),c=b.Z().dd(d),e=b.Ja(ib(a)),f=b.Ja(gb(a)),b=Math.abs(e[0]-f[0]),e=Math.abs(e[1]-f[1]),f=d[0],d=d[1];b<.1*f||e<.1*d||b>.75*f||e>.75*d?Dk(this):Va(c,a)||(a=this.c,c=this.a.Z(),a.Z().ob(c.wa()))}Ek(this)}
function Dk(a){var b=a.a;a=a.c;var c=b.Ob(),b=b.Z().dd(c);a=a.Z();rb(b,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2)));a.Qf(b)}function Ek(a){var b=a.a,c=a.c;if(b.c&&c.c){var d=b.Ob(),e=b.Z(),f=c.Z(),c=e.Qa(),b=a.l,g=a.l.Rd(),h=e.dd(d),d=f.Pa(),e=eb(h),f=hb(h);if(a=a.a.Z().wa()){var l=[e[0]-a[0],e[1]-a[1]];ef(l,c);Ze(l,a)}b.Ne(l);g&&(g.style.width=Math.abs((e[0]-f[0])/d)+"px",g.style.height=Math.abs((f[1]-e[1])/d)+"px")}}k.an=function(a){a.preventDefault();Fk(this)};
function Fk(a){a.element.classList.toggle("ol-collapsed");a.j?kd(a.u,a.D):kd(a.D,a.u);a.j=!a.j;var b=a.c;a.j||b.c||(b.Ad(),Dk(a),Jc(b,"postrender",function(){Ek(this)},a))}k.$m=function(){return this.o};k.cn=function(a){this.o!==a&&(this.o=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.j&&Fk(this))};k.bn=function(a){this.o&&this.j!==a&&Fk(this)};k.Zm=function(){return this.j};k.gl=function(){return this.c};function Gk(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-scale-line";this.o=document.createElement("DIV");this.o.className=b+"-inner";this.c=document.createElement("DIV");this.c.className=b+" ol-unselectable";this.c.appendChild(this.o);this.u=null;this.l=void 0!==a.minWidth?a.minWidth:64;this.j=!1;this.B=void 0;this.D="";md.call(this,{element:this.c,render:a.render?a.render:Hk,target:a.target});y(this,Vc(Ik),this.T,this);this.I(a.units||"metric")}v(Gk,md);var Jk=[1,2,5];Gk.prototype.C=function(){return this.get(Ik)};
function Hk(a){(a=a.frameState)?this.u=a.viewState:this.u=null;Kk(this)}Gk.prototype.T=function(){Kk(this)};Gk.prototype.I=function(a){this.set(Ik,a)};
function Kk(a){var b=a.u;if(b){var c=b.projection,d=c.sc(),b=Sb(c,b.resolution,b.center)*d,d=a.l*b,c="",e=a.C();"degrees"==e?(c=zb.degrees,b/=c,d<c/60?(c="\u2033",b*=3600):d<c?(c="\u2032",b*=60):c="\u00b0"):"imperial"==e?.9144>d?(c="in",b/=.0254):1609.344>d?(c="ft",b/=.3048):(c="mi",b/=1609.344):"nautical"==e?(b/=1852,c="nm"):"metric"==e?.001>d?(c="\u03bcm",b*=1E6):1>d?(c="mm",b*=1E3):1E3>d?c="m":(c="km",b/=1E3):"us"==e?.9144>d?(c="in",b*=39.37):1609.344>d?(c="ft",b/=.30480061):(c="mi",b/=1609.3472):
xa(!1,33);for(var e=3*Math.floor(Math.log(a.l*b)/Math.log(10)),f;;){f=Jk[(e%3+3)%3]*Math.pow(10,Math.floor(e/3));d=Math.round(f/b);if(isNaN(d)){a.c.style.display="none";a.j=!1;return}if(d>=a.l)break;++e}b=f+" "+c;a.D!=b&&(a.o.innerHTML=b,a.D=b);a.B!=d&&(a.o.style.width=d+"px",a.B=d);a.j||(a.c.style.display="",a.j=!0)}else a.j&&(a.c.style.display="none",a.j=!1)}var Ik="units";function Lk(a){a=a?a:{};this.c=void 0;this.j=Mk;this.D=this.l=0;this.I=null;this.na=!1;this.T=void 0!==a.duration?a.duration:200;var b=void 0!==a.className?a.className:"ol-zoomslider",c=document.createElement("button");c.setAttribute("type","button");c.className=b+"-thumb ol-unselectable";var d=document.createElement("div");d.className=b+" ol-unselectable ol-control";d.appendChild(c);this.o=new Ae(d);y(this.o,"pointerdown",this.yl,this);y(this.o,"pointermove",this.wl,this);y(this.o,"pointerup",this.xl,
this);y(d,"click",this.vl,this);y(c,"click",Pc);md.call(this,{element:d,render:a.render?a.render:Nk})}v(Lk,md);Lk.prototype.ka=function(){Nc(this.o);md.prototype.ka.call(this)};var Mk=0;k=Lk.prototype;k.setMap=function(a){md.prototype.setMap.call(this,a);a&&a.render()};
function Nk(a){if(a.frameState){if(!this.na){var b=this.element,c=b.offsetWidth,d=b.offsetHeight,e=b.firstElementChild,f=getComputedStyle(e),b=e.offsetWidth+parseFloat(f.marginRight)+parseFloat(f.marginLeft),e=e.offsetHeight+parseFloat(f.marginTop)+parseFloat(f.marginBottom);this.I=[b,e];c>d?(this.j=1,this.D=c-b):(this.j=Mk,this.l=d-e);this.na=!0}a=a.frameState.viewState.resolution;a!==this.c&&(this.c=a,Ok(this,a))}}
k.vl=function(a){var b=this.a.Z();a=Pk(this,Ca(1===this.j?(a.offsetX-this.I[0]/2)/this.D:(a.offsetY-this.I[1]/2)/this.l,0,1));b.animate({resolution:b.constrainResolution(a),duration:this.T,easing:rd})};k.yl=function(a){this.u||a.b.target!==this.element.firstElementChild||(cg(this.a.Z(),1,1),this.C=a.clientX,this.B=a.clientY,this.u=!0)};
k.wl=function(a){if(this.u){var b=this.element.firstElementChild;this.c=Pk(this,Ca(1===this.j?(a.clientX-this.C+parseInt(b.style.left,10))/this.D:(a.clientY-this.B+parseInt(b.style.top,10))/this.l,0,1));this.a.Z().Vc(this.c);Ok(this,this.c);this.C=a.clientX;this.B=a.clientY}};k.xl=function(){if(this.u){var a=this.a.Z();cg(a,1,-1);a.animate({resolution:a.constrainResolution(this.c),duration:this.T,easing:rd});this.u=!1;this.B=this.C=void 0}};
function Ok(a,b){b=1-ig(a.a.Z())(b);var c=a.element.firstElementChild;1==a.j?c.style.left=a.D*b+"px":c.style.top=a.l*b+"px"}function Pk(a,b){return hg(a.a.Z())(1-b)};function Qk(a){a=a?a:{};this.c=a.extent?a.extent:null;var b=void 0!==a.className?a.className:"ol-zoom-extent",c=void 0!==a.label?a.label:"E",d=void 0!==a.tipLabel?a.tipLabel:"Fit to extent",e=document.createElement("button");e.setAttribute("type","button");e.title=d;e.appendChild("string"===typeof c?document.createTextNode(c):c);y(e,"click",this.j,this);c=document.createElement("div");c.className=b+" ol-unselectable ol-control";c.appendChild(e);md.call(this,{element:c,target:a.target})}v(Qk,md);
Qk.prototype.j=function(a){a.preventDefault();a=this.a.Z();var b=this.c?this.c:a.v.G();a.Qf(b)};function Rk(a){Tc.call(this);a=a?a:{};this.a=null;y(this,Vc(Sk),this.vm,this);this.gg(void 0!==a.tracking?a.tracking:!1)}v(Rk,Tc);k=Rk.prototype;k.ka=function(){this.gg(!1);Tc.prototype.ka.call(this)};
k.ap=function(a){if(null!==a.alpha){var b=Ha(a.alpha);this.set(Tk,b);"boolean"===typeof a.absolute&&a.absolute?this.set(Uk,b):"number"===typeof a.webkitCompassHeading&&-1!=a.webkitCompassAccuracy&&this.set(Uk,Ha(a.webkitCompassHeading))}null!==a.beta&&this.set(Vk,Ha(a.beta));null!==a.gamma&&this.set(Wk,Ha(a.gamma));this.s()};k.Fk=function(){return this.get(Tk)};k.Ik=function(){return this.get(Vk)};k.Ok=function(){return this.get(Wk)};k.um=function(){return this.get(Uk)};k.Th=function(){return this.get(Sk)};
k.vm=function(){if(Vd){var a=this.Th();a&&!this.a?this.a=y(window,"deviceorientation",this.ap,this):a||null===this.a||(Ec(this.a),this.a=null)}};k.gg=function(a){this.set(Sk,a)};var Tk="alpha",Vk="beta",Wk="gamma",Uk="heading",Sk="tracking";function Xk(a){this.f=a.opacity;this.l=a.rotateWithView;this.g=a.rotation;this.a=a.scale;this.v=a.snapToPixel}k=Xk.prototype;k.Ze=function(){return this.f};k.$e=function(){return this.l};k.af=function(){return this.g};k.bf=function(){return this.a};k.Ae=function(){return this.v};k.td=function(a){this.f=a};k.cf=function(a){this.g=a};k.ud=function(a){this.a=a};function Yk(a){this.D=this.u=this.c=null;this.Va=void 0!==a.fill?a.fill:null;this.oa=[0,0];this.o=a.points;this.b=void 0!==a.radius?a.radius:a.radius1;this.i=a.radius2;this.j=void 0!==a.angle?a.angle:0;this.Ya=void 0!==a.stroke?a.stroke:null;this.B=this.ra=this.C=null;this.S=a.atlasManager;Zk(this,this.S);Xk.call(this,{opacity:1,rotateWithView:void 0!==a.rotateWithView?a.rotateWithView:!1,rotation:void 0!==a.rotation?a.rotation:0,scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0})}
v(Yk,Xk);k=Yk.prototype;k.clone=function(){var a=new Yk({fill:this.Fa()?this.Fa().clone():void 0,points:this.o,radius:this.b,radius2:this.i,angle:this.j,snapToPixel:this.v,stroke:this.Ga()?this.Ga().clone():void 0,rotation:this.g,rotateWithView:this.l,atlasManager:this.S});a.td(this.f);a.ud(this.a);return a};k.Hc=function(){return this.C};k.Pi=function(){return this.j};k.Fa=function(){return this.Va};k.qg=function(){return this.D};k.Y=function(){return this.u};k.ye=function(){return this.B};
k.Ye=function(){return 2};k.Oc=function(){return this.oa};k.Qi=function(){return this.o};k.Ri=function(){return this.b};k.Fh=function(){return this.i};k.ic=function(){return this.ra};k.Ga=function(){return this.Ya};k.Nh=function(){};k.load=function(){};k.Bj=function(){};
function Zk(a,b){var c="",d="",e=0,f=null,g=0;if(a.Ya){var h=a.Ya.a;null===h&&(h=Uh);h=id(h);g=a.Ya.c;void 0===g&&(g=1);f=a.Ya.i;Td||(f=null);d=a.Ya.j;void 0===d&&(d="round");c=a.Ya.f;void 0===c&&(c="round");e=a.Ya.o;void 0===e&&(e=10)}var l=2*(a.b+g)+1,c={strokeStyle:h,zj:g,size:l,lineCap:c,lineDash:f,lineJoin:d,miterLimit:e};if(void 0===b){var m=jd(l,l);a.u=m.canvas;b=l=a.u.width;a.rh(c,m,0,0);a.Va?a.D=a.u:(m=jd(c.size,c.size),a.D=m.canvas,a.qh(c,m,0,0))}else l=Math.round(l),(d=!a.Va)&&(m=a.qh.bind(a,
c)),a.Ya?(e=a.Ya,void 0===e.b&&(e.b="s",e.b=e.a?"string"===typeof e.a?e.b+e.a:e.b+w(e.a).toString():e.b+"-",e.b+=","+(void 0!==e.f?e.f.toString():"-")+","+(e.i?e.i.toString():"-")+","+(void 0!==e.g?e.g:"-")+","+(void 0!==e.j?e.j:"-")+","+(void 0!==e.o?e.o.toString():"-")+","+(void 0!==e.c?e.c.toString():"-")),e=e.b):e="-",a.Va?(f=a.Va,void 0===f.a&&(f.a=f.b instanceof CanvasPattern||f.b instanceof CanvasGradient?w(f.b).toString():"f"+(f.b?gd(f.b):"-")),f=f.a):f="-",a.c&&e==a.c[1]&&f==a.c[2]&&a.b==
a.c[3]&&a.i==a.c[4]&&a.j==a.c[5]&&a.o==a.c[6]||(a.c=["r"+e+f+(void 0!==a.b?a.b.toString():"-")+(void 0!==a.i?a.i.toString():"-")+(void 0!==a.j?a.j.toString():"-")+(void 0!==a.o?a.o.toString():"-"),e,f,a.b,a.i,a.j,a.o]),m=b.add(a.c[0],l,l,a.rh.bind(a,c),m),a.u=m.image,a.oa=[m.offsetX,m.offsetY],b=m.image.width,a.D=d?m.Zl:a.u;a.C=[l/2,l/2];a.ra=[l,l];a.B=[b,b]}
k.rh=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();var e=this.o;if(Infinity===e)b.arc(a.size/2,a.size/2,this.b,0,2*Math.PI,!0);else{var f=void 0!==this.i?this.i:this.b;f!==this.b&&(e*=2);for(c=0;c<=e;c++){d=2*c*Math.PI/e-Math.PI/2+this.j;var g=c%2?f:this.b;b.lineTo(a.size/2+g*Math.cos(d),a.size/2+g*Math.sin(d))}}this.Va&&(c=this.Va.b,null===c&&(c=Sh),b.fillStyle=id(c),b.fill());this.Ya&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.zj,a.lineDash&&b.setLineDash(a.lineDash),
b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.stroke());b.closePath()};
k.qh=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();c=this.o;if(Infinity===c)b.arc(a.size/2,a.size/2,this.b,0,2*Math.PI,!0);else{d=void 0!==this.i?this.i:this.b;d!==this.b&&(c*=2);var e;for(e=0;e<=c;e++){var f=2*e*Math.PI/c-Math.PI/2+this.j;var g=e%2?d:this.b;b.lineTo(a.size/2+g*Math.cos(f),a.size/2+g*Math.sin(f))}}b.fillStyle=Sh;b.fill();this.Ya&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.zj,a.lineDash&&b.setLineDash(a.lineDash),b.stroke());b.closePath()};function $k(a){a=a||{};Yk.call(this,{points:Infinity,fill:a.fill,radius:a.radius,snapToPixel:a.snapToPixel,stroke:a.stroke,atlasManager:a.atlasManager})}v($k,Yk);$k.prototype.clone=function(){var a=new $k({fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,radius:this.b,snapToPixel:this.v,atlasManager:this.S});a.td(this.f);a.ud(this.a);return a};$k.prototype.Uc=function(a){this.b=a;Zk(this,this.S)};function al(a){a=a||{};this.b=void 0!==a.color?a.color:null;this.a=void 0}al.prototype.clone=function(){var a=this.b;return new al({color:a&&a.slice?a.slice():a||void 0})};al.prototype.i=function(){return this.b};al.prototype.c=function(a){this.b=a;this.a=void 0};function bl(a){a=a||{};this.Gc=null;this.Za=cl;void 0!==a.geometry&&this.Ra(a.geometry);this.Va=void 0!==a.fill?a.fill:null;this.M=void 0!==a.image?a.image:null;this.Ya=void 0!==a.stroke?a.stroke:null;this.Ia=void 0!==a.text?a.text:null;this.Fj=a.zIndex}k=bl.prototype;
k.clone=function(){var a=this.V();a&&a.clone&&(a=a.clone());return new bl({geometry:a,fill:this.Fa()?this.Fa().clone():void 0,image:this.Y()?this.Y().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,text:this.Na()?this.Na().clone():void 0,zIndex:this.Ba()})};k.V=function(){return this.Gc};k.Pk=function(){return this.Za};k.Fa=function(){return this.Va};k.pf=function(a){this.Va=a};k.Y=function(){return this.M};k.Og=function(a){this.M=a};k.Ga=function(){return this.Ya};
k.qf=function(a){this.Ya=a};k.Na=function(){return this.Ia};k.xd=function(a){this.Ia=a};k.Ba=function(){return this.Fj};k.Ra=function(a){"function"===typeof a?this.Za=a:"string"===typeof a?this.Za=function(b){return b.get(a)}:a?a&&(this.Za=function(){return a}):this.Za=cl;this.Gc=a};k.Vb=function(a){this.Fj=a};function dl(a){if("function"!==typeof a){if(Array.isArray(a))var b=a;else xa(a instanceof bl,41),b=[a];a=function(){return b}}return a}var el=null;
function fl(){if(!el){var a=new al({color:"rgba(255,255,255,0.4)"}),b=new wj({color:"#3399CC",width:1.25});el=[new bl({image:new $k({fill:a,stroke:b,radius:5}),fill:a,stroke:b})]}return el}
function gl(){var a={},b=[255,255,255,1],c=[0,153,255,1];a.Polygon=[new bl({fill:new al({color:[255,255,255,.5]})})];a.MultiPolygon=a.Polygon;a.LineString=[new bl({stroke:new wj({color:b,width:5})}),new bl({stroke:new wj({color:c,width:3})})];a.MultiLineString=a.LineString;a.Circle=a.Polygon.concat(a.LineString);a.Point=[new bl({image:new $k({radius:6,fill:new al({color:c}),stroke:new wj({color:b,width:1.5})}),zIndex:Infinity})];a.MultiPoint=a.Point;a.GeometryCollection=a.Polygon.concat(a.LineString,
a.Point);return a}function cl(a){return a.V()};function H(a){Tc.call(this);this.a=void 0;this.c="geometry";this.g=null;this.j=void 0;this.f=null;y(this,Vc(this.c),this.Ee,this);void 0!==a&&(a instanceof of||!a?this.Ra(a):this.H(a))}v(H,Tc);k=H.prototype;k.clone=function(){var a=new H(this.N());a.Tc(this.c);var b=this.V();b&&a.Ra(b.clone());(b=this.g)&&a.hg(b);return a};k.V=function(){return this.get(this.c)};k.wm=function(){return this.a};k.Qk=function(){return this.c};k.xm=function(){return this.g};k.Lc=function(){return this.j};k.Al=function(){this.s()};
k.Ee=function(){this.f&&(Ec(this.f),this.f=null);var a=this.V();a&&(this.f=y(a,"change",this.Al,this));this.s()};k.Ra=function(a){this.set(this.c,a)};k.hg=function(a){this.j=(this.g=a)?hl(a):void 0;this.s()};k.jc=function(a){this.a=a;this.s()};k.Tc=function(a){Kc(this,Vc(this.c),this.Ee,this);this.c=a;y(this,Vc(this.c),this.Ee,this);this.Ee()};
function hl(a){var b;if("function"===typeof a)2==a.length?b=function(b){return a(this,b)}:b=a;else{if(Array.isArray(a))var c=a;else xa(a instanceof bl,41),c=[a];b=function(){return c}}return b};var il=document.implementation.createDocument("","",null);function jl(a,b){return il.createElementNS(a,b)}function kl(a,b){return ll(a,b,[]).join("")}function ll(a,b,c){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE)b?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else for(a=a.firstChild;a;a=a.nextSibling)ll(a,b,c);return c}function ml(a){return a instanceof Document}function nl(a){return a instanceof Node}
function pl(a){return(new DOMParser).parseFromString(a,"application/xml")}function ql(a,b){return function(c,d){c=a.call(b,c,d);void 0!==c&&la(d[d.length-1],c)}}function rl(a,b){return function(c,d){c=a.call(void 0!==b?b:this,c,d);void 0!==c&&d[d.length-1].push(c)}}function sl(a,b){return function(c,d){c=a.call(void 0!==b?b:this,c,d);void 0!==c&&(d[d.length-1]=c)}}
function tl(a){return function(b,c){var d=a.call(this,b,c);if(void 0!==d){c=c[c.length-1];b=b.localName;var e;b in c?e=c[b]:e=c[b]=[];e.push(d)}}}function I(a,b){return function(c,d){var e=a.call(this,c,d);void 0!==e&&(d[d.length-1][void 0!==b?b:c.localName]=e)}}function J(a,b){return function(c,d,e){a.call(void 0!==b?b:this,c,d,e);e[e.length-1].node.appendChild(c)}}
function vl(a){var b,c;return function(d,e,f){if(!b){b={};var g={};g[d.localName]=a;b[d.namespaceURI]=g;c=wl(d.localName)}xl(b,c,e,f)}}function wl(a,b){return function(c,d,e){c=d[d.length-1].node;d=a;void 0===d&&(d=e);e=b;void 0===b&&(e=c.namespaceURI);return jl(e,d)}}var yl=wl();function zl(a,b){for(var c=b.length,d=Array(c),e=0;e<c;++e)d[e]=a[b[e]];return d}function K(a,b,c){c=void 0!==c?c:{};var d;var e=0;for(d=a.length;e<d;++e)c[a[e]]=b;return c}
function Al(a,b,c,d){for(b=b.firstElementChild;b;b=b.nextElementSibling){var e=a[b.namespaceURI];void 0!==e&&(e=e[b.localName])&&e.call(d,b,c)}}function N(a,b,c,d,e){d.push(a);Al(b,c,d,e);return d.pop()}function xl(a,b,c,d,e,f){for(var g=(void 0!==e?e:c).length,h,l,m=0;m<g;++m)h=c[m],void 0!==h&&(l=b.call(f,h,d,void 0!==e?e[m]:void 0),void 0!==l&&a[l.namespaceURI][l.localName].call(f,l,h,d))}function Bl(a,b,c,d,e,f,g){e.push(a);xl(b,c,d,e,f,g);e.pop()};function Cl(a,b,c,d){return function(e,f,g){var h=new XMLHttpRequest;h.open("GET","function"===typeof a?a(e,f,g):a,!0);"arraybuffer"==b.U()&&(h.responseType="arraybuffer");h.onload=function(){if(!h.status||200<=h.status&&300>h.status){var a=b.U();if("json"==a||"text"==a)var e=h.responseText;else"xml"==a?(e=h.responseXML)||(e=pl(h.responseText)):"arraybuffer"==a&&(e=h.response);e?c.call(this,b.Oa(e,{featureProjection:g}),b.kb(e)):d.call(this)}else d.call(this)}.bind(this);h.onerror=function(){d.call(this)}.bind(this);
h.send()}}function Dl(a,b){return Cl(a,b,function(a){this.cd(a)},ua)};function El(){this.f=this.defaultDataProjection=null}function Fl(a,b,c){var d;c&&(d={dataProjection:c.dataProjection?c.dataProjection:a.kb(b),featureProjection:c.featureProjection});return Gl(a,d)}function Gl(a,b){return tb({dataProjection:a.defaultDataProjection,featureProjection:a.f},b)}
function Hl(a,b,c){var d=c?Tb(c.featureProjection):null,e=c?Tb(c.dataProjection):null,f;d&&e&&!dc(d,e)?a instanceof of?f=(b?a.clone():a).tb(b?d:e,b?e:d):f=hc(a,e,d):f=a;if(b&&c&&void 0!==c.decimals){var g=Math.pow(10,c.decimals);f===a&&(f=f.clone());f.Dc(function(a){for(var b=0,c=a.length;b<c;++b)a[b]=Math.round(a[b]*g)/g;return a})}return f};function Il(){El.call(this)}v(Il,El);function Jl(a){return"string"===typeof a?(a=JSON.parse(a))?a:null:null!==a?a:null}k=Il.prototype;k.U=function(){return"json"};k.Tb=function(a,b){return this.Rc(Jl(a),Fl(this,a,b))};k.Oa=function(a,b){return this.yg(Jl(a),Fl(this,a,b))};k.Sc=function(a,b){return this.Cg(Jl(a),Fl(this,a,b))};k.kb=function(a){return this.Fg(Jl(a))};k.Bd=function(a,b){return JSON.stringify(this.Zc(a,b))};k.Wb=function(a,b){return JSON.stringify(this.he(a,b))};
k.$c=function(a,b){return JSON.stringify(this.je(a,b))};function Kl(a,b,c,d,e,f){var g=NaN,h=NaN,l=(c-b)/d;if(1===l)g=a[b],h=a[b+1];else if(2==l)g=(1-e)*a[b]+e*a[b+d],h=(1-e)*a[b+1]+e*a[b+d+1];else if(l){var h=a[b],l=a[b+1],m=0,g=[0],n;for(n=b+d;n<c;n+=d){var p=a[n],q=a[n+1],m=m+Math.sqrt((p-h)*(p-h)+(q-l)*(q-l));g.push(m);h=p;l=q}c=e*m;l=0;m=g.length;for(n=!1;l<m;)e=l+(m-l>>1),h=+ia(g[e],c),0>h?l=e+1:(m=e,n=!h);e=n?l:~l;0>e?(c=(c-g[-e-2])/(g[-e-1]-g[-e-2]),b+=(-e-2)*d,g=Ja(a[b],a[b+d],c),h=Ja(a[b+1],a[b+d+1],c)):(g=a[b+e*d],h=a[b+e*d+1])}return f?(f[0]=
g,f[1]=h,f):[g,h]}function Ll(a,b,c,d,e,f){if(c==b)return null;if(e<a[b+d-1])return f?(c=a.slice(b,b+d),c[d-1]=e,c):null;if(a[c-1]<e)return f?(c=a.slice(c-d,c),c[d-1]=e,c):null;if(e==a[b+d-1])return a.slice(b,b+d);b/=d;for(c/=d;b<c;)f=b+c>>1,e<a[(f+1)*d-1]?c=f:b=f+1;c=a[b*d-1];if(e==c)return a.slice((b-1)*d,(b-1)*d+d);f=(e-c)/(a[(b+1)*d-1]-c);c=[];var g;for(g=0;g<d-1;++g)c.push(Ja(a[(b-1)*d+g],a[b*d+g],f));c.push(e);return c}
function Ml(a,b,c,d,e,f){var g=0;if(f)return Ll(a,g,b[b.length-1],c,d,e);if(d<a[c-1])return e?(a=a.slice(0,c),a[c-1]=d,a):null;if(a[a.length-1]<d)return e?(a=a.slice(a.length-c),a[c-1]=d,a):null;e=0;for(f=b.length;e<f;++e){var h=b[e];if(g!=h){if(d<a[g+c-1])break;else if(d<=a[h-1])return Ll(a,g,h,c,d,!1);g=h}}return null};function O(a,b){rf.call(this);this.c=null;this.u=this.D=this.j=-1;this.ma(a,b)}v(O,rf);k=O.prototype;k.mk=function(a){this.A?la(this.A,a):this.A=a.slice();this.s()};k.clone=function(){var a=new O(null);a.ba(this.ja,this.A.slice());return a};k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;this.u!=this.i&&(this.D=Math.sqrt(yf(this.A,0,this.A.length,this.a,0)),this.u=this.i);return Af(this.A,0,this.A.length,this.a,this.D,!1,a,b,c,d)};
k.Ck=function(a,b){return Pf(this.A,0,this.A.length,this.a,a,b)};k.nn=function(a,b){return"XYM"!=this.ja&&"XYZM"!=this.ja?null:Ll(this.A,0,this.A.length,this.a,a,void 0!==b?b:!1)};k.X=function(){return Ff(this.A,0,this.A.length,this.a)};k.wh=function(a,b){return Kl(this.A,0,this.A.length,this.a,a,b)};k.pn=function(){var a=this.A,b=this.a,c=a[0],d=a[1],e=0,f;for(f=0+b;f<this.A.length;f+=b)var g=a[f],h=a[f+1],e=e+Math.sqrt((g-c)*(g-c)+(h-d)*(h-d)),c=g,d=h;return e};
function di(a){a.j!=a.i&&(a.c=a.wh(.5,a.c),a.j=a.i);return a.c}k.hd=function(a){var b=[];b.length=Hf(this.A,0,this.A.length,this.a,a,b,0);a=new O(null);a.ba("XY",b);return a};k.U=function(){return"LineString"};k.Xa=function(a){return Qf(this.A,0,this.A.length,this.a,a)};k.ma=function(a,b){a?(uf(this,b,a,1),this.A||(this.A=[]),this.A.length=Df(this.A,0,a,this.a),this.s()):this.ba("XY",null)};k.ba=function(a,b){tf(this,a,b);this.s()};function P(a,b){rf.call(this);this.c=[];this.j=this.u=-1;this.ma(a,b)}v(P,rf);k=P.prototype;k.nk=function(a){this.A?la(this.A,a.ga().slice()):this.A=a.ga().slice();this.c.push(this.A.length);this.s()};k.clone=function(){var a=new P(null);a.ba(this.ja,this.A.slice(),this.c.slice());return a};k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;this.j!=this.i&&(this.u=Math.sqrt(zf(this.A,0,this.c,this.a,0)),this.j=this.i);return Bf(this.A,0,this.c,this.a,this.u,!1,a,b,c,d)};
k.rn=function(a,b,c){return"XYM"!=this.ja&&"XYZM"!=this.ja||!this.A.length?null:Ml(this.A,this.c,this.a,a,void 0!==b?b:!1,void 0!==c?c:!1)};k.X=function(){return Gf(this.A,0,this.c,this.a)};k.Bb=function(){return this.c};k.Yk=function(a){if(0>a||this.c.length<=a)return null;var b=new O(null);b.ba(this.ja,this.A.slice(a?this.c[a-1]:0,this.c[a]));return b};
k.gd=function(){var a=this.A,b=this.c,c=this.ja,d=[],e=0,f;var g=0;for(f=b.length;g<f;++g){var h=b[g],l=new O(null);l.ba(c,a.slice(e,h));d.push(l);e=h}return d};function ei(a){var b=[],c=a.A,d=0,e=a.c;a=a.a;var f;var g=0;for(f=e.length;g<f;++g){var h=e[g],d=Kl(c,d,h,a,.5);la(b,d);d=h}return b}k.hd=function(a){var b=[],c=[],d=this.A,e=this.c,f=this.a,g=0,h=0,l;var m=0;for(l=e.length;m<l;++m){var n=e[m],h=Hf(d,g,n,f,a,b,h);c.push(h);g=n}b.length=h;a=new P(null);a.ba("XY",b,c);return a};k.U=function(){return"MultiLineString"};
k.Xa=function(a){a:{var b=this.A,c=this.c,d=this.a,e=0,f;var g=0;for(f=c.length;g<f;++g){if(Qf(b,e,c[g],d,a)){a=!0;break a}e=c[g]}a=!1}return a};k.ma=function(a,b){a?(uf(this,b,a,2),this.A||(this.A=[]),a=Ef(this.A,0,a,this.a,this.c),this.A.length=a.length?a[a.length-1]:0,this.s()):this.ba("XY",null,this.c)};k.ba=function(a,b,c){tf(this,a,b);this.c=c;this.s()};function Nl(a,b){var c=a.ja,d=[],e=[],f;var g=0;for(f=b.length;g<f;++g){var h=b[g];g||(c=h.ja);la(d,h.ga());e.push(d.length)}a.ba(c,d,e)};function Q(a,b){rf.call(this);this.ma(a,b)}v(Q,rf);k=Q.prototype;k.qk=function(a){this.A?la(this.A,a.ga()):this.A=a.ga().slice();this.s()};k.clone=function(){var a=new Q(null);a.ba(this.ja,this.A.slice());return a};k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;var e=this.A,f=this.a,g;var h=0;for(g=e.length;h<g;h+=f){var l=Ga(a,b,e[h],e[h+1]);if(l<d){d=l;for(l=0;l<f;++l)c[l]=e[h+l];c.length=f}}return d};k.X=function(){return Ff(this.A,0,this.A.length,this.a)};
k.il=function(a){var b=this.A?this.A.length/this.a:0;if(0>a||b<=a)return null;b=new C(null);b.ba(this.ja,this.A.slice(a*this.a,(a+1)*this.a));return b};k.Zd=function(){var a=this.A,b=this.ja,c=this.a,d=[],e;var f=0;for(e=a.length;f<e;f+=c){var g=new C(null);g.ba(b,a.slice(f,f+c));d.push(g)}return d};k.U=function(){return"MultiPoint"};k.Xa=function(a){var b=this.A,c=this.a,d;var e=0;for(d=b.length;e<d;e+=c){var f=b[e];var g=b[e+1];if(Ua(a,f,g))return!0}return!1};
k.ma=function(a,b){a?(uf(this,b,a,1),this.A||(this.A=[]),this.A.length=Df(this.A,0,a,this.a),this.s()):this.ba("XY",null)};k.ba=function(a,b){tf(this,a,b);this.s()};function R(a,b){rf.call(this);this.c=[];this.u=-1;this.D=null;this.I=this.C=this.B=-1;this.j=null;this.ma(a,b)}v(R,rf);k=R.prototype;k.rk=function(a){if(this.A){var b=this.A.length;la(this.A,a.ga());a=a.Bb().slice();var c;var d=0;for(c=a.length;d<c;++d)a[d]+=b}else this.A=a.ga().slice(),a=a.Bb().slice(),this.c.push();this.c.push(a);this.s()};k.clone=function(){for(var a=new R(null),b=this.c.length,c=Array(b),d=0;d<b;++d)c[d]=this.c[d].slice();Ol(a,this.ja,this.A.slice(),c);return a};
k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;if(this.C!=this.i){var e=this.c,f=0,g=0,h;var l=0;for(h=e.length;l<h;++l)var m=e[l],g=zf(this.A,f,m,this.a,g),f=m[m.length-1];this.B=Math.sqrt(g);this.C=this.i}e=fi(this);f=this.c;g=this.a;l=this.B;h=0;var m=[NaN,NaN],n;var p=0;for(n=f.length;p<n;++p){var q=f[p];d=Bf(e,h,q,g,l,!0,a,b,c,d,m);h=q[q.length-1]}return d};
k.Mc=function(a,b){a:{var c=fi(this),d=this.c,e=0;if(d.length){var f;var g=0;for(f=d.length;g<f;++g){var h=d[g];if(Nf(c,e,h,this.a,a,b)){a=!0;break a}e=h[h.length-1]}}a=!1}return a};k.sn=function(){var a=fi(this),b=this.c,c=0,d=0,e;var f=0;for(e=b.length;f<e;++f)var g=b[f],d=d+wf(a,c,g,this.a),c=g[g.length-1];return d};
k.X=function(a){if(void 0!==a){var b=fi(this).slice();Vf(b,this.c,this.a,a)}else b=this.A;a=b;b=this.c;var c=this.a,d=0,e=[],f=0,g;var h=0;for(g=b.length;h<g;++h){var l=b[h];e[f++]=Gf(a,d,l,c,e[f]);d=l[l.length-1]}e.length=f;return e};
function gi(a){if(a.u!=a.i){var b=a.A,c=a.c,d=a.a,e=0,f=[],g;var h=0;for(g=c.length;h<g;++h){var l=c[h],e=$a(b,e,l[0],d);f.push((e[0]+e[2])/2,(e[1]+e[3])/2);e=l[l.length-1]}b=fi(a);c=a.c;d=a.a;h=0;g=[];l=0;for(e=c.length;l<e;++l){var m=c[l];g=Of(b,h,m,d,f,2*l,g);h=m[m.length-1]}a.D=g;a.u=a.i}return a.D}k.Uk=function(){var a=new Q(null);a.ba("XY",gi(this).slice());return a};
function fi(a){if(a.I!=a.i){var b=a.A;a:{var c=a.c;var d;var e=0;for(d=c.length;e<d;++e)if(!Tf(b,c[e],a.a,void 0)){c=!1;break a}c=!0}c?a.j=b:(a.j=b.slice(),a.j.length=Vf(a.j,a.c,a.a));a.I=a.i}return a.j}k.hd=function(a){var b=[],c=[],d=this.A,e=this.c,f=this.a;a=Math.sqrt(a);var g=0,h=0,l;var m=0;for(l=e.length;m<l;++m){var n=e[m],p=[],h=If(d,g,n,f,a,b,h,p);c.push(p);g=n[n.length-1]}b.length=h;d=new R(null);Ol(d,"XY",b,c);return d};
k.jl=function(a){if(0>a||this.c.length<=a)return null;if(a){var b=this.c[a-1];b=b[b.length-1]}else b=0;a=this.c[a].slice();var c=a[a.length-1];if(b){var d;var e=0;for(d=a.length;e<d;++e)a[e]-=b}e=new D(null);e.ba(this.ja,this.A.slice(b,c),a);return e};k.Td=function(){var a=this.ja,b=this.A,c=this.c,d=[],e=0,f,g;var h=0;for(f=c.length;h<f;++h){var l=c[h].slice(),m=l[l.length-1];if(e){var n=0;for(g=l.length;n<g;++n)l[n]-=e}n=new D(null);n.ba(a,b.slice(e,m),l);d.push(n);e=m}return d};k.U=function(){return"MultiPolygon"};
k.Xa=function(a){a:{var b=fi(this),c=this.c,d=this.a,e=0,f;var g=0;for(f=c.length;g<f;++g){var h=c[g];if(Rf(b,e,h,d,a)){a=!0;break a}e=h[h.length-1]}a=!1}return a};k.ma=function(a,b){if(a){uf(this,b,a,3);this.A||(this.A=[]);b=this.A;var c=this.a,d=this.c,e=0,d=d?d:[],f=0,g;var h=0;for(g=a.length;h<g;++h)e=Ef(b,e,a[h],c,d[f]),d[f++]=e,e=e[e.length-1];d.length=f;d.length?(a=d[d.length-1],this.A.length=a.length?a[a.length-1]:0):this.A.length=0;this.s()}else Ol(this,"XY",null,this.c)};
function Ol(a,b,c,d){tf(a,b,c);a.c=d;a.s()}function Pl(a,b){var c=a.ja,d=[],e=[],f;var g=0;for(f=b.length;g<f;++g){var h=b[g];g||(c=h.ja);var l=d.length;var m=h.Bb();var n;var p=0;for(n=m.length;p<n;++p)m[p]+=l;la(d,h.ga());e.push(m)}Ol(a,c,d,e)};function Ql(a){a=a?a:{};El.call(this);this.b=a.geometryName}v(Ql,Il);
function Rl(a,b){if(!a)return null;if("number"===typeof a.x&&"number"===typeof a.y)var c="Point";else if(a.points)c="MultiPoint";else if(a.paths)c=1===a.paths.length?"LineString":"MultiLineString";else if(a.rings){var d=a.rings,e=Sl(a),f=[],g=[];c=[];var h;var l=0;for(h=d.length;l<h;++l)f.length=0,Df(f,0,d[l],e.length),Sf(f,0,f.length,e.length)?g.push([d[l]]):c.push(d[l]);for(;c.length;){d=c.shift();e=!1;for(l=g.length-1;0<=l;l--)if(Va((new Jf(g[l][0])).G(),(new Jf(d)).G())){g[l].push(d);e=!0;break}e||
g.push([d.reverse()])}a=tb({},a);1===g.length?(c="Polygon",a.rings=g[0]):(c="MultiPolygon",a.rings=g)}return Hl((0,Tl[c])(a),!1,b)}function Sl(a){var b="XY";!0===a.hasZ&&!0===a.hasM?b="XYZM":!0===a.hasZ?b="XYZ":!0===a.hasM&&(b="XYM");return b}function Ul(a){a=a.ja;return{hasZ:"XYZ"===a||"XYZM"===a,hasM:"XYM"===a||"XYZM"===a}}
var Tl={Point:function(a){return void 0!==a.m&&void 0!==a.z?new C([a.x,a.y,a.z,a.m],"XYZM"):void 0!==a.z?new C([a.x,a.y,a.z],"XYZ"):void 0!==a.m?new C([a.x,a.y,a.m],"XYM"):new C([a.x,a.y])},LineString:function(a){return new O(a.paths[0],Sl(a))},Polygon:function(a){return new D(a.rings,Sl(a))},MultiPoint:function(a){return new Q(a.points,Sl(a))},MultiLineString:function(a){return new P(a.paths,Sl(a))},MultiPolygon:function(a){return new R(a.rings,Sl(a))}},Vl={Point:function(a){var b=a.X(),c;a=a.ja;
"XYZ"===a?c={x:b[0],y:b[1],z:b[2]}:"XYM"===a?c={x:b[0],y:b[1],m:b[2]}:"XYZM"===a?c={x:b[0],y:b[1],z:b[2],m:b[3]}:"XY"===a?c={x:b[0],y:b[1]}:xa(!1,34);return c},LineString:function(a){var b=Ul(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:[a.X()]}},Polygon:function(a){var b=Ul(a);return{hasZ:b.hasZ,hasM:b.hasM,rings:a.X(!1)}},MultiPoint:function(a){var b=Ul(a);return{hasZ:b.hasZ,hasM:b.hasM,points:a.X()}},MultiLineString:function(a){var b=Ul(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:a.X()}},MultiPolygon:function(a){var b=
Ul(a);a=a.X(!1);for(var c=[],d=0;d<a.length;d++)for(var e=a[d].length-1;0<=e;e--)c.push(a[d][e]);return{hasZ:b.hasZ,hasM:b.hasM,rings:c}}};k=Ql.prototype;k.Rc=function(a,b){var c=Rl(a.geometry,b),d=new H;this.b&&d.Tc(this.b);d.Ra(c);b&&b.dg&&a.attributes[b.dg]&&d.jc(a.attributes[b.dg]);a.attributes&&d.H(a.attributes);return d};k.yg=function(a,b){b=b?b:{};if(a.features){var c=[],d=a.features,e;b.dg=a.objectIdFieldName;a=0;for(e=d.length;a<e;++a)c.push(this.Rc(d[a],b));return c}return[this.Rc(a,b)]};
k.Cg=function(a,b){return Rl(a,b)};k.Fg=function(a){return a.spatialReference&&a.spatialReference.wkid?Tb("EPSG:"+a.spatialReference.wkid):null};function Wl(a,b){return(0,Vl[a.U()])(Hl(a,!0,b),b)}k.je=function(a,b){return Wl(a,Gl(this,b))};k.Zc=function(a,b){b=Gl(this,b);var c={},d=a.V();d&&(c.geometry=Wl(d,b));d=a.N();delete d[a.c];c.attributes=wb(d)?{}:d;b&&b.featureProjection&&(c.spatialReference={wkid:Tb(b.featureProjection).mb.split(":").pop()});return c};
k.he=function(a,b){b=Gl(this,b);var c=[],d;var e=0;for(d=a.length;e<d;++e)c.push(this.Zc(a[e],b));return{features:c}};function Xl(a){this.kc=a};function Yl(a,b){this.kc=a;this.b=Array.prototype.slice.call(arguments,1);xa(2<=this.b.length,57)}v(Yl,Xl);function Zl(a){var b=["And"].concat(Array.prototype.slice.call(arguments));Yl.apply(this,b)}v(Zl,Yl);function $l(a,b,c){this.kc="BBOX";this.geometryName=a;this.extent=b;this.srsName=c}v($l,Xl);function am(a,b){this.kc=a;this.b=b}v(am,Xl);function bm(a,b,c){am.call(this,"During",a);this.a=b;this.i=c}v(bm,am);function cm(a,b,c,d){am.call(this,a,b);this.i=c;this.a=d}v(cm,am);function dm(a,b,c){cm.call(this,"PropertyIsEqualTo",a,b,c)}v(dm,cm);function em(a,b){cm.call(this,"PropertyIsGreaterThan",a,b)}v(em,cm);function fm(a,b){cm.call(this,"PropertyIsGreaterThanOrEqualTo",a,b)}v(fm,cm);function gm(a,b,c,d){this.kc=a;this.geometryName=b||"the_geom";this.geometry=c;this.srsName=d}v(gm,Xl);function hm(a,b,c){gm.call(this,"Intersects",a,b,c)}v(hm,gm);function im(a,b,c){am.call(this,"PropertyIsBetween",a);this.a=b;this.i=c}v(im,am);function jm(a,b,c,d,e,f){am.call(this,"PropertyIsLike",a);this.c=b;this.g=void 0!==c?c:"*";this.f=void 0!==d?d:".";this.i=void 0!==e?e:"!";this.a=f}v(jm,am);function km(a){am.call(this,"PropertyIsNull",a)}v(km,am);function lm(a,b){cm.call(this,"PropertyIsLessThan",a,b)}v(lm,cm);function mm(a,b){cm.call(this,"PropertyIsLessThanOrEqualTo",a,b)}v(mm,cm);function nm(a){this.kc="Not";this.condition=a}v(nm,Xl);function om(a,b,c){cm.call(this,"PropertyIsNotEqualTo",a,b,c)}v(om,cm);function pm(a){var b=["Or"].concat(Array.prototype.slice.call(arguments));Yl.apply(this,b)}v(pm,Yl);function qm(a,b,c){gm.call(this,"Within",a,b,c)}v(qm,gm);function rm(a){var b=[null].concat(Array.prototype.slice.call(arguments));return new (Function.prototype.bind.apply(Zl,b))}function sm(a,b,c){return new $l(a,b,c)};function tm(a){of.call(this);this.a=a?a:null;um(this)}v(tm,of);function vm(a){var b=[],c;var d=0;for(c=a.length;d<c;++d)b.push(a[d].clone());return b}function wm(a){var b;if(a.a){var c=0;for(b=a.a.length;c<b;++c)Kc(a.a[c],"change",a.s,a)}}function um(a){var b;if(a.a){var c=0;for(b=a.a.length;c<b;++c)y(a.a[c],"change",a.s,a)}}k=tm.prototype;k.clone=function(){var a=new tm(null);a.oj(this.a);return a};
k.Kb=function(a,b,c,d){if(d<Sa(this.G(),a,b))return d;var e=this.a,f;var g=0;for(f=e.length;g<f;++g)d=e[g].Kb(a,b,c,d);return d};k.Mc=function(a,b){var c=this.a,d;var e=0;for(d=c.length;e<d;++e)if(c[e].Mc(a,b))return!0;return!1};k.se=function(a){Ya(a);for(var b=this.a,c=0,d=b.length;c<d;++c)cb(a,b[c].G());return a};k.Vf=function(){return vm(this.a)};
k.Vd=function(a){this.o!=this.i&&(ub(this.f),this.g=0,this.o=this.i);if(0>a||this.g&&a<this.g)return this;var b=a.toString();if(this.f.hasOwnProperty(b))return this.f[b];var c=[],d=this.a,e=!1,f;var g=0;for(f=d.length;g<f;++g){var h=d[g],l=h.Vd(a);c.push(l);l!==h&&(e=!0)}if(e)return a=new tm(null),wm(a),a.a=c,um(a),a.s(),this.f[b]=a;this.g=a;return this};k.U=function(){return"GeometryCollection"};k.Xa=function(a){var b=this.a,c;var d=0;for(c=b.length;d<c;++d)if(b[d].Xa(a))return!0;return!1};
k.rotate=function(a,b){for(var c=this.a,d=0,e=c.length;d<e;++d)c[d].rotate(a,b);this.s()};k.scale=function(a,b,c){c||(c=nb(this.G()));for(var d=this.a,e=0,f=d.length;e<f;++e)d[e].scale(a,b,c);this.s()};k.oj=function(a){a=vm(a);wm(this);this.a=a;um(this);this.s()};k.Dc=function(a){var b=this.a,c;var d=0;for(c=b.length;d<c;++d)b[d].Dc(a);this.s()};k.translate=function(a,b){var c=this.a,d;var e=0;for(d=c.length;e<d;++e)c[e].translate(a,b);this.s()};k.ka=function(){wm(this);of.prototype.ka.call(this)};function xm(a){a=a?a:{};El.call(this);this.defaultDataProjection=Tb(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326");a.featureProjection&&(this.f=Tb(a.featureProjection));this.b=a.geometryName}v(xm,Il);function ym(a,b){return a?Hl((0,zm[a.type])(a),!1,b):null}function Am(a,b){return(0,Bm[a.U()])(Hl(a,!0,b),b)}
var zm={Point:function(a){return new C(a.coordinates)},LineString:function(a){return new O(a.coordinates)},Polygon:function(a){return new D(a.coordinates)},MultiPoint:function(a){return new Q(a.coordinates)},MultiLineString:function(a){return new P(a.coordinates)},MultiPolygon:function(a){return new R(a.coordinates)},GeometryCollection:function(a,b){a=a.geometries.map(function(a){return ym(a,b)});return new tm(a)}},Bm={Point:function(a){return{type:"Point",coordinates:a.X()}},LineString:function(a){return{type:"LineString",
coordinates:a.X()}},Polygon:function(a,b){if(b)var c=b.rightHanded;return{type:"Polygon",coordinates:a.X(c)}},MultiPoint:function(a){return{type:"MultiPoint",coordinates:a.X()}},MultiLineString:function(a){return{type:"MultiLineString",coordinates:a.X()}},MultiPolygon:function(a,b){if(b)var c=b.rightHanded;return{type:"MultiPolygon",coordinates:a.X(c)}},GeometryCollection:function(a,b){return{type:"GeometryCollection",geometries:a.a.map(function(a){var c=tb({},b);delete c.featureProjection;return Am(a,
c)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};k=xm.prototype;k.Rc=function(a,b){a="Feature"===a.type?a:{type:"Feature",geometry:a};b=ym(a.geometry,b);var c=new H;this.b&&c.Tc(this.b);c.Ra(b);void 0!==a.id&&c.jc(a.id);a.properties&&c.H(a.properties);return c};k.yg=function(a,b){if("FeatureCollection"===a.type){var c=[];a=a.features;var d;var e=0;for(d=a.length;e<d;++e)c.push(this.Rc(a[e],b))}else c=[this.Rc(a,b)];return c};k.Cg=function(a,b){return ym(a,b)};
k.Fg=function(a){a=a.crs;var b;a?"name"==a.type?b=Tb(a.properties.name):"EPSG"==a.type?b=Tb("EPSG:"+a.properties.code):xa(!1,36):b=this.defaultDataProjection;return b};k.Zc=function(a,b){b=Gl(this,b);var c={type:"Feature"},d=a.a;void 0!==d&&(c.id=d);(d=a.V())?c.geometry=Am(d,b):c.geometry=null;b=a.N();delete b[a.c];wb(b)?c.properties=null:c.properties=b;return c};k.he=function(a,b){b=Gl(this,b);var c=[],d;var e=0;for(d=a.length;e<d;++e)c.push(this.Zc(a[e],b));return{type:"FeatureCollection",features:c}};
k.je=function(a,b){return Am(a,Gl(this,b))};function Cm(){this.i=new XMLSerializer;El.call(this)}v(Cm,El);k=Cm.prototype;k.U=function(){return"xml"};k.Tb=function(a,b){return ml(a)?Dm(this,a,b):nl(a)?this.xg(a,b):"string"===typeof a?(a=pl(a),Dm(this,a,b)):null};function Dm(a,b,c){a=Em(a,b,c);return 0<a.length?a[0]:null}k.xg=function(){return null};k.Oa=function(a,b){return ml(a)?Em(this,a,b):nl(a)?this.zc(a,b):"string"===typeof a?(a=pl(a),Em(this,a,b)):[]};
function Em(a,b,c){var d=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&la(d,a.zc(b,c));return d}k.Sc=function(a,b){if(ml(a))return null;if(nl(a))return this.aj(a,b);"string"===typeof a&&pl(a);return null};k.aj=function(){return null};k.kb=function(a){return ml(a)?this.Eg(a):nl(a)?this.kf(a):"string"===typeof a?(a=pl(a),this.Eg(a)):null};k.Eg=function(){return this.defaultDataProjection};k.kf=function(){return this.defaultDataProjection};
k.Bd=function(a,b){return this.i.serializeToString(this.Vg(a,b))};k.Vg=function(){return null};k.Wb=function(a,b){a=this.Xb(a,b);return this.i.serializeToString(a)};k.Xb=function(){return null};k.$c=function(a,b){a=this.ie(a,b);return this.i.serializeToString(a)};k.ie=function(){return null};function Fm(a){a=a?a:{};this.featureType=a.featureType;this.featureNS=a.featureNS;this.srsName=a.srsName;this.schemaLocation="";this.b={};this.b["http://www.opengis.net/gml"]={featureMember:sl(Fm.prototype.be),featureMembers:sl(Fm.prototype.be)};Cm.call(this)}v(Fm,Cm);var Gm=/^[\s\xa0]*$/;k=Fm.prototype;
k.be=function(a,b){var c=a.localName,d=null;if("FeatureCollection"==c)"http://www.opengis.net/wfs"===a.namespaceURI?d=N([],this.b,a,b,this):d=N(null,this.b,a,b,this);else if("featureMembers"==c||"featureMember"==c){var e=b[0],f=e.featureType,g=e.featureNS,h;if(!f&&a.childNodes){f=[];g={};var l=0;for(h=a.childNodes.length;l<h;++l){var m=a.childNodes[l];if(1===m.nodeType){var n=m.nodeName.split(":").pop();if(-1===f.indexOf(n)){var p="",q=0,m=m.namespaceURI,r;for(r in g){if(g[r]===m){p=r;break}++q}p||
(p="p"+q,g[p]=m);f.push(p+":"+n)}}}"featureMember"!=c&&(e.featureType=f,e.featureNS=g)}"string"===typeof g&&(l=g,g={},g.p0=l);var e={},f=Array.isArray(f)?f:[f],u;for(u in g){n={};l=0;for(h=f.length;l<h;++l)(-1===f[l].indexOf(":")?"p0":f[l].split(":")[0])===u&&(n[f[l].split(":").pop()]="featureMembers"==c?rl(this.wg,this):sl(this.wg,this));e[g[u]]=n}"featureMember"==c?d=N(void 0,e,a,b):d=N([],e,a,b)}null===d&&(d=[]);return d};
k.gf=function(a,b){var c=b[0];c.srsName=a.firstElementChild.getAttribute("srsName");if(a=N(null,this.Zg,a,b,this))return Hl(a,!1,c)};
k.wg=function(a,b){var c;(c=a.getAttribute("fid"))||(c=a.getAttributeNS("http://www.opengis.net/gml","id")||"");var d={},e;for(a=a.firstElementChild;a;a=a.nextElementSibling){var f=a.localName;if(0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)){var g=kl(a,!1);Gm.test(g)&&(g=void 0);d[f]=g}else"boundedBy"!==f&&(e=f),d[f]=this.gf(a,b)}b=new H(d);e&&b.Tc(e);c&&b.jc(c);return b};
k.fj=function(a,b){if(a=this.ff(a,b))return b=new C(null),b.ba("XYZ",a),b};k.dj=function(a,b){if(a=N([],this.Nj,a,b,this))return new Q(a)};k.cj=function(a,b){if(a=N([],this.Mj,a,b,this))return b=new P(null),Nl(b,a),b};k.ej=function(a,b){if(a=N([],this.Oj,a,b,this))return b=new R(null),Pl(b,a),b};k.Xi=function(a,b){Al(this.Rj,a,b,this)};k.Mh=function(a,b){Al(this.Kj,a,b,this)};k.Yi=function(a,b){Al(this.Sj,a,b,this)};k.hf=function(a,b){if(a=this.ff(a,b))return b=new O(null),b.ba("XYZ",a),b};
k.wp=function(a,b){if(a=N(null,this.ke,a,b,this))return a};k.bj=function(a,b){if(a=this.ff(a,b))return b=new Jf(null),Kf(b,"XYZ",a),b};k.jf=function(a,b){if((a=N([null],this.zf,a,b,this))&&a[0]){b=new D(null);var c=a[0],d=[c.length],e;var f=1;for(e=a.length;f<e;++f)la(c,a[f]),d.push(c.length);b.ba("XYZ",c,d);return b}};k.ff=function(a,b){return N(null,this.ke,a,b,this)};k.Nj={"http://www.opengis.net/gml":{pointMember:rl(Fm.prototype.Xi),pointMembers:rl(Fm.prototype.Xi)}};
k.Mj={"http://www.opengis.net/gml":{lineStringMember:rl(Fm.prototype.Mh),lineStringMembers:rl(Fm.prototype.Mh)}};k.Oj={"http://www.opengis.net/gml":{polygonMember:rl(Fm.prototype.Yi),polygonMembers:rl(Fm.prototype.Yi)}};k.Rj={"http://www.opengis.net/gml":{Point:rl(Fm.prototype.ff)}};k.Kj={"http://www.opengis.net/gml":{LineString:rl(Fm.prototype.hf)}};k.Sj={"http://www.opengis.net/gml":{Polygon:rl(Fm.prototype.jf)}};k.le={"http://www.opengis.net/gml":{LinearRing:sl(Fm.prototype.wp)}};
k.aj=function(a,b){return(a=this.gf(a,[Fl(this,a,b?b:{})]))?a:null};k.zc=function(a,b){var c={featureType:this.featureType,featureNS:this.featureNS};b&&tb(c,Fl(this,a,b));return this.be(a,[c])||[]};k.kf=function(a){return Tb(this.srsName?this.srsName:a.firstElementChild.getAttribute("srsName"))};function Hm(a){a=kl(a,!1);return Im(a)}function Im(a){if(a=/^\s*(true|1)|(false|0)\s*$/.exec(a))return void 0!==a[1]||!1}function Jm(a){a=kl(a,!1);a=Date.parse(a);return isNaN(a)?void 0:a/1E3}function Km(a){a=kl(a,!1);return Lm(a)}function Lm(a){if(a=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a))return parseFloat(a[1])}function Mm(a){a=kl(a,!1);return Nm(a)}function Nm(a){if(a=/^\s*(\d+)\s*$/.exec(a))return parseInt(a[1],10)}function S(a){return kl(a,!1).trim()}
function Om(a,b){Pm(a,b?"1":"0")}function Qm(a,b){a.appendChild(il.createTextNode(b.toPrecision()))}function Rm(a,b){a.appendChild(il.createTextNode(b.toString()))}function Pm(a,b){a.appendChild(il.createTextNode(b))};function Sm(a){a=a?a:{};Fm.call(this,a);this.l=void 0!==a.surface?a.surface:!1;this.c=void 0!==a.curve?a.curve:!1;this.g=void 0!==a.multiCurve?a.multiCurve:!0;this.j=void 0!==a.multiSurface?a.multiSurface:!0;this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}v(Sm,Fm);k=Sm.prototype;k.Ap=function(a,b){if(a=N([],this.Lj,a,b,this))return b=new P(null),Nl(b,a),b};
k.Bp=function(a,b){if(a=N([],this.Pj,a,b,this))return b=new R(null),Pl(b,a),b};k.ph=function(a,b){Al(this.Hj,a,b,this)};k.Aj=function(a,b){Al(this.Uj,a,b,this)};k.Ep=function(a,b){return N([null],this.Qj,a,b,this)};k.Hp=function(a,b){return N([null],this.Tj,a,b,this)};k.Fp=function(a,b){return N([null],this.zf,a,b,this)};k.zp=function(a,b){return N([null],this.ke,a,b,this)};k.cm=function(a,b){(a=N(void 0,this.le,a,b,this))&&b[b.length-1].push(a)};
k.yk=function(a,b){(a=N(void 0,this.le,a,b,this))&&(b[b.length-1][0]=a)};k.gj=function(a,b){if((a=N([null],this.Vj,a,b,this))&&a[0]){b=new D(null);var c=a[0],d=[c.length],e;var f=1;for(e=a.length;f<e;++f)la(c,a[f]),d.push(c.length);b.ba("XYZ",c,d);return b}};k.Zi=function(a,b){if(a=N([null],this.Ij,a,b,this))return b=new O(null),b.ba("XYZ",a),b};k.vp=function(a,b){a=N([null],this.Jj,a,b,this);return Xa(a[1][0],a[1][1],a[2][0],a[2][1])};
k.xp=function(a,b){var c=kl(a,!1),d=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;a=[];for(var e;e=d.exec(c);)a.push(parseFloat(e[1])),c=c.substr(e[0].length);if(""===c){b=b[0].srsName;c="enu";b&&(c=Tb(b).b);if("neu"===c)for(b=0,c=a.length;b<c;b+=3)d=a[b],a[b]=a[b+1],a[b+1]=d;b=a.length;2==b&&a.push(0);if(b)return a}};
k.Bg=function(a,b){var c=kl(a,!1).replace(/^\s*|\s*$/g,""),d=b[0].srsName,e=a.parentNode.getAttribute("srsDimension");b="enu";d&&(b=Tb(d).b);c=c.split(/\s+/);d=2;a.getAttribute("srsDimension")?d=Nm(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=Nm(a.getAttribute("dimension")):e&&(d=Nm(e));for(var f,g=[],h=0,l=c.length;h<l;h+=d)a=parseFloat(c[h]),e=parseFloat(c[h+1]),f=3===d?parseFloat(c[h+2]):0,"en"===b.substr(0,2)?g.push(a,e,f):g.push(e,a,f);return g};
k.ke={"http://www.opengis.net/gml":{pos:sl(Sm.prototype.xp),posList:sl(Sm.prototype.Bg)}};k.zf={"http://www.opengis.net/gml":{interior:Sm.prototype.cm,exterior:Sm.prototype.yk}};
k.Zg={"http://www.opengis.net/gml":{Point:sl(Fm.prototype.fj),MultiPoint:sl(Fm.prototype.dj),LineString:sl(Fm.prototype.hf),MultiLineString:sl(Fm.prototype.cj),LinearRing:sl(Fm.prototype.bj),Polygon:sl(Fm.prototype.jf),MultiPolygon:sl(Fm.prototype.ej),Surface:sl(Sm.prototype.gj),MultiSurface:sl(Sm.prototype.Bp),Curve:sl(Sm.prototype.Zi),MultiCurve:sl(Sm.prototype.Ap),Envelope:sl(Sm.prototype.vp)}};k.Lj={"http://www.opengis.net/gml":{curveMember:rl(Sm.prototype.ph),curveMembers:rl(Sm.prototype.ph)}};
k.Pj={"http://www.opengis.net/gml":{surfaceMember:rl(Sm.prototype.Aj),surfaceMembers:rl(Sm.prototype.Aj)}};k.Hj={"http://www.opengis.net/gml":{LineString:rl(Fm.prototype.hf),Curve:rl(Sm.prototype.Zi)}};k.Uj={"http://www.opengis.net/gml":{Polygon:rl(Fm.prototype.jf),Surface:rl(Sm.prototype.gj)}};k.Vj={"http://www.opengis.net/gml":{patches:sl(Sm.prototype.Ep)}};k.Ij={"http://www.opengis.net/gml":{segments:sl(Sm.prototype.Hp)}};k.Jj={"http://www.opengis.net/gml":{lowerCorner:rl(Sm.prototype.Bg),upperCorner:rl(Sm.prototype.Bg)}};
k.Qj={"http://www.opengis.net/gml":{PolygonPatch:sl(Sm.prototype.Fp)}};k.Tj={"http://www.opengis.net/gml":{LineStringSegment:sl(Sm.prototype.zp)}};function Tm(a,b,c){var d=c[c.length-1];c=d.hasZ;d=d.srsName;b=b.X();for(var e=b.length,f=Array(e),g,h=0;h<e;++h){g=b[h];var l=h,m=c,n="enu";d&&(n=Tb(d).b);n="en"===n.substr(0,2)?g[0]+" "+g[1]:g[1]+" "+g[0];m&&(n+=" "+(g[2]||0));f[l]=n}Pm(a,f.join(" "))}
k.ni=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);d=jl(a.namespaceURI,"pos");a.appendChild(d);c=c[c.length-1];a=c.hasZ;var e=c.srsName;c="enu";e&&(c=Tb(e).b);b=b.X();c="en"===c.substr(0,2)?b[0]+" "+b[1]:b[1]+" "+b[0];a&&(c+=" "+(b[2]||0));Pm(d,c)};var Um={"http://www.opengis.net/gml":{lowerCorner:J(Pm),upperCorner:J(Pm)}};k=Sm.prototype;
k.jn=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);Bl({node:a},Um,yl,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)};k.ki=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);d=jl(a.namespaceURI,"posList");a.appendChild(d);Tm(d,b,c)};k.hn=function(a,b){a=b[b.length-1];b=a.node;var c=a.exteriorWritten;void 0===c&&(a.exteriorWritten=!0);return jl(b.namespaceURI,void 0!==c?"interior":"exterior")};
k.Se=function(a,b,c){var d=c[c.length-1],e=d.hasZ,d=d.srsName;"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d);"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.Sd(),Bl({node:a,hasZ:e,srsName:d},Vm,this.hn,b,c,void 0,this)):"Surface"===a.nodeName&&(e=jl(a.namespaceURI,"patches"),a.appendChild(e),a=jl(e.namespaceURI,"PolygonPatch"),e.appendChild(a),this.Se(a,b,c))};
k.Re=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d);"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=jl(a.namespaceURI,"posList"),a.appendChild(d),Tm(d,b,c)):"Curve"===a.nodeName&&(d=jl(a.namespaceURI,"segments"),a.appendChild(d),a=jl(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.Re(a,b,c))};
k.mi=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName,d=d.surface;f&&a.setAttribute("srsName",f);b=b.Td();Bl({node:a,hasZ:e,srsName:f,surface:d},Wm,this.o,b,c,void 0,this)};k.kn=function(a,b,c){var d=c[c.length-1],e=d.srsName,d=d.hasZ;e&&a.setAttribute("srsName",e);b=b.Zd();Bl({node:a,hasZ:d,srsName:e},Xm,wl("pointMember"),b,c,void 0,this)};
k.li=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName,d=d.curve;f&&a.setAttribute("srsName",f);b=b.gd();Bl({node:a,hasZ:e,srsName:f,curve:d},Ym,this.o,b,c,void 0,this)};k.oi=function(a,b,c){var d=jl(a.namespaceURI,"LinearRing");a.appendChild(d);this.ki(d,b,c)};k.pi=function(a,b,c){var d=this.a(b,c);d&&(a.appendChild(d),this.Se(d,b,c))};k.ln=function(a,b,c){var d=jl(a.namespaceURI,"Point");a.appendChild(d);this.ni(d,b,c)};
k.ji=function(a,b,c){var d=this.a(b,c);d&&(a.appendChild(d),this.Re(d,b,c))};k.od=function(a,b,c){var d=c[c.length-1],e=tb({},d);e.node=a;var f;Array.isArray(b)?d.dataProjection?f=hc(b,d.featureProjection,d.dataProjection):f=b:f=Hl(b,!0,d);Bl(e,Zm,this.a,[f],c,void 0,this)};
k.ii=function(a,b,c){var d=b.a;d&&a.setAttribute("fid",d);var d=c[c.length-1],e=d.featureNS,f=b.c;d.lb||(d.lb={},d.lb[e]={});var g=b.N();b=[];var h=[];for(m in g){var l=g[m];null!==l&&(b.push(m),h.push(l),m==f||l instanceof of?m in d.lb[e]||(d.lb[e][m]=J(this.od,this)):m in d.lb[e]||(d.lb[e][m]=J(Pm)))}var m=tb({},d);m.node=a;Bl(m,d.lb,wl(void 0,e),h,c,b)};
var Wm={"http://www.opengis.net/gml":{surfaceMember:J(Sm.prototype.pi),polygonMember:J(Sm.prototype.pi)}},Xm={"http://www.opengis.net/gml":{pointMember:J(Sm.prototype.ln)}},Ym={"http://www.opengis.net/gml":{lineStringMember:J(Sm.prototype.ji),curveMember:J(Sm.prototype.ji)}},Vm={"http://www.opengis.net/gml":{exterior:J(Sm.prototype.oi),interior:J(Sm.prototype.oi)}},Zm={"http://www.opengis.net/gml":{Curve:J(Sm.prototype.Re),MultiCurve:J(Sm.prototype.li),Point:J(Sm.prototype.ni),MultiPoint:J(Sm.prototype.kn),
LineString:J(Sm.prototype.Re),MultiLineString:J(Sm.prototype.li),LinearRing:J(Sm.prototype.ki),Polygon:J(Sm.prototype.Se),MultiPolygon:J(Sm.prototype.mi),Surface:J(Sm.prototype.Se),MultiSurface:J(Sm.prototype.mi),Envelope:J(Sm.prototype.jn)}},$m={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};Sm.prototype.o=function(a,b){return jl("http://www.opengis.net/gml",$m[b[b.length-1].node.nodeName])};
Sm.prototype.a=function(a,b){var c=b[b.length-1];b=c.multiSurface;var d=c.surface,e=c.curve,c=c.multiCurve;Array.isArray(a)?a="Envelope":(a=a.U(),"MultiPolygon"===a&&!0===b?a="MultiSurface":"Polygon"===a&&!0===d?a="Surface":"LineString"===a&&!0===e?a="Curve":"MultiLineString"===a&&!0===c&&(a="MultiCurve"));return jl("http://www.opengis.net/gml",a)};
Sm.prototype.ie=function(a,b){b=Gl(this,b);var c=jl("http://www.opengis.net/gml","geom"),d={node:c,hasZ:this.hasZ,srsName:this.srsName,curve:this.c,surface:this.l,multiSurface:this.j,multiCurve:this.g};b&&tb(d,b);this.od(c,a,[d]);return c};
Sm.prototype.Xb=function(a,b){b=Gl(this,b);var c=jl("http://www.opengis.net/gml","featureMembers");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var d={srsName:this.srsName,hasZ:this.hasZ,curve:this.c,surface:this.l,multiSurface:this.j,multiCurve:this.g,featureNS:this.featureNS,featureType:this.featureType};b&&tb(d,b);b=[d];var e=b[b.length-1],d=e.featureType,f=e.featureNS,g={};g[f]={};g[f][d]=J(this.ii,this);e=tb({},e);e.node=c;Bl(e,g,wl(d,
f),a,b);return c};function an(a){a=a?a:{};Fm.call(this,a);this.b["http://www.opengis.net/gml"].featureMember=rl(Fm.prototype.be);this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}v(an,Fm);k=an.prototype;
k.$i=function(a,b){a=kl(a,!1).replace(/^\s*|\s*$/g,"");var c=b[0].srsName;b="enu";c&&(c=Tb(c))&&(b=c.b);a=a.trim().split(/\s+/);for(var d,e,f=[],g=0,h=a.length;g<h;g++)e=a[g].split(/,+/),c=parseFloat(e[0]),d=parseFloat(e[1]),e=3===e.length?parseFloat(e[2]):0,"en"===b.substr(0,2)?f.push(c,d,e):f.push(d,c,e);return f};k.tp=function(a,b){a=N([null],this.Gj,a,b,this);return Xa(a[1][0],a[1][1],a[1][3],a[1][4])};k.am=function(a,b){(a=N(void 0,this.le,a,b,this))&&b[b.length-1].push(a)};
k.bp=function(a,b){(a=N(void 0,this.le,a,b,this))&&(b[b.length-1][0]=a)};k.ke={"http://www.opengis.net/gml":{coordinates:sl(an.prototype.$i)}};k.zf={"http://www.opengis.net/gml":{innerBoundaryIs:an.prototype.am,outerBoundaryIs:an.prototype.bp}};k.Gj={"http://www.opengis.net/gml":{coordinates:rl(an.prototype.$i)}};
k.Zg={"http://www.opengis.net/gml":{Point:sl(Fm.prototype.fj),MultiPoint:sl(Fm.prototype.dj),LineString:sl(Fm.prototype.hf),MultiLineString:sl(Fm.prototype.cj),LinearRing:sl(Fm.prototype.bj),Polygon:sl(Fm.prototype.jf),MultiPolygon:sl(Fm.prototype.ej),Box:sl(an.prototype.tp)}};
k.jg=function(a,b){var c=b[b.length-1];b=c.multiSurface;var d=c.surface,c=c.multiCurve;Array.isArray(a)?a="Envelope":(a=a.U(),"MultiPolygon"===a&&!0===b?a="MultiSurface":"Polygon"===a&&!0===d?a="Surface":"MultiLineString"===a&&!0===c&&(a="MultiCurve"));return jl("http://www.opengis.net/gml",a)};k.ai=function(a,b,c){var d=c[c.length-1],e=tb({},d);e.node=a;var f;Array.isArray(b)?d.dataProjection?f=hc(b,d.featureProjection,d.dataProjection):f=b:f=Hl(b,!0,d);Bl(e,bn,this.jg,[f],c,void 0,this)};
k.Pe=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d);"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=cn(a.namespaceURI),a.appendChild(d),dn(d,b,c)):"Curve"===a.nodeName&&(d=jl(a.namespaceURI,"segments"),a.appendChild(d),a=jl(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.Pe(a,b,c))};function cn(a){a=jl(a,"coordinates");a.setAttribute("decimal",".");a.setAttribute("cs",",");a.setAttribute("ts"," ");return a}
function dn(a,b,c){var d=c[c.length-1];c=d.hasZ;d=d.srsName;b=b.X();for(var e=b.length,f=Array(e),g,h=0;h<e;++h)g=b[h],f[h]=en(g,d,c);Pm(a,f.join(" "))}
k.Qe=function(a,b,c){var d=c[c.length-1],e=d.hasZ,d=d.srsName;"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d);"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.Sd(),Bl({node:a,hasZ:e,srsName:d},fn,this.dn,b,c,void 0,this)):"Surface"===a.nodeName&&(e=jl(a.namespaceURI,"patches"),a.appendChild(e),a=jl(e.namespaceURI,"PolygonPatch"),e.appendChild(a),this.Qe(a,b,c))};
k.dn=function(a,b){a=b[b.length-1];b=a.node;var c=a.exteriorWritten;void 0===c&&(a.exteriorWritten=!0);return jl(b.namespaceURI,void 0!==c?"innerBoundaryIs":"outerBoundaryIs")};k.gi=function(a,b,c){var d=jl(a.namespaceURI,"LinearRing");a.appendChild(d);this.ci(d,b,c)};function en(a,b,c){var d="enu";b&&(d=Tb(b).b);b="en"===d.substr(0,2)?a[0]+","+a[1]:a[1]+","+a[0];c&&(b+=","+(a[2]||0));return b}
k.di=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName,d=d.curve;f&&a.setAttribute("srsName",f);b=b.gd();Bl({node:a,hasZ:e,srsName:f,curve:d},gn,this.a,b,c,void 0,this)};k.fi=function(a,b,c){var d=c[c.length-1];c=d.hasZ;var e=d.srsName;e&&a.setAttribute("srsName",e);d=cn(a.namespaceURI);a.appendChild(d);a=b.X();a=en(a,e,c);Pm(d,a)};
k.fn=function(a,b,c){var d=c[c.length-1],e=d.hasZ;(d=d.srsName)&&a.setAttribute("srsName",d);b=b.Zd();Bl({node:a,hasZ:e,srsName:d},hn,wl("pointMember"),b,c,void 0,this)};k.gn=function(a,b,c){var d=jl(a.namespaceURI,"Point");a.appendChild(d);this.fi(d,b,c)};k.bi=function(a,b,c){var d=this.jg(b,c);d&&(a.appendChild(d),this.Pe(d,b,c))};k.ci=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);d=cn(a.namespaceURI);a.appendChild(d);dn(d,b,c)};
k.ei=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName,d=d.surface;f&&a.setAttribute("srsName",f);b=b.Td();Bl({node:a,hasZ:e,srsName:f,surface:d},jn,this.a,b,c,void 0,this)};k.hi=function(a,b,c){var d=this.jg(b,c);d&&(a.appendChild(d),this.Qe(d,b,c))};k.en=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);Bl({node:a},kn,yl,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)};
var bn={"http://www.opengis.net/gml":{Curve:J(an.prototype.Pe),MultiCurve:J(an.prototype.di),Point:J(an.prototype.fi),MultiPoint:J(an.prototype.fn),LineString:J(an.prototype.Pe),MultiLineString:J(an.prototype.di),LinearRing:J(an.prototype.ci),Polygon:J(an.prototype.Qe),MultiPolygon:J(an.prototype.ei),Surface:J(an.prototype.Qe),MultiSurface:J(an.prototype.ei),Envelope:J(an.prototype.en)}},fn={"http://www.opengis.net/gml":{outerBoundaryIs:J(an.prototype.gi),innerBoundaryIs:J(an.prototype.gi)}},hn={"http://www.opengis.net/gml":{pointMember:J(an.prototype.gn)}},
gn={"http://www.opengis.net/gml":{lineStringMember:J(an.prototype.bi),curveMember:J(an.prototype.bi)}};an.prototype.a=function(a,b){return jl("http://www.opengis.net/gml",ln[b[b.length-1].node.nodeName])};var ln={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},jn={"http://www.opengis.net/gml":{surfaceMember:J(an.prototype.hi),polygonMember:J(an.prototype.hi)}},kn={"http://www.opengis.net/gml":{lowerCorner:J(Pm),upperCorner:J(Pm)}};function mn(a){a=a?a:{};Cm.call(this);this.defaultDataProjection=Tb("EPSG:4326");this.b=a.readExtensions}v(mn,Cm);var nn=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];function on(a,b,c,d){a.push(parseFloat(c.getAttribute("lon")),parseFloat(c.getAttribute("lat")));"ele"in d?(a.push(d.ele),delete d.ele,b.hasZ=!0):a.push(0);"time"in d?(a.push(d.time),delete d.time,b.hasM=!0):a.push(0);return a}
function pn(a,b,c){var d="XY",e=2;a.hasZ&&a.hasM?(d="XYZM",e=4):a.hasZ?(d="XYZ",e=3):a.hasM&&(d="XYM",e=3);if(4!==e){var f;var g=0;for(f=b.length/4;g<f;g++)b[g*e]=b[4*g],b[g*e+1]=b[4*g+1],a.hasZ&&(b[g*e+2]=b[4*g+2]),a.hasM&&(b[g*e+2]=b[4*g+3]);b.length=b.length/4*e;if(c)for(g=0,f=c.length;g<f;g++)c[g]=c[g]/4*e}return d}function qn(a,b){var c=b[b.length-1],d=a.getAttribute("href");null!==d&&(c.link=d);Al(rn,a,b)}function sn(a,b){b[b.length-1].extensionsNode_=a}
function tn(a,b){var c=b[0];if(a=N({flatCoordinates:[],layoutOptions:{}},un,a,b)){b=a.flatCoordinates;delete a.flatCoordinates;var d=a.layoutOptions;delete a.layoutOptions;var d=pn(d,b),e=new O(null);e.ba(d,b);Hl(e,!1,c);c=new H(e);c.H(a);return c}}
function vn(a,b){var c=b[0];if(a=N({flatCoordinates:[],ends:[],layoutOptions:{}},wn,a,b)){b=a.flatCoordinates;delete a.flatCoordinates;var d=a.ends;delete a.ends;var e=a.layoutOptions;delete a.layoutOptions;var e=pn(e,b,d),f=new P(null);f.ba(e,b,d);Hl(f,!1,c);c=new H(f);c.H(a);return c}}function xn(a,b){var c=b[0];if(b=N({},yn,a,b)){var d={};a=on([],d,a,b);d=pn(d,a);a=new C(a,d);Hl(a,!1,c);c=new H(a);c.H(b);return c}}
var zn={rte:tn,trk:vn,wpt:xn},An=K(nn,{rte:rl(tn),trk:rl(vn),wpt:rl(xn)}),rn=K(nn,{text:I(S,"linkText"),type:I(S,"linkType")}),un=K(nn,{name:I(S),cmt:I(S),desc:I(S),src:I(S),link:qn,number:I(Mm),extensions:sn,type:I(S),rtept:function(a,b){var c=N({},Bn,a,b);c&&(b=b[b.length-1],on(b.flatCoordinates,b.layoutOptions,a,c))}}),Bn=K(nn,{ele:I(Km),time:I(Jm)}),wn=K(nn,{name:I(S),cmt:I(S),desc:I(S),src:I(S),link:qn,number:I(Mm),type:I(S),extensions:sn,trkseg:function(a,b){var c=b[b.length-1];Al(Cn,a,b);c.ends.push(c.flatCoordinates.length)}}),
Cn=K(nn,{trkpt:function(a,b){var c=N({},Dn,a,b);c&&(b=b[b.length-1],on(b.flatCoordinates,b.layoutOptions,a,c))}}),Dn=K(nn,{ele:I(Km),time:I(Jm)}),yn=K(nn,{ele:I(Km),time:I(Jm),magvar:I(Km),geoidheight:I(Km),name:I(S),cmt:I(S),desc:I(S),src:I(S),link:qn,sym:I(S),type:I(S),fix:I(S),sat:I(Mm),hdop:I(Km),vdop:I(Km),pdop:I(Km),ageofdgpsdata:I(Km),dgpsid:I(Mm),extensions:sn});
function En(a,b){b||(b=[]);for(var c=0,d=b.length;c<d;++c){var e=b[c];if(a.b){var f=e.get("extensionsNode_")||null;a.b(e,f)}e.set("extensionsNode_",void 0)}}mn.prototype.xg=function(a,b){if(!ja(nn,a.namespaceURI))return null;var c=zn[a.localName];if(!c)return null;a=c(a,[Fl(this,a,b)]);if(!a)return null;En(this,[a]);return a};mn.prototype.zc=function(a,b){return ja(nn,a.namespaceURI)?"gpx"==a.localName&&(a=N([],An,a,[Fl(this,a,b)]))?(En(this,a),a):[]:[]};
function Fn(a,b,c){a.setAttribute("href",b);b=c[c.length-1].properties;Bl({node:a},Gn,yl,[b.linkText,b.linkType],c,Hn)}function In(a,b,c){var d=c[c.length-1],e=d.node.namespaceURI,f=d.properties;a.setAttributeNS(null,"lat",b[1]);a.setAttributeNS(null,"lon",b[0]);switch(d.geometryLayout){case "XYZM":b[3]&&(f.time=b[3]);case "XYZ":b[2]&&(f.ele=b[2]);break;case "XYM":b[2]&&(f.time=b[2])}b="rtept"==a.nodeName?Jn[e]:Kn[e];d=zl(f,b);Bl({node:a,properties:f},Ln,yl,d,c,b)}
var Hn=["text","type"],Gn=K(nn,{text:J(Pm),type:J(Pm)}),Mn=K(nn,"name cmt desc src link number type rtept".split(" ")),Nn=K(nn,{name:J(Pm),cmt:J(Pm),desc:J(Pm),src:J(Pm),link:J(Fn),number:J(Rm),type:J(Pm),rtept:vl(J(In))}),Jn=K(nn,["ele","time"]),On=K(nn,"name cmt desc src link number type trkseg".split(" ")),Rn=K(nn,{name:J(Pm),cmt:J(Pm),desc:J(Pm),src:J(Pm),link:J(Fn),number:J(Rm),type:J(Pm),trkseg:vl(J(function(a,b,c){Bl({node:a,geometryLayout:b.ja,properties:{}},Pn,Qn,b.X(),c)}))}),Qn=wl("trkpt"),
Pn=K(nn,{trkpt:J(In)}),Kn=K(nn,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Ln=K(nn,{ele:J(Qm),time:J(function(a,b){b=new Date(1E3*b);a.appendChild(il.createTextNode(b.getUTCFullYear()+"-"+Xe(b.getUTCMonth()+1)+"-"+Xe(b.getUTCDate())+"T"+Xe(b.getUTCHours())+":"+Xe(b.getUTCMinutes())+":"+Xe(b.getUTCSeconds())+"Z"))}),magvar:J(Qm),geoidheight:J(Qm),name:J(Pm),cmt:J(Pm),desc:J(Pm),src:J(Pm),link:J(Fn),sym:J(Pm),type:J(Pm),fix:J(Pm),
sat:J(Rm),hdop:J(Qm),vdop:J(Qm),pdop:J(Qm),ageofdgpsdata:J(Qm),dgpsid:J(Rm)}),Sn={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function Tn(a,b){if(a=a.V())if(a=Sn[a.U()])return jl(b[b.length-1].node.namespaceURI,a)}
var Un=K(nn,{rte:J(function(a,b,c){var d=c[0],e=b.N();a={node:a,properties:e};if(b=b.V())b=Hl(b,!0,d),a.geometryLayout=b.ja,e.rtept=b.X();d=Mn[c[c.length-1].node.namespaceURI];e=zl(e,d);Bl(a,Nn,yl,e,c,d)}),trk:J(function(a,b,c){var d=c[0],e=b.N();a={node:a,properties:e};if(b=b.V())b=Hl(b,!0,d),e.trkseg=b.gd();d=On[c[c.length-1].node.namespaceURI];e=zl(e,d);Bl(a,Rn,yl,e,c,d)}),wpt:J(function(a,b,c){var d=c[0],e=c[c.length-1];e.properties=b.N();if(b=b.V())b=Hl(b,!0,d),e.geometryLayout=b.ja,In(a,b.X(),
c)})});mn.prototype.Xb=function(a,b){b=Gl(this,b);var c=jl("http://www.topografix.com/GPX/1/1","gpx");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd");c.setAttribute("version","1.1");c.setAttribute("creator","OpenLayers");Bl({node:c},Un,Tn,a,[b]);return c};function Vn(){El.call(this)}v(Vn,El);function Wn(a){return"string"===typeof a?a:""}k=Vn.prototype;k.U=function(){return"text"};k.Tb=function(a,b){return this.ae(Wn(a),Gl(this,b))};k.Oa=function(a,b){return this.zg(Wn(a),Gl(this,b))};k.Sc=function(a,b){return this.wd(Wn(a),Gl(this,b))};k.kb=function(){return this.defaultDataProjection};k.Bd=function(a,b){return this.ge(a,Gl(this,b))};k.Wb=function(a,b){return this.Wg(a,Gl(this,b))};k.$c=function(a,b){return this.Cd(a,Gl(this,b))};function Xn(a){a=a?a:{};El.call(this);this.defaultDataProjection=Tb("EPSG:4326");this.b=a.altitudeMode?a.altitudeMode:"none"}v(Xn,Vn);var Yn=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Zn=/^H.([A-Z]{3}).*?:(.*)/,$n=/^HFDTE(\d{2})(\d{2})(\d{2})/,ao=/\r\n|\r|\n/;k=Xn.prototype;
k.ae=function(a,b){var c=this.b,d=a.split(ao);a={};var e=[],f=2E3,g=0,h=1,l=-1,m;var n=0;for(m=d.length;n<m;++n){var p=d[n],q;if("B"==p.charAt(0)){if(q=Yn.exec(p)){var p=parseInt(q[1],10),r=parseInt(q[2],10),u=parseInt(q[3],10),x=parseInt(q[4],10)+parseInt(q[5],10)/6E4;"S"==q[6]&&(x=-x);var B=parseInt(q[7],10)+parseInt(q[8],10)/6E4;"W"==q[9]&&(B=-B);e.push(B,x);"none"!=c&&e.push("gps"==c?parseInt(q[11],10):"barometric"==c?parseInt(q[12],10):0);q=Date.UTC(f,g,h,p,r,u);q<l&&(q=Date.UTC(f,g,h+1,p,r,
u));e.push(q/1E3);l=q}}else"H"==p.charAt(0)&&((q=$n.exec(p))?(h=parseInt(q[1],10),g=parseInt(q[2],10)-1,f=2E3+parseInt(q[3],10)):(q=Zn.exec(p))&&(a[q[1]]=q[2].trim()))}if(!e.length)return null;d=new O(null);d.ba("none"==c?"XYM":"XYZM",e);b=new H(Hl(d,!1,b));b.H(a);return b};k.zg=function(a,b){return(a=this.ae(a,b))?[a]:[]};k.ge=function(){};k.Wg=function(){};k.Cd=function(){};k.wd=function(){};function bo(a,b,c,d,e,f){Qc.call(this);this.j=null;this.M=a?a:new Image;null!==d&&(this.M.crossOrigin=d);this.c=f?document.createElement("CANVAS"):null;this.g=f;this.f=null;this.i=e;this.a=c;this.o=b;this.l=!1;2==this.i&&co(this)}v(bo,Qc);function co(a){var b=jd(1,1);try{b.drawImage(a.M,0,0),b.getImageData(0,0,1,1)}catch(c){a.l=!0}}bo.prototype.v=function(){this.i=3;this.f.forEach(Ec);this.f=null;this.b("change")};
bo.prototype.u=function(){this.i=2;this.a&&(this.M.width=this.a[0],this.M.height=this.a[1]);this.a=[this.M.width,this.M.height];this.f.forEach(Ec);this.f=null;co(this);if(!this.l&&null!==this.g){this.c.width=this.M.width;this.c.height=this.M.height;var a=this.c.getContext("2d");a.drawImage(this.M,0,0);for(var b=a.getImageData(0,0,this.M.width,this.M.height),c=b.data,d=this.g[0]/255,e=this.g[1]/255,f=this.g[2]/255,g=0,h=c.length;g<h;g+=4)c[g]*=d,c[g+1]*=e,c[g+2]*=f;a.putImageData(b,0,0)}this.b("change")};
bo.prototype.Y=function(){return this.c?this.c:this.M};bo.prototype.load=function(){if(0==this.i){this.i=1;this.f=[Jc(this.M,"error",this.v,this),Jc(this.M,"load",this.u,this)];try{this.M.src=this.o}catch(a){this.v()}}};function eo(a){a=a||{};this.o=void 0!==a.anchor?a.anchor:[.5,.5];this.u=null;this.i=void 0!==a.anchorOrigin?a.anchorOrigin:"top-left";this.C=void 0!==a.anchorXUnits?a.anchorXUnits:"fraction";this.B=void 0!==a.anchorYUnits?a.anchorYUnits:"fraction";this.ra=void 0!==a.crossOrigin?a.crossOrigin:null;var b=void 0!==a.img?a.img:null,c=void 0!==a.imgSize?a.imgSize:null,d=a.src;xa(!(void 0!==d&&b),4);xa(!b||b&&c,5);void 0!==d&&d.length||!b||(d=b.src||w(b).toString());xa(void 0!==d&&0<d.length,6);var e=void 0!==
a.src?0:2;this.j=void 0!==a.color?ed(a.color):null;var f=this.ra,g=this.j,h=zh.get(d,f,g);h||(h=new bo(b,d,c,f,e,g),zh.set(d,f,g,h));this.b=h;this.oa=void 0!==a.offset?a.offset:[0,0];this.c=void 0!==a.offsetOrigin?a.offsetOrigin:"top-left";this.S=null;this.D=void 0!==a.size?a.size:null;Xk.call(this,{opacity:void 0!==a.opacity?a.opacity:1,rotation:void 0!==a.rotation?a.rotation:0,scale:void 0!==a.scale?a.scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0,rotateWithView:void 0!==a.rotateWithView?
a.rotateWithView:!1})}v(eo,Xk);k=eo.prototype;
k.clone=function(){var a=this.Y(1);if(2===this.b.i)if("IMG"===a.tagName.toUpperCase())var b=a.cloneNode(!0);else{b=document.createElement("canvas");var c=b.getContext("2d");b.width=a.width;b.height=a.height;c.drawImage(a,0,0)}return new eo({anchor:this.o.slice(),anchorOrigin:this.i,anchorXUnits:this.C,anchorYUnits:this.B,crossOrigin:this.ra,color:this.j&&this.j.slice?this.j.slice():this.j||void 0,img:b?b:void 0,imgSize:b?this.b.a.slice():void 0,src:b?void 0:this.b.o,offset:this.oa.slice(),offsetOrigin:this.c,
size:null!==this.D?this.D.slice():void 0,opacity:this.f,scale:this.a,snapToPixel:this.v,rotation:this.g,rotateWithView:this.l})};
k.Hc=function(){if(this.u)return this.u;var a=this.o,b=this.ic();if("fraction"==this.C||"fraction"==this.B){if(!b)return null;a=this.o.slice();"fraction"==this.C&&(a[0]*=b[0]);"fraction"==this.B&&(a[1]*=b[1])}if("top-left"!=this.i){if(!b)return null;a===this.o&&(a=this.o.slice());if("top-right"==this.i||"bottom-right"==this.i)a[0]=-a[0]+b[0];if("bottom-left"==this.i||"bottom-right"==this.i)a[1]=-a[1]+b[1]}return this.u=a};k.Lo=function(){return this.j};k.Y=function(a){return this.b.Y(a)};k.ye=function(){return this.b.a};
k.Ye=function(){return this.b.i};k.qg=function(){var a=this.b;if(!a.j)if(a.l){var b=a.a[0],c=a.a[1],d=jd(b,c);d.fillRect(0,0,b,c);a.j=d.canvas}else a.j=a.M;return a.j};k.Oc=function(){if(this.S)return this.S;var a=this.oa;if("top-left"!=this.c){var b=this.ic(),c=this.b.a;if(!b||!c)return null;a=a.slice();if("top-right"==this.c||"bottom-right"==this.c)a[0]=c[0]-b[0]-a[0];if("bottom-left"==this.c||"bottom-right"==this.c)a[1]=c[1]-b[1]-a[1]}return this.S=a};k.Mo=function(){return this.b.o};
k.ic=function(){return this.D?this.D:this.b.a};k.Nh=function(a,b){return y(this.b,"change",a,b)};k.load=function(){this.b.load()};k.Bj=function(a,b){Kc(this.b,"change",a,b)};function fo(a){a=a||{};this.a=a.font;this.f=a.rotation;this.o=a.rotateWithView;this.b=a.scale;this.Ia=a.text;this.g=a.textAlign;this.j=a.textBaseline;this.Va=void 0!==a.fill?a.fill:new al({color:"#333"});this.Ya=void 0!==a.stroke?a.stroke:null;this.i=void 0!==a.offsetX?a.offsetX:0;this.c=void 0!==a.offsetY?a.offsetY:0}k=fo.prototype;
k.clone=function(){return new fo({font:this.a,rotation:this.f,rotateWithView:this.o,scale:this.b,text:this.Na(),textAlign:this.g,textBaseline:this.j,fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,offsetX:this.i,offsetY:this.c})};k.Nk=function(){return this.a};k.cl=function(){return this.i};k.dl=function(){return this.c};k.Fa=function(){return this.Va};k.Ro=function(){return this.o};k.So=function(){return this.f};k.To=function(){return this.b};k.Ga=function(){return this.Ya};
k.Na=function(){return this.Ia};k.nl=function(){return this.g};k.ol=function(){return this.j};k.nj=function(a){this.a=a};k.sj=function(a){this.i=a};k.tj=function(a){this.c=a};k.pf=function(a){this.Va=a};k.Uo=function(a){this.f=a};k.Si=function(a){this.b=a};k.qf=function(a){this.Ya=a};k.xd=function(a){this.Ia=a};k.vj=function(a){this.g=a};k.hq=function(a){this.j=a};function go(a){a=a?a:{};Cm.call(this);ho||(io=[255,255,255,1],jo=new al({color:io}),ko=[20,2],lo=mo="pixels",no=[64,64],oo="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",po=.5,qo=new eo({anchor:ko,anchorOrigin:"bottom-left",anchorXUnits:mo,anchorYUnits:lo,crossOrigin:"anonymous",rotation:0,scale:po,size:no,src:oo}),ro="NO_IMAGE",so=new wj({color:io,width:1}),to=new wj({color:[51,51,51,1],width:2}),uo=new fo({font:"bold 16px Helvetica",fill:jo,stroke:to,scale:.8}),vo=new bl({fill:jo,
image:qo,text:uo,stroke:so,zIndex:0}),ho=[vo]);this.defaultDataProjection=Tb("EPSG:4326");this.a=a.defaultStyle?a.defaultStyle:ho;this.c=void 0!==a.extractStyles?a.extractStyles:!0;this.j=void 0!==a.writeStyles?a.writeStyles:!0;this.b={};this.g=void 0!==a.showPointNames?a.showPointNames:!0}var ho,io,jo,ko,mo,lo,no,oo,po,qo,ro,so,to,uo,vo;v(go,Cm);
var wo=["http://www.google.com/kml/ext/2.2"],xo=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],yo={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"};
function zo(a,b){var c=[0,0],d="start";if(a.Y()){var e=a.Y().ye();null===e&&(e=no);2==e.length&&(d=a.Y().a,c[0]=d*e[0]/2,c[1]=-d*e[1]/2,d="left")}null!==a.Na()?(e=a.Na(),a=e.clone(),a.nj(e.a||uo.a),a.Si(e.b||uo.b),a.pf(e.Fa()||uo.Fa()),a.qf(e.Ga()||to)):a=uo.clone();a.xd(b);a.sj(c[0]);a.tj(c[1]);a.vj(d);return new bl({text:a})}
function Ao(a,b,c,d,e){return function(){var f=e,g="";f&&this.V()&&(f="Point"===this.V().U());f&&(g=this.get("name"),f=f&&g);if(a)return f?(f=zo(a[0],g),a.concat(f)):a;if(b){var h=Bo(b,c,d);return f?(f=zo(h[0],g),h.concat(f)):h}return f?(f=zo(c[0],g),c.concat(f)):c}}function Bo(a,b,c){return Array.isArray(a)?a:"string"===typeof a?(!(a in c)&&"#"+a in c&&(a="#"+a),Bo(c[a],b,c)):b}
function Co(a){a=kl(a,!1);if(a=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(a))return a=a[1],[parseInt(a.substr(6,2),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(0,2),16)/255]}function Do(a){a=kl(a,!1);for(var b=[],c=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i,d;d=c.exec(a);)b.push(parseFloat(d[1]),parseFloat(d[2]),d[3]?parseFloat(d[3]):0),a=a.substr(d[0].length);if(""===a)return b}
function Eo(a){var b=kl(a,!1).trim();return a.baseURI&&"about:blank"!==a.baseURI?(new URL(b,a.baseURI)).href:b}function Fo(a){return Km(a)}function Go(a,b){return N(null,Ho,a,b)}function Io(a,b){if(b=N({A:[],Ej:[]},Jo,a,b)){a=b.A;b=b.Ej;var c;var d=0;for(c=Math.min(a.length,b.length);d<c;++d)a[4*d+3]=b[d];b=new O(null);b.ba("XYZM",a);return b}}function Ko(a,b){var c=N({},Lo,a,b);if(a=N(null,Mo,a,b))return b=new O(null),b.ba("XYZ",a),b.H(c),b}
function No(a,b){var c=N({},Lo,a,b);if(a=N(null,Mo,a,b))return b=new D(null),b.ba("XYZ",a,[a.length]),b.H(c),b}
function Oo(a,b){a=N([],Po,a,b);if(!a)return null;if(!a.length)return new tm(a);var c=!0,d=a[0].U(),e;var f=1;for(e=a.length;f<e;++f)if(b=a[f],b.U()!=d){c=!1;break}if(c)if("Point"==d){var g=a[0];c=g.ja;d=g.ga();f=1;for(e=a.length;f<e;++f)b=a[f],la(d,b.ga());g=new Q(null);g.ba(c,d);Qo(g,a)}else"LineString"==d?(g=new P(null),Nl(g,a),Qo(g,a)):"Polygon"==d?(g=new R(null),Pl(g,a),Qo(g,a)):"GeometryCollection"==d?g=new tm(a):xa(!1,37);else g=new tm(a);return g}
function Ro(a,b){var c=N({},Lo,a,b);if(a=N(null,Mo,a,b))return b=new C(null),b.ba("XYZ",a),b.H(c),b}function So(a,b){var c=N({},Lo,a,b);if((a=N([null],To,a,b))&&a[0]){b=new D(null);var d=a[0],e=[d.length],f;var g=1;for(f=a.length;g<f;++g)la(d,a[g]),e.push(d.length);b.ba("XYZ",d,e);b.H(c);return b}}
function Uo(a,b){b=N({},Vo,a,b);if(!b)return null;a="fillStyle"in b?b.fillStyle:jo;var c=b.fill;void 0===c||c||(a=null);c="imageStyle"in b?b.imageStyle:qo;c==ro&&(c=void 0);var d="textStyle"in b?b.textStyle:uo,e="strokeStyle"in b?b.strokeStyle:so;b=b.outline;void 0===b||b||(e=null);return[new bl({fill:a,image:c,stroke:e,text:d,zIndex:void 0})]}
function Qo(a,b){var c=b.length,d=Array(b.length),e=Array(b.length),f,g;var h=g=!1;for(f=0;f<c;++f){var l=b[f];d[f]=l.get("extrude");e[f]=l.get("altitudeMode");h=h||void 0!==d[f];g=g||e[f]}h&&a.set("extrude",d);g&&a.set("altitudeMode",e)}function Wo(a,b){Al(Xo,a,b)}function Yo(a,b){Al(Zo,a,b)}
var $o=K(xo,{displayName:I(S),value:I(S)}),Xo=K(xo,{Data:function(a,b){var c=a.getAttribute("name");Al($o,a,b);a=b[b.length-1];null!==c?a[c]=a.value:null!==a.displayName&&(a[a.displayName]=a.value)},SchemaData:function(a,b){Al(ap,a,b)}}),Zo=K(xo,{LatLonAltBox:function(a,b){if(a=N({},bp,a,b))b=b[b.length-1],b.extent=[parseFloat(a.west),parseFloat(a.south),parseFloat(a.east),parseFloat(a.north)],b.altitudeMode=a.altitudeMode,b.minAltitude=parseFloat(a.minAltitude),b.maxAltitude=parseFloat(a.maxAltitude)},
Lod:function(a,b){if(a=N({},cp,a,b))b=b[b.length-1],b.minLodPixels=parseFloat(a.minLodPixels),b.maxLodPixels=parseFloat(a.maxLodPixels),b.minFadeExtent=parseFloat(a.minFadeExtent),b.maxFadeExtent=parseFloat(a.maxFadeExtent)}}),bp=K(xo,{altitudeMode:I(S),minAltitude:I(Km),maxAltitude:I(Km),north:I(Km),south:I(Km),east:I(Km),west:I(Km)}),cp=K(xo,{minLodPixels:I(Km),maxLodPixels:I(Km),minFadeExtent:I(Km),maxFadeExtent:I(Km)}),Lo=K(xo,{extrude:I(Hm),altitudeMode:I(S)}),Ho=K(xo,{coordinates:sl(Do)}),To=
K(xo,{innerBoundaryIs:function(a,b){(a=N(void 0,dp,a,b))&&b[b.length-1].push(a)},outerBoundaryIs:function(a,b){(a=N(void 0,ep,a,b))&&(b[b.length-1][0]=a)}}),Jo=K(xo,{when:function(a,b){b=b[b.length-1].Ej;a=kl(a,!1);a=Date.parse(a);b.push(isNaN(a)?0:a)}},K(wo,{coord:function(a,b){b=b[b.length-1].A;a=kl(a,!1);(a=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(a))?b.push(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]),
0):b.push(0,0,0,0)}})),Mo=K(xo,{coordinates:sl(Do)}),fp=K(xo,{href:I(Eo)},K(wo,{x:I(Km),y:I(Km),w:I(Km),h:I(Km)})),gp=K(xo,{Icon:I(function(a,b){return(a=N({},fp,a,b))?a:null}),heading:I(Km),hotSpot:I(function(a){var b=a.getAttribute("xunits"),c=a.getAttribute("yunits");var d="insetPixels"!==b?"insetPixels"!==c?"bottom-left":"top-left":"insetPixels"!==c?"bottom-right":"top-right";return{x:parseFloat(a.getAttribute("x")),Xg:yo[b],y:parseFloat(a.getAttribute("y")),Yg:yo[c],origin:d}}),scale:I(Fo)}),
dp=K(xo,{LinearRing:sl(Go)}),hp=K(xo,{color:I(Co),scale:I(Fo)}),ip=K(xo,{color:I(Co),width:I(Km)}),Po=K(xo,{LineString:rl(Ko),LinearRing:rl(No),MultiGeometry:rl(Oo),Point:rl(Ro),Polygon:rl(So)}),jp=K(wo,{Track:rl(Io)}),lp=K(xo,{ExtendedData:Wo,Region:Yo,Link:function(a,b){Al(kp,a,b)},address:I(S),description:I(S),name:I(S),open:I(Hm),phoneNumber:I(S),visibility:I(Hm)}),kp=K(xo,{href:I(Eo)}),ep=K(xo,{LinearRing:sl(Go)}),mp=K(xo,{Style:I(Uo),key:I(S),styleUrl:I(Eo)}),op=K(xo,{ExtendedData:Wo,Region:Yo,
MultiGeometry:I(Oo,"geometry"),LineString:I(Ko,"geometry"),LinearRing:I(No,"geometry"),Point:I(Ro,"geometry"),Polygon:I(So,"geometry"),Style:I(Uo),StyleMap:function(a,b){if(a=N(void 0,np,a,b))b=b[b.length-1],Array.isArray(a)?b.Style=a:"string"===typeof a?b.styleUrl=a:xa(!1,38)},address:I(S),description:I(S),name:I(S),open:I(Hm),phoneNumber:I(S),styleUrl:I(Eo),visibility:I(Hm)},K(wo,{MultiTrack:I(function(a,b){if(a=N([],jp,a,b))return b=new P(null),Nl(b,a),b},"geometry"),Track:I(Io,"geometry")})),
pp=K(xo,{color:I(Co),fill:I(Hm),outline:I(Hm)}),ap=K(xo,{SimpleData:function(a,b){var c=a.getAttribute("name");null!==c&&(a=S(a),b[b.length-1][c]=a)}}),Vo=K(xo,{IconStyle:function(a,b){if(a=N({},gp,a,b)){b=b[b.length-1];var c="Icon"in a?a.Icon:{},d=!("Icon"in a)||0<Object.keys(c).length,e,f=c.href;f?e=f:d&&(e=oo);var f="bottom-left",g=a.hotSpot;if(g){var h=[g.x,g.y];var l=g.Xg;var m=g.Yg;f=g.origin}else e===oo?(h=ko,l=mo,m=lo):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(e)&&(h=[.5,0],m=l="fraction");
var n,g=c.x,p=c.y;void 0!==g&&void 0!==p&&(n=[g,p]);var q,g=c.w,c=c.h;void 0!==g&&void 0!==c&&(q=[g,c]);var r,c=a.heading;void 0!==c&&(r=Ha(c));a=a.scale;d?(e==oo&&(q=no,void 0===a&&(a=po)),e=new eo({anchor:h,anchorOrigin:f,anchorXUnits:l,anchorYUnits:m,crossOrigin:"anonymous",offset:n,offsetOrigin:"bottom-left",rotation:r,scale:a,size:q,src:e}),b.imageStyle=e):b.imageStyle=ro}},LabelStyle:function(a,b){(a=N({},hp,a,b))&&(b[b.length-1].textStyle=new fo({fill:new al({color:"color"in a?a.color:io}),
scale:a.scale}))},LineStyle:function(a,b){(a=N({},ip,a,b))&&(b[b.length-1].strokeStyle=new wj({color:"color"in a?a.color:io,width:"width"in a?a.width:1}))},PolyStyle:function(a,b){if(a=N({},pp,a,b)){b=b[b.length-1];b.fillStyle=new al({color:"color"in a?a.color:io});var c=a.fill;void 0!==c&&(b.fill=c);a=a.outline;void 0!==a&&(b.outline=a)}}}),np=K(xo,{Pair:function(a,b){if(a=N({},mp,a,b)){var c=a.key;c&&"normal"==c&&((c=a.styleUrl)&&(b[b.length-1]=c),(a=a.Style)&&(b[b.length-1]=a))}}});k=go.prototype;
k.vg=function(a,b){var c=K(xo,{Document:ql(this.vg,this),Folder:ql(this.vg,this),Placemark:rl(this.Dg,this),Style:this.Jp.bind(this),StyleMap:this.Ip.bind(this)});if(a=N([],c,a,b,this))return a};k.Dg=function(a,b){var c=N({geometry:null},op,a,b);if(c){var d=new H;a=a.getAttribute("id");null!==a&&d.jc(a);b=b[0];(a=c.geometry)&&Hl(a,!1,b);d.Ra(a);delete c.geometry;this.c&&d.hg(Ao(c.Style,c.styleUrl,this.a,this.b,this.g));delete c.Style;d.H(c);return d}};
k.Jp=function(a,b){var c=a.getAttribute("id");null!==c&&(b=Uo(a,b))&&(a=a.baseURI&&"about:blank"!==a.baseURI?(new URL("#"+c,a.baseURI)).href:"#"+c,this.b[a]=b)};k.Ip=function(a,b){var c=a.getAttribute("id");null!==c&&(b=N(void 0,np,a,b))&&(a=a.baseURI&&"about:blank"!==a.baseURI?(new URL("#"+c,a.baseURI)).href:"#"+c,this.b[a]=b)};k.xg=function(a,b){return ja(xo,a.namespaceURI)?(a=this.Dg(a,[Fl(this,a,b)]))?a:null:null};
k.zc=function(a,b){if(!ja(xo,a.namespaceURI))return[];var c=a.localName;if("Document"==c||"Folder"==c)return(c=this.vg(a,[Fl(this,a,b)]))?c:[];if("Placemark"==c)return(b=this.Dg(a,[Fl(this,a,b)]))?[b]:[];if("kml"==c){c=[];for(a=a.firstElementChild;a;a=a.nextElementSibling){var d=this.zc(a,b);d&&la(c,d)}return c}return[]};k.Cp=function(a){if(ml(a))return qp(this,a);if(nl(a))return rp(this,a);if("string"===typeof a)return a=pl(a),qp(this,a)};
function qp(a,b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE){var c=rp(a,b);if(c)return c}}function rp(a,b){var c;for(c=b.firstElementChild;c;c=c.nextElementSibling)if(ja(xo,c.namespaceURI)&&"name"==c.localName)return S(c);for(c=b.firstElementChild;c;c=c.nextElementSibling)if(b=c.localName,ja(xo,c.namespaceURI)&&("Document"==b||"Folder"==b||"Placemark"==b||"kml"==b)&&(b=rp(a,c)))return b}
k.Dp=function(a){var b=[];ml(a)?la(b,sp(this,a)):nl(a)?la(b,tp(this,a)):"string"===typeof a&&(a=pl(a),la(b,sp(this,a)));return b};function sp(a,b){var c=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&la(c,tp(a,b));return c}
function tp(a,b){var c,d=[];for(c=b.firstElementChild;c;c=c.nextElementSibling)if(ja(xo,c.namespaceURI)&&"NetworkLink"==c.localName){var e=N({},lp,c,[]);d.push(e)}for(c=b.firstElementChild;c;c=c.nextElementSibling)b=c.localName,!ja(xo,c.namespaceURI)||"Document"!=b&&"Folder"!=b&&"kml"!=b||la(d,tp(a,c));return d}k.Gp=function(a){var b=[];ml(a)?la(b,up(this,a)):nl(a)?la(b,this.lf(a)):"string"===typeof a&&(a=pl(a),la(b,up(this,a)));return b};
function up(a,b){var c=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&la(c,a.lf(b));return c}k.lf=function(a){var b,c=[];for(b=a.firstElementChild;b;b=b.nextElementSibling)if(ja(xo,b.namespaceURI)&&"Region"==b.localName){var d=N({},Zo,b,[]);c.push(d)}for(b=a.firstElementChild;b;b=b.nextElementSibling)a=b.localName,!ja(xo,b.namespaceURI)||"Document"!=a&&"Folder"!=a&&"kml"!=a||la(c,this.lf(b));return c};
function vp(a,b){b=ed(b);b=[255*(4==b.length?b[3]:1),b[2],b[1],b[0]];var c;for(c=0;4>c;++c){var d=parseInt(b[c],10).toString(16);b[c]=1==d.length?"0"+d:d}Pm(a,b.join(""))}function wp(a,b,c){a={node:a};var d=b.U();if("GeometryCollection"==d){var e=b.Vf();var f=xp}else"MultiPoint"==d?(e=b.Zd(),f=yp):"MultiLineString"==d?(e=b.gd(),f=zp):"MultiPolygon"==d?(e=b.Td(),f=Ap):xa(!1,39);Bl(a,Bp,f,e,c)}function Cp(a,b,c){Bl({node:a},Dp,Ep,[b],c)}
function Fp(a,b,c){var d={node:a};b.a&&a.setAttribute("id",b.a);a=b.N();var e={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};e[b.c]=1;var f=Object.keys(a||{}).sort().filter(function(a){return!e[a]});if(0<f.length){var g=zl(a,f);Bl(d,Gp,Hp,[{names:f,values:g}],c)}if(f=b.Lc())if(f=f.call(b,0))f=Array.isArray(f)?f[0]:f,this.j&&(a.Style=f),(f=f.Na())&&(a.name=f.Na());f=Ip[c[c.length-1].node.namespaceURI];a=zl(a,f);Bl(d,Gp,yl,a,c,f);a=c[0];(b=b.V())&&(b=Hl(b,!0,a));Bl(d,
Gp,xp,[b],c)}function Jp(a,b,c){var d=b.ga();a={node:a};a.layout=b.ja;a.stride=b.qa();Bl(a,Kp,Lp,[d],c)}function Mp(a,b,c){b=b.Sd();var d=b.shift();a={node:a};Bl(a,Np,Op,b,c);Bl(a,Np,Pp,[d],c)}function Qp(a,b){Qm(a,Math.round(1E6*b)/1E6)}
var Rp=K(xo,["Document","Placemark"]),Up=K(xo,{Document:J(function(a,b,c){Bl({node:a},Sp,Tp,b,c,void 0,this)}),Placemark:J(Fp)}),Sp=K(xo,{Placemark:J(Fp)}),Vp=K(xo,{Data:J(function(a,b,c){a.setAttribute("name",b.name);a={node:a};b=b.value;"object"==typeof b?(null!==b&&b.displayName&&Bl(a,Vp,yl,[b.displayName],c,["displayName"]),null!==b&&b.value&&Bl(a,Vp,yl,[b.value],c,["value"])):Bl(a,Vp,yl,[b],c,["value"])}),value:J(function(a,b){Pm(a,b)}),displayName:J(function(a,b){a.appendChild(il.createCDATASection(b))})}),
Wp={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Xp=K(xo,["href"],K(wo,["x","y","w","h"])),Yp=K(xo,{href:J(Pm)},K(wo,{x:J(Qm),y:J(Qm),w:J(Qm),h:J(Qm)})),Zp=K(xo,["scale","heading","Icon","hotSpot"]),aq=K(xo,{Icon:J(function(a,b,c){a={node:a};var d=Xp[c[c.length-1].node.namespaceURI],e=zl(b,d);Bl(a,Yp,yl,e,c,d);d=Xp[wo[0]];e=zl(b,d);Bl(a,Yp,
$p,e,c,d)}),heading:J(Qm),hotSpot:J(function(a,b){a.setAttribute("x",b.x);a.setAttribute("y",b.y);a.setAttribute("xunits",b.Xg);a.setAttribute("yunits",b.Yg)}),scale:J(Qp)}),bq=K(xo,["color","scale"]),cq=K(xo,{color:J(vp),scale:J(Qp)}),dq=K(xo,["color","width"]),eq=K(xo,{color:J(vp),width:J(Qm)}),Dp=K(xo,{LinearRing:J(Jp)}),Bp=K(xo,{LineString:J(Jp),Point:J(Jp),Polygon:J(Mp),GeometryCollection:J(wp)}),Ip=K(xo,"name open visibility address phoneNumber description styleUrl Style".split(" ")),Gp=K(xo,
{ExtendedData:J(function(a,b,c){a={node:a};var d=b.names;b=b.values;for(var e=d.length,f=0;f<e;f++)Bl(a,Vp,fq,[{name:d[f],value:b[f]}],c)}),MultiGeometry:J(wp),LineString:J(Jp),LinearRing:J(Jp),Point:J(Jp),Polygon:J(Mp),Style:J(function(a,b,c){a={node:a};var d={},e=b.Fa(),f=b.Ga(),g=b.Y();b=b.Na();g instanceof eo&&(d.IconStyle=g);b&&(d.LabelStyle=b);f&&(d.LineStyle=f);e&&(d.PolyStyle=e);b=gq[c[c.length-1].node.namespaceURI];d=zl(d,b);Bl(a,hq,yl,d,c,b)}),address:J(Pm),description:J(Pm),name:J(Pm),
open:J(Om),phoneNumber:J(Pm),styleUrl:J(Pm),visibility:J(Om)}),Kp=K(xo,{coordinates:J(function(a,b,c){c=c[c.length-1];var d=c.layout;c=c.stride;var e;"XY"==d||"XYM"==d?e=2:"XYZ"==d||"XYZM"==d?e=3:xa(!1,34);var f,g=b.length,h="";if(0<g){h+=b[0];for(d=1;d<e;++d)h+=","+b[d];for(f=c;f<g;f+=c)for(h+=" "+b[f],d=1;d<e;++d)h+=","+b[f+d]}Pm(a,h)})}),Np=K(xo,{outerBoundaryIs:J(Cp),innerBoundaryIs:J(Cp)}),iq=K(xo,{color:J(vp)}),gq=K(xo,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),hq=K(xo,{IconStyle:J(function(a,
b,c){a={node:a};var d={},e=b.ic(),f=b.ye(),g={href:b.b.o};if(e){g.w=e[0];g.h=e[1];var h=b.Hc(),l=b.Oc();l&&f&&l[0]&&l[1]!==e[1]&&(g.x=l[0],g.y=f[1]-(l[1]+e[1]));h&&h[0]&&h[1]!==e[1]&&(d.hotSpot={x:h[0],Xg:"pixels",y:e[1]-h[1],Yg:"pixels"})}d.Icon=g;e=b.a;1!==e&&(d.scale=e);(b=b.g)&&(d.heading=b);b=Zp[c[c.length-1].node.namespaceURI];d=zl(d,b);Bl(a,aq,yl,d,c,b)}),LabelStyle:J(function(a,b,c){a={node:a};var d={},e=b.Fa();e&&(d.color=e.b);(b=b.b)&&1!==b&&(d.scale=b);b=bq[c[c.length-1].node.namespaceURI];
d=zl(d,b);Bl(a,cq,yl,d,c,b)}),LineStyle:J(function(a,b,c){a={node:a};var d=dq[c[c.length-1].node.namespaceURI];b=zl({color:b.a,width:b.c},d);Bl(a,eq,yl,b,c,d)}),PolyStyle:J(function(a,b,c){Bl({node:a},iq,jq,[b.b],c)})});function $p(a,b,c){return jl(wo[0],"gx:"+c)}function Tp(a,b){return jl(b[b.length-1].node.namespaceURI,"Placemark")}function xp(a,b){if(a)return jl(b[b.length-1].node.namespaceURI,Wp[a.U()])}
var jq=wl("color"),Lp=wl("coordinates"),fq=wl("Data"),Hp=wl("ExtendedData"),Op=wl("innerBoundaryIs"),yp=wl("Point"),zp=wl("LineString"),Ep=wl("LinearRing"),Ap=wl("Polygon"),Pp=wl("outerBoundaryIs");
go.prototype.Xb=function(a,b){b=Gl(this,b);var c=jl(xo[4],"kml");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",wo[0]);c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var d={node:c},e={};1<a.length?e.Document=a:1==a.length&&(e.Placemark=a[0]);a=Rp[c.namespaceURI];
e=zl(e,a);Bl(d,Up,yl,e,[b],a,this);return c};Fj.Dd=function(){};
(function(a){function b(a){this.lc=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0);this.type=this.ea=0;this.length=this.lc.length}function c(a,b,c){var e=c.lc;var f=e[c.ea++];var g=(f&112)>>4;if(128>f)return d(a,g,b);f=e[c.ea++];g|=(f&127)<<3;if(128>f)return d(a,g,b);f=e[c.ea++];g|=(f&127)<<10;if(128>f)return d(a,g,b);f=e[c.ea++];g|=(f&127)<<17;if(128>f)return d(a,g,b);f=e[c.ea++];g|=(f&127)<<24;if(128>f)return d(a,g,b);f=e[c.ea++];if(128>f)return d(a,g|(f&1)<<31,b);throw Error("Expected varint not more than 10 bytes");
}function d(a,b,c){return c?4294967296*b+(a>>>0):4294967296*(b>>>0)+(a>>>0)}var e={read:function(a,b,c,d,e){var f=8*e-d-1;var g=(1<<f)-1,h=g>>1,l=-7;e=c?e-1:0;var m=c?-1:1,x=a[b+e];e+=m;c=x&(1<<-l)-1;x>>=-l;for(l+=f;0<l;c=256*c+a[b+e],e+=m,l-=8);f=c&(1<<-l)-1;c>>=-l;for(l+=d;0<l;f=256*f+a[b+e],e+=m,l-=8);if(0===c)c=1-h;else{if(c===g)return f?NaN:Infinity*(x?-1:1);f+=Math.pow(2,d);c-=h}return(x?-1:1)*f*Math.pow(2,c-d)},write:function(a,b,c,d,e,n){var f,g=8*n-e-1,h=(1<<g)-1,l=h>>1,m=23===e?Math.pow(2,
-24)-Math.pow(2,-77):0;n=d?0:n-1;var B=d?1:-1,E=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);isNaN(b)||Infinity===b?(b=isNaN(b)?1:0,d=h):(d=Math.floor(Math.log(b)/Math.LN2),1>b*(f=Math.pow(2,-d))&&(d--,f*=2),b=1<=d+l?b+m/f:b+m*Math.pow(2,1-l),2<=b*f&&(d++,f/=2),d+l>=h?(b=0,d=h):1<=d+l?(b=(b*f-1)*Math.pow(2,e),d+=l):(b=b*Math.pow(2,l-1)*Math.pow(2,e),d=0));for(;8<=e;a[c+n]=b&255,n+=B,b/=256,e-=8);d=d<<e|b;for(g+=e;0<g;a[c+n]=d&255,n+=B,d/=256,g-=8);a[c+n-B]|=128*E}};b.c=0;b.i=1;b.b=2;b.a=5;b.prototype={Ag:function(a,
b,c){for(c=c||this.length;this.ea<c;){var d=this.Ka(),e=d>>3,f=this.ea;this.type=d&7;a(e,b,this);this.ea===f&&this.mq(d)}return b},yp:function(){var a=e.read(this.lc,this.ea,!0,23,4);this.ea+=4;return a},up:function(){var a=e.read(this.lc,this.ea,!0,52,8);this.ea+=8;return a},Ka:function(a){var b=this.lc;var d=b[this.ea++];var e=d&127;if(128>d)return e;d=b[this.ea++];e|=(d&127)<<7;if(128>d)return e;d=b[this.ea++];e|=(d&127)<<14;if(128>d)return e;d=b[this.ea++];e|=(d&127)<<21;if(128>d)return e;d=b[this.ea];
return c(e|(d&15)<<28,a,this)},Kp:function(){return this.Ka(!0)},ce:function(){var a=this.Ka();return 1===a%2?(a+1)/-2:a/2},sp:function(){return!!this.Ka()},Gg:function(){for(var a=this.Ka()+this.ea,b=this.lc,c="",d=this.ea;d<a;){var e=b[d],n=null,p=239<e?4:223<e?3:191<e?2:1;if(d+p>a)break;if(1===p)128>e&&(n=e);else if(2===p){var q=b[d+1];128===(q&192)&&(n=(e&31)<<6|q&63,127>=n&&(n=null))}else if(3===p){q=b[d+1];var r=b[d+2];128===(q&192)&&128===(r&192)&&(n=(e&15)<<12|(q&63)<<6|r&63,2047>=n||55296<=
n&&57343>=n)&&(n=null)}else if(4===p){q=b[d+1];r=b[d+2];var u=b[d+3];128===(q&192)&&128===(r&192)&&128===(u&192)&&(n=(e&15)<<18|(q&63)<<12|(r&63)<<6|u&63,65535>=n||1114112<=n)&&(n=null)}null===n?(n=65533,p=1):65535<n&&(n-=65536,c+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023);c+=String.fromCharCode(n);d+=p}this.ea=a;return c},mq:function(a){a&=7;if(a===b.c)for(;127<this.lc[this.ea++];);else if(a===b.b)this.ea=this.Ka()+this.ea;else if(a===b.a)this.ea+=4;else if(a===b.i)this.ea+=8;else throw Error("Unimplemented type: "+
a);}};a["default"]=b})(Fj.Dd=Fj.Dd||{});Fj.Dd=Fj.Dd.default;Fj.xf={};Fj.xf.Bf=function(){};
(function(a){function b(a,b){this.layers=a.Ag(l,{},b)}function c(a,b){this.x=a;this.y=b}function d(a,b,c,d,f){this.properties={};this.extent=c;this.type=0;this.Cc=a;this.Ef=-1;this.ne=d;this.pe=f;a.Ag(e,this,b)}function e(a,b,c){if(1==a)b.id=c.Ka();else if(2==a)for(a=c.Ka()+c.ea;c.ea<a;){var d=b.ne[c.Ka()],e=b.pe[c.Ka()];b.properties[d]=e}else 3==a?b.type=c.Ka():4==a&&(b.Ef=c.ea)}function f(a,b){this.version=1;this.name=null;this.extent=4096;this.length=0;this.Cc=a;this.ne=[];this.pe=[];this.me=[];
a.Ag(g,this,b);this.length=this.me.length}function g(a,b,c){15===a?b.version=c.Ka():1===a?b.name=c.Gg():5===a?b.extent=c.Ka():2===a?b.me.push(c.ea):3===a?b.ne.push(c.Gg()):4===a&&b.pe.push(h(c))}function h(a){for(var b=null,c=a.Ka()+a.ea;a.ea<c;)b=a.Ka()>>3,b=1===b?a.Gg():2===b?a.yp():3===b?a.up():4===b?a.Kp():5===b?a.Ka():6===b?a.ce():7===b?a.sp():null;return b}function l(a,b,c){3===a&&(a=new m(c,c.Ka()+c.ea),a.length&&(b[a.name]=a))}c.prototype={clone:function(){return new c(this.x,this.y)},add:function(a){return this.clone().Yj(a)},
rotate:function(a){return this.clone().hk(a)},round:function(){return this.clone().ik()},angle:function(){return Math.atan2(this.y,this.x)},Yj:function(a){this.x+=a.x;this.y+=a.y;return this},hk:function(a){var b=Math.cos(a);a=Math.sin(a);var c=a*this.x+b*this.y;this.x=b*this.x-a*this.y;this.y=c;return this},ik:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}};c.Kq=function(a){return a instanceof c?a:Array.isArray(a)?new c(a[0],a[1]):a};d.b=["Unknown","Point","LineString",
"Polygon"];d.prototype.Oh=function(){var a=this.Cc;a.ea=this.Ef;for(var b=a.Ka()+a.ea,d=1,e=0,f=0,g=0,h=[],l;a.ea<b;)if(e||(e=a.Ka(),d=e&7,e>>=3),e--,1===d||2===d)f+=a.ce(),g+=a.ce(),1===d&&(l&&h.push(l),l=[]),l.push(new c(f,g));else if(7===d)l&&l.push(l[0].clone());else throw Error("unknown command "+d);l&&h.push(l);return h};d.prototype.bbox=function(){var a=this.Cc;a.ea=this.Ef;for(var b=a.Ka()+a.ea,c=1,d=0,e=0,f=0,g=Infinity,h=-Infinity,l=Infinity,m=-Infinity;a.ea<b;)if(d||(d=a.Ka(),c=d&7,d>>=
3),d--,1===c||2===c)e+=a.ce(),f+=a.ce(),e<g&&(g=e),e>h&&(h=e),f<l&&(l=f),f>m&&(m=f);else if(7!==c)throw Error("unknown command "+c);return[g,l,h,m]};var m=f;f.prototype.feature=function(a){if(0>a||a>=this.me.length)throw Error("feature index out of bounds");this.Cc.ea=this.me[a];a=this.Cc.Ka()+this.Cc.ea;return new d(this.Cc,a,this.extent,this.ne,this.pe)};var n=m;a["default"]={Bf:b,Wj:d,Xj:n};a.Bf=b;a.Wj=d;a.Xj=n})(Fj.xf=Fj.xf||{});function kq(a,b,c,d,e){this.g=e;this.i=a;this.b=b;this.f=c;this.c=d}k=kq.prototype;k.get=function(a){return this.c[a]};k.Bb=function(){return this.f};k.G=function(){this.a||(this.a="Point"===this.i?Za(this.b):$a(this.b,0,this.b.length,2));return this.a};k.Wn=function(){return this.g};k.ec=function(){return this.b};k.ga=kq.prototype.ec;k.V=function(){return this};k.Xn=function(){return this.c};k.Vd=kq.prototype.V;k.qa=function(){return 2};k.Lc=ua;k.U=function(){return this.i};function lq(a){El.call(this);a=a?a:{};this.defaultDataProjection=new Bb({code:"",units:"tile-pixels"});this.b=a.featureClass?a.featureClass:kq;this.a=a.geometryName;this.i=a.layerName?a.layerName:"layer";this.c=a.layers?a.layers:null}v(lq,El);k=lq.prototype;k.U=function(){return"arraybuffer"};
k.Oa=function(a,b){var c=this.c;a=new Fj.Dd(a);a=new Fj.xf.Bf(a);var d=[],e=this.b,f;for(f in a.layers)if(!c||-1!=c.indexOf(f)){var g=a.layers[f];for(var h=0,l=g.length;h<l;++h){if(e===kq){var m=void 0;var n=g.feature(h),p=f,q=n.Oh(),r=[],u=[];mq(q,u,r);var x=n.type;1===x?m=1===q.length?"Point":"MultiPoint":2===x?m=1===q.length?"LineString":"MultiLineString":3===x&&(m="Polygon");q=n.properties;q[this.i]=p;m=new this.b(m,u,r,q,n.id)}else{x=g.feature(h);u=f;r=b;m=new this.b;n=x.id;p=x.properties;p[this.i]=
u;this.a&&m.Tc(this.a);u=void 0;q=x.type;if(0===q)u=null;else{var x=x.Oh(),B=[],E=[];mq(x,E,B);1===q?u=1===x.length?new C(null):new Q(null):2===q?1===x.length?u=new O(null):u=new P(null):3===q&&(u=new D(null));u.ba("XY",E,B)}r=Hl(u,!1,Gl(this,r));m.Ra(r);m.jc(n);m.H(p)}d.push(m)}}return d};k.kb=function(){return this.defaultDataProjection};k.mn=function(a){this.c=a};
function mq(a,b,c){for(var d=0,e=0,f=a.length;e<f;++e){var g=a[e],h;var l=0;for(h=g.length;l<h;++l){var m=g[l];b.push(m.x,m.y)}d+=2*l;c.push(d)}}k.Tb=function(){};k.Sc=function(){};k.Bd=function(){};k.$c=function(){};k.Wb=function(){};function nq(){Cm.call(this);this.defaultDataProjection=Tb("EPSG:4326")}v(nq,Cm);function oq(a,b){b[b.length-1].fe[a.getAttribute("k")]=a.getAttribute("v")}
var pq=[null],qq=K(pq,{nd:function(a,b){b[b.length-1].md.push(a.getAttribute("ref"))},tag:oq}),sq=K(pq,{node:function(a,b){var c=b[0],d=b[b.length-1],e=a.getAttribute("id"),f=[parseFloat(a.getAttribute("lon")),parseFloat(a.getAttribute("lat"))];d.Sh[e]=f;a=N({fe:{}},rq,a,b);wb(a.fe)||(f=new C(f),Hl(f,!1,c),c=new H(f),c.jc(e),c.H(a.fe),d.features.push(c))},way:function(a,b){var c=b[0],d=a.getAttribute("id");a=N({md:[],fe:{}},qq,a,b);b=b[b.length-1];for(var e=[],f=0,g=a.md.length;f<g;f++)la(e,b.Sh[a.md[f]]);
a.md[0]==a.md[a.md.length-1]?(f=new D(null),f.ba("XY",e,[e.length])):(f=new O(null),f.ba("XY",e));Hl(f,!1,c);c=new H(f);c.jc(d);c.H(a.fe);b.features.push(c)}}),rq=K(pq,{tag:oq});nq.prototype.zc=function(a,b){b=Fl(this,a,b);return"osm"==a.localName&&(a=N({Sh:{},features:[]},sq,a,[b]),a.features)?a.features:[]};nq.prototype.Vg=function(){};nq.prototype.Xb=function(){};nq.prototype.ie=function(){};function tq(a){return a.getAttributeNS("http://www.w3.org/1999/xlink","href")};function uq(){}uq.prototype.read=function(a){return ml(a)?this.a(a):nl(a)?this.b(a):"string"===typeof a?(a=pl(a),this.a(a)):null};function vq(){}v(vq,uq);vq.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};vq.prototype.b=function(a){return(a=N({},wq,a,[]))?a:null};
var xq=[null,"http://www.opengis.net/ows/1.1"],wq=K(xq,{ServiceIdentification:I(function(a,b){return N({},yq,a,b)}),ServiceProvider:I(function(a,b){return N({},zq,a,b)}),OperationsMetadata:I(function(a,b){return N({},Aq,a,b)})}),Cq=K(xq,{DeliveryPoint:I(S),City:I(S),AdministrativeArea:I(S),PostalCode:I(S),Country:I(S),ElectronicMailAddress:I(S)}),Dq=K(xq,{Value:tl(function(a){return S(a)})}),Eq=K(xq,{AllowedValues:I(function(a,b){return N({},Dq,a,b)})}),Gq=K(xq,{Phone:I(function(a,b){return N({},
Fq,a,b)}),Address:I(function(a,b){return N({},Cq,a,b)})}),Iq=K(xq,{HTTP:I(function(a,b){return N({},Hq,a,b)})}),Hq=K(xq,{Get:tl(function(a,b){var c=tq(a);if(c)return N({href:c},Jq,a,b)}),Post:void 0}),Kq=K(xq,{DCP:I(function(a,b){return N({},Iq,a,b)})}),Aq=K(xq,{Operation:function(a,b){var c=a.getAttribute("name");(a=N({},Kq,a,b))&&(b[b.length-1][c]=a)}}),Fq=K(xq,{Voice:I(S),Facsimile:I(S)}),Jq=K(xq,{Constraint:tl(function(a,b){var c=a.getAttribute("name");if(c)return N({name:c},Eq,a,b)})}),Lq=K(xq,
{IndividualName:I(S),PositionName:I(S),ContactInfo:I(function(a,b){return N({},Gq,a,b)})}),yq=K(xq,{Title:I(S),ServiceTypeVersion:I(S),ServiceType:I(S)}),zq=K(xq,{ProviderName:I(S),ProviderSite:I(tq),ServiceContact:I(function(a,b){return N({},Lq,a,b)})});function Mq(a,b,c,d){var e;void 0!==d?e=d:e=[];for(var f=d=0;f<b;){var g=a[f++];e[d++]=a[f++];e[d++]=g;for(g=2;g<c;++g)e[d++]=a[f++]}e.length=d};function Nq(a){a=a?a:{};El.call(this);this.defaultDataProjection=Tb("EPSG:4326");this.b=a.factor?a.factor:1E5;this.a=a.geometryLayout?a.geometryLayout:"XY"}v(Nq,Vn);function Oq(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;var f;var g=0;for(f=a.length;g<f;)for(d=0;d<b;++d,++g){var h=a[g],l=h-e[d];e[d]=h;a[g]=l}return Pq(a,c?c:1E5)}function Qq(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;a=Rq(a,c?c:1E5);var f;c=0;for(f=a.length;c<f;)for(d=0;d<b;++d,++c)e[d]+=a[c],a[c]=e[d];return a}
function Pq(a,b){b=b?b:1E5;var c;var d=0;for(c=a.length;d<c;++d)a[d]=Math.round(a[d]*b);b=0;for(d=a.length;b<d;++b)c=a[b],a[b]=0>c?~(c<<1):c<<1;b="";d=0;for(c=a.length;d<c;++d){for(var e,f=a[d],g="";32<=f;)e=(32|f&31)+63,g+=String.fromCharCode(e),f>>=5;g+=String.fromCharCode(f+63);b+=g}return b}
function Rq(a,b){b=b?b:1E5;var c=[],d=0,e=0,f;var g=0;for(f=a.length;g<f;++g){var h=a.charCodeAt(g)-63,d=d|(h&31)<<e;32>h?(c.push(d),e=d=0):e+=5}a=0;for(d=c.length;a<d;++a)e=c[a],c[a]=e&1?~(e>>1):e>>1;a=0;for(d=c.length;a<d;++a)c[a]/=b;return c}k=Nq.prototype;k.ae=function(a,b){a=this.wd(a,b);return new H(a)};k.zg=function(a,b){return[this.ae(a,b)]};k.wd=function(a,b){var c=sf(this.a);a=Qq(a,c,this.b);Mq(a,a.length,c,a);c=Ff(a,0,a.length,c);return Hl(new O(c,this.a),!1,Gl(this,b))};
k.ge=function(a,b){if(a=a.V())return this.Cd(a,b);xa(!1,40);return""};k.Wg=function(a,b){return this.ge(a[0],b)};k.Cd=function(a,b){a=Hl(a,!0,Gl(this,b));b=a.ga();a=a.qa();Mq(b,b.length,a,b);return Oq(b,a,this.b)};function Sq(a){a=a?a:{};El.call(this);this.a=a.layerName;this.b=a.layers?a.layers:null;this.defaultDataProjection=Tb(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326")}v(Sq,Il);function Tq(a,b){var c=[],d,e;var f=0;for(e=a.length;f<e;++f){var g=a[f];0<f&&c.pop();0<=g?d=b[g]:d=b[~g].slice().reverse();c.push.apply(c,d)}a=0;for(b=c.length;a<b;++a)c[a]=c[a].slice();return c}
function Uq(a,b,c,d,e,f,g){a=a.geometries;var h=[],l;var m=0;for(l=a.length;m<l;++m)h[m]=Vq(a[m],b,c,d,e,f,g);return h}function Vq(a,b,c,d,e,f,g){var h=a.type,l=Wq[h];c="Point"===h||"MultiPoint"===h?l(a,c,d):l(a,b);b=new H;b.Ra(Hl(c,!1,g));void 0!==a.id&&b.jc(a.id);a=a.properties;e&&(a||(a={}),a[e]=f);a&&b.H(a);return b}
Sq.prototype.yg=function(a,b){if("Topology"==a.type){var c=null,d=null;if(a.transform){var e=a.transform;c=e.scale;d=e.translate}var f=a.arcs;if(e){e=c;var g=d,h;var l=0;for(h=f.length;l<h;++l){var m,n=f[l],p=e,q=g,r=0,u=0;var x=0;for(m=n.length;x<m;++x){var B=n[x];r+=B[0];u+=B[1];B[0]=r;B[1]=u;Xq(B,p,q)}}}e=[];a=a.objects;var g=this.a,E;for(E in a)this.b&&-1==this.b.indexOf(E)||("GeometryCollection"===a[E].type?(l=a[E],e.push.apply(e,Uq(l,f,c,d,g,E,b))):(l=a[E],e.push(Vq(l,f,c,d,g,E,b))));return e}return[]};
function Xq(a,b,c){a[0]=a[0]*b[0]+c[0];a[1]=a[1]*b[1]+c[1]}Sq.prototype.Fg=function(){return this.defaultDataProjection};
var Wq={Point:function(a,b,c){a=a.coordinates;b&&c&&Xq(a,b,c);return new C(a)},LineString:function(a,b){a=Tq(a.arcs,b);return new O(a)},Polygon:function(a,b){var c=[],d;var e=0;for(d=a.arcs.length;e<d;++e)c[e]=Tq(a.arcs[e],b);return new D(c)},MultiPoint:function(a,b,c){a=a.coordinates;var d;if(b&&c){var e=0;for(d=a.length;e<d;++e)Xq(a[e],b,c)}return new Q(a)},MultiLineString:function(a,b){var c=[],d;var e=0;for(d=a.arcs.length;e<d;++e)c[e]=Tq(a.arcs[e],b);return new P(c)},MultiPolygon:function(a,
b){var c=[],d,e;var f=0;for(e=a.arcs.length;f<e;++f){var g=a.arcs[f];var h=[];var l=0;for(d=g.length;l<d;++l)h[l]=Tq(g[l],b);c[f]=h}return new R(c)}};k=Sq.prototype;k.Zc=function(){};k.he=function(){};k.je=function(){};k.Cg=function(){};k.Rc=function(){};function Yq(a){a=a?a:{};this.c=a.featureType;this.a=a.featureNS;this.b=a.gmlFormat?a.gmlFormat:new Sm;this.o=a.schemaLocation?a.schemaLocation:Zq["1.1.0"];Cm.call(this)}v(Yq,Cm);var Zq={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};
Yq.prototype.zc=function(a,b){var c={featureType:this.c,featureNS:this.a};tb(c,Fl(this,a,b?b:{}));b=[c];this.b.b["http://www.opengis.net/gml"].featureMember=rl(Fm.prototype.be);(a=N([],this.b.b,a,b,this.b))||(a=[]);return a};Yq.prototype.j=function(a){if(ml(a))return $q(a);if(nl(a))return N({},ar,a,[]);if("string"===typeof a)return a=pl(a),$q(a)};Yq.prototype.g=function(a){if(ml(a))return br(this,a);if(nl(a))return cr(this,a);if("string"===typeof a)return a=pl(a),br(this,a)};
function br(a,b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE)return cr(a,b)}var dr={"http://www.opengis.net/gml":{boundedBy:I(Fm.prototype.gf,"bounds")}};function cr(a,b){var c={},d=Nm(b.getAttribute("numberOfFeatures"));c.numberOfFeatures=d;return N(c,dr,b,[],a.b)}
var er={"http://www.opengis.net/wfs":{totalInserted:I(Mm),totalUpdated:I(Mm),totalDeleted:I(Mm)}},fr={"http://www.opengis.net/ogc":{FeatureId:rl(function(a){return a.getAttribute("fid")})}},gr={"http://www.opengis.net/wfs":{Feature:function(a,b){Al(fr,a,b)}}},ar={"http://www.opengis.net/wfs":{TransactionSummary:I(function(a,b){return N({},er,a,b)},"transactionSummary"),InsertResults:I(function(a,b){return N([],gr,a,b)},"insertIds")}};
function $q(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return N({},ar,a,[])}var hr={"http://www.opengis.net/wfs":{PropertyName:J(Pm)}};function ir(a,b){var c=jl("http://www.opengis.net/ogc","Filter"),d=jl("http://www.opengis.net/ogc","FeatureId");c.appendChild(d);d.setAttribute("fid",b);a.appendChild(c)}function jr(a,b){a=(a?a:"feature")+":";return b.indexOf(a)?a+b:b}
var kr={"http://www.opengis.net/wfs":{Insert:J(function(a,b,c){var d=c[c.length-1],e=d.gmlVersion,d=jl(d.featureNS,d.featureType);a.appendChild(d);if(2===e){a=an.prototype;(e=b.a)&&d.setAttribute("fid",e);var e=c[c.length-1],f=e.featureNS,g=b.c;e.lb||(e.lb={},e.lb[f]={});var h=b.N();b=[];var l=[];for(n in h){var m=h[n];null!==m&&(b.push(n),l.push(m),n==g||m instanceof of?n in e.lb[f]||(e.lb[f][n]=J(a.ai,a)):n in e.lb[f]||(e.lb[f][n]=J(Pm)))}var n=tb({},e);n.node=d;Bl(n,e.lb,wl(void 0,f),l,c,b)}else Sm.prototype.ii(d,
b,c)}),Update:J(function(a,b,c){var d=c[c.length-1];xa(void 0!==b.a,27);var e=d.featurePrefix,f=d.featureNS;a.setAttribute("typeName",jr(e,d.featureType));a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f);e=b.a;if(void 0!==e){for(var f=b.O(),g=[],h=0,l=f.length;h<l;h++){var m=b.get(f[h]);void 0!==m&&g.push({name:f[h],value:m})}Bl({gmlVersion:d.gmlVersion,node:a,hasZ:d.hasZ,srsName:d.srsName},kr,wl("Property"),g,c);ir(a,e)}}),Delete:J(function(a,b,c){c=c[c.length-1];xa(void 0!==b.a,26);
var d=c.featurePrefix,e=c.featureNS;a.setAttribute("typeName",jr(d,c.featureType));a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+d,e);b=b.a;void 0!==b&&ir(a,b)}),Property:J(function(a,b,c){var d=jl("http://www.opengis.net/wfs","Name"),e=c[c.length-1].gmlVersion;a.appendChild(d);Pm(d,b.name);void 0!==b.value&&null!==b.value&&(d=jl("http://www.opengis.net/wfs","Value"),a.appendChild(d),b.value instanceof of?2===e?an.prototype.ai(d,b.value,c):Sm.prototype.od(d,b.value,c):Pm(d,b.value))}),
Native:J(function(a,b){b.vq&&a.setAttribute("vendorId",b.vq);void 0!==b.Vp&&a.setAttribute("safeToIgnore",b.Vp);void 0!==b.value&&Pm(a,b.value)})}};function lr(a,b,c){var d={node:a};b.b.forEach(function(a){Bl(d,mr,wl(a.kc),[a],c)})}function nr(a,b){void 0!==b.a&&a.setAttribute("matchCase",b.a.toString());or(a,b.b);pr(a,""+b.i)}function qr(a,b,c){a=jl("http://www.opengis.net/ogc",a);Pm(a,c);b.appendChild(a)}function or(a,b){qr("PropertyName",a,b)}function pr(a,b){qr("Literal",a,b)}
function rr(a,b){var c=jl("http://www.opengis.net/gml","TimeInstant");a.appendChild(c);a=jl("http://www.opengis.net/gml","timePosition");c.appendChild(a);Pm(a,b)}
var mr={"http://www.opengis.net/wfs":{Query:J(function(a,b,c){var d=c[c.length-1],e=d.featurePrefix,f=d.featureNS,g=d.propertyNames,h=d.srsName;a.setAttribute("typeName",e?jr(e,b):b);h&&a.setAttribute("srsName",h);f&&a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f);b=tb({},d);b.node=a;Bl(b,hr,wl("PropertyName"),g,c);if(d=d.filter)g=jl("http://www.opengis.net/ogc","Filter"),a.appendChild(g),Bl({node:g},mr,wl(d.kc),[d],c)})},"http://www.opengis.net/ogc":{During:J(function(a,b){var c=jl("http://www.opengis.net/fes",
"ValueReference");Pm(c,b.b);a.appendChild(c);c=jl("http://www.opengis.net/gml","TimePeriod");a.appendChild(c);a=jl("http://www.opengis.net/gml","begin");c.appendChild(a);rr(a,b.a);a=jl("http://www.opengis.net/gml","end");c.appendChild(a);rr(a,b.i)}),And:J(lr),Or:J(lr),Not:J(function(a,b,c){b=b.condition;Bl({node:a},mr,wl(b.kc),[b],c)}),BBOX:J(function(a,b,c){c[c.length-1].srsName=b.srsName;or(a,b.geometryName);Sm.prototype.od(a,b.extent,c)}),Intersects:J(function(a,b,c){c[c.length-1].srsName=b.srsName;
or(a,b.geometryName);Sm.prototype.od(a,b.geometry,c)}),Within:J(function(a,b,c){c[c.length-1].srsName=b.srsName;or(a,b.geometryName);Sm.prototype.od(a,b.geometry,c)}),PropertyIsEqualTo:J(nr),PropertyIsNotEqualTo:J(nr),PropertyIsLessThan:J(nr),PropertyIsLessThanOrEqualTo:J(nr),PropertyIsGreaterThan:J(nr),PropertyIsGreaterThanOrEqualTo:J(nr),PropertyIsNull:J(function(a,b){or(a,b.b)}),PropertyIsBetween:J(function(a,b){or(a,b.b);var c=jl("http://www.opengis.net/ogc","LowerBoundary");a.appendChild(c);
pr(c,""+b.a);c=jl("http://www.opengis.net/ogc","UpperBoundary");a.appendChild(c);pr(c,""+b.i)}),PropertyIsLike:J(function(a,b){a.setAttribute("wildCard",b.g);a.setAttribute("singleChar",b.f);a.setAttribute("escapeChar",b.i);void 0!==b.a&&a.setAttribute("matchCase",b.a.toString());or(a,b.b);pr(a,""+b.c)})}};
Yq.prototype.l=function(a){var b=jl("http://www.opengis.net/wfs","GetFeature");b.setAttribute("service","WFS");b.setAttribute("version","1.1.0");if(a){a.handle&&b.setAttribute("handle",a.handle);a.outputFormat&&b.setAttribute("outputFormat",a.outputFormat);void 0!==a.maxFeatures&&b.setAttribute("maxFeatures",a.maxFeatures);a.resultType&&b.setAttribute("resultType",a.resultType);void 0!==a.startIndex&&b.setAttribute("startIndex",a.startIndex);void 0!==a.count&&b.setAttribute("count",a.count);var c=
a.filter;if(a.bbox){xa(a.geometryName,12);var d=sm(a.geometryName,a.bbox,a.srsName);c?c=rm(c,d):c=d}}b.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.o);c={node:b,srsName:a.srsName,featureNS:a.featureNS?a.featureNS:this.a,featurePrefix:a.featurePrefix,geometryName:a.geometryName,filter:c,propertyNames:a.propertyNames?a.propertyNames:[]};xa(Array.isArray(a.featureTypes),11);a=a.featureTypes;c=[c];d=tb({},c[c.length-1]);d.node=b;Bl(d,mr,wl("Query"),a,c);return b};
Yq.prototype.v=function(a,b,c,d){var e=[],f=jl("http://www.opengis.net/wfs","Transaction"),g=d.version?d.version:"1.1.0",h="1.0.0"===g?2:3;f.setAttribute("service","WFS");f.setAttribute("version",g);if(d){var l=d.gmlOptions?d.gmlOptions:{};d.handle&&f.setAttribute("handle",d.handle)}f.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",Zq[g]);a&&(g={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,gmlVersion:h,hasZ:d.hasZ,srsName:d.srsName},
tb(g,l),Bl(g,kr,wl("Insert"),a,e));b&&(g={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,gmlVersion:h,hasZ:d.hasZ,srsName:d.srsName},tb(g,l),Bl(g,kr,wl("Update"),b,e));c&&Bl({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,gmlVersion:h,srsName:d.srsName},kr,wl("Delete"),c,e);d.nativeElements&&Bl({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,gmlVersion:h,srsName:d.srsName},kr,wl("Native"),
d.nativeElements,e);return f};Yq.prototype.Eg=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.kf(a);return null};Yq.prototype.kf=function(a){if(a.firstElementChild&&a.firstElementChild.firstElementChild)for(a=a.firstElementChild.firstElementChild,a=a.firstElementChild;a;a=a.nextElementSibling)if(0!==a.childNodes.length&&(1!==a.childNodes.length||3!==a.firstChild.nodeType)){var b=[{}];this.b.gf(a,b);return Tb(b.pop().srsName)}return null};function sr(a){a=a?a:{};El.call(this);this.b=void 0!==a.splitCollection?a.splitCollection:!1}v(sr,Vn);function tr(a){a=a.X();return a.length?a.join(" "):""}function ur(a){a=a.X();for(var b=[],c=0,d=a.length;c<d;++c)b.push(a[c].join(" "));return b.join(",")}function vr(a){var b=[];a=a.Sd();for(var c=0,d=a.length;c<d;++c)b.push("("+ur(a[c])+")");return b.join(",")}
function wr(a){var b=a.U(),c=(0,xr[b])(a),b=b.toUpperCase();if(a instanceof rf){a=a.ja;var d="";if("XYZ"===a||"XYZM"===a)d+="Z";if("XYM"===a||"XYZM"===a)d+="M";a=d;0<a.length&&(b+=" "+a)}return c.length?b+"("+c+")":b+" EMPTY"}
var xr={Point:tr,LineString:ur,Polygon:vr,MultiPoint:function(a){var b=[];a=a.Zd();for(var c=0,d=a.length;c<d;++c)b.push("("+tr(a[c])+")");return b.join(",")},MultiLineString:function(a){var b=[];a=a.gd();for(var c=0,d=a.length;c<d;++c)b.push("("+ur(a[c])+")");return b.join(",")},MultiPolygon:function(a){var b=[];a=a.Td();for(var c=0,d=a.length;c<d;++c)b.push("("+vr(a[c])+")");return b.join(",")},GeometryCollection:function(a){var b=[];a=a.Vf();for(var c=0,d=a.length;c<d;++c)b.push(wr(a[c]));return b.join(",")}};
k=sr.prototype;k.ae=function(a,b){return(a=this.wd(a,b))?(b=new H,b.Ra(a),b):null};k.zg=function(a,b){var c=[];a=this.wd(a,b);this.b&&"GeometryCollection"==a.U()?c=a.a:c=[a];b=[];for(var d=0,e=c.length;d<e;++d)a=new H,a.Ra(c[d]),b.push(a);return b};k.wd=function(a,b){a=new yr(new zr(a));Ar(a);return(a=Br(a))?Hl(a,!1,b):null};k.ge=function(a,b){return(a=a.V())?this.Cd(a,b):""};
k.Wg=function(a,b){if(1==a.length)return this.ge(a[0],b);for(var c=[],d=0,e=a.length;d<e;++d)c.push(a[d].V());a=new tm(c);return this.Cd(a,b)};k.Cd=function(a,b){return wr(Hl(a,!0,b))};function zr(a){this.a=a;this.b=-1}
function Cr(a){var b=a.a.charAt(++a.b),c={position:a.b,value:b};if("("==b)c.type=2;else if(","==b)c.type=5;else if(")"==b)c.type=3;else if("0"<=b&&"9">=b||"."==b||"-"==b){c.type=4;var b=a.b,d=!1,e=!1;do{if("."==f)d=!0;else if("e"==f||"E"==f)e=!0;var f=a.a.charAt(++a.b)}while("0"<=f&&"9">=f||"."==f&&(void 0===d||!d)||!e&&("e"==f||"E"==f)||e&&("-"==f||"+"==f));a=parseFloat(a.a.substring(b,a.b--));c.value=a}else if("a"<=b&&"z">=b||"A"<=b&&"Z">=b){c.type=1;b=a.b;do f=a.a.charAt(++a.b);while("a"<=f&&"z">=
f||"A"<=f&&"Z">=f);a=a.a.substring(b,a.b--).toUpperCase();c.value=a}else{if(" "==b||"\t"==b||"\r"==b||"\n"==b)return Cr(a);if(""===b)c.type=6;else throw Error("Unexpected character: "+b);}return c}function yr(a){this.i=a;this.a="XY"}function Ar(a){a.b=Cr(a.i)}function Dr(a,b){(b=a.b.type==b)&&Ar(a);return b}
function Br(a){var b=a.b;if(Dr(a,1)){var b=b.value,c="XY",d=a.b;1==a.b.type&&(d=d.value,"Z"===d?c="XYZ":"M"===d?c="XYM":"ZM"===d&&(c="XYZM"),"XY"!==c&&Ar(a));a.a=c;if("GEOMETRYCOLLECTION"==b){a:{if(Dr(a,2)){b=[];do b.push(Br(a));while(Dr(a,5));if(Dr(a,3)){a=b;break a}}else if(Er(a)){a=[];break a}throw Error(Fr(a));}return new tm(a)}d=Gr[b];c=Hr[b];if(!d||!c)throw Error("Invalid geometry type: "+b);b=d.call(a);return new c(b,a.a)}throw Error(Fr(a));}k=yr.prototype;
k.tg=function(){if(Dr(this,2)){var a=Ir(this);if(Dr(this,3))return a}else if(Er(this))return null;throw Error(Fr(this));};k.sg=function(){if(Dr(this,2)){var a=Jr(this);if(Dr(this,3))return a}else if(Er(this))return[];throw Error(Fr(this));};k.ug=function(){if(Dr(this,2)){var a=Kr(this);if(Dr(this,3))return a}else if(Er(this))return[];throw Error(Fr(this));};
k.fp=function(){if(Dr(this,2)){var a;if(2==this.b.type)for(a=[this.tg()];Dr(this,5);)a.push(this.tg());else a=Jr(this);if(Dr(this,3))return a}else if(Er(this))return[];throw Error(Fr(this));};k.ep=function(){if(Dr(this,2)){var a=Kr(this);if(Dr(this,3))return a}else if(Er(this))return[];throw Error(Fr(this));};k.gp=function(){if(Dr(this,2)){for(var a=[this.ug()];Dr(this,5);)a.push(this.ug());if(Dr(this,3))return a}else if(Er(this))return[];throw Error(Fr(this));};
function Ir(a){for(var b=[],c=a.a.length,d=0;d<c;++d){var e=a.b;if(Dr(a,4))b.push(e.value);else break}if(b.length==c)return b;throw Error(Fr(a));}function Jr(a){for(var b=[Ir(a)];Dr(a,5);)b.push(Ir(a));return b}function Kr(a){for(var b=[a.sg()];Dr(a,5);)b.push(a.sg());return b}function Er(a){var b=1==a.b.type&&"EMPTY"==a.b.value;b&&Ar(a);return b}function Fr(a){return"Unexpected `"+a.b.value+"` at position "+a.b.position+" in `"+a.i.a+"`"}
var Hr={POINT:C,LINESTRING:O,POLYGON:D,MULTIPOINT:Q,MULTILINESTRING:P,MULTIPOLYGON:R},Gr={POINT:yr.prototype.tg,LINESTRING:yr.prototype.sg,POLYGON:yr.prototype.ug,MULTIPOINT:yr.prototype.fp,MULTILINESTRING:yr.prototype.ep,MULTIPOLYGON:yr.prototype.gp};function Lr(){this.version=void 0}v(Lr,uq);Lr.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};Lr.prototype.b=function(a){this.version=a.getAttribute("version").trim();return(a=N({version:this.version},Mr,a,[]))?a:null};function Nr(a,b){return N({},Or,a,b)}function Pr(a,b){return N({},Qr,a,b)}function Rr(a,b){if(b=Nr(a,b))return a=[Nm(a.getAttribute("width")),Nm(a.getAttribute("height"))],b.size=a,b}
function Sr(a,b){return N([],Tr,a,b)}
var Ur=[null,"http://www.opengis.net/wms"],Mr=K(Ur,{Service:I(function(a,b){return N({},Vr,a,b)}),Capability:I(function(a,b){return N({},Wr,a,b)})}),Wr=K(Ur,{Request:I(function(a,b){return N({},Xr,a,b)}),Exception:I(function(a,b){return N([],Yr,a,b)}),Layer:I(function(a,b){return N({},Zr,a,b)})}),Vr=K(Ur,{Name:I(S),Title:I(S),Abstract:I(S),KeywordList:I(Sr),OnlineResource:I(tq),ContactInformation:I(function(a,b){return N({},$r,a,b)}),Fees:I(S),AccessConstraints:I(S),LayerLimit:I(Mm),MaxWidth:I(Mm),
MaxHeight:I(Mm)}),$r=K(Ur,{ContactPersonPrimary:I(function(a,b){return N({},as,a,b)}),ContactPosition:I(S),ContactAddress:I(function(a,b){return N({},bs,a,b)}),ContactVoiceTelephone:I(S),ContactFacsimileTelephone:I(S),ContactElectronicMailAddress:I(S)}),as=K(Ur,{ContactPerson:I(S),ContactOrganization:I(S)}),bs=K(Ur,{AddressType:I(S),Address:I(S),City:I(S),StateOrProvince:I(S),PostCode:I(S),Country:I(S)}),Yr=K(Ur,{Format:rl(S)}),Zr=K(Ur,{Name:I(S),Title:I(S),Abstract:I(S),KeywordList:I(Sr),CRS:tl(S),
EX_GeographicBoundingBox:I(function(a,b){var c=N({},cs,a,b);if(c){a=c.westBoundLongitude;b=c.southBoundLatitude;var d=c.eastBoundLongitude,c=c.northBoundLatitude;if(void 0!==a&&void 0!==b&&void 0!==d&&void 0!==c)return[a,b,d,c]}}),BoundingBox:tl(function(a){var b=[Lm(a.getAttribute("minx")),Lm(a.getAttribute("miny")),Lm(a.getAttribute("maxx")),Lm(a.getAttribute("maxy"))],c=[Lm(a.getAttribute("resx")),Lm(a.getAttribute("resy"))];return{crs:a.getAttribute("CRS"),extent:b,res:c}}),Dimension:tl(function(a){return{name:a.getAttribute("name"),
units:a.getAttribute("units"),unitSymbol:a.getAttribute("unitSymbol"),"default":a.getAttribute("default"),multipleValues:Im(a.getAttribute("multipleValues")),nearestValue:Im(a.getAttribute("nearestValue")),current:Im(a.getAttribute("current")),values:S(a)}}),Attribution:I(function(a,b){return N({},ds,a,b)}),AuthorityURL:tl(function(a,b){if(b=Nr(a,b))return b.name=a.getAttribute("name"),b}),Identifier:tl(S),MetadataURL:tl(function(a,b){if(b=Nr(a,b))return b.type=a.getAttribute("type"),b}),DataURL:tl(Nr),
FeatureListURL:tl(Nr),Style:tl(function(a,b){return N({},es,a,b)}),MinScaleDenominator:I(Km),MaxScaleDenominator:I(Km),Layer:tl(function(a,b){var c=b[b.length-1],d=N({},Zr,a,b);if(d)return b=Im(a.getAttribute("queryable")),void 0===b&&(b=c.queryable),d.queryable=void 0!==b?b:!1,b=Nm(a.getAttribute("cascaded")),void 0===b&&(b=c.cascaded),d.cascaded=b,b=Im(a.getAttribute("opaque")),void 0===b&&(b=c.opaque),d.opaque=void 0!==b?b:!1,b=Im(a.getAttribute("noSubsets")),void 0===b&&(b=c.noSubsets),d.noSubsets=
void 0!==b?b:!1,(b=Lm(a.getAttribute("fixedWidth")))||(b=c.fixedWidth),d.fixedWidth=b,(a=Lm(a.getAttribute("fixedHeight")))||(a=c.fixedHeight),d.fixedHeight=a,["Style","CRS","AuthorityURL"].forEach(function(a){a in c&&(d[a]=(d[a]||[]).concat(c[a]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(a){a in d||(d[a]=c[a])}),d})}),ds=K(Ur,{Title:I(S),OnlineResource:I(tq),LogoURL:I(Rr)}),cs=K(Ur,{westBoundLongitude:I(Km),
eastBoundLongitude:I(Km),southBoundLatitude:I(Km),northBoundLatitude:I(Km)}),Xr=K(Ur,{GetCapabilities:I(Pr),GetMap:I(Pr),GetFeatureInfo:I(Pr)}),Qr=K(Ur,{Format:tl(S),DCPType:tl(function(a,b){return N({},fs,a,b)})}),fs=K(Ur,{HTTP:I(function(a,b){return N({},gs,a,b)})}),gs=K(Ur,{Get:I(Nr),Post:I(Nr)}),es=K(Ur,{Name:I(S),Title:I(S),Abstract:I(S),LegendURL:tl(Rr),StyleSheetURL:I(Nr),StyleURL:I(Nr)}),Or=K(Ur,{Format:I(S),OnlineResource:I(tq)}),Tr=K(Ur,{Keyword:rl(S)});function hs(a){a=a?a:{};this.a="http://mapserver.gis.umn.edu/mapserver";this.b=new an;this.c=a.layers?a.layers:null;Cm.call(this)}v(hs,Cm);
hs.prototype.zc=function(a,b){var c={};b&&tb(c,Fl(this,a,b));c=[c];a.setAttribute("namespaceURI",this.a);var d=a.localName;b=[];if(a.childNodes.length){if("msGMLOutput"==d)for(var e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];if(g.nodeType===Node.ELEMENT_NODE){var h=c[0],l=g.localName.replace("_layer","");if(!this.c||ja(this.c,l)){l+="_feature";h.featureType=l;h.featureNS=this.a;var m={};m[l]=rl(this.b.wg,this.b);h=K([h.featureNS,null],m);g.setAttribute("namespaceURI",this.a);(g=N([],h,
g,c,this.b))&&la(b,g)}}}"FeatureCollection"==d&&(a=N([],this.b.b,a,[{}],this.b))&&(b=a)}return b};hs.prototype.Vg=function(){};hs.prototype.Xb=function(){};hs.prototype.ie=function(){};function is(){this.i=new vq}v(is,uq);is.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};is.prototype.b=function(a){var b=a.getAttribute("version").trim(),c=this.i.b(a);if(!c)return null;c.version=b;return(c=N(c,js,a,[]))?c:null};function ks(a){var b=S(a).split(" ");if(b&&2==b.length&&(a=+b[0],b=+b[1],!isNaN(a)&&!isNaN(b)))return[a,b]}
var ls=[null,"http://www.opengis.net/wmts/1.0"],ms=[null,"http://www.opengis.net/ows/1.1"],js=K(ls,{Contents:I(function(a,b){return N({},ns,a,b)})}),ns=K(ls,{Layer:tl(function(a,b){return N({},os,a,b)}),TileMatrixSet:tl(function(a,b){return N({},ps,a,b)})}),os=K(ls,{Style:tl(function(a,b){if(b=N({},qs,a,b))return a="true"===a.getAttribute("isDefault"),b.isDefault=a,b}),Format:tl(S),TileMatrixSetLink:tl(function(a,b){return N({},rs,a,b)}),Dimension:tl(function(a,b){return N({},ss,a,b)}),ResourceURL:tl(function(a){var b=
a.getAttribute("format"),c=a.getAttribute("template");a=a.getAttribute("resourceType");var d={};b&&(d.format=b);c&&(d.template=c);a&&(d.resourceType=a);return d})},K(ms,{Title:I(S),Abstract:I(S),WGS84BoundingBox:I(function(a,b){a=N([],ts,a,b);if(2==a.length)return Na(a)}),Identifier:I(S)})),qs=K(ls,{LegendURL:tl(function(a){var b={};b.format=a.getAttribute("format");b.href=tq(a);return b})},K(ms,{Title:I(S),Identifier:I(S)})),rs=K(ls,{TileMatrixSet:I(S),TileMatrixSetLimits:I(function(a,b){return N([],
us,a,b)})}),us=K(ls,{TileMatrixLimits:rl(function(a,b){return N({},vs,a,b)})}),vs=K(ls,{TileMatrix:I(S),MinTileRow:I(Mm),MaxTileRow:I(Mm),MinTileCol:I(Mm),MaxTileCol:I(Mm)}),ss=K(ls,{Default:I(S),Value:tl(S)},K(ms,{Identifier:I(S)})),ts=K(ms,{LowerCorner:rl(ks),UpperCorner:rl(ks)}),ps=K(ls,{WellKnownScaleSet:I(S),TileMatrix:tl(function(a,b){return N({},ws,a,b)})},K(ms,{SupportedCRS:I(S),Identifier:I(S)})),ws=K(ls,{TopLeftCorner:I(ks),ScaleDenominator:I(Km),TileWidth:I(Mm),TileHeight:I(Mm),MatrixWidth:I(Mm),
MatrixHeight:I(Mm)},K(ms,{Identifier:I(S)}));function xs(a){Tc.call(this);a=a||{};this.a=null;this.f=fc;this.c=void 0;y(this,Vc("projection"),this.Am,this);y(this,Vc("tracking"),this.Bm,this);void 0!==a.projection&&this.Wh(a.projection);void 0!==a.trackingOptions&&this.wj(a.trackingOptions);this.Ke(void 0!==a.tracking?a.tracking:!1)}v(xs,Tc);k=xs.prototype;k.ka=function(){this.Ke(!1);Tc.prototype.ka.call(this)};k.Am=function(){var a=this.Uh();a&&(this.f=Vb(Tb("EPSG:4326"),a),this.a&&this.set("position",this.f(this.a)))};
k.Bm=function(){if(Wd){var a=this.Vh();a&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.np.bind(this),this.op.bind(this),this.Gh()):a||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}};
k.np=function(a){a=a.coords;this.set("accuracy",a.accuracy);this.set("altitude",null===a.altitude?void 0:a.altitude);this.set("altitudeAccuracy",null===a.altitudeAccuracy?void 0:a.altitudeAccuracy);this.set("heading",null===a.heading?void 0:Ha(a.heading));this.a?(this.a[0]=a.longitude,this.a[1]=a.latitude):this.a=[a.longitude,a.latitude];var b=this.f(this.a);this.set("position",b);this.set("speed",null===a.speed?void 0:a.speed);a=Xf(Jb,this.a,a.accuracy);a.Dc(this.f);this.set("accuracyGeometry",a);
this.s()};k.op=function(a){a.type="error";this.Ke(!1);this.b(a)};k.Dk=function(){return this.get("accuracy")};k.Ek=function(){return this.get("accuracyGeometry")||null};k.Gk=function(){return this.get("altitude")};k.Hk=function(){return this.get("altitudeAccuracy")};k.ym=function(){return this.get("heading")};k.zm=function(){return this.get("position")};k.Uh=function(){return this.get("projection")};k.ll=function(){return this.get("speed")};k.Vh=function(){return this.get("tracking")};k.Gh=function(){return this.get("trackingOptions")};
k.Wh=function(a){this.set("projection",Tb(a))};k.Ke=function(a){this.set("tracking",a)};k.wj=function(a){this.set("trackingOptions",a)};function ys(a,b,c){rf.call(this);this.Ng(a,b?b:0,c)}v(ys,rf);k=ys.prototype;k.clone=function(){var a=new ys(null);tf(a,this.ja,this.A.slice());a.s();return a};k.Kb=function(a,b,c,d){var e=this.A;a-=e[0];var f=b-e[1];b=a*a+f*f;if(b<d){if(b)for(d=this.pd()/Math.sqrt(b),c[0]=e[0]+d*a,c[1]=e[1]+d*f,d=2;d<this.a;++d)c[d]=e[d];else for(d=0;d<this.a;++d)c[d]=e[d];c.length=this.a;return b}return d};k.Mc=function(a,b){var c=this.A;a-=c[0];b-=c[1];return a*a+b*b<=zs(this)};
k.wa=function(){return this.A.slice(0,this.a)};k.se=function(a){var b=this.A,c=b[this.a]-b[0];return Xa(b[0]-c,b[1]-c,b[0]+c,b[1]+c,a)};k.pd=function(){return Math.sqrt(zs(this))};function zs(a){var b=a.A[a.a]-a.A[0];a=a.A[a.a+1]-a.A[1];return b*b+a*a}k.U=function(){return"Circle"};k.Xa=function(a){var b=this.G();return qb(a,b)?(b=this.wa(),a[0]<=b[0]&&a[2]>=b[0]||a[1]<=b[1]&&a[3]>=b[1]?!0:db(a,this.sb,this)):!1};
k.ob=function(a){var b=this.a,c=a.slice();c[b]=c[0]+(this.A[b]-this.A[0]);var d;for(d=1;d<b;++d)c[b+d]=a[d];tf(this,this.ja,c);this.s()};k.Ng=function(a,b,c){if(a){uf(this,c,a,0);this.A||(this.A=[]);c=this.A;a=Cf(c,a);c[a++]=c[0]+b;var d;b=1;for(d=this.a;b<d;++b)c[a++]=c[b];c.length=a}else tf(this,"XY",null);this.s()};k.X=function(){};k.ma=function(){};k.Uc=function(a){this.A[this.a]=this.A[0]+a;this.s()};function As(a,b,c){for(var d=[],e=a(0),f=a(1),g=b(e),h=b(f),l=[f,e],m=[h,g],n=[1,0],p={},q=1E5,r,u,x,B,E;0<--q&&0<n.length;)x=n.pop(),e=l.pop(),g=m.pop(),f=x.toString(),f in p||(d.push(g[0],g[1]),p[f]=!0),B=n.pop(),f=l.pop(),h=m.pop(),E=(x+B)/2,r=a(E),u=b(r),Fa(u[0],u[1],g[0],g[1],h[0],h[1])<c?(d.push(h[0],h[1]),f=B.toString(),p[f]=!0):(n.push(B,E,E,x),m.push(h,u,u,g),l.push(f,r,r,e));return d}function Bs(a,b,c,d,e){var f=Tb("EPSG:4326");return As(function(d){return[a,b+(c-b)*d]},ec(f,d),e)}
function Cs(a,b,c,d,e){var f=Tb("EPSG:4326");return As(function(d){return[b+(c-b)*d,a]},ec(f,d),e)};function Ds(a){a=a||{};this.j=this.v=null;this.f=this.o=Infinity;this.g=this.l=-Infinity;this.ra=this.oa=Infinity;this.R=this.I=-Infinity;this.Jb=void 0!==a.targetSize?a.targetSize:100;this.fb=void 0!==a.maxLines?a.maxLines:100;this.i=[];this.c=[];this.pa=void 0!==a.strokeStyle?a.strokeStyle:Es;this.D=this.u=void 0;this.a=this.b=this.S=null;1==a.showLabels&&(this.na=a.lonLabelFormatter?a.lonLabelFormatter:bf.bind(this,"EW"),this.Ua=a.latLabelFormatter?a.latLabelFormatter:bf.bind(this,"NS"),this.fa=
void 0==a.lonLabelPosition?0:a.lonLabelPosition,this.T=void 0==a.latLabelPosition?1:a.latLabelPosition,this.B=void 0!==a.lonLabelStyle?a.lonLabelStyle:new fo({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new al({color:"rgba(0,0,0,1)"}),stroke:new wj({color:"rgba(255,255,255,1)",width:3})}),this.C=void 0!==a.latLabelStyle?a.latLabelStyle:new fo({font:"12px Calibri,sans-serif",textAlign:"end",fill:new al({color:"rgba(0,0,0,1)"}),stroke:new wj({color:"rgba(255,255,255,1)",width:3})}),this.b=
[],this.a=[]);this.setMap(void 0!==a.map?a.map:null)}var Es=new wj({color:"rgba(0,0,0,0.2)"}),Fs=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];function Gs(a,b,c,d,e,f,g){var h=g;c=Bs(b,c,d,a.j,e);h=void 0!==a.i[h]?a.i[h]:new O(null);h.ba("XY",c);qb(h.G(),f)&&(a.b&&(c=g,d=h.ga(),f=[d[0],Ca(f[1]+Math.abs(f[1]-f[3])*a.fa,Math.max(f[1],d[1]),Math.min(f[3],d[d.length-1]))],c=a.b[c]?a.b[c].Qd:new C(null),c.ma(f),a.b[g]={Qd:c,text:a.na(b)}),a.i[g++]=h);return g}
function Hs(a,b,c,d,e){var f=e;c=Cs(b,a.g,a.f,a.j,c);f=void 0!==a.c[f]?a.c[f]:new O(null);f.ba("XY",c);if(qb(f.G(),d)){if(a.a){c=e;var g=f.ga();d=[Ca(d[0]+Math.abs(d[0]-d[2])*a.T,Math.max(d[0],g[0]),Math.min(d[2],g[g.length-2])),g[1]];c=a.a[c]?a.a[c].Qd:new C(null);c.ma(d);a.a[e]={Qd:c,text:a.Ua(b)}}a.c[e++]=f}return e}k=Ds.prototype;k.Cm=function(){return this.v};k.al=function(){return this.i};k.hl=function(){return this.c};
k.Kh=function(a){var b=a.vectorContext,c=a.frameState,d=c.extent;a=c.viewState;var e=a.center,f=a.projection,g=a.resolution;a=c.pixelRatio;a=g*g/(4*a*a);if(!this.j||!dc(this.j,f)){var h=Tb("EPSG:4326"),l=f.G(),m=f.g,n=hc(m,h,f),p=m[2],q=m[1],r=m[0],u=n[3],x=n[2],B=n[1],n=n[0];this.o=m[3];this.f=p;this.l=q;this.g=r;this.oa=u;this.ra=x;this.I=B;this.R=n;this.u=ec(h,f);this.D=ec(f,h);this.S=this.D(nb(l));this.j=f}f.i&&(f=f.G(),h=lb(f),c=c.focus[0],c<f[0]||c>f[2])&&(c=h*Math.ceil((f[0]-c)/h),d=[d[0]+
c,d[1],d[2]+c,d[3]]);c=this.S[0];f=this.S[1];h=-1;m=Math.pow(this.Jb*g,2);p=[];q=[];g=0;for(l=Fs.length;g<l;++g){r=Fs[g]/2;p[0]=c-r;p[1]=f-r;q[0]=c+r;q[1]=f+r;this.u(p,p);this.u(q,q);r=Math.pow(q[0]-p[0],2)+Math.pow(q[1]-p[1],2);if(r<=m)break;h=Fs[g]}g=h;if(-1==g)this.i.length=this.c.length=0,this.b&&(this.b.length=0),this.a&&(this.a.length=0);else{c=this.D(e);e=c[0];c=c[1];f=this.fb;h=[Math.max(d[0],this.R),Math.max(d[1],this.I),Math.min(d[2],this.ra),Math.min(d[3],this.oa)];h=hc(h,this.j,"EPSG:4326");
m=h[3];q=h[1];e=Math.floor(e/g)*g;p=Ca(e,this.g,this.f);l=Gs(this,p,q,m,a,d,0);for(h=0;p!=this.g&&h++<f;)p=Math.max(p-g,this.g),l=Gs(this,p,q,m,a,d,l);p=Ca(e,this.g,this.f);for(h=0;p!=this.f&&h++<f;)p=Math.min(p+g,this.f),l=Gs(this,p,q,m,a,d,l);this.i.length=l;this.b&&(this.b.length=l);c=Math.floor(c/g)*g;e=Ca(c,this.l,this.o);l=Hs(this,e,a,d,0);for(h=0;e!=this.l&&h++<f;)e=Math.max(e-g,this.l),l=Hs(this,e,a,d,l);e=Ca(c,this.l,this.o);for(h=0;e!=this.o&&h++<f;)e=Math.min(e+g,this.o),l=Hs(this,e,a,
d,l);this.c.length=l;this.a&&(this.a.length=l)}b.Ma(null,this.pa);a=0;for(e=this.i.length;a<e;++a)g=this.i[a],b.zb(g);a=0;for(e=this.c.length;a<e;++a)g=this.c[a],b.zb(g);if(this.b)for(a=0,e=this.b.length;a<e;++a)g=this.b[a],this.B.xd(g.text),b.Cb(this.B),b.zb(g.Qd);if(this.a)for(a=0,e=this.a.length;a<e;++a)g=this.a[a],this.C.xd(g.text),b.Cb(this.C),b.zb(g.Qd)};
k.setMap=function(a){this.v&&(this.v.K("postcompose",this.Kh,this),this.v.render());a&&(a.J("postcompose",this.Kh,this),a.render());this.v=a};function Is(a,b,c,d,e){Qc.call(this);this.f=e;this.extent=a;this.a=c;this.resolution=b;this.state=d}v(Is,Qc);Is.prototype.s=function(){this.b("change")};Is.prototype.G=function(){return this.extent};Is.prototype.getState=function(){return this.state};function Js(a,b,c,d,e,f,g){Is.call(this,a,b,c,0,d);this.j=e;this.M=new Image;null!==f&&(this.M.crossOrigin=f);this.c={};this.i=null;this.state=0;this.g=g}v(Js,Is);k=Js.prototype;k.Y=function(a){if(void 0!==a){var b;a=w(a);if(a in this.c)return this.c[a];wb(this.c)?b=this.M:b=this.M.cloneNode(!1);return this.c[a]=b}return this.M};k.Fm=function(){this.state=3;this.i.forEach(Ec);this.i=null;this.s()};
k.Gm=function(){void 0===this.resolution&&(this.resolution=mb(this.extent)/this.M.height);this.state=2;this.i.forEach(Ec);this.i=null;this.s()};k.load=function(){if(0==this.state||3==this.state)this.state=1,this.s(),this.i=[Jc(this.M,"error",this.Fm,this),Jc(this.M,"load",this.Gm,this)],this.g(this,this.j)};k.Og=function(a){this.M=a};function Ks(a,b,c,d,e,f){this.c=f?f:null;Is.call(this,a,b,c,f?0:2,d);this.i=e}v(Ks,Is);Ks.prototype.g=function(a){this.state=a?3:2;this.s()};Ks.prototype.load=function(){0==this.state&&(this.state=1,this.s(),this.c(this.g.bind(this)))};Ks.prototype.Y=function(){return this.i};function Ls(a,b){Qc.call(this);this.ta=a;this.state=b;this.i=null;this.key=""}v(Ls,Qc);Ls.prototype.s=function(){this.b("change")};Ls.prototype.bb=function(){return this.key+"/"+this.ta};function Ms(a){if(!a.i)return a;var b=a.i;do{if(2==b.getState())return b;b=b.i}while(b);return a}Ls.prototype.f=function(){return this.ta};Ls.prototype.getState=function(){return this.state};function Ns(a,b){a.state=b;a.s()};function Os(a,b,c,d,e){Ls.call(this,a,b);this.g=c;this.M=new Image;null!==d&&(this.M.crossOrigin=d);this.c=null;this.j=e}v(Os,Ls);k=Os.prototype;k.ka=function(){1==this.state&&Ps(this);this.i&&Nc(this.i);this.state=5;this.s();Ls.prototype.ka.call(this)};k.Y=function(){return this.M};k.bb=function(){return this.g};k.Dm=function(){this.state=3;this.M=Qs;Ps(this);this.s()};k.Em=function(){this.state=this.M.naturalWidth&&this.M.naturalHeight?2:4;Ps(this);this.s()};
k.load=function(){if(0==this.state||3==this.state)this.state=1,this.s(),this.c=[Jc(this.M,"error",this.Dm,this),Jc(this.M,"load",this.Em,this)],this.j(this,this.g)};function Ps(a){a.c.forEach(Ec);a.c=null}var Qs=new Image;Qs.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";function Rs(a){a=a?a:{};ng.call(this,{handleEvent:mf});this.g=a.formatConstructors?a.formatConstructors:[];this.o=a.projection?Tb(a.projection):null;this.a=null;this.target=a.target?a.target:null}v(Rs,ng);function Ss(a){a=a.dataTransfer.files;var b;var c=0;for(b=a.length;c<b;++c){var d=a.item(c);var e=new FileReader;e.addEventListener("load",this.j.bind(this,d));e.readAsText(d)}}function Ts(a){a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy"}
Rs.prototype.j=function(a,b){b=b.target.result;var c=this.v,d=this.o;d||(d=c.Z().v);var c=this.g,e=[],f;var g=0;for(f=c.length;g<f;++g){var h=new c[g];var l={featureProjection:d};try{e=h.Oa(b,l)}catch(m){e=null}if(e&&0<e.length)break}this.b(new Us(Vs,a,e,d))};function Ws(a){var b=a.v;b&&(b=a.target?a.target:b.a,a.a=[y(b,"drop",Ss,a),y(b,"dragenter",Ts,a),y(b,"dragover",Ts,a),y(b,"drop",Ts,a)])}Rs.prototype.Ha=function(a){ng.prototype.Ha.call(this,a);a?Ws(this):Xs(this)};
Rs.prototype.setMap=function(a){Xs(this);ng.prototype.setMap.call(this,a);this.c()&&Ws(this)};function Xs(a){a.a&&(a.a.forEach(Ec),a.a=null)}var Vs="addfeatures";function Us(a,b,c,d){Oc.call(this,a);this.features=c;this.file=b;this.projection=d}v(Us,Oc);function Ys(a){a=a?a:{};Dg.call(this,{handleDownEvent:Zs,handleDragEvent:$s,handleUpEvent:at});this.l=a.condition?a.condition:yg;this.a=this.g=void 0;this.j=0;this.u=void 0!==a.duration?a.duration:400}v(Ys,Dg);
function $s(a){if(Bg(a)){var b=a.map,c=b.Ob(),d=a.pixel;a=d[0]-c[0]/2;d=c[1]/2-d[1];c=Math.atan2(d,a);a=Math.sqrt(a*a+d*d);b=b.Z();b.g.rotation!==Te&&void 0!==this.g&&(d=c-this.g,og(b,b.Qa()-d));this.g=c;void 0!==this.a&&(c=this.a*(b.Pa()/a),qg(b,c));void 0!==this.a&&(this.j=this.a/a);this.a=a}}
function at(a){if(!Bg(a))return!0;a=a.map.Z();cg(a,1,-1);var b=this.j-1,c=a.Qa(),c=a.constrainRotation(c,0);og(a,c,void 0,void 0);var c=a.Pa(),d=this.u,c=a.constrainResolution(c,0,b);qg(a,c,void 0,d);this.j=0;return!1}function Zs(a){return Bg(a)&&this.l(a)?(cg(a.map.Z(),1,1),this.a=this.g=void 0,!0):!1};function bt(a,b,c,d){this.fb=a;this.Ua=b;this.overlaps=d;this.c=0;this.resolution=c;this.ra=this.oa=null;this.a=[];this.coordinates=[];this.T=Bh();this.b=[];this.B=null;this.fa=Bh();this.na=Bh()}v(bt,Wh);
function ct(a,b,c,d,e,f,g){var h=a.coordinates.length,l=a.Sf();g&&(c+=e);g=[b[c],b[c+1]];var m=[NaN,NaN],n=!0,p;for(p=c+e;p<d;p+=e){m[0]=b[p];m[1]=b[p+1];var q=Wa(l,m);q!==r?(n&&(a.coordinates[h++]=g[0],a.coordinates[h++]=g[1]),a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],n=!1):1===q?(a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],n=!1):n=!0;g[0]=m[0];g[1]=m[1];var r=q}if(f&&n||p===c+e)a.coordinates[h++]=g[0],a.coordinates[h++]=g[1];return h}
function dt(a,b){a.oa=[0,b,0];a.a.push(a.oa);a.ra=[0,b,0];a.b.push(a.ra)}bt.prototype.Va=function(a,b){if(this.R){var c=Gh(this.T,this.R.slice());a.translate(c[0],c[1]);a.rotate(b)}a.fill();this.R&&a.setTransform.apply(a,this.na)};
function et(a,b,c,d,e,f,g,h,l){if(a.B&&pa(d,a.T))var m=a.B;else a.B||(a.B=[]),m=pf(a.coordinates,0,a.coordinates.length,2,d,a.B),Fh(a.T,d);d=!wb(f);for(var n=0,p=g.length,q=0,r,u=a.fa,x=a.na,B,E,A,L,oa=0,ha=0,ga=a.a!=g||a.overlaps?0:200;n<p;){var z=g[n];switch(z[0]){case 0:q=z[1];d&&f[w(q).toString()]||!q.V()?n=z[2]:void 0===l||qb(l,q.V().G())?++n:n=z[2]+1;break;case 1:oa>ga&&(a.Va(b,e),oa=0);ha>ga&&(b.stroke(),ha=0);oa||ha||(b.beginPath(),B=E=NaN);++n;break;case 2:q=z[1];r=m[q];z=m[q+1];A=m[q+2]-
r;q=m[q+3]-z;q=Math.sqrt(A*A+q*q);b.moveTo(r+q,z);b.arc(r,z,q,0,2*Math.PI,!0);++n;break;case 3:b.closePath();++n;break;case 4:q=z[1];r=z[2];var M=z[3];var ba=z[4]*c;var da=z[5]*c;var fb=z[6],ca=z[7],Ub=z[8],uc=z[9];var bc=z[10];A=z[11];L=z[12];var Je=z[13],zg=z[14];for(bc&&(A+=e);q<r;q+=2){z=m[q]-ba;bc=m[q+1]-da;Je&&(z=Math.round(z),bc=Math.round(bc));if(1!=L||A){var ff=z+ba,rh=bc+da;Kh(u,ff,rh,L,L,A,-ff,-rh);b.setTransform.apply(b,u)}ff=b.globalAlpha;1!=ca&&(b.globalAlpha=ff*ca);var rh=zg+Ub>M.width?
M.width-Ub:zg,Bq=fb+uc>M.height?M.height-uc:fb;b.drawImage(M,Ub,uc,rh,Bq,z,bc,rh*c,Bq*c);1!=ca&&(b.globalAlpha=ff);(1!=L||A)&&b.setTransform.apply(b,x)}++n;break;case 5:q=z[1];r=z[2];da=z[3];fb=z[4]*c;ca=z[5]*c;A=z[6];L=z[7]*c;M=z[8];ba=z[9];for((bc=z[10])&&(A+=e);q<r;q+=2){z=m[q]+fb;bc=m[q+1]+ca;if(1!=L||A)Kh(u,z,bc,L,L,A,-z,-bc),b.setTransform.apply(b,u);Ub=da.split("\n");uc=Ub.length;1<uc?(Je=Math.round(1.5*b.measureText("M").width),bc-=(uc-1)/2*Je):Je=0;for(zg=0;zg<uc;zg++)ff=Ub[zg],ba&&b.strokeText(ff,
z,bc),M&&b.fillText(ff,z,bc),bc+=Je;(1!=L||A)&&b.setTransform.apply(b,x)}++n;break;case 6:if(h&&(q=z[1],q=h(q)))return q;++n;break;case 7:ga?oa++:a.Va(b,e);++n;break;case 8:q=z[1];r=z[2];z=m[q];bc=m[q+1];A=z+.5|0;L=bc+.5|0;if(A!==B||L!==E)b.moveTo(z,bc),B=A,E=L;for(q+=2;q<r;q+=2)if(z=m[q],bc=m[q+1],A=z+.5|0,L=bc+.5|0,q==r-2||A!==B||L!==E)b.lineTo(z,bc),B=A,E=L;++n;break;case 9:a.R=z[2];oa&&(a.Va(b,e),oa=0,ha&&(b.stroke(),ha=0));b.fillStyle=z[1];++n;break;case 10:var q=void 0!==z[8]?z[8]:!0,ul=z[9];
r=z[2];ha&&(b.stroke(),ha=0);b.strokeStyle=z[1];b.lineWidth=q?r*c:r;b.lineCap=z[3];b.lineJoin=z[4];b.miterLimit=z[5];Td&&(r=z[6],A=z[7],q&&c!==ul&&(r=r.map(function(a){return a*c/ul}),A*=c/ul,z[6]=r,z[7]=A,z[9]=c),b.lineDashOffset=A,b.setLineDash(r));++n;break;case 11:b.font=z[1];b.textAlign=z[2];b.textBaseline=z[3];++n;break;case 12:ga?ha++:b.stroke();++n;break;default:++n}}oa&&a.Va(b,e);ha&&b.stroke()}bt.prototype.La=function(a,b,c,d,e){et(this,a,b,c,d,e,this.a,void 0,void 0)};
function ft(a){var b=a.b;b.reverse();var c,d=b.length,e=-1;for(c=0;c<d;++c){var f=b[c];var g=f[0];if(6==g)e=c;else if(0==g){f[2]=c;f=a.b;for(g=c;e<g;){var h=f[e];f[e]=f[g];f[g]=h;++e;--g}e=-1}}}function gt(a,b){a.oa[2]=a.a.length;a.oa=null;a.ra[2]=a.b.length;a.ra=null;b=[6,b];a.a.push(b);a.b.push(b)}bt.prototype.Te=ua;bt.prototype.Sf=function(){return this.Ua};function ht(a,b,c,d){bt.call(this,a,b,c,d);this.M=this.I=null;this.C=this.D=this.S=this.u=this.v=this.l=this.o=this.j=this.g=this.f=this.i=void 0}v(ht,bt);
ht.prototype.qc=function(a,b){if(this.M){dt(this,b);var c=a.ga(),d=this.coordinates.length;a=ct(this,c,0,c.length,a.qa(),!1,!1);this.a.push([4,d,a,this.M,this.i,this.f,this.g,this.j,this.o,this.l,this.v,this.u,this.S,this.D,this.C]);this.b.push([4,d,a,this.I,this.i,this.f,this.g,this.j,this.o,this.l,this.v,this.u,this.S,this.D,this.C]);gt(this,b)}};
ht.prototype.oc=function(a,b){if(this.M){dt(this,b);var c=a.ga(),d=this.coordinates.length;a=ct(this,c,0,c.length,a.qa(),!1,!1);this.a.push([4,d,a,this.M,this.i,this.f,this.g,this.j,this.o,this.l,this.v,this.u,this.S,this.D,this.C]);this.b.push([4,d,a,this.I,this.i,this.f,this.g,this.j,this.o,this.l,this.v,this.u,this.S,this.D,this.C]);gt(this,b)}};ht.prototype.Te=function(){ft(this);this.f=this.i=void 0;this.M=this.I=null;this.C=this.D=this.u=this.v=this.l=this.o=this.j=this.S=this.g=void 0};
ht.prototype.Ub=function(a){var b=a.Hc(),c=a.ic(),d=a.qg(1),e=a.Y(1),f=a.Oc();this.i=b[0];this.f=b[1];this.I=d;this.M=e;this.g=c[1];this.j=a.f;this.o=f[0];this.l=f[1];this.v=a.l;this.u=a.g;this.S=a.a;this.D=a.v;this.C=c[0]};function it(a,b,c,d){bt.call(this,a,b,c,d);this.f=null;this.i={Md:void 0,Gd:void 0,Hd:null,Id:void 0,Jd:void 0,Kd:void 0,Ld:void 0,eg:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}v(it,bt);function jt(a,b,c,d,e){var f=a.coordinates.length;b=ct(a,b,c,d,e,!1,!1);f=[8,f,b];a.a.push(f);a.b.push(f);return d}k=it.prototype;k.Sf=function(){this.f||(this.f=Ra(this.Ua),0<this.c&&Qa(this.f,this.resolution*(this.c+1)/2,this.f));return this.f};
function kt(a){var b=a.i,c=b.strokeStyle,d=b.lineCap,e=b.lineDash,f=b.lineDashOffset,g=b.lineJoin,h=b.lineWidth,l=b.miterLimit;b.Md==c&&b.Gd==d&&pa(b.Hd,e)&&b.Id==f&&b.Jd==g&&b.Kd==h&&b.Ld==l||(b.eg!=a.coordinates.length&&(a.a.push([12]),b.eg=a.coordinates.length),a.a.push([10,c,h,d,g,l,e,f,!0,1],[1]),b.Md=c,b.Gd=d,b.Hd=e,b.Id=f,b.Jd=g,b.Kd=h,b.Ld=l)}
k.mc=function(a,b){var c=this.i,d=c.lineWidth;void 0!==c.strokeStyle&&void 0!==d&&(kt(this),dt(this,b),this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1],[1]),c=a.ga(),jt(this,c,0,c.length,a.qa()),this.b.push([12]),gt(this,b))};
k.nc=function(a,b){var c=this.i,d=c.lineWidth;if(void 0!==c.strokeStyle&&void 0!==d){kt(this);dt(this,b);this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1],[1]);c=a.Bb();d=a.ga();a=a.qa();var e=0,f;var g=0;for(f=c.length;g<f;++g)e=jt(this,d,e,c[g],a);this.b.push([12]);gt(this,b)}};k.Te=function(){this.i.eg!=this.coordinates.length&&this.a.push([12]);ft(this);this.i=null};
k.Ma=function(a,b){a=b.a;this.i.strokeStyle=id(a?a:Uh);a=b.f;this.i.lineCap=void 0!==a?a:"round";a=b.i;this.i.lineDash=a?a:Th;a=b.g;this.i.lineDashOffset=a?a:0;a=b.j;this.i.lineJoin=void 0!==a?a:"round";a=b.c;this.i.lineWidth=void 0!==a?a:1;b=b.o;this.i.miterLimit=void 0!==b?b:10;this.i.lineWidth>this.c&&(this.c=this.i.lineWidth,this.f=null)};function lt(a,b,c,d){bt.call(this,a,b,c,d);this.f=null;this.i={oh:void 0,Md:void 0,Gd:void 0,Hd:null,Id:void 0,Jd:void 0,Kd:void 0,Ld:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}v(lt,bt);
function mt(a,b,c,d,e){var f=a.i,g=void 0!==f.fillStyle,f=void 0!=f.strokeStyle,h=d.length,l=[1];a.a.push(l);a.b.push(l);for(l=0;l<h;++l){var m=d[l],n=a.coordinates.length;c=ct(a,b,c,m,e,!0,!f);c=[8,n,c];a.a.push(c);a.b.push(c);f&&(c=[3],a.a.push(c),a.b.push(c));c=m}b=[7];a.b.push(b);g&&a.a.push(b);f&&(g=[12],a.a.push(g),a.b.push(g));return c}k=lt.prototype;
k.Zb=function(a,b){var c=this.i,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){nt(this,a);dt(this,b);this.b.push([9,gd(Sh)]);void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]);var e=a.ga(),d=this.coordinates.length;ct(this,e,0,e.length,a.qa(),!1,!1);a=[1];d=[2,d];this.a.push(a,d);this.b.push(a,d);a=[7];this.b.push(a);void 0!==c.fillStyle&&this.a.push(a);void 0!==c.strokeStyle&&(c=[12],this.a.push(c),this.b.push(c));
gt(this,b)}};k.rc=function(a,b){var c=this.i;nt(this,a);dt(this,b);this.b.push([9,gd(Sh)]);void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]);var c=a.Bb(),d=a.ec();mt(this,d,0,c,a.qa());gt(this,b)};
k.pc=function(a,b){var c=this.i,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){nt(this,a);dt(this,b);this.b.push([9,gd(Sh)]);void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]);c=a.c;d=fi(a);a=a.qa();var e=0,f;var g=0;for(f=c.length;g<f;++g)e=mt(this,d,e,c[g],a);gt(this,b)}};
k.Te=function(){ft(this);this.i=null;var a=this.fb;if(a){var b=this.coordinates,c;var d=0;for(c=b.length;d<c;++d)b[d]=a*Math.round(b[d]/a)}};k.Sf=function(){this.f||(this.f=Ra(this.Ua),0<this.c&&Qa(this.f,this.resolution*(this.c+1)/2,this.f));return this.f};
k.Ma=function(a,b){var c=this.i;a?(a=a.b,c.fillStyle=id(a?a:Sh)):c.fillStyle=void 0;b?(a=b.a,c.strokeStyle=id(a?a:Uh),a=b.f,c.lineCap=void 0!==a?a:"round",a=b.i,c.lineDash=a?a.slice():Th,a=b.g,c.lineDashOffset=a?a:0,a=b.j,c.lineJoin=void 0!==a?a:"round",a=b.c,c.lineWidth=void 0!==a?a:1,b=b.o,c.miterLimit=void 0!==b?b:10,c.lineWidth>this.c&&(this.c=c.lineWidth,this.f=null)):(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineDashOffset=void 0,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=
void 0)};function nt(a,b){var c=a.i,d=c.fillStyle,e=c.strokeStyle,f=c.lineCap,g=c.lineDash,h=c.lineDashOffset,l=c.lineJoin,m=c.lineWidth,n=c.miterLimit;if(void 0!==d&&("string"!==typeof d||c.oh!=d)){var p=[9,d];"string"!==typeof d&&(b=b.G(),p.push([b[0],b[3]]));a.a.push(p);c.oh=c.fillStyle}void 0===e||c.Md==e&&c.Gd==f&&pa(c.Hd,g)&&c.Id==h&&c.Jd==l&&c.Kd==m&&c.Ld==n||(a.a.push([10,e,m,f,l,n,g,h,!0,1]),c.Md=e,c.Gd=f,c.Hd=g,c.Id=h,c.Jd=l,c.Kd=m,c.Ld=n)};function ot(a,b,c,d){bt.call(this,a,b,c,d);this.C=this.D=this.S=null;this.Ia="";this.o=this.j=0;this.l=void 0;this.u=this.v=0;this.g=this.f=this.i=null}v(ot,bt);
ot.prototype.yc=function(a,b,c,d,e,f){if(""!==this.Ia&&this.g&&(this.i||this.f)){if(this.i){e=this.i;var g=this.S;if(!g||g.fillStyle!=e.fillStyle){var h=[9,e.fillStyle];this.a.push(h);this.b.push(h);g?g.fillStyle=e.fillStyle:this.S={fillStyle:e.fillStyle}}}this.f&&(e=this.f,g=this.D,g&&g.lineCap==e.lineCap&&g.lineDash==e.lineDash&&g.lineDashOffset==e.lineDashOffset&&g.lineJoin==e.lineJoin&&g.lineWidth==e.lineWidth&&g.miterLimit==e.miterLimit&&g.strokeStyle==e.strokeStyle||(h=[10,e.strokeStyle,e.lineWidth,
e.lineCap,e.lineJoin,e.miterLimit,e.lineDash,e.lineDashOffset,!1,1],this.a.push(h),this.b.push(h),g?(g.lineCap=e.lineCap,g.lineDash=e.lineDash,g.lineDashOffset=e.lineDashOffset,g.lineJoin=e.lineJoin,g.lineWidth=e.lineWidth,g.miterLimit=e.miterLimit,g.strokeStyle=e.strokeStyle):this.D={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle}));e=this.g;g=this.C;g&&g.font==e.font&&g.textAlign==
e.textAlign&&g.textBaseline==e.textBaseline||(h=[11,e.font,e.textAlign,e.textBaseline],this.a.push(h),this.b.push(h),g?(g.font=e.font,g.textAlign=e.textAlign,g.textBaseline=e.textBaseline):this.C={font:e.font,textAlign:e.textAlign,textBaseline:e.textBaseline});dt(this,f);e=this.coordinates.length;a=ct(this,a,b,c,d,!1,!1);a=[5,e,a,this.Ia,this.j,this.o,this.v,this.u,!!this.i,!!this.f,this.l];this.a.push(a);this.b.push(a);gt(this,f)}};
ot.prototype.Cb=function(a){if(a){var b=a.Fa();b?(b=b.b,b=id(b?b:Sh),this.i?this.i.fillStyle=b:this.i={fillStyle:b}):this.i=null;var c=a.Ga();if(c){var b=c.a,d=c.f,e=c.i,f=c.g,g=c.j,h=c.c,c=c.o,d=void 0!==d?d:"round",e=e?e.slice():Th,f=void 0!==f?f:0,g=void 0!==g?g:"round",h=void 0!==h?h:1,c=void 0!==c?c:10,b=id(b?b:Uh);if(this.f){var l=this.f;l.lineCap=d;l.lineDash=e;l.lineDashOffset=f;l.lineJoin=g;l.lineWidth=h;l.miterLimit=c;l.strokeStyle=b}else this.f={lineCap:d,lineDash:e,lineDashOffset:f,lineJoin:g,
lineWidth:h,miterLimit:c,strokeStyle:b}}else this.f=null;var m=a.a,b=a.i,d=a.c,e=a.o,h=a.f,c=a.b,f=a.Na(),g=a.g,l=a.j;a=void 0!==m?m:"10px sans-serif";g=void 0!==g?g:"center";l=void 0!==l?l:"middle";this.g?(m=this.g,m.font=a,m.textAlign=g,m.textBaseline=l):this.g={font:a,textAlign:g,textBaseline:l};this.Ia=void 0!==f?f:"";this.j=void 0!==b?b:0;this.o=void 0!==d?d:0;this.l=void 0!==e?e:!1;this.v=void 0!==h?h:0;this.u=void 0!==c?c:1}else this.Ia=""};function pt(a,b,c,d,e){this.v=a;this.c=b;this.o=d;this.l=c;this.f=e;this.a={};this.g=jd(1,1);this.j=Bh()}v(pt,ki);var qt={0:[[!0]]};function rt(a,b,c){var d,e=Math.floor(a.length/2);if(b>=e)for(d=e;d<b;d++)a[d][c]=!0;else if(b<e)for(d=b+1;d<e;d++)a[d][c]=!0}
function st(a){if(void 0!==qt[a])return qt[a];for(var b=2*a+1,c=Array(b),d=0;d<b;d++)c[d]=Array(b);for(var b=a,e=d=0;b>=d;)rt(c,a+b,a+d),rt(c,a+d,a+b),rt(c,a-d,a+b),rt(c,a-b,a+d),rt(c,a-b,a-d),rt(c,a-d,a-b),rt(c,a+d,a-b),rt(c,a+b,a-d),d++,e+=1+2*d,0<2*(e-b)+1&&(--b,e+=1-2*b);return qt[a]=c}function tt(a){for(var b in a.a){var c=a.a[b],d;for(d in c)c[d].Te()}}
pt.prototype.Ea=function(a,b,c,d,e,f){d=Math.round(d);var g=2*d+1,h=Kh(this.j,d+.5,d+.5,1/b,-1/b,-c,-a[0],-a[1]),l=this.g;l.canvas.width!==g||l.canvas.height!==g?(l.canvas.width=g,l.canvas.height=g):l.clearRect(0,0,g,g);if(void 0!==this.f){var m=Oa();Pa(m,a);Qa(m,b*(this.f+d),m)}var n=st(d);return ut(this,l,h,c,e,function(a){for(var b=l.getImageData(0,0,g,g).data,c=0;c<g;c++)for(var d=0;d<g;d++)if(n[c][d]&&0<b[4*(d*g+c)+3]){if(a=f(a))return a;l.clearRect(0,0,g,g);return}},m)};
function vt(a,b){var c=a.c;a=c[0];var d=c[1],e=c[2],c=c[3];a=[a,d,a,c,e,c,e,d];pf(a,0,8,2,b,a);return a}pt.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0";a=this.a[c];void 0===a&&(a={},this.a[c]=a);c=a[b];void 0===c&&(c=new wt[b](this.v,this.c,this.l,this.o),a[b]=c);return c};pt.prototype.i=function(){return wb(this.a)};
pt.prototype.La=function(a,b,c,d,e,f){var g=Object.keys(this.a).map(Number);g.sort(ia);var h=vt(this,c);a.save();a.beginPath();a.moveTo(h[0],h[1]);a.lineTo(h[2],h[3]);a.lineTo(h[4],h[5]);a.lineTo(h[6],h[7]);a.clip();f=f?f:ji;var l,m,h=0;for(l=g.length;h<l;++h){var n=this.a[g[h].toString()];var p=0;for(m=f.length;p<m;++p){var q=n[f[p]];void 0!==q&&q.La(a,b,c,d,e)}}a.restore()};
function ut(a,b,c,d,e,f,g){var h=Object.keys(a.a).map(Number);h.sort(function(a,b){return b-a});var l,m;var n=0;for(l=h.length;n<l;++n){var p=a.a[h[n].toString()];for(m=ji.length-1;0<=m;--m){var q=p[ji[m]];if(void 0!==q&&(q=et(q,b,1,c,d,e,q.b,f,g)))return q}}}var wt={Circle:lt,Image:ht,LineString:it,Polygon:lt,Text:ot};function xt(a){Sc.call(this);this.a=a}v(xt,Sc);xt.prototype.Ea=ua;xt.prototype.Ue=nf;xt.prototype.Nf=function(a,b,c){return function(d,e){return yt(a,b,d,e,function(a){c[d]||(c[d]={});c[d][a.ta.toString()]=a})}};xt.prototype.na=function(a){2===a.target.getState()&&zt(this)};function At(a,b){var c=b.getState();2!=c&&3!=c&&y(b,"change",a.na,a);0==c&&(b.load(),c=b.getState());return 2==c}function zt(a){var b=a.a;b.Mb()&&"ready"==b.$f()&&a.s()}
function Bt(a,b){b.Ki()&&a.postRenderFunctions.push(function(a,b,e){b=w(a).toString();a.fd(e.viewState.projection,e.usedTiles[b])}.bind(null,b))}function Ct(a,b){if(b){var c;var d=0;for(c=b.length;d<c;++d){var e=b[d];a[w(e).toString()]=e}}}function Dt(a,b){b=b.D;void 0!==b&&("string"===typeof b?a.logos[b]="":b&&(xa("string"==typeof b.href,44),xa("string"==typeof b.src,45),a.logos[b.src]=b.href))}
function Et(a,b,c,d){b=w(b).toString();c=c.toString();b in a?c in a[b]?(a=a[b][c],d.ca<a.ca&&(a.ca=d.ca),d.$>a.$&&(a.$=d.$),d.da<a.da&&(a.da=d.da),d.ia>a.ia&&(a.ia=d.ia)):a[b][c]=d:(a[b]={},a[b][c]=d)}
function Ft(a,b,c,d,e,f,g,h,l,m){var n=w(b).toString();n in a.wantedTiles||(a.wantedTiles[n]={});var p=a.wantedTiles[n];a=a.tileQueue;var q=c.minZoom,r,u,x;for(x=g;x>=q;--x){var B=oc(c,f,x,B);var E=c.Da(x);for(r=B.ca;r<=B.$;++r)for(u=B.da;u<=B.ia;++u)if(g-x<=h){var A=b.Nc(x,r,u,d,e);0==A.getState()&&(p[A.bb()]=!0,A.bb()in a.a||a.f([A,n,tc(c,A.ta),E]));l&&l.call(m,A)}else b.Ug(x,r,u,e)}};function Gt(a){xt.call(this,a);this.fa=Bh()}v(Gt,xt);function Ht(a,b,c){var d=b.pixelRatio,e=b.size[0]*d,f=b.size[1]*d,g=b.viewState.rotation,h=ib(c),l=hb(c),m=gb(c);c=eb(c);Gh(b.coordinateToPixelTransform,h);Gh(b.coordinateToPixelTransform,l);Gh(b.coordinateToPixelTransform,m);Gh(b.coordinateToPixelTransform,c);a.save();Vh(a,-g,e/2,f/2);a.beginPath();a.moveTo(h[0]*d,h[1]*d);a.lineTo(l[0]*d,l[1]*d);a.lineTo(m[0]*d,m[1]*d);a.lineTo(c[0]*d,c[1]*d);a.clip();Vh(a,g,e/2,f/2)}
function It(a,b,c,d,e){var f=a.a;if(Rc(f,b)){var g=d.size[0]*d.pixelRatio,h=d.size[1]*d.pixelRatio,l=d.viewState.rotation;Vh(c,-l,g/2,h/2);a=e?e:Jt(a,d,0);f.b(new Rh(b,new Xh(c,d.pixelRatio,d.extent,a,d.viewState.rotation),d,c,null));Vh(c,l,g/2,h/2)}}Gt.prototype.u=function(a,b,c,d){if(this.Ea(a,b,0,mf,this))return c.call(d,this.a,null)};Gt.prototype.ef=function(a,b,c,d){It(this,"postcompose",a,b,d)};
function Jt(a,b,c){var d=b.viewState,e=b.pixelRatio,f=e/d.resolution;return Kh(a.fa,e*b.size[0]/2,e*b.size[1]/2,f,-f,-d.rotation,-d.center[0]+c,-d.center[1])};function Kt(a,b){return w(a)-w(b)}function Lt(a,b){a=.5*a/b;return a*a}function Mt(a,b,c,d,e,f){var g=!1,h;if(h=c.Y()){var l=h.Ye();2==l||3==l?h.Bj(e,f):(0==l&&h.load(),h.Nh(e,f),g=!0)}if(e=(0,c.Za)(b))d=e.Vd(d),(0,Nt[d.U()])(a,d,c,b);return g}
var Nt={Point:function(a,b,c,d){var e=c.Y();if(e){if(2!=e.Ye())return;var f=a.b(c.Ba(),"Image");f.Ub(e);f.qc(b,d)}if(e=c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),a.yc(b.ga(),0,2,2,b,d)},LineString:function(a,b,c,d){var e=c.Ga();if(e){var f=a.b(c.Ba(),"LineString");f.Ma(null,e);f.mc(b,d)}if(e=c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),a.yc(di(b),0,2,2,b,d)},Polygon:function(a,b,c,d){var e=c.Fa(),f=c.Ga();if(e||f){var g=a.b(c.Ba(),"Polygon");g.Ma(e,f);g.rc(b,d)}if(e=c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),a.yc(Wf(b),
0,2,2,b,d)},MultiPoint:function(a,b,c,d){var e=c.Y();if(e){if(2!=e.Ye())return;var f=a.b(c.Ba(),"Image");f.Ub(e);f.oc(b,d)}if(e=c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),c=b.ga(),a.yc(c,0,c.length,b.qa(),b,d)},MultiLineString:function(a,b,c,d){var e=c.Ga();if(e){var f=a.b(c.Ba(),"LineString");f.Ma(null,e);f.nc(b,d)}if(e=c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),c=ei(b),a.yc(c,0,c.length,2,b,d)},MultiPolygon:function(a,b,c,d){var e=c.Fa(),f=c.Ga();if(f||e){var g=a.b(c.Ba(),"Polygon");g.Ma(e,f);g.pc(b,d)}if(e=
c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),c=gi(b),a.yc(c,0,c.length,2,b,d)},GeometryCollection:function(a,b,c,d){b=b.a;var e;var f=0;for(e=b.length;f<e;++f)(0,Nt[b[f].U()])(a,b[f],c,d)},Circle:function(a,b,c,d){var e=c.Fa(),f=c.Ga();if(e||f){var g=a.b(c.Ba(),"Circle");g.Ma(e,f);g.Zb(b,d)}if(e=c.Na())a=a.b(c.Ba(),"Text"),a.Cb(e),a.yc(b.wa(),0,2,2,b,d)}};function Ot(a){Gt.call(this,a);this.c=!1;this.v=-1;this.l=NaN;this.j=Oa();this.f=this.o=null;this.g=jd()}v(Ot,Gt);
Ot.prototype.S=function(a,b,c){var d=a.extent,e=a.pixelRatio,f=b.Je?a.skippedFeatureUids:{},g=a.viewState,h=g.projection,g=g.rotation,l=h.G(),m=this.a.ha(),n=Jt(this,a,0);It(this,"precompose",c,a,n);var p=b.extent,q=void 0!==p;q&&Ht(c,a,p);if((p=this.f)&&!p.i()){var r=0,u=0;if(Rc(this.a,"render")){var x=c.canvas.width;var B=c.canvas.height;if(g){var E=Math.round(Math.sqrt(x*x+B*B)),r=(E-x)/2,u=(E-B)/2;x=B=E}this.g.canvas.width=x;this.g.canvas.height=B;x=this.g}else x=c;B=x.globalAlpha;x.globalAlpha=
b.opacity;x!=c&&x.translate(r,u);var E=a.size[0]*e,A=a.size[1]*e;Vh(x,-g,E/2,A/2);p.La(x,e,n,g,f);if(m.u&&h.i&&!Va(l,d)){for(var h=d[0],m=lb(l),L=0;h<l[0];)--L,n=m*L,n=Jt(this,a,n),p.La(x,e,n,g,f),h+=m;L=0;for(h=d[2];h>l[2];)++L,n=m*L,n=Jt(this,a,n),p.La(x,e,n,g,f),h-=m;n=Jt(this,a,0)}Vh(x,g,E/2,A/2);x!=c&&(It(this,"render",x,a,n),c.drawImage(x.canvas,-r,-u),x.translate(-r,-u));x.globalAlpha=B}q&&c.restore();this.ef(c,a,b,n)};
Ot.prototype.Ea=function(a,b,c,d,e){if(this.f){var f=this.a,g={};return this.f.Ea(a,b.viewState.resolution,b.viewState.rotation,c,{},function(a){var b=w(a).toString();if(!(b in g))return g[b]=!0,d.call(e,a,f)})}};Ot.prototype.D=function(){zt(this)};
Ot.prototype.sd=function(a){function b(a){var b=a.Lc();if(b)var d=b.call(a,m);else(b=c.f)&&(d=b(a,m));if(d){if(d){b=!1;if(Array.isArray(d))for(var e=0,f=d.length;e<f;++e)b=Mt(q,a,d[e],Lt(m,n),this.D,this)||b;else b=Mt(q,a,d,Lt(m,n),this.D,this)||b;a=b}else a=!1;this.c=this.c||a}}var c=this.a,d=c.ha();Ct(a.attributions,d.j);Dt(a,d);var e=a.viewHints[0],f=a.viewHints[1],g=c.T,h=c.na;if(!this.c&&!g&&e||!h&&f)return!0;var l=a.extent,h=a.viewState,e=h.projection,m=h.resolution,n=a.pixelRatio,f=c.i,p=c.c,
g=c.get(Pt);void 0===g&&(g=Kt);l=Qa(l,p*m);p=h.projection.G();d.u&&h.projection.i&&!Va(p,a.extent)&&(a=Math.max(lb(l)/2,lb(p)),l[0]=p[0]-a,l[2]=p[2]+a);if(!this.c&&this.l==m&&this.v==f&&this.o==g&&Va(this.j,l))return!0;this.f=null;this.c=!1;var q=new pt(.5*m/n,l,m,d.T,c.c);d.Yd(l,m,e);if(g){var r=[];d.$b(l,function(a){r.push(a)},this);r.sort(g);r.forEach(b,this)}else d.$b(l,b,this);tt(q);this.l=m;this.v=f;this.o=g;this.j=l;this.f=q;return!0};function Qt(){this.b="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}v(Qt,mi);var Rt=new Qt;function St(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}v(St,ni);var Tt=new St;
function Ut(a,b){this.i=a.getUniformLocation(b,"f");this.c=a.getUniformLocation(b,"e");this.g=a.getUniformLocation(b,"d");this.f=a.getUniformLocation(b,"g");this.b=a.getAttribLocation(b,"b");this.a=a.getAttribLocation(b,"c")};function Vt(a,b){xt.call(this,b);this.c=a;this.T=new Di([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.g=this.Ib=null;this.j=void 0;this.v=Bh();this.S=Bh();this.C=ti();this.u=null}v(Vt,xt);
function Wt(a,b,c){var d=a.c.i;if(void 0===a.j||a.j!=c){b.postRenderFunctions.push(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))}.bind(null,d,a.g,a.Ib));b=Qi(d,c,c);var e=d.createFramebuffer();d.bindFramebuffer(36160,e);d.framebufferTexture2D(36160,36064,3553,b,0);a.Ib=b;a.g=e;a.j=c}else d.bindFramebuffer(36160,a.g)}
Vt.prototype.Gi=function(a,b,c){Xt(this,"precompose",c,a);wi(c,34962,this.T);var d=c.b,e=Hi(c,Rt,Tt);if(this.u)var f=this.u;else this.u=f=new Ut(d,e);c.Qc(e)&&(d.enableVertexAttribArray(f.b),d.vertexAttribPointer(f.b,2,5126,!1,16,0),d.enableVertexAttribArray(f.a),d.vertexAttribPointer(f.a,2,5126,!1,16,8),d.uniform1i(f.f,0));d.uniformMatrix4fv(f.g,!1,ui(this.C,this.v));d.uniformMatrix4fv(f.c,!1,ui(this.C,this.S));d.uniform1f(f.i,b.opacity);d.bindTexture(3553,this.Ib);d.drawArrays(5,0,4);Xt(this,"postcompose",
c,a)};function Xt(a,b,c,d){a=a.a;if(Rc(a,b)){var e=d.viewState;a.b(new Rh(b,new kk(c,e.center,e.resolution,e.rotation,d.size,d.extent,d.pixelRatio),d,null,c))}}Vt.prototype.mg=function(){this.g=this.Ib=null;this.j=void 0};function Yt(a,b){Vt.call(this,a,b);this.l=!1;this.R=-1;this.I=NaN;this.D=Oa();this.o=this.f=this.B=null}v(Yt,Vt);k=Yt.prototype;k.Gi=function(a,b,c){this.o=b;var d=a.viewState,e=this.f,f=a.size,g=a.pixelRatio,h=this.c.i;e&&!e.i()&&(h.enable(h.SCISSOR_TEST),h.scissor(0,0,f[0]*g,f[1]*g),e.La(c,d.center,d.resolution,d.rotation,f,g,b.opacity,b.Je?a.skippedFeatureUids:{}),h.disable(h.SCISSOR_TEST))};k.ka=function(){var a=this.f;a&&(ek(a,this.c.f)(),this.f=null);Vt.prototype.ka.call(this)};
k.Ea=function(a,b,c,d,e){if(this.f&&this.o){c=b.viewState;var f=this.a,g={};return this.f.Ea(a,this.c.f,c.center,c.resolution,c.rotation,b.size,b.pixelRatio,this.o.opacity,{},function(a){var b=w(a).toString();if(!(b in g))return g[b]=!0,d.call(e,a,f)})}};k.Ue=function(a,b){if(this.f&&this.o){var c=b.viewState;return jk(this.f,a,this.c.f,c.resolution,c.rotation,b.pixelRatio,this.o.opacity,b.skippedFeatureUids)}return!1};
k.lg=function(a,b,c,d){a=Gh(b.pixelToCoordinateTransform,a.slice());if(this.Ue(a,b))return c.call(d,this.a,null)};k.Hi=function(){zt(this)};
k.ng=function(a,b,c){function d(a){var b=a.Lc();if(b)var c=b.call(a,m);else(b=e.f)&&(c=b(a,m));if(c){if(c){b=!1;if(Array.isArray(c))for(var d=c.length-1;0<=d;--d)b=Mt(q,a,c[d],Lt(m,n),this.Hi,this)||b;else b=Mt(q,a,c,Lt(m,n),this.Hi,this)||b;a=b}else a=!1;this.l=this.l||a}}var e=this.a;b=e.ha();Ct(a.attributions,b.j);Dt(a,b);var f=a.viewHints[0],g=a.viewHints[1],h=e.T,l=e.na;if(!this.l&&!h&&f||!l&&g)return!0;var g=a.extent,h=a.viewState,f=h.projection,m=h.resolution,n=a.pixelRatio,h=e.i,p=e.c,l=e.get(Pt);
void 0===l&&(l=Kt);g=Qa(g,p*m);if(!this.l&&this.I==m&&this.R==h&&this.B==l&&Va(this.D,g))return!0;this.f&&a.postRenderFunctions.push(ek(this.f,c));this.l=!1;var q=new dk(.5*m/n,g,e.c);b.Yd(g,m,f);if(l){var r=[];b.$b(g,function(a){r.push(a)},this);r.sort(l);r.forEach(d,this)}else b.$b(g,d,this);fk(q,c);this.I=m;this.R=h;this.B=l;this.D=g;this.f=q;return!0};function T(a){a=a?a:{};var b=tb({},a);delete b.style;delete b.renderBuffer;delete b.updateWhileAnimating;delete b.updateWhileInteracting;wh.call(this,b);this.c=void 0!==a.renderBuffer?a.renderBuffer:100;this.u=null;this.f=void 0;this.g(a.style);this.T=void 0!==a.updateWhileAnimating?a.updateWhileAnimating:!1;this.na=void 0!==a.updateWhileInteracting?a.updateWhileInteracting:!1}v(T,wh);T.prototype.Fd=function(a){var b=null,c=a.U();"canvas"===c?b=new Ot(this):"webgl"===c&&(b=new Yt(a,this));return b};
T.prototype.D=function(){return this.u};T.prototype.C=function(){return this.f};T.prototype.g=function(a){this.u=void 0!==a?a:fl;this.f=null===a?void 0:dl(this.u);this.s()};var Pt="renderOrder";function Zt(){return[[-Infinity,-Infinity,Infinity,Infinity]]};function $t(a){Tc.call(this);this.c=Tb(a.projection);this.j=au(a.attributions);this.D=a.logo;this.na=void 0!==a.state?a.state:"ready";this.u=void 0!==a.wrapX?a.wrapX:!1}v($t,Tc);function au(a){if("string"===typeof a)return[new Ac({html:a})];if(a instanceof Ac)return[a];if(Array.isArray(a)){for(var b=a.length,c=Array(b),d=0;d<b;d++){var e=a[d];c[d]="string"===typeof e?new Ac({html:e}):e}return c}return null}k=$t.prototype;k.Ea=ua;k.ya=function(){return this.j};k.xa=function(){return this.D};k.za=function(){return this.c};
k.getState=function(){return this.na};k.sa=function(){this.s()};k.ua=function(a){this.j=au(a);this.s()};function bu(a,b){a.na=b;a.s()};function U(a){a=a||{};$t.call(this,{attributions:a.attributions,logo:a.logo,projection:void 0,state:"ready",wrapX:void 0!==a.wrapX?a.wrapX:!0});this.B=ua;this.C=a.format;this.T=void 0==a.overlaps?!0:a.overlaps;this.I=a.url;a.loader?this.B=a.loader:void 0!==this.I&&(xa(this.C,7),this.B=Dl(this.I,this.C));this.fa=a.strategy?a.strategy:Zt;var b=void 0!==a.useSpatialIndex?a.useSpatialIndex:!0;this.a=b?new Gj:null;this.R=new Gj;this.g={};this.o={};this.l={};this.v={};this.f=null;if(a.features instanceof
Yc){var c=a.features;var d=c.a}else Array.isArray(a.features)&&(d=a.features);b||c||(c=new Yc(d));d&&cu(this,d);c&&du(this,c)}v(U,$t);k=U.prototype;k.yb=function(a){var b=w(a).toString();if(eu(this,b,a)){fu(this,b,a);var c=a.V();c?(b=c.G(),this.a&&this.a.Ca(b,a)):this.g[b]=a;this.b(new gu("addfeature",a))}this.s()};function fu(a,b,c){a.v[b]=[y(c,"change",a.Oi,a),y(c,"propertychange",a.Oi,a)]}
function eu(a,b,c){var d=!0,e=c.a;void 0!==e?e.toString()in a.o?d=!1:a.o[e.toString()]=c:(xa(!(b in a.l),30),a.l[b]=c);return d}k.cd=function(a){cu(this,a);this.s()};function cu(a,b){var c,d=[],e=[],f=[];var g=0;for(c=b.length;g<c;g++){var h=b[g];var l=w(h).toString();eu(a,l,h)&&e.push(h)}g=0;for(c=e.length;g<c;g++)h=e[g],l=w(h).toString(),fu(a,l,h),(b=h.V())?(l=b.G(),d.push(l),f.push(h)):a.g[l]=h;a.a&&a.a.load(d,f);g=0;for(c=e.length;g<c;g++)a.b(new gu("addfeature",e[g]))}
function du(a,b){var c=!1;y(a,"addfeature",function(a){c||(c=!0,b.push(a.feature),c=!1)});y(a,"removefeature",function(a){c||(c=!0,b.remove(a.feature),c=!1)});y(b,"add",function(a){c||(c=!0,this.yb(a.element),c=!1)},a);y(b,"remove",function(a){c||(c=!0,this.Gb(a.element),c=!1)},a);a.f=b}
k.clear=function(a){if(a){for(var b in this.v)this.v[b].forEach(Ec);this.f||(this.v={},this.o={},this.l={})}else if(this.a){this.a.forEach(this.Ig,this);for(var c in this.g)this.Ig(this.g[c])}this.f&&this.f.clear();this.a&&this.a.clear();this.R.clear();this.g={};this.b(new gu("clear"));this.s()};k.sh=function(a,b){if(this.a)return this.a.forEach(a,b);if(this.f)return this.f.forEach(a,b)};function hu(a,b,c){a.$b([b[0],b[1],b[0],b[1]],function(a){if(a.V().sb(b))return c.call(void 0,a)})}
k.$b=function(a,b,c){if(this.a)return Lj(this.a,a,b,c);if(this.f)return this.f.forEach(b,c)};k.th=function(a,b,c){return this.$b(a,function(d){if(d.V().Xa(a)&&(d=b.call(c,d)))return d})};k.Ah=function(){return this.f};k.Xe=function(){if(this.f)var a=this.f.a;else this.a&&(a=Ij(this.a),wb(this.g)||la(a,vb(this.g)));return a};k.zh=function(a){var b=[];hu(this,a,function(a){b.push(a)});return b};k.Uf=function(a){return Jj(this.a,a)};
k.vh=function(a,b){var c=a[0],d=a[1],e=null,f=[NaN,NaN],g=Infinity,h=[-Infinity,-Infinity,Infinity,Infinity],l=b?b:mf;Lj(this.a,h,function(a){if(l(a)){var b=a.V(),m=g;g=b.Kb(c,d,f,g);g<m&&(e=a,a=Math.sqrt(g),h[0]=c-a,h[1]=d-a,h[2]=c+a,h[3]=d+a)}});return e};k.G=function(a){return this.a.G(a)};k.yh=function(a){a=this.o[a.toString()];return void 0!==a?a:null};k.Mi=function(){return this.C};k.Ni=function(){return this.I};
k.Oi=function(a){a=a.target;var b=w(a).toString(),c=a.V();c?(c=c.G(),b in this.g?(delete this.g[b],this.a&&this.a.Ca(c,a)):this.a&&Hj(this.a,c,a)):b in this.g||(this.a&&this.a.remove(a),this.g[b]=a);c=a.a;void 0!==c?(c=c.toString(),b in this.l?(delete this.l[b],this.o[c]=a):this.o[c]!==a&&(iu(this,a),this.o[c]=a)):b in this.l||(iu(this,a),this.l[b]=a);this.s();this.b(new gu("changefeature",a))};
k.Yd=function(a,b,c){var d=this.R;a=this.fa(a,b);var e;var f=0;for(e=a.length;f<e;++f){var g=a[f];Lj(d,g,function(a){return Va(a.extent,g)})||(this.B.call(this,g,b,c),d.Ca(g,{extent:g.slice()}))}};k.Gb=function(a){var b=w(a).toString();b in this.g?delete this.g[b]:this.a&&this.a.remove(a);this.Ig(a);this.s()};k.Ig=function(a){var b=w(a).toString();this.v[b].forEach(Ec);delete this.v[b];var c=a.a;void 0!==c?delete this.o[c.toString()]:delete this.l[b];this.b(new gu("removefeature",a))};
function iu(a,b){for(var c in a.o)if(a.o[c]===b){delete a.o[c];break}}function gu(a,b){Oc.call(this,a);this.feature=b}v(gu,Oc);function ju(a){Dg.call(this,{handleDownEvent:ku,handleEvent:lu,handleUpEvent:mu});this.T=!1;this.fa=null;this.u=!1;this.Yb=a.source?a.source:null;this.$a=a.features?a.features:null;this.wk=a.snapTolerance?a.snapTolerance:12;this.R=a.type;this.g=nu(this.R);this.Sa=a.minPoints?a.minPoints:this.g===ou?3:2;this.va=a.maxPoints?a.maxPoints:Infinity;this.Cf=a.finishCondition?a.finishCondition:mf;var b=a.geometryFunction;if(!b)if("Circle"===this.R)b=function(a,b){b=b?b:new ys([NaN,NaN]);b.Ng(a[0],Math.sqrt(hf(a[0],
a[1])));return b};else{var c,d=this.g;d===pu?c=C:d===qu?c=O:d===ou&&(c=D);b=function(a,b){b?d===ou?b.ma([a[0].concat([a[0][0]])]):b.ma(a):b=new c(a);return b}}this.Za=b;this.I=this.C=this.a=this.B=this.j=this.l=null;this.ad=a.clickTolerance?a.clickTolerance*a.clickTolerance:36;this.pa=new T({source:new U({useSpatialIndex:!1,wrapX:a.wrapX?a.wrapX:!1}),style:a.style?a.style:ru()});this.xb=a.geometryName;this.vk=a.condition?a.condition:xg;this.Df=a.freehand?mf:a.freehandCondition?a.freehandCondition:
yg;y(this,Vc("active"),this.ri,this)}v(ju,Dg);function ru(){var a=gl();return function(b){return a[b.V().U()]}}k=ju.prototype;k.setMap=function(a){Dg.prototype.setMap.call(this,a);this.ri()};function lu(a){this.u=this.g!==pu&&this.Df(a);var b=!this.u;this.u&&"pointerdrag"===a.type&&null!==this.j?(su(this,a),b=!1):"pointermove"===a.type?b=tu(this,a):"dblclick"===a.type&&(b=!1);return Eg.call(this,a)&&b}
function ku(a){this.T=!this.u;return this.u?(this.fa=a.pixel,this.l||uu(this,a),!0):this.vk(a)?(this.fa=a.pixel,!0):!1}function mu(a){var b=!0;tu(this,a);var c=this.g===vu;this.T?(this.l?this.u||c?this.Pd():wu(this,a)?this.Cf(a)&&this.Pd():su(this,a):(uu(this,a),this.g===pu&&this.Pd()),b=!1):this.u&&(this.l=null,xu(this));return b}
function tu(a,b){if(a.fa&&(!a.u&&a.T||a.u&&!a.T)){var c=a.fa,d=b.pixel,e=c[0]-d[0],c=c[1]-d[1],e=e*e+c*c;a.T=a.u?e>a.ad:e<=a.ad}a.l?(e=b.coordinate,c=a.j.V(),a.g===pu?d=a.a:a.g===ou?(d=a.a[0],d=d[d.length-1],wu(a,b)&&(e=a.l.slice())):(d=a.a,d=d[d.length-1]),d[0]=e[0],d[1]=e[1],a.Za(a.a,c),a.B&&a.B.V().ma(e),c instanceof D&&a.g!==ou?(a.C||(a.C=new H(new O(null))),e=c.Ch(0),b=a.C.V(),b.ba(e.ja,e.ga())):a.I&&(b=a.C.V(),b.ma(a.I)),yu(a)):(b=b.coordinate.slice(),a.B?a.B.V().ma(b):(a.B=new H(new C(b)),
yu(a)));return!0}function wu(a,b){var c=!1;if(a.j){var d=!1,e=[a.l];a.g===qu?d=a.a.length>a.Sa:a.g===ou&&(d=a.a[0].length>a.Sa,e=[a.a[0][0],a.a[0][a.a[0].length-2]]);if(d)for(var d=b.map,f=0,g=e.length;f<g;f++){var h=e[f],l=d.Ja(h),m=b.pixel,c=m[0]-l[0],l=m[1]-l[1];if(c=Math.sqrt(c*c+l*l)<=(a.u?1:a.wk)){a.l=h;break}}}return c}
function uu(a,b){b=b.coordinate;a.l=b;a.g===pu?a.a=b.slice():a.g===ou?(a.a=[[b.slice(),b.slice()]],a.I=a.a[0]):(a.a=[b.slice(),b.slice()],a.g===vu&&(a.I=a.a));a.I&&(a.C=new H(new O(a.I)));b=a.Za(a.a);a.j=new H;a.xb&&a.j.Tc(a.xb);a.j.Ra(b);yu(a);a.b(new zu("drawstart",a.j))}
function su(a,b){b=b.coordinate;var c=a.j.V(),d;if(a.g===qu){a.l=b.slice();var e=a.a;e.length>=a.va&&(a.u?e.pop():d=!0);e.push(b.slice());a.Za(e,c)}else a.g===ou&&(e=a.a[0],e.length>=a.va&&(a.u?e.pop():d=!0),e.push(b.slice()),d&&(a.l=e[0]),a.Za(a.a,c));yu(a);d&&a.Pd()}
k.Op=function(){if(this.j){var a=this.j.V();if(this.g===qu){var b=this.a;b.splice(-2,1);this.Za(b,a);2<=b.length&&(this.l=b[b.length-2].slice())}else if(this.g===ou){b=this.a[0];b.splice(-2,1);var c=this.C.V();c.ma(b);this.Za(this.a,a)}0===b.length&&(this.l=null);yu(this)}};
k.Pd=function(){var a=xu(this),b=this.a,c=a.V();this.g===qu?(b.pop(),this.Za(b,c)):this.g===ou&&(b[0].pop(),this.Za(b,c),b=c.X());"MultiPoint"===this.R?a.Ra(new Q([b])):"MultiLineString"===this.R?a.Ra(new P([b])):"MultiPolygon"===this.R&&a.Ra(new R([b]));this.b(new zu("drawend",a));this.$a&&this.$a.push(a);this.Yb&&this.Yb.yb(a)};function xu(a){a.l=null;var b=a.j;b&&(a.j=null,a.B=null,a.C=null,a.pa.ha().clear(!0));return b}
k.vn=function(a){var b=a.V();this.j=a;this.a=b.X();a=this.a[this.a.length-1];this.l=a.slice();this.a.push(a.slice());yu(this);this.b(new zu("drawstart",this.j))};k.Xc=nf;function yu(a){var b=[];a.j&&b.push(a.j);a.C&&b.push(a.C);a.B&&b.push(a.B);a=a.pa.ha();a.clear(!0);a.cd(b)}k.ri=function(){var a=this.v,b=this.c();a&&b||xu(this);this.pa.setMap(b?a:null)};
function nu(a){var b;"Point"===a||"MultiPoint"===a?b=pu:"LineString"===a||"MultiLineString"===a?b=qu:"Polygon"===a||"MultiPolygon"===a?b=ou:"Circle"===a&&(b=vu);return b}var pu="Point",qu="LineString",ou="Polygon",vu="Circle";function zu(a,b){Oc.call(this,a);this.feature=b}v(zu,Oc);function Au(a){this.a=this.j=null;this.C=!1;this.B=this.l=null;a||(a={});a.extent&&this.g(a.extent);Dg.call(this,{handleDownEvent:Bu,handleDragEvent:Cu,handleEvent:Du,handleUpEvent:Eu});this.u=new T({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.boxStyle?a.boxStyle:Fu(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.I=new T({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.pointerStyle?a.pointerStyle:Gu(),updateWhileAnimating:!0,updateWhileInteracting:!0})}v(Au,Dg);
function Du(a){if(!(a instanceof ee))return!0;if("pointermove"==a.type&&!this.D){var b=a.pixel,c=a.map,d=Hu(this,b,c);d||(d=c.Wa(b));Iu(this,d)}Eg.call(this,a);return!1}
function Bu(a){function b(a){var b=null,c=null;a[0]==e[0]?b=e[2]:a[0]==e[2]&&(b=e[0]);a[1]==e[1]?c=e[3]:a[1]==e[3]&&(c=e[1]);return null!==b&&null!==c?[b,c]:null}var c=a.pixel,d=a.map,e=this.G();(a=Hu(this,c,d))&&e?(c=a[0]==e[0]||a[0]==e[2]?a[0]:null,d=a[1]==e[1]||a[1]==e[3]?a[1]:null,null!==c&&null!==d?this.a=Ju(b(a)):null!==c?this.a=Ku(b([c,e[1]]),b([c,e[3]])):null!==d&&(this.a=Ku(b([e[0],d]),b([e[2],d])))):(a=d.Wa(c),this.g([a[0],a[1],a[0],a[1]]),this.a=Ju(a));return!0}
function Cu(a){this.a&&(a=a.coordinate,this.g(this.a(a)),Iu(this,a));return!0}function Eu(){this.a=null;var a=this.G();a&&jb(a)||this.g(null);return!1}function Fu(){var a=gl();return function(){return a.Polygon}}function Gu(){var a=gl();return function(){return a.Point}}function Ju(a){return function(b){return Na([a,b])}}function Ku(a,b){return a[0]==b[0]?function(c){return Na([a,[c[0],b[1]]])}:a[1]==b[1]?function(c){return Na([a,[b[0],c[1]]])}:null}
function Hu(a,b,c){function d(a,b){return kf(e,a)-kf(e,b)}var e=c.Wa(b),f=a.G();if(f){f=[[[f[0],f[1]],[f[0],f[3]]],[[f[0],f[3]],[f[2],f[3]]],[[f[2],f[3]],[f[2],f[1]]],[[f[2],f[1]],[f[0],f[1]]]];f.sort(d);var f=f[0],g=af(e,f),h=c.Ja(g);if(10>=jf(b,h))return b=c.Ja(f[0]),c=c.Ja(f[1]),b=hf(h,b),c=hf(h,c),a.C=10>=Math.sqrt(Math.min(b,c)),a.C&&(g=b>c?f[1]:f[0]),g}return null}function Iu(a,b){var c=a.B;c?c.V().ma(b):(c=new H(new C(b)),a.B=c,a.I.ha().yb(c))}
Au.prototype.setMap=function(a){this.u.setMap(a);this.I.setMap(a);Dg.prototype.setMap.call(this,a)};Au.prototype.G=function(){return this.j};Au.prototype.g=function(a){this.j=a?a:null;var b=this.l;b?a?b.Ra(Yf(a)):b.Ra(void 0):(this.l=b=a?new H(Yf(a)):new H({}),this.u.ha().yb(b));this.b(new Lu(this.j))};function Lu(a){Oc.call(this,Mu);this.b=a}v(Lu,Oc);var Mu="extentchanged";function Nu(a){Dg.call(this,{handleDownEvent:Ou,handleDragEvent:Pu,handleEvent:Qu,handleUpEvent:Ru});this.ad=a.condition?a.condition:Cg;this.$a=function(a){return xg(a)&&wg(a)};this.xb=a.deleteCondition?a.deleteCondition:this.$a;this.Yb=a.insertVertexCondition?a.insertVertexCondition:mf;this.Sa=this.g=null;this.va=[0,0];this.C=this.I=!1;this.a=new Gj;this.fa=void 0!==a.pixelTolerance?a.pixelTolerance:10;this.l=this.pa=!1;this.j=[];this.B=new T({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.style?
a.style:Su(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.T={Point:this.Dn,LineString:this.ti,LinearRing:this.ti,Polygon:this.En,MultiPoint:this.Bn,MultiLineString:this.An,MultiPolygon:this.Cn,Circle:this.yn,GeometryCollection:this.zn};this.u=a.features;this.u.forEach(this.kg,this);y(this.u,"add",this.wn,this);y(this.u,"remove",this.xn,this);this.R=null}v(Nu,Dg);k=Nu.prototype;
k.kg=function(a){var b=a.V();b&&b.U()in this.T&&this.T[b.U()].call(this,a,b);(b=this.v)&&b.c&&this.c()&&Tu(this,this.va,b);y(a,"change",this.si,this)};function Uu(a,b){a.C||(a.C=!0,a.b(new Vu("modifystart",a.u,b)))}function Wu(a,b){Xu(a,b);a.g&&!a.u.dc()&&(a.B.ha().Gb(a.g),a.g=null);Kc(b,"change",a.si,a)}function Xu(a,b){a=a.a;var c=[];a.forEach(function(a){b===a.feature&&c.push(a)});for(var d=c.length-1;0<=d;--d)a.remove(c[d])}
k.Ha=function(a){this.g&&!a&&(this.B.ha().Gb(this.g),this.g=null);Dg.prototype.Ha.call(this,a)};k.setMap=function(a){this.B.setMap(a);Dg.prototype.setMap.call(this,a)};k.wn=function(a){this.kg(a.element)};k.si=function(a){this.l||(a=a.target,Wu(this,a),this.kg(a))};k.xn=function(a){Wu(this,a.element)};k.Dn=function(a,b){var c=b.X();a={feature:a,geometry:b,la:[c,c]};this.a.Ca(b.G(),a)};
k.Bn=function(a,b){var c=b.X(),d;var e=0;for(d=c.length;e<d;++e){var f=c[e];f={feature:a,geometry:b,depth:[e],index:e,la:[f,f]};this.a.Ca(b.G(),f)}};k.ti=function(a,b){var c=b.X(),d;var e=0;for(d=c.length-1;e<d;++e){var f=c.slice(e,e+2);var g={feature:a,geometry:b,index:e,la:f};this.a.Ca(Na(f),g)}};
k.An=function(a,b){var c=b.X(),d,e;var f=0;for(e=c.length;f<e;++f){var g=c[f];var h=0;for(d=g.length-1;h<d;++h){var l=g.slice(h,h+2);var m={feature:a,geometry:b,depth:[f],index:h,la:l};this.a.Ca(Na(l),m)}}};k.En=function(a,b){var c=b.X(),d,e;var f=0;for(e=c.length;f<e;++f){var g=c[f];var h=0;for(d=g.length-1;h<d;++h){var l=g.slice(h,h+2);var m={feature:a,geometry:b,depth:[f],index:h,la:l};this.a.Ca(Na(l),m)}}};
k.Cn=function(a,b){var c=b.X(),d,e,f;var g=0;for(f=c.length;g<f;++g){var h=c[g];var l=0;for(e=h.length;l<e;++l){var m=h[l];var n=0;for(d=m.length-1;n<d;++n){var p=m.slice(n,n+2);var q={feature:a,geometry:b,depth:[l,g],index:n,la:p};this.a.Ca(Na(p),q)}}}};k.yn=function(a,b){var c=b.wa(),d={feature:a,geometry:b,index:0,la:[c,c]};a={feature:a,geometry:b,index:1,la:[c,c]};d.Pf=a.Pf=[d,a];this.a.Ca(Za(c),d);this.a.Ca(b.G(),a)};
k.zn=function(a,b){var c=b.a;for(b=0;b<c.length;++b)this.T[c[b].U()].call(this,a,c[b])};function Yu(a,b){var c=a.g;c?c.V().ma(b):(c=new H(new C(b)),a.g=c,a.B.ha().yb(c))}function Zu(a,b){return a.index-b.index}
function Ou(a){if(!this.ad(a))return!1;Tu(this,a.pixel,a.map);var b=a.map.Wa(a.pixel);this.j.length=0;this.C=!1;var c=this.g;if(c){var d=[],c=c.V().X(),e=Na([c]),e=Jj(this.a,e),f={};e.sort(Zu);for(var g=0,h=e.length;g<h;++g){var l=e[g],m=l.la,n=w(l.feature),p=l.depth;p&&(n+="-"+p.join("-"));f[n]||(f[n]=Array(2));if("Circle"===l.geometry.U()&&1===l.index)m=$u(b,l),df(m,c)&&!f[n][0]&&(this.j.push([l,0]),f[n][0]=l);else if(df(m[0],c)&&!f[n][0])this.j.push([l,0]),f[n][0]=l;else if(df(m[1],c)&&!f[n][1]){if("LineString"!==
l.geometry.U()&&"MultiLineString"!==l.geometry.U()||!f[n][0]||0!==f[n][0].index)this.j.push([l,1]),f[n][1]=l}else this.Yb(a)&&w(m)in this.Sa&&!f[n][0]&&!f[n][1]&&d.push([l,c])}d.length&&Uu(this,a);for(a=d.length-1;0<=a;--a)this.bm.apply(this,d[a])}return!!this.g}
function Pu(a){this.I=!1;Uu(this,a);a=a.coordinate;for(var b=0,c=this.j.length;b<c;++b){for(var d=this.j[b],e=d[0],f=e.depth,g=e.geometry,h,l=e.la,d=d[1];a.length<g.qa();)a.push(l[d][a.length]);switch(g.U()){case "Point":h=a;l[0]=l[1]=a;break;case "MultiPoint":h=g.X();h[e.index]=a;l[0]=l[1]=a;break;case "LineString":h=g.X();h[e.index+d]=a;l[d]=a;break;case "MultiLineString":h=g.X();h[f[0]][e.index+d]=a;l[d]=a;break;case "Polygon":h=g.X();h[f[0]][e.index+d]=a;l[d]=a;break;case "MultiPolygon":h=g.X();
h[f[1]][f[0]][e.index+d]=a;l[d]=a;break;case "Circle":l[0]=l[1]=a,0===e.index?(this.l=!0,g.ob(a)):(this.l=!0,g.Uc(jf(g.wa(),a))),this.l=!1}h&&(e=g,f=h,this.l=!0,e.ma(f),this.l=!1)}Yu(this,a)}function Ru(a){for(var b,c,d=this.j.length-1;0<=d;--d)if(b=this.j[d][0],c=b.geometry,"Circle"===c.U()){var e=c.wa(),f=b.Pf[0];b=b.Pf[1];f.la[0]=f.la[1]=e;b.la[0]=b.la[1]=e;Hj(this.a,Za(e),f);Hj(this.a,c.G(),b)}else Hj(this.a,Na(b.la),b);this.C&&(this.b(new Vu("modifyend",this.u,a)),this.C=!1);return!1}
function Qu(a){if(!(a instanceof ee))return!0;this.R=a;var b;dg(a.map.Z())[1]||"pointermove"!=a.type||this.D||(this.va=a.pixel,Tu(this,a.pixel,a.map));this.g&&this.xb(a)&&(b="singleclick"==a.type&&this.I?!0:this.hj());"singleclick"==a.type&&(this.I=!1);return Eg.call(this,a)&&!b}
function Tu(a,b,c){function d(a,b){return av(e,a)-av(e,b)}var e=c.Wa(b),f=Qa(Za(e),c.Z().Pa()*a.fa),f=Jj(a.a,f);if(0<f.length){f.sort(d);var g=f[0],h=g.la,l=$u(e,g),m=c.Ja(l),n=jf(b,m);if(n<=a.fa){b={};if("Circle"===g.geometry.U()&&1===g.index)a.pa=!0,Yu(a,l);else for(n=c.Ja(h[0]),g=c.Ja(h[1]),c=hf(m,n),m=hf(m,g),n=Math.sqrt(Math.min(c,m)),a.pa=n<=a.fa,a.pa&&(l=c>m?h[1]:h[0]),Yu(a,l),m=1,c=f.length;m<c;++m)if(l=f[m].la,df(h[0],l[0])&&df(h[1],l[1])||df(h[0],l[1])&&df(h[1],l[0]))b[w(l)]=!0;else break;
b[w(h)]=!0;a.Sa=b;return}}a.g&&(a.B.ha().Gb(a.g),a.g=null)}function av(a,b){var c=b.geometry;return"Circle"===c.U()&&1===b.index?(a=hf(c.wa(),a),c=Math.sqrt(a)-c.pd(),c*c):kf(a,b.la)}function $u(a,b){var c=b.geometry;return"Circle"===c.U()&&1===b.index?c.Ab(a):af(a,b.la)}
k.bm=function(a,b){for(var c=a.la,d=a.feature,e=a.geometry,f=a.depth,g=a.index,h;b.length<e.qa();)b.push(0);switch(e.U()){case "MultiLineString":h=e.X();h[f[0]].splice(g+1,0,b);break;case "Polygon":h=e.X();h[f[0]].splice(g+1,0,b);break;case "MultiPolygon":h=e.X();h[f[1]][f[0]].splice(g+1,0,b);break;case "LineString":h=e.X();h.splice(g+1,0,b);break;default:return}this.l=!0;e.ma(h);this.l=!1;h=this.a;h.remove(a);bv(this,e,g,f,1);a={la:[c[0],b],feature:d,geometry:e,depth:f,index:g};h.Ca(Na(a.la),a);
this.j.push([a,1]);b={la:[b,c[1]],feature:d,geometry:e,depth:f,index:g+1};h.Ca(Na(b.la),b);this.j.push([b,0]);this.I=!0};
k.hj=function(){if(this.R&&"pointerdrag"!=this.R.type){var a=this.R;Uu(this,a);var b=this.j,c={},d,e;for(e=b.length-1;0<=e;--e){var f=b[e];var g=f[0];var h=w(g.feature);g.depth&&(h+="-"+g.depth.join("-"));h in c||(c[h]={});0===f[1]?(c[h].right=g,c[h].index=g.index):1==f[1]&&(c[h].left=g,c[h].index=g.index+1)}for(h in c){var l=c[h].right;var m=c[h].left;e=c[h].index;var n=e-1;g=void 0!==m?m:l;0>n&&(n=0);f=g.geometry;var p=d=f.X();var q=!1;switch(f.U()){case "MultiLineString":2<d[g.depth[0]].length&&
(d[g.depth[0]].splice(e,1),q=!0);break;case "LineString":2<d.length&&(d.splice(e,1),q=!0);break;case "MultiPolygon":p=p[g.depth[1]];case "Polygon":p=p[g.depth[0]],4<p.length&&(e==p.length-1&&(e=0),p.splice(e,1),q=!0,0===e&&(p.pop(),p.push(p[0]),n=p.length-1))}q&&(q=f,this.l=!0,q.ma(d),this.l=!1,d=[],void 0!==m&&(this.a.remove(m),d.push(m.la[0])),void 0!==l&&(this.a.remove(l),d.push(l.la[1])),void 0!==m&&void 0!==l&&(m={depth:g.depth,feature:g.feature,geometry:g.geometry,index:n,la:d},this.a.Ca(Na(m.la),
m)),bv(this,f,e,g.depth,-1),this.g&&(this.B.ha().Gb(this.g),this.g=null),b.length=0)}this.b(new Vu("modifyend",this.u,a));this.C=!1;return!0}return!1};function bv(a,b,c,d,e){Lj(a.a,b.G(),function(a){a.geometry===b&&(void 0===d||void 0===a.depth||pa(a.depth,d))&&a.index>c&&(a.index+=e)})}function Su(){var a=gl();return function(){return a.Point}}function Vu(a,b,c){Oc.call(this,a);this.features=b;this.mapBrowserEvent=c}v(Vu,Oc);function cv(a){ng.call(this,{handleEvent:dv});a=a?a:{};this.C=a.condition?a.condition:wg;this.D=a.addCondition?a.addCondition:nf;this.B=a.removeCondition?a.removeCondition:nf;this.I=a.toggleCondition?a.toggleCondition:yg;this.l=a.multi?a.multi:!1;this.o=a.filter?a.filter:mf;this.j=a.hitTolerance?a.hitTolerance:0;this.g=new T({source:new U({useSpatialIndex:!1,features:a.features,wrapX:a.wrapX}),style:a.style?a.style:ev(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(a.layers)if("function"===
typeof a.layers)a=a.layers;else{var b=a.layers;a=function(a){return ja(b,a)}}else a=mf;this.u=a;this.a={};a=this.g.ha().f;y(a,"add",this.Fn,this);y(a,"remove",this.Jn,this)}v(cv,ng);k=cv.prototype;k.Gn=function(){return this.g.ha().f};k.Hn=function(){return this.j};k.In=function(a){a=w(a);return this.a[a]};
function dv(a){if(!this.C(a))return!0;var b=this.D(a),c=this.B(a),d=this.I(a),e=!b&&!c&&!d,f=a.map,g=this.g.ha().f,h=[],l=[];if(e){ub(this.a);f.we(a.pixel,function(a,b){if(this.o(a,b))return l.push(a),a=w(a),this.a[a]=b,!this.l}.bind(this),{layerFilter:this.u,hitTolerance:this.j});for(e=g.dc()-1;0<=e;--e){var f=g.item(e),m=l.indexOf(f);-1<m?l.splice(m,1):(g.remove(f),h.push(f))}l.length&&g.fg(l)}else{f.we(a.pixel,function(a,e){if(this.o(a,e))return!b&&!d||ja(g.a,a)?(c||d)&&ja(g.a,a)&&(h.push(a),e=
w(a),delete this.a[e]):(l.push(a),a=w(a),this.a[a]=e),!this.l}.bind(this),{layerFilter:this.u,hitTolerance:this.j});for(e=h.length-1;0<=e;--e)g.remove(h[e]);g.fg(l)}(0<l.length||0<h.length)&&this.b(new fv(gv,l,h,a));return vg(a)}k.Kn=function(a){this.j=a};k.setMap=function(a){var b=this.v,c=this.g.ha().f;b&&c.forEach(b.Cj,b);ng.prototype.setMap.call(this,a);this.g.setMap(a);a&&c.forEach(a.xj,a)};
function ev(){var a=gl();la(a.Polygon,a.LineString);la(a.GeometryCollection,a.LineString);return function(b){return b.V()?a[b.V().U()]:null}}k.Fn=function(a){var b=this.v;b&&b.xj(a.element)};k.Jn=function(a){var b=this.v;b&&b.Cj(a.element)};function fv(a,b,c,d){Oc.call(this,a);this.selected=b;this.deselected=c;this.mapBrowserEvent=d}v(fv,Oc);var gv="select";function hv(a){Dg.call(this,{handleEvent:iv,handleDownEvent:mf,handleUpEvent:jv});a=a?a:{};this.l=a.source?a.source:null;this.R=void 0!==a.vertex?a.vertex:!0;this.C=void 0!==a.edge?a.edge:!0;this.j=a.features?a.features:null;this.pa=[];this.B={};this.T={};this.u={};this.I=null;this.g=void 0!==a.pixelTolerance?a.pixelTolerance:10;this.va=kv.bind(this);this.a=new Gj;this.fa={Point:this.Rn,LineString:this.wi,LinearRing:this.wi,Polygon:this.Sn,MultiPoint:this.Pn,MultiLineString:this.On,MultiPolygon:this.Qn,
GeometryCollection:this.Nn,Circle:this.Mn}}v(hv,Dg);k=hv.prototype;k.yb=function(a,b){b=void 0!==b?b:!0;var c=w(a),d=a.V();if(d){var e=this.fa[d.U()];e&&(this.T[c]=d.G(Oa()),e.call(this,a,d))}b&&(this.B[c]=y(a,"change",this.Ln,this))};k.Ak=function(a){this.yb(a)};k.Bk=function(a){this.Gb(a)};k.ui=function(a){if(a instanceof gu)var b=a.feature;else a instanceof bd&&(b=a.element);this.yb(b)};k.vi=function(a){if(a instanceof gu)var b=a.feature;else a instanceof bd&&(b=a.element);this.Gb(b)};
k.Ln=function(a){a=a.target;if(this.D){var b=w(a);b in this.u||(this.u[b]=a)}else this.Dj(a)};k.Gb=function(a,b){b=void 0!==b?b:!0;var c=w(a),d=this.T[c];if(d){var e=this.a,f=[];Lj(e,d,function(b){a===b.feature&&f.push(b)});for(d=f.length-1;0<=d;--d)e.remove(f[d])}b&&(Ec(this.B[c]),delete this.B[c])};
k.setMap=function(a){var b=this.v,c=this.pa,d;this.j?d=this.j:this.l&&(d=this.l.Xe());b&&(c.forEach(Ec),c.length=0,d.forEach(this.Bk,this));Dg.prototype.setMap.call(this,a);a&&(this.j?c.push(y(this.j,"add",this.ui,this),y(this.j,"remove",this.vi,this)):this.l&&c.push(y(this.l,"addfeature",this.ui,this),y(this.l,"removefeature",this.vi,this)),d.forEach(this.Ak,this))};k.Xc=nf;
function lv(a,b,c,d){var e=d.Wa([b[0]-a.g,b[1]+a.g]),f=d.Wa([b[0]+a.g,b[1]-a.g]),e=Na([e,f]),g=Jj(a.a,e);a.R&&!a.C&&(g=g.filter(function(a){return"Circle"!==a.feature.V().U()}));var h=!1,e=!1,l=f=null;if(0<g.length){a.I=c;g.sort(a.va);var m=g[0].la,h="Circle"===g[0].feature.V().U();if(a.R&&!a.C){if(c=d.Ja(m[0]),h=d.Ja(m[1]),c=hf(b,c),b=hf(b,h),h=Math.sqrt(Math.min(c,b)),h=h<=a.g)e=!0,f=c>b?m[1]:m[0],l=d.Ja(f)}else a.C&&(f=h?$e(c,g[0].feature.V()):af(c,m),l=d.Ja(f),jf(b,l)<=a.g&&(e=!0,a.R&&!h&&(c=
d.Ja(m[0]),h=d.Ja(m[1]),c=hf(l,c),b=hf(l,h),h=Math.sqrt(Math.min(c,b)),h=h<=a.g)))&&(f=c>b?m[1]:m[0],l=d.Ja(f));e&&(l=[Math.round(l[0]),Math.round(l[1])])}return{nq:e,vertex:f,wq:l}}k.Dj=function(a){this.Gb(a,!1);this.yb(a,!1)};k.Mn=function(a,b){b=Zf(b).X()[0];var c;var d=0;for(c=b.length-1;d<c;++d){var e=b.slice(d,d+2);var f={feature:a,la:e};this.a.Ca(Na(e),f)}};k.Nn=function(a,b){var c=b.a;for(b=0;b<c.length;++b){var d=this.fa[c[b].U()];d&&d.call(this,a,c[b])}};
k.wi=function(a,b){b=b.X();var c;var d=0;for(c=b.length-1;d<c;++d){var e=b.slice(d,d+2);var f={feature:a,la:e};this.a.Ca(Na(e),f)}};k.On=function(a,b){b=b.X();var c,d;var e=0;for(d=b.length;e<d;++e){var f=b[e];var g=0;for(c=f.length-1;g<c;++g){var h=f.slice(g,g+2);var l={feature:a,la:h};this.a.Ca(Na(h),l)}}};k.Pn=function(a,b){var c=b.X(),d;var e=0;for(d=c.length;e<d;++e){var f=c[e];f={feature:a,la:[f,f]};this.a.Ca(b.G(),f)}};
k.Qn=function(a,b){b=b.X();var c,d,e;var f=0;for(e=b.length;f<e;++f){var g=b[f];var h=0;for(d=g.length;h<d;++h){var l=g[h];var m=0;for(c=l.length-1;m<c;++m){var n=l.slice(m,m+2);var p={feature:a,la:n};this.a.Ca(Na(n),p)}}}};k.Rn=function(a,b){var c=b.X();a={feature:a,la:[c,c]};this.a.Ca(b.G(),a)};k.Sn=function(a,b){b=b.X();var c,d;var e=0;for(d=b.length;e<d;++e){var f=b[e];var g=0;for(c=f.length-1;g<c;++g){var h=f.slice(g,g+2);var l={feature:a,la:h};this.a.Ca(Na(h),l)}}};
function iv(a){var b=lv(this,a.pixel,a.coordinate,a.map);b.nq&&(a.coordinate=b.vertex.slice(0,2),a.pixel=b.wq);return Eg.call(this,a)}function jv(){var a=vb(this.u);a.length&&(a.forEach(this.Dj,this),this.u={});return!1}function kv(a,b){return kf(this.I,a.la)-kf(this.I,b.la)};function mv(a){Dg.call(this,{handleDownEvent:nv,handleDragEvent:ov,handleMoveEvent:pv,handleUpEvent:qv});a=a?a:{};this.a=null;this.j=void 0!==a.features?a.features:null;if(a.layers)if("function"===typeof a.layers)var b=a.layers;else{var c=a.layers;b=function(a){return ja(c,a)}}else b=mf;this.C=b;this.l=a.hitTolerance?a.hitTolerance:0;this.g=null;y(this,Vc("active"),this.u,this)}v(mv,Dg);
function nv(a){this.g=rv(this,a.pixel,a.map);if(!this.a&&this.g){this.a=a.coordinate;pv.call(this,a);var b=this.j||new Yc([this.g]);this.b(new sv("translatestart",b,a.coordinate));return!0}return!1}function qv(a){if(this.a){this.a=null;pv.call(this,a);var b=this.j||new Yc([this.g]);this.b(new sv("translateend",b,a.coordinate));return!0}return!1}
function ov(a){if(this.a){a=a.coordinate;var b=a[0]-this.a[0],c=a[1]-this.a[1],d=this.j||new Yc([this.g]);d.forEach(function(a){var d=a.V();d.translate(b,c);a.Ra(d)});this.a=a;this.b(new sv("translating",d,a))}}function pv(a){var b=a.map.a;rv(this,a.pixel,a.map)?(b.classList.remove(this.a?"ol-grab":"ol-grabbing"),b.classList.add(this.a?"ol-grabbing":"ol-grab")):b.classList.remove("ol-grab","ol-grabbing")}
function rv(a,b,c){return c.we(b,function(a){if(!this.j||ja(this.j.a,a))return a}.bind(a),{layerFilter:a.C,hitTolerance:a.l})}mv.prototype.B=function(){return this.l};mv.prototype.I=function(a){this.l=a};mv.prototype.setMap=function(a){var b=this.v;Dg.prototype.setMap.call(this,a);tv(this,b)};mv.prototype.u=function(){tv(this,null)};function tv(a,b){var c=a.v;a=a.c();c&&a||(c||(c=b),c.a.classList.remove("ol-grab","ol-grabbing"))}
function sv(a,b,c){Oc.call(this,a);this.features=b;this.coordinate=c}v(sv,Oc);function V(a){a=a?a:{};var b=tb({},a);delete b.gradient;delete b.radius;delete b.blur;delete b.shadow;delete b.weight;T.call(this,b);this.j=null;this.R=void 0!==a.shadow?a.shadow:250;this.I=void 0;this.B=null;y(this,Vc(uv),this.Bl,this);this.pj(a.gradient?a.gradient:vv);this.jj(void 0!==a.blur?a.blur:15);this.Uc(void 0!==a.radius?a.radius:8);y(this,Vc(wv),this.cg,this);y(this,Vc(xv),this.cg,this);this.cg();var c=a.weight?a.weight:"weight",d;"string"===typeof c?d=function(a){return a.get(c)}:d=c;this.g(function(a){a=
d(a);a=void 0!==a?Ca(a,0,1):1;var b=255*a|0,c=this.B[b];c||(c=[new bl({image:new eo({opacity:a,src:this.I})})],this.B[b]=c);return c}.bind(this));this.set(Pt,null);y(this,"render",this.Sl,this)}v(V,T);var vv=["#00f","#0ff","#0f0","#ff0","#f00"];k=V.prototype;k.uh=function(){return this.get(wv)};k.Bh=function(){return this.get(uv)};k.yi=function(){return this.get(xv)};
k.Bl=function(){for(var a=this.Bh(),b=jd(1,256),c=b.createLinearGradient(0,0,1,256),d=1/(a.length-1),e=0,f=a.length;e<f;++e)c.addColorStop(e*d,a[e]);b.fillStyle=c;b.fillRect(0,0,1,256);this.j=b.getImageData(0,0,1,256).data};k.cg=function(){var a=this.yi(),b=this.uh(),c=a+b+1,d=2*c,d=jd(d,d);d.shadowOffsetX=d.shadowOffsetY=this.R;d.shadowBlur=b;d.shadowColor="#000";d.beginPath();b=c-this.R;d.arc(b,b,a,0,2*Math.PI,!0);d.fill();this.I=d.canvas.toDataURL();this.B=Array(256);this.s()};
k.Sl=function(a){a=a.context;var b=a.canvas,b=a.getImageData(0,0,b.width,b.height),c=b.data,d,e;var f=0;for(d=c.length;f<d;f+=4)if(e=4*c[f+3])c[f]=this.j[e],c[f+1]=this.j[e+1],c[f+2]=this.j[e+2];a.putImageData(b,0,0)};k.jj=function(a){this.set(wv,a)};k.pj=function(a){this.set(uv,a)};k.Uc=function(a){this.set(xv,a)};var wv="blur",uv="gradient",xv="radius";function yv(a){Gt.call(this,a);this.v=Bh();this.j=null}v(yv,Gt);yv.prototype.S=function(a,b,c){It(this,"precompose",c,a,void 0);var d=this.Y();if(d){var e=b.extent,f=void 0!==e&&!Va(e,a.extent)&&qb(e,a.extent);f&&Ht(c,a,e);var e=this.C(),g=c.globalAlpha;c.globalAlpha=b.opacity;c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[4]),Math.round(e[5]),Math.round(d.width*e[0]),Math.round(d.height*e[3]));c.globalAlpha=g;f&&c.restore()}this.ef(c,a,b)};
yv.prototype.Ea=function(a,b,c,d,e){var f=this.a;return f.ha().Ea(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})};
yv.prototype.u=function(a,b,c,d){if(this.Y()){if(this.a.ha().Ea!==ua)return Gt.prototype.u.apply(this,arguments);var e=Gh(this.v,a.slice());gf(e,b.viewState.resolution/this.f);this.j||(this.j=jd(1,1));this.j.clearRect(0,0,1,1);this.j.drawImage(this.Y(),e[0],e[1],1,1,0,0,1,1);e=this.j.getImageData(0,0,1,1).data;if(0<e[3])return c.call(d,this.a,e)}};function zv(a){yv.call(this,a);this.M=null;this.c=Bh()}v(zv,yv);zv.prototype.Y=function(){return this.M?this.M.Y():null};zv.prototype.C=function(){return this.c};
zv.prototype.sd=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.center,g=e.resolution,h=this.a.ha(),l=a.viewHints,m=a.extent;void 0!==b.extent&&(m=pb(m,b.extent));l[0]||l[1]||kb(m)||(b=h.Y(m,g,c,e.projection))&&At(this,b)&&(this.M=b);if(this.M){b=this.M;var l=b.G(),m=b.resolution,e=b.a,n=c*m/(g*e),l=Kh(this.c,c*d[0]/2,c*d[1]/2,n,n,0,e*(l[0]-f[0])/m,e*(f[1]-l[3])/m);Kh(this.v,c*d[0]/2-l[4],c*d[1]/2-l[5],c/g,-c/g,0,-f[0],-f[1]);Ct(a.attributions,b.f);Dt(a,h);this.f=g*c/e}return!!this.M};function Av(a,b,c,d){var e=gc(c,b,a);c=Sb(b,d,c);b=b.sc();void 0!==b&&(c*=b);b=a.sc();void 0!==b&&(c/=b);a=Sb(a,c,e)/c;isFinite(a)&&0<a&&(c/=a);return c}function Bv(a,b,c,d){a=c-a;b=d-b;var e=Math.sqrt(a*a+b*b);return[Math.round(c+a/e),Math.round(d+b/e)]}
function Cv(a,b,c,d,e,f,g,h,l,m,n){var p=jd(Math.round(c*a),Math.round(c*b));if(!l.length)return p.canvas;p.scale(c,c);var q=Oa();l.forEach(function(a){cb(q,a.extent)});var r=jd(Math.round(c*lb(q)/d),Math.round(c*mb(q)/d)),u=c/d;l.forEach(function(a){r.drawImage(a.image,m,m,a.image.width-2*m,a.image.height-2*m,(a.extent[0]-q[0])*u,-(a.extent[3]-q[3])*u,lb(a.extent)*u,mb(a.extent)*u)});var x=ib(g);h.c.forEach(function(a){var b=a.source,e=a.target,g=b[1][0],h=b[1][1],l=b[2][0],m=b[2][1];a=(e[0][0]-
x[0])/f;var n=-(e[0][1]-x[1])/f,u=(e[1][0]-x[0])/f,B=-(e[1][1]-x[1])/f,da=(e[2][0]-x[0])/f,fb=-(e[2][1]-x[1])/f,e=b[0][0],b=b[0][1],g=g-e,h=h-b,l=l-e,m=m-b;a:{g=[[g,h,0,0,u-a],[l,m,0,0,da-a],[0,0,g,h,B-n],[0,0,l,m,fb-n]];h=g.length;for(l=0;l<h;l++){for(var m=l,ca=Math.abs(g[l][l]),Ub=l+1;Ub<h;Ub++){var uc=Math.abs(g[Ub][l]);uc>ca&&(ca=uc,m=Ub)}if(!ca){g=null;break a}ca=g[m];g[m]=g[l];g[l]=ca;for(m=l+1;m<h;m++)for(ca=-g[m][l]/g[l][l],Ub=l;Ub<h+1;Ub++)g[m][Ub]=l==Ub?0:g[m][Ub]+ca*g[l][Ub]}l=Array(h);
for(m=h-1;0<=m;m--)for(l[m]=g[m][h]/g[m][m],ca=m-1;0<=ca;ca--)g[ca][h]-=g[ca][m]*l[m];g=l}g&&(p.save(),p.beginPath(),l=(a+u+da)/3,m=(n+B+fb)/3,h=Bv(l,m,a,n),u=Bv(l,m,u,B),da=Bv(l,m,da,fb),p.moveTo(u[0],u[1]),p.lineTo(h[0],h[1]),p.lineTo(da[0],da[1]),p.clip(),p.transform(g[0],g[2],g[1],g[3],a,n),p.translate(q[0]-e,q[3]-b),p.scale(d/c,-d/c),p.drawImage(r.canvas,0,0),p.restore())});n&&(p.save(),p.strokeStyle="black",p.lineWidth=1,h.c.forEach(function(a){var b=a.target;a=(b[0][0]-x[0])/f;var c=-(b[0][1]-
x[1])/f,d=(b[1][0]-x[0])/f,e=-(b[1][1]-x[1])/f,g=(b[2][0]-x[0])/f,b=-(b[2][1]-x[1])/f;p.beginPath();p.moveTo(d,e);p.lineTo(a,c);p.lineTo(g,b);p.closePath();p.stroke()}),p.restore());return p.canvas};function Dv(a,b,c,d,e){this.i=a;this.f=b;var f={},g=ec(this.f,this.i);this.a=function(a){var b=a[0]+"/"+a[1];f[b]||(f[b]=g(a));return f[b]};this.g=d;this.v=e*e;this.c=[];this.o=!1;this.l=this.i.i&&!!d&&!!this.i.G()&&lb(d)==lb(this.i.G());this.b=this.i.G()?lb(this.i.G()):null;this.j=this.f.G()?lb(this.f.G()):null;a=ib(c);b=hb(c);d=gb(c);c=eb(c);e=this.a(a);var h=this.a(b),l=this.a(d),m=this.a(c);Ev(this,a,b,d,c,e,h,l,m,10);if(this.o){var n=Infinity;this.c.forEach(function(a){n=Math.min(n,a.source[0][0],
a.source[1][0],a.source[2][0])});this.c.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-n>this.b/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-n>this.b/2&&(b[0][0]-=this.b);b[1][0]-n>this.b/2&&(b[1][0]-=this.b);b[2][0]-n>this.b/2&&(b[2][0]-=this.b);Math.max(b[0][0],b[1][0],b[2][0])-Math.min(b[0][0],b[1][0],b[2][0])<this.b/2&&(a.source=b)}},this)}f={}}
function Ev(a,b,c,d,e,f,g,h,l,m){var n=Na([f,g,h,l]),p=a.b?lb(n)/a.b:null,q=a.b,r=a.i.i&&.5<p&&1>p,u=!1;if(0<m){if(a.f.c&&a.j)var x=Na([b,c,d,e]),u=u|.25<lb(x)/a.j;!r&&a.i.c&&p&&(u|=.25<p)}if(u||!a.g||qb(n,a.g)){if(!(u||isFinite(f[0])&&isFinite(f[1])&&isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1])))if(0<m)u=!0;else return;if(0<m&&(u||(n=a.a([(b[0]+d[0])/2,(b[1]+d[1])/2]),q=r?(Ia(f[0],q)+Ia(h[0],q))/2-Ia(n[0],q):(f[0]+h[0])/2-n[0],n=(f[1]+h[1])/2-n[1],
u=q*q+n*n>a.v),u)){Math.abs(b[0]-d[0])<=Math.abs(b[1]-d[1])?(r=[(c[0]+d[0])/2,(c[1]+d[1])/2],q=a.a(r),n=[(e[0]+b[0])/2,(e[1]+b[1])/2],p=a.a(n),Ev(a,b,c,r,n,f,g,q,p,m-1),Ev(a,n,r,d,e,p,q,h,l,m-1)):(r=[(b[0]+c[0])/2,(b[1]+c[1])/2],q=a.a(r),n=[(d[0]+e[0])/2,(d[1]+e[1])/2],p=a.a(n),Ev(a,b,r,n,e,f,q,p,l,m-1),Ev(a,r,c,d,n,q,g,h,p,m-1));return}if(r){if(!a.l)return;a.o=!0}a.c.push({source:[f,h,l],target:[b,d,e]});a.c.push({source:[f,g,h],target:[b,c,d]})}}
function Fv(a){var b=Oa();a.c.forEach(function(a){a=a.source;Pa(b,a[0]);Pa(b,a[1]);Pa(b,a[2])});return b};function Gv(a,b,c,d,e,f){this.v=b;this.l=a.G();var g=b.G(),h=g?pb(c,g):c,g=Av(a,b,nb(h),d);this.j=new Dv(a,b,h,this.l,.5*g);this.c=d;this.i=c;a=Fv(this.j);this.o=(this.Hb=f(a,g,e))?this.Hb.a:1;this.ee=this.g=null;e=2;f=[];this.Hb&&(e=0,f=this.Hb.f);Is.call(this,c,d,this.o,e,f)}v(Gv,Is);Gv.prototype.ka=function(){1==this.state&&(Ec(this.ee),this.ee=null);Is.prototype.ka.call(this)};Gv.prototype.Y=function(){return this.g};
Gv.prototype.de=function(){var a=this.Hb.getState();2==a&&(this.g=Cv(lb(this.i)/this.c,mb(this.i)/this.c,this.o,this.Hb.resolution,0,this.c,this.i,this.j,[{extent:this.Hb.G(),image:this.Hb.Y()}],0));this.state=a;this.s()};Gv.prototype.load=function(){if(0==this.state){this.state=1;this.s();var a=this.Hb.getState();2==a||3==a?this.de():(this.ee=y(this.Hb,"change",function(){var a=this.Hb.getState();if(2==a||3==a)Ec(this.ee),this.ee=null,this.de()},this),this.Hb.load())}};function Hv(a){$t.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.C=void 0!==a.resolutions?a.resolutions:null;this.a=null;this.fa=0}v(Hv,$t);function Iv(a,b){a.C&&(b=a.C[ka(a.C,b,0)]);return b}
Hv.prototype.Y=function(a,b,c,d){var e=this.c;if(e&&d&&!dc(e,d)){if(this.a){if(this.fa==this.i&&dc(this.a.v,d)&&this.a.resolution==b&&this.a.a==c&&bb(this.a.G(),a))return this.a;Nc(this.a);this.a=null}this.a=new Gv(e,d,a,b,c,function(a,b,c){return this.Jc(a,b,c,e)}.bind(this));this.fa=this.i;return this.a}e&&(d=e);return this.Jc(a,b,c,d)};Hv.prototype.o=function(a){a=a.target;switch(a.getState()){case 1:this.b(new Jv(Kv,a));break;case 2:this.b(new Jv(Lv,a));break;case 3:this.b(new Jv(Mv,a))}};
function Nv(a,b){a.Y().src=b}function Jv(a,b){Oc.call(this,a);this.image=b}v(Jv,Oc);var Kv="imageloadstart",Lv="imageloadend",Mv="imageloaderror";function Ov(a){Hv.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions,state:a.state});this.pa=a.canvasFunction;this.R=null;this.T=0;this.va=void 0!==a.ratio?a.ratio:1.5}v(Ov,Hv);Ov.prototype.Jc=function(a,b,c,d){b=Iv(this,b);var e=this.R;if(e&&this.T==this.i&&e.resolution==b&&e.a==c&&Va(e.G(),a))return e;a=a.slice();rb(a,this.va);(d=this.pa(a,b,c,[lb(a)/b*c,mb(a)/b*c],d))&&(e=new Ks(a,b,c,this.j,d));this.R=e;this.T=this.i;return e};function Pv(a){this.f=a.source;this.$a=Bh();this.g=jd();this.l=[0,0];this.Sa=void 0==a.renderBuffer?100:a.renderBuffer;this.B=null;Ov.call(this,{attributions:a.attributions,canvasFunction:this.tk.bind(this),logo:a.logo,projection:a.projection,ratio:a.ratio,resolutions:a.resolutions,state:this.f.getState()});this.I=null;this.v=void 0;this.Ii(a.style);y(this.f,"change",this.ro,this)}v(Pv,Ov);k=Pv.prototype;
k.tk=function(a,b,c,d,e){var f=new pt(.5*b/c,a,b,this.f.T,this.Sa);this.f.Yd(a,b,e);var g=!1;this.f.$b(a,function(a){var d;if(!(d=g)){var e;(d=a.Lc())?e=d.call(a,b):this.v&&(e=this.v(a,b));if(e){var h,p=!1;Array.isArray(e)||(e=[e]);d=0;for(h=e.length;d<h;++d)p=Mt(f,a,e[d],Lt(b,c),this.qo,this)||p;d=p}else d=!1}g=d},this);tt(f);if(g)return null;this.l[0]!=d[0]||this.l[1]!=d[1]?(this.g.canvas.width=d[0],this.g.canvas.height=d[1],this.l[0]=d[0],this.l[1]=d[1]):this.g.clearRect(0,0,d[0],d[1]);a=Qv(this,
nb(a),b,c,d);f.La(this.g,c,a,0,{});this.B=f;return this.g.canvas};k.Ea=function(a,b,c,d,e,f){if(this.B){var g={};return this.B.Ea(a,b,0,d,e,function(a){var b=w(a).toString();if(!(b in g))return g[b]=!0,f(a)})}};k.no=function(){return this.f};k.oo=function(){return this.I};k.po=function(){return this.v};function Qv(a,b,c,d,e){c=d/c;return Kh(a.$a,e[0]/2,e[1]/2,c,-c,0,-b[0],-b[1])}k.qo=function(){this.s()};k.ro=function(){bu(this,this.f.getState())};
k.Ii=function(a){this.I=void 0!==a?a:fl;this.v=a?dl(this.I):void 0;this.s()};function Rv(a,b){Vt.call(this,a,b);this.o=this.f=this.M=null}v(Rv,Vt);function Sv(a,b){b=b.Y();return Ti(a.c.i,b)}Rv.prototype.Ea=function(a,b,c,d,e){var f=this.a;return f.ha().Ea(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})};
Rv.prototype.ng=function(a,b){var c=this.c.i,d=a.pixelRatio,e=a.viewState,f=e.center,g=e.resolution,h=e.rotation,l=this.M,m=this.Ib,n=this.a.ha(),p=a.viewHints,q=a.extent;void 0!==b.extent&&(q=pb(q,b.extent));p[0]||p[1]||kb(q)||(b=n.Y(q,g,d,e.projection))&&At(this,b)&&(l=b,m=Sv(this,b),this.Ib&&a.postRenderFunctions.push(function(a,b){a.isContextLost()||a.deleteTexture(b)}.bind(null,c,this.Ib)));l&&(c=this.c.f.j,Tv(this,c.width,c.height,d,f,g,h,l.G()),this.o=null,d=this.v,Ch(d),Ih(d,1,-1),Jh(d,0,
-1),this.M=l,this.Ib=m,Ct(a.attributions,l.f),Dt(a,n));return!!l};function Tv(a,b,c,d,e,f,g,h){b*=f;c*=f;a=a.S;Ch(a);Ih(a,2*d/b,2*d/c);Hh(a,-g);Jh(a,h[0]-e[0],h[1]-e[1]);Ih(a,(h[2]-h[0])/2,(h[3]-h[1])/2);Jh(a,1,1)}Rv.prototype.Ue=function(a,b){return void 0!==this.Ea(a,b,0,mf,this)};
Rv.prototype.lg=function(a,b,c,d){if(this.M&&this.M.Y())if(this.a.ha()instanceof Pv){var e=Gh(b.pixelToCoordinateTransform,a.slice());if(this.Ea(e,b,0,mf,this))return c.call(d,this.a,null)}else{e=[this.M.Y().width,this.M.Y().height];if(!this.o){var f=b.size;b=Bh();Jh(b,-1,-1);Ih(b,2/f[0],2/f[1]);Jh(b,0,f[1]);Ih(b,1,-1);var f=Lh(this.S.slice()),g=Bh();Jh(g,0,e[1]);Ih(g,1,-1);Ih(g,e[0]/2,e[1]/2);Jh(g,1,1);Eh(g,f);Eh(g,b);this.o=g}a=Gh(this.o,a.slice());if(!(0>a[0]||a[0]>e[0]||0>a[1]||a[1]>e[1])&&(this.f||
(this.f=jd(1,1)),this.f.clearRect(0,0,1,1),this.f.drawImage(this.M.Y(),a[0],a[1],1,1,0,0,1,1),e=this.f.getImageData(0,0,1,1).data,0<e[3]))return c.call(d,this.a,e)}};function Uv(a){wh.call(this,a?a:{})}v(Uv,wh);Uv.prototype.Fd=function(a){var b=null,c=a.U();"canvas"===c?b=new zv(this):"webgl"===c&&(b=new Rv(a,this));return b};function Vv(a){yv.call(this,a);this.c=null===this.c?null:jd();this.o=null;this.g=[];this.l=Oa();this.va=new ya(0,0,0,0);this.B=Bh();this.T=0}v(Vv,yv);function Wv(a,b){b=b.getState();a=a.a.kd();return 2==b||4==b||3==b&&!a}
Vv.prototype.sd=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.projection,g=e.resolution,e=e.center,h=this.a,l=h.ha(),m=l.i,n=l.Ta(f),p=n.tc(g,this.T),q=n.Da(p),r=Math.round(g/q)||1,u=a.extent;void 0!==b.extent&&(u=pb(u,b.extent));if(kb(u))return!1;var x=rc(n,u,q);var B=n.Pc(p);var E=n.Da(p),A=Ma(n.gb(p),n.j);B=Xa(B[0]+x.ca*A[0]*E,B[1]+x.da*A[1]*E,B[0]+(x.$+1)*A[0]*E,B[1]+(x.ia+1)*A[1]*E,void 0);E=l.nb(c);A={};A[p]={};var L=this.Nf(l,f,A),oa=this.l,ha=this.va,ga=!1,z,M;for(z=x.ca;z<=
x.$;++z)for(M=x.da;M<=x.ia;++M){var ba=l.Nc(p,z,M,c,f);3!=ba.getState()||this.a.kd()||Ns(ba,2);Wv(this,ba)||(ba=Ms(ba));Wv(this,ba)?2==ba.getState()&&(A[p][ba.ta.toString()]=ba,ga||-1!=this.g.indexOf(ba)||(ga=!0)):pc(n,ba.ta,L,ha,oa)||(ba=qc(n,ba.ta,ha,oa))&&L(p+1,ba)}z=a.viewHints;z=z[0]||z[1];if(!(this.f&&16<Date.now()-a.time&&z||!ga&&this.o&&Va(this.o,u)&&this.mf==m&&r==this.R&&(z||q*c/E*r==this.f))){if(z=this.c)M=l.Xd(p,c,f),ba=Math.round((x.$-x.ca+1)*M[0]/r),M=Math.round((x.ia-x.da+1)*M[1]/r),
ga=z.canvas,ga.width!=ba||ga.height!=M?(this.R=r,ga.width=ba,ga.height=M):(z.clearRect(0,0,ba,M),r=this.R);this.g.length=0;ga=Object.keys(A).map(Number);ga.sort(ia);var da,ha=0;for(da=ga.length;ha<da;++ha){z=ga[ha];L=l.Xd(z,c,f);ba=n.Da(z);var fb=ba/q;var ca=E*l.Wf(f);var Ub=A[z];for(var uc in Ub){ba=Ub[uc];M=n.Aa(ba.ta,oa);z=(M[0]-B[0])/q*E/r;M=(B[3]-M[3])/q*E/r;var bc=L[0]*fb/r;var Je=L[1]*fb/r;this.Of(ba,a,b,z,M,bc,Je,ca);this.g.push(ba)}}this.mf=m;this.f=q*c/E*r;this.o=B}b=this.f/g;b=Kh(this.B,
c*d[0]/2,c*d[1]/2,b,b,0,(this.o[0]-e[0])/this.f*c,(e[1]-this.o[3])/this.f*c);Kh(this.v,c*d[0]/2-b[4],c*d[1]/2-b[5],c/g,-c/g,0,-e[0],-e[1]);Et(a.usedTiles,l,p,x);Ft(a,l,n,c,f,u,p,h.Ud());Bt(a,l);Dt(a,l);return 0<this.g.length};Vv.prototype.Of=function(a,b,c,d,e,f,g,h){this.a.ha().Zf(b.viewState.projection)||this.c.clearRect(d,e,f,g);(a=a.Y())&&this.c.drawImage(a,h,h,a.width-2*h,a.height-2*h,d,e,f,g)};Vv.prototype.Y=function(){var a=this.c;return a?a.canvas:null};Vv.prototype.C=function(){return this.B};function Xv(){this.b="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}v(Xv,mi);var Yv=new Xv;function Zv(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}v(Zv,ni);var $v=new Zv;function aw(a,b){this.i=a.getUniformLocation(b,"e");this.c=a.getUniformLocation(b,"d");this.b=a.getAttribLocation(b,"b");this.a=a.getAttribLocation(b,"c")};function bw(a,b){Vt.call(this,a,b);this.I=Yv;this.fa=$v;this.f=null;this.B=new Di([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.D=this.o=null;this.l=-1;this.R=[0,0]}v(bw,Vt);k=bw.prototype;k.ka=function(){Gi(this.c.f,this.B);Vt.prototype.ka.call(this)};k.Nf=function(a,b,c){var d=this.c;return function(e,f){return yt(a,b,e,f,function(a){var b=d.a.b.hasOwnProperty(a.bb());b&&(c[e]||(c[e]={}),c[e][a.ta.toString()]=a);return b})}};k.mg=function(){Vt.prototype.mg.call(this);this.f=null};
k.ng=function(a,b,c){var d=this.c,e=c.b,f=a.viewState,g=f.projection,h=this.a,l=h.ha(),m=l.Ta(g),n=m.tc(f.resolution),p=m.Da(n),q=l.Xd(n,a.pixelRatio,g),r=q[0]/Ma(m.gb(n),this.R)[0],u=p/r,x=l.nb(r)*l.Wf(g),B=f.center,E=a.extent,A=rc(m,E,p);if(this.o&&Aa(this.o,A)&&this.l==l.i)u=this.D;else{var L=[A.$-A.ca+1,A.ia-A.da+1],oa=Ea(Math.max(L[0]*q[0],L[1]*q[1])),L=u*oa,ha=m.Pc(n),ga=ha[0]+A.ca*q[0]*u,u=ha[1]+A.da*q[1]*u,u=[ga,u,ga+L,u+L];Wt(this,a,oa);e.viewport(0,0,oa,oa);e.clearColor(0,0,0,0);e.clear(16384);
e.disable(3042);oa=Hi(c,this.I,this.fa);c.Qc(oa);this.f||(this.f=new aw(e,oa));wi(c,34962,this.B);e.enableVertexAttribArray(this.f.b);e.vertexAttribPointer(this.f.b,2,5126,!1,16,0);e.enableVertexAttribArray(this.f.a);e.vertexAttribPointer(this.f.a,2,5126,!1,16,8);e.uniform1i(this.f.i,0);c={};c[n]={};var z=this.Nf(l,g,c),M=h.kd(),oa=!0,ga=Oa(),ba=new ya(0,0,0,0),da,fb;for(da=A.ca;da<=A.$;++da)for(fb=A.da;fb<=A.ia;++fb){ha=l.Nc(n,da,fb,r,g);if(void 0!==b.extent){var ca=m.Aa(ha.ta,ga);if(!qb(ca,b.extent))continue}ca=
ha.getState();(ca=2==ca||4==ca||3==ca&&!M)||(ha=Ms(ha));ca=ha.getState();if(2==ca){if(d.a.b.hasOwnProperty(ha.bb())){c[n][ha.ta.toString()]=ha;continue}}else if(4==ca||3==ca&&!M)continue;oa=!1;ca=pc(m,ha.ta,z,ba,ga);ca||(ha=qc(m,ha.ta,ba,ga))&&z(n+1,ha)}b=Object.keys(c).map(Number);b.sort(ia);for(var z=new Float32Array(4),Ub,M=0,ba=b.length;M<ba;++M)for(Ub in da=c[b[M]],da)ha=da[Ub],ca=m.Aa(ha.ta,ga),z[0]=2*(ca[2]-ca[0])/L,z[1]=2*(ca[3]-ca[1])/L,z[2]=2*(ca[0]-u[0])/L-1,z[3]=2*(ca[1]-u[1])/L-1,e.uniform4fv(this.f.c,
z),nk(d,ha,q,x*r),e.drawArrays(5,0,4);oa?(this.o=A,this.D=u,this.l=l.i):(this.D=this.o=null,this.l=-1,a.animate=!0)}Et(a.usedTiles,l,n,A);var uc=d.j;Ft(a,l,m,r,g,E,n,h.Ud(),function(a){2!=a.getState()||d.a.b.hasOwnProperty(a.bb())||a.bb()in uc.a||uc.f([a,tc(m,a.ta),m.Da(a.ta[0]),q,x*r])},this);Bt(a,l);Dt(a,l);e=this.v;Ch(e);Jh(e,(Math.round(B[0]/p)*p-u[0])/(u[2]-u[0]),(Math.round(B[1]/p)*p-u[1])/(u[3]-u[1]));f.rotation&&Hh(e,f.rotation);Ih(e,a.size[0]*f.resolution/(u[2]-u[0]),a.size[1]*f.resolution/
(u[3]-u[1]));Jh(e,-.5,-.5);return!0};k.lg=function(a,b,c,d){if(this.g){a=Gh(this.v,[a[0]/b.size[0],(b.size[1]-a[1])/b.size[1]].slice());a=[a[0]*this.j,a[1]*this.j];b=this.c.f.b;b.bindFramebuffer(b.FRAMEBUFFER,this.g);var e=new Uint8Array(4);b.readPixels(a[0],a[1],1,1,b.RGBA,b.UNSIGNED_BYTE,e);if(0<e[3])return c.call(d,this.a,e)}};function cw(a){a=a?a:{};var b=tb({},a);delete b.preload;delete b.useInterimTilesOnError;wh.call(this,b);this.zi(void 0!==a.preload?a.preload:0);this.Ai(void 0!==a.useInterimTilesOnError?a.useInterimTilesOnError:!0)}v(cw,wh);k=cw.prototype;k.Fd=function(a){var b=null,c=a.U();"canvas"===c?b=new Vv(this):"webgl"===c&&(b=new bw(a,this));return b};k.Ud=function(){return this.get("preload")};k.zi=function(a){this.set("preload",a)};k.kd=function(){return this.get("useInterimTilesOnError")};
k.Ai=function(a){this.set("useInterimTilesOnError",a)};function dw(a){this.c=null;Vv.call(this,a);this.I=!1;this.D=Bh();this.T="vector"==a.j?1:0}v(dw,Vv);var ew={image:ji,hybrid:["Polygon","LineString"]},fw={hybrid:["Image","Text"],vector:ji};k=dw.prototype;k.sd=function(a,b){var c=this.a,d=c.i;this.pa!=d&&(this.g.length=0,c=c.j,this.c||"vector"==c||(this.c=jd()),this.c&&"vector"==c&&(this.c=null));this.pa=d;return Vv.prototype.sd.apply(this,arguments)};
k.Of=function(a,b,c,d,e,f,g,h){var l=a,m=this.a,n=b.pixelRatio,p=b.viewState.projection,q=m.i,r=m.get(Pt)||null,u=l.o;if(u.Nd||u.mf!=q||u.Kg!=r){for(var x=0,B=l.a.length;x<B;++x){var E=l.c[l.a[x]];E.S=null;u.Nd=!1;var A=m.ha(),L=A.tileGrid,oa=E.ta,ha=E.a,ga=A.Ta(p),z=ga.Da(l.ta[0]),M=L.Da(E.ta[0]),ga=ga.Aa(l.v),oa=L.Aa(oa),ga=pb(ga,oa);if("tile-pixels"==ha.a)var ba=L=A.nb(),M=Kh(this.D,0,0,1/M*ba,-1/M*ba,0,-oa[0],-oa[3]),M=Gh(M,[ga[0],ga[3]]).concat(Gh(M,[ga[2],ga[1]]));else if(L=z,M=ga,!dc(p,ha)){var da=
!0;E.ig(p)}u.Nd=!1;A=new pt(0,M,L,A.l,m.c);M=Lt(L,n);L=E.g;r&&r!==u.Kg&&L.sort(r);oa=0;for(ga=L.length;oa<ga;++oa){ba=L[oa];da&&ba.V().tb(ha,p);var fb=void 0,ca=ba.Lc();ca?fb=ca.call(ba,z):(ca=m.f)&&(fb=ca(ba,z));if(fb){Array.isArray(fb)||(fb=[fb]);var ca=M,Ub=A;if(fb){var uc=!1;if(Array.isArray(fb))for(var bc=0,Je=fb.length;bc<Je;++bc)uc=Mt(Ub,ba,fb[bc],ca,this.Fi,this)||uc;else uc=Mt(Ub,ba,fb,ca,this.Fi,this)||uc;ba=uc}else ba=!1;this.I=this.I||ba;u.Nd=u.Nd||ba}}tt(A);E.c[l.ta.toString()]=A}u.mf=
q;u.Kg=r}if(this.c){x=b;p=this.a;n=l.o;q=p.i;if((m=ew[p.j])&&n.Lg!==q)for(n.Lg=q,B=l.v,E=B[0],n=x.pixelRatio,z=p.ha(),p=z.tileGrid,ha=z.Ta(x.viewState.projection),q=ha.Da(E),r=z.nb(),l.j||(l.j=jd()),u=l.j,x=z.Xd(E,n,x.viewState.projection),u.canvas.width=x[0],u.canvas.height=x[1],x=ha.Aa(B),B=0,E=l.a.length;B<E;++B)ha=l.c[l.a[B]],A=ha.ta,da=n/q,z=Ch(this.D),"tile-pixels"==ha.a.a?(da=p.Aa(A,this.l),A=p.Da(A[0]),M=n/r*A/q,Ih(z,M,M),Jh(z,Math.round((da[0]-x[0])/A*r),Math.round((x[3]-da[3])/A*r))):(Ih(z,
da,-da),Jh(z,-x[0],-x[3])),ha.c[l.ta.toString()].La(u,n,z,0,{},m);Vv.prototype.Of.apply(this,arguments)}};
k.Ea=function(a,b,c,d,e){var f=b.viewState.resolution,g=b.viewState.rotation;c=void 0==c?0:c;var h=this.a,l={},m=this.g,n=h.ha();b=n.Ta(b.viewState.projection);var p=n.tileGrid,q;var r=0;for(q=m.length;r<q;++r){var u=m[r];var x=u.ta;x=b.Aa(x,this.l);var B=Qa(x,c*f,B);if(Ta(B,a)){x=0;for(var E=u.a.length;x<E;++x){var A=u.c[u.a[x]];if("tile-pixels"===A.a.a){var L=A.ta;f=p.Aa(L,this.l);var oa=ib(f);f=n.nb();L=p.Da(L[0])/f;oa=[(a[0]-oa[0])/L,(oa[1]-a[1])/L]}else oa=a;A=A.c[u.ta];var ha=ha||A.Ea(oa,f,
g,c,{},function(a){var b=w(a).toString();if(!(b in l))return l[b]=!0,d.call(e,a,h)})}}}return ha};k.Fi=function(){zt(this)};
k.ef=function(a,b,c){var d=this.a,e=d.ha(),f=fw[d.j];if(f)for(var g=b.pixelRatio,h=b.viewState.rotation,l=b.size,m=Math.round(g*l[0]/2),l=Math.round(g*l[1]/2),n=this.g,d=d.ha().nb(),p=e.tileGrid,e=e.Ta(b.viewState.projection),q=[],r=[],u=n.length-1;0<=u;--u){var x=n[u];if(5!=x.getState())for(var B=x.ta,E=e.Aa(B)[0]-e.Aa(x.v)[0],A=0,L=x.a.length;A<L;++A){var oa=x.c[x.a[A]],ha=oa.ta[0],ga=p.Da(ha);var z=oa;var M=b;if("tile-pixels"==z.a.a){var ba=this.a.ha(),da=ba.tileGrid,fb=z.ta,ba=da.Da(fb[0])/ba.nb(),
z=M.viewState,ca=M.pixelRatio,Ub=z.resolution/ca,fb=da.Aa(fb,this.l),da=z.center,fb=ib(fb);M=M.size;M=Kh(this.D,Math.round(ca*M[0]/2),Math.round(ca*M[1]/2),ba/Ub,ba/Ub,z.rotation,(fb[0]-da[0])/ba,(da[1]-fb[1])/ba)}else M=Jt(this,M,0);Jh(M,E*d/ga,0);oa=oa.c[B.toString()];ga=vt(oa,M);a.save();a.globalAlpha=c.opacity;Vh(a,-h,m,l);ba=0;for(z=q.length;ba<z;++ba)ca=q[ba],ha<r[ba]&&(a.beginPath(),a.moveTo(ga[0],ga[1]),a.lineTo(ga[2],ga[3]),a.lineTo(ga[4],ga[5]),a.lineTo(ga[6],ga[7]),a.moveTo(ca[6],ca[7]),
a.lineTo(ca[4],ca[5]),a.lineTo(ca[2],ca[3]),a.lineTo(ca[0],ca[1]),a.clip());oa.La(a,g,M,h,{},f);a.restore();q.push(ga);r.push(ha)}}Vv.prototype.ef.apply(this,arguments)};function W(a){a=a?a:{};var b=tb({},a);delete b.preload;delete b.useInterimTilesOnError;T.call(this,b);this.Bi(a.preload?a.preload:0);this.Ci(a.useInterimTilesOnError?a.useInterimTilesOnError:!0);xa(void 0==a.renderMode||"image"==a.renderMode||"hybrid"==a.renderMode||"vector"==a.renderMode,28);this.j=a.renderMode||"hybrid"}v(W,T);k=W.prototype;k.Fd=function(a){var b=null;"canvas"===a.U()&&(b=new dw(this));return b};k.Ud=function(){return this.get("preload")};k.kd=function(){return this.get("useInterimTilesOnError")};
k.Bi=function(a){this.set("preload",a)};k.Ci=function(a){this.set("useInterimTilesOnError",a)};function gw(a,b,c,d){function e(){delete window[g];f.parentNode.removeChild(f)}var f=document.createElement("script"),g="olc_"+w(b);f.async=!0;f.src=a+(-1==a.indexOf("?")?"?":"&")+(d||"callback")+"="+g;var h=setTimeout(function(){e();c&&c()},1E4);window[g]=function(a){clearTimeout(h);e();b(a)};document.getElementsByTagName("head")[0].appendChild(f)};function hw(a,b,c,d,e,f,g,h,l,m,n){Ls.call(this,e,0);this.D=void 0!==n?n:!1;this.S=g;this.u=h;this.v=null;this.c=b;this.j=d;this.o=f?f:e;this.a=[];this.yd=null;this.g=0;f=d.Aa(this.o);h=this.j.G();e=this.c.G();f=h?pb(f,h):f;if(jb(f))if((h=a.G())&&(e?e=pb(e,h):e=h),d=Av(a,c,nb(f),d.Da(this.o[0])),!isFinite(d)||0>=d)this.state=4;else if(this.l=new Dv(a,c,f,e,d*(void 0!==m?m:.5)),this.l.c.length)if(this.g=b.tc(d),c=Fv(this.l),e&&(a.i?(c[1]=Ca(c[1],e[1],e[3]),c[3]=Ca(c[3],e[1],e[3])):c=pb(c,e)),jb(c)){a=
oc(b,c,this.g);for(b=a.ca;b<=a.$;b++)for(c=a.da;c<=a.ia;c++)(m=l(this.g,b,c,g))&&this.a.push(m);this.a.length||(this.state=4)}else this.state=4;else this.state=4;else this.state=4}v(hw,Ls);hw.prototype.ka=function(){1==this.state&&(this.yd.forEach(Ec),this.yd=null);Ls.prototype.ka.call(this)};hw.prototype.Y=function(){return this.v};
hw.prototype.de=function(){var a=[];this.a.forEach(function(b){b&&2==b.getState()&&a.push({extent:this.c.Aa(b.ta),image:b.Y()})},this);this.a.length=0;if(a.length){var b=this.o[0],c=this.j.gb(b),d="number"===typeof c?c:c[0],c="number"===typeof c?c:c[1],b=this.j.Da(b),e=this.c.Da(this.g),f=this.j.Aa(this.o);this.v=Cv(d,c,this.S,e,this.c.G(),b,f,this.l,a,this.u,this.D);this.state=2}else this.state=3;this.s()};
hw.prototype.load=function(){if(0==this.state){this.state=1;this.s();var a=0;this.yd=[];this.a.forEach(function(b){var c=b.getState();if(0==c||1==c){a++;var d=y(b,"change",function(){var c=b.getState();if(2==c||3==c||4==c)Ec(d),a--,a||(this.yd.forEach(Ec),this.yd=null,this.de())},this);this.yd.push(d)}},this);this.a.forEach(function(a){0==a.getState()&&a.load()});a||setTimeout(this.de.bind(this),0)}};function iw(a,b){var c=/\{z\}/g,d=/\{x\}/g,e=/\{y\}/g,f=/\{-y\}/g;return function(g){if(g)return a.replace(c,g[0].toString()).replace(d,g[1].toString()).replace(e,function(){return(-g[2]-1).toString()}).replace(f,function(){var a=b.a?b.a[g[0]]:null;xa(a,55);return(a.ia-a.da+1+g[2]).toString()})}}function jw(a,b){for(var c=a.length,d=Array(c),e=0;e<c;++e)d[e]=iw(a[e],b);return kw(d)}function kw(a){return 1===a.length?a[0]:function(b,c,d){if(b)return a[Ia((b[1]<<b[0])+b[2],a.length)](b,c,d)}}
function lw(){}function mw(a){var b=[],c=/\{([a-z])-([a-z])\}/.exec(a);if(c){var d=c[2].charCodeAt(0),e;for(e=c[1].charCodeAt(0);e<=d;++e)b.push(a.replace(c[0],String.fromCharCode(e)));return b}if(c=c=/\{(\d+)-(\d+)\}/.exec(a)){d=parseInt(c[2],10);for(e=parseInt(c[1],10);e<=d;e++)b.push(a.replace(c[0],e.toString()));return b}b.push(a);return b};function nw(a){lk.call(this);this.highWaterMark=void 0!==a?a:2048}v(nw,lk);function ow(a){return a.c>a.highWaterMark}nw.prototype.fd=function(a){for(var b,c;ow(this);){b=this.a.Yc;c=b.ta[0].toString();var d;if(d=c in a)b=b.ta,d=za(a[c],b[1],b[2]);if(d)break;else Nc(this.pop())}};function pw(a){$t.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX});this.va=void 0!==a.opaque?a.opaque:!1;this.$a=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;this.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;this.a=new nw(a.cacheSize);this.o=[0,0];this.uc=""}v(pw,$t);k=pw.prototype;k.Ki=function(){return ow(this.a)};k.fd=function(a,b){(a=this.Wd(a))&&a.fd(b)};
function yt(a,b,c,d,e){b=a.Wd(b);if(!b)return!1;for(var f=!0,g,h,l=d.ca;l<=d.$;++l)for(var m=d.da;m<=d.ia;++m)g=a.Sb(c,l,m),h=!1,b.b.hasOwnProperty(g)&&(g=b.get(g),(h=2===g.getState())&&(h=!1!==e(g))),h||(f=!1);return f}k.Wf=function(){return 0};function qw(a,b){a.uc!==b&&(a.uc=b,a.s())}k.Sb=function(a,b,c){return a+"/"+b+"/"+c};k.Zf=function(){return this.va};k.ab=function(){return this.tileGrid};k.Ta=function(a){return this.tileGrid?this.tileGrid:vc(a)};
k.Wd=function(a){var b=this.c;return b&&!dc(b,a)?null:this.a};k.nb=function(){return this.$a};k.Xd=function(a,b,c){c=this.Ta(c);b=this.nb(b);a=Ma(c.gb(a),this.o);return 1==b?a:La(a,b,this.o)};function rw(a,b,c){var d=void 0!==c?c:a.c;c=a.Ta(d);if(a.u&&d.c){var e=b;b=e[0];a=tc(c,e);d=zc(d);Ta(d,a)?b=e:(e=lb(d),a[0]+=e*Math.ceil((d[0]-a[0])/e),b=c.bg(a,b))}e=b[0];d=b[1];a=b[2];if(c.minZoom>e||e>c.maxZoom)c=!1;else{var f=c.G();c=(c=f?oc(c,f,e):c.a?c.a[e]:null)?za(c,d,a):!0}return c?b:null}
k.sa=function(){this.a.clear();this.s()};k.Ug=ua;function sw(a,b){Oc.call(this,a);this.tile=b}v(sw,Oc);function tw(a){pw.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX});this.tileLoadFunction=a.tileLoadFunction;this.tileUrlFunction=this.Fc?this.Fc.bind(this):lw;this.urls=null;a.urls?this.eb(a.urls):a.url&&this.jb(a.url);a.tileUrlFunction&&this.cb(a.tileUrlFunction)}v(tw,pw);k=tw.prototype;k.pb=function(){return this.tileLoadFunction};
k.qb=function(){return this.tileUrlFunction};k.rb=function(){return this.urls};k.Li=function(a){a=a.target;switch(a.getState()){case 1:this.b(new sw("tileloadstart",a));break;case 2:this.b(new sw("tileloadend",a));break;case 3:this.b(new sw("tileloaderror",a))}};k.vb=function(a){this.a.clear();this.tileLoadFunction=a;this.s()};k.cb=function(a,b){this.tileUrlFunction=a;"undefined"!==typeof b?qw(this,b):this.s()};
k.jb=function(a){var b=this.urls=mw(a);this.cb(this.Fc?this.Fc.bind(this):jw(b,this.tileGrid),a)};k.eb=function(a){this.urls=a;var b=a.join("\n");this.cb(this.Fc?this.Fc.bind(this):jw(a,this.tileGrid),b)};k.Ug=function(a,b,c){a=this.Sb(a,b,c);this.a.b.hasOwnProperty(a)&&this.a.get(a)};function X(a){tw.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:uw,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX});this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null;this.tileClass=a.tileClass?a.tileClass:Os;this.g={};this.v={};this.Sa=a.reprojectionErrorThreshold;this.I=
!1}v(X,tw);k=X.prototype;k.Ki=function(){if(ow(this.a))return!0;for(var a in this.g)if(ow(this.g[a]))return!0;return!1};k.fd=function(a,b){a=this.Wd(a);this.a.fd(this.a==a?b:{});for(var c in this.g){var d=this.g[c];d.fd(d==a?b:{})}};k.Wf=function(a){return this.c&&a&&!dc(this.c,a)?0:this.Xf()};k.Xf=function(){return 0};k.Zf=function(a){return this.c&&a&&!dc(this.c,a)?!1:tw.prototype.Zf.call(this,a)};
k.Ta=function(a){var b=this.c;return!this.tileGrid||b&&!dc(b,a)?(b=w(a).toString(),b in this.v||(this.v[b]=vc(a)),this.v[b]):this.tileGrid};k.Wd=function(a){var b=this.c;if(!b||dc(b,a))return this.a;a=w(a).toString();a in this.g||(this.g[a]=new nw(this.a.highWaterMark));return this.g[a]};function vw(a,b,c,d,e,f,g){b=[b,c,d];e=(c=rw(a,b,f))?a.tileUrlFunction(c,e,f):void 0;e=new a.tileClass(b,void 0!==e?0:4,void 0!==e?e:"",a.crossOrigin,a.tileLoadFunction);e.key=g;y(e,"change",a.Li,a);return e}
k.Nc=function(a,b,c,d,e){if(this.c&&e&&!dc(this.c,e)){var f=this.Wd(e);c=[a,b,c];var g;a=this.Sb.apply(this,c);f.b.hasOwnProperty(a)&&(g=f.get(a));b=this.uc;if(g&&g.key==b)return g;var h=this.c,l=this.Ta(h),m=this.Ta(e),n=rw(this,c,e);d=new hw(h,l,e,m,c,n,this.nb(d),this.Xf(),function(a,b,c,d){return ww(this,a,b,c,d,h)}.bind(this),this.Sa,this.I);d.key=b;g?(d.i=g,f.replace(a,d)):f.set(a,d);return d}return ww(this,a,b,c,d,e)};
function ww(a,b,c,d,e,f){var g=a.Sb(b,c,d),h=a.uc;if(a.a.b.hasOwnProperty(g)){var l=a.a.get(g);if(l.key!=h){var m=l;l=vw(a,b,c,d,e,f,h);0==m.getState()?l.i=m.i:l.i=m;if(l.i){b=l.i;c=l;do{if(2==b.getState()){b.i=null;break}else 1==b.getState()?c=b:0==b.getState()?c.i=b.i:c=b;b=c.i}while(b)}a.a.replace(g,l)}}else l=vw(a,b,c,d,e,f,h),a.a.set(g,l);return l}k.Pb=function(a){if(this.I!=a){this.I=a;for(var b in this.g)this.g[b].clear();this.s()}};
k.Qb=function(a,b){if(a=Tb(a))a=w(a).toString(),a in this.v||(this.v[a]=b)};function uw(a,b){a.Y().src=b};function xw(a){this.B=void 0!==a.hidpi?a.hidpi:!1;X.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Tb("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,tilePixelRatio:this.B?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0});this.R=void 0!==a.culture?a.culture:"en-us";this.C=void 0!==a.maxZoom?a.maxZoom:-1;this.f=a.key;this.l=a.imagerySet;gw("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.l+"?uriScheme=https&include=ImageryProviders&key="+
this.f,this.pa.bind(this),void 0,"jsonp")}v(xw,X);var yw=new Ac({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});xw.prototype.T=function(){return this.f};xw.prototype.fa=function(){return this.l};
xw.prototype.pa=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)bu(this,"error");else{var b=a.brandLogoUri;-1==b.indexOf("https")&&(b=b.replace("http","https"));var c=a.resourceSets[0].resources[0],d=-1==this.C?c.zoomMax:this.C;a=zc(this.c);var e=xc({extent:a,minZoom:c.zoomMin,maxZoom:d,tileSize:(c.imageWidth==c.imageHeight?c.imageWidth:[c.imageWidth,c.imageHeight])/this.nb()});
this.tileGrid=e;var f=this.R,g=this.B;this.tileUrlFunction=kw(c.imageUrlSubdomains.map(function(a){var b=[0,0,0],d=c.imageUrl.replace("{subdomain}",a).replace("{culture}",f);return function(a){if(a)return jc(a[0],a[1],-a[2]-1,b),a=d,g&&(a+="&dpi=d1&device=mobile"),a.replace("{quadkey}",kc(b))}}));if(c.imageryProviders){var h=Vb(Tb("EPSG:4326"),this.c);a=c.imageryProviders.map(function(a){var b=a.attribution,c={};a.coverageAreas.forEach(function(a){var b=a.zoomMin,f=Math.min(a.zoomMax,d);a=a.bbox;
a=sb([a[1],a[0],a[3],a[2]],h);var g;for(g=b;g<=f;++g){var l=g.toString();b=oc(e,a,g);l in c?c[l].push(b):c[l]=[b]}});return new Ac({html:b,tileRanges:c})});a.push(yw);this.ua(a)}this.D=b;bu(this,"ready")}};function zw(a){a=a||{};var b=void 0!==a.projection?a.projection:"EPSG:3857",c=void 0!==a.tileGrid?a.tileGrid:xc({extent:zc(b),maxZoom:a.maxZoom,minZoom:a.minZoom,tileSize:a.tileSize});X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:a.opaque,projection:b,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:c,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,
wrapX:void 0!==a.wrapX?a.wrapX:!0})}v(zw,X);function Aw(a){this.C=a.account;this.B=a.map||"";this.f=a.config||{};this.l={};zw.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,maxZoom:void 0!==a.maxZoom?a.maxZoom:18,minZoom:a.minZoom,projection:a.projection,state:"loading",wrapX:a.wrapX});Bw(this)}v(Aw,zw);k=Aw.prototype;k.Kk=function(){return this.f};k.tq=function(a){tb(this.f,a);Bw(this)};k.Xp=function(a){this.f=a||{};Bw(this)};
function Bw(a){var b=JSON.stringify(a.f);if(a.l[b])Cw(a,a.l[b]);else{var c="https://"+a.C+".cartodb.com/api/v1/map";a.B&&(c+="/named/"+a.B);var d=new XMLHttpRequest;d.addEventListener("load",a.Dl.bind(a,b));d.addEventListener("error",a.Cl.bind(a));d.open("POST",c);d.setRequestHeader("Content-type","application/json");d.send(JSON.stringify(a.f))}}
k.Dl=function(a,b){b=b.target;if(!b.status||200<=b.status&&300>b.status){try{var c=JSON.parse(b.responseText)}catch(d){bu(this,"error");return}Cw(this,c);this.l[a]=c;bu(this,"ready")}else bu(this,"error")};k.Cl=function(){bu(this,"error")};function Cw(a,b){a.jb("https://"+b.cdn_url.https+"/"+a.C+"/api/v1/map/"+b.layergroupid+"/{z}/{x}/{y}.png")};function Y(a){U.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,wrapX:a.wrapX});this.resolution=void 0;this.distance=void 0!==a.distance?a.distance:20;this.features=[];this.geometryFunction=a.geometryFunction||function(a){a=a.V();xa(a instanceof C,10);return a};this.source=a.source;this.source.J("change",Y.prototype.sa,this)}v(Y,U);k=Y.prototype;k.$n=function(){return this.distance};k.ao=function(){return this.source};
k.Yd=function(a,b,c){this.source.Yd(a,b,c);b!==this.resolution&&(this.clear(),this.resolution=b,Dw(this),this.cd(this.features))};k.Yp=function(a){this.distance=a;this.sa()};k.sa=function(){this.clear();Dw(this);this.cd(this.features);U.prototype.sa.call(this)};
function Dw(a){if(void 0!==a.resolution){a.features.length=0;for(var b=Oa(),c=a.distance*a.resolution,d=a.source.Xe(),e={},f=0,g=d.length;f<g;f++){var h=d[f];w(h).toString()in e||!(h=a.geometryFunction(h))||(h=h.X(),Za(h,b),Qa(b,c,b),h=a.source.Uf(b),h=h.filter(function(a){a=w(a).toString();return a in e?!1:e[a]=!0}),a.features.push(Ew(a,h)))}}}
function Ew(a,b){for(var c=[0,0],d=b.length-1;0<=d;--d){var e=a.geometryFunction(b[d]);e?Ze(c,e.X()):b.splice(d,1)}gf(c,1/b.length);a=new H(new C(c));a.set("features",b);return a};function Fw(a,b){var c=[];Object.keys(b).forEach(function(a){null!==b[a]&&void 0!==b[a]&&c.push(a+"="+encodeURIComponent(b[a]))});var d=c.join("&");a=a.replace(/[?&]$/,"");a=-1===a.indexOf("?")?a+"?":a+"&";return a+d};function Gw(a){a=a||{};Hv.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions});this.R=void 0!==a.crossOrigin?a.crossOrigin:null;this.T=void 0!==a.hidpi?a.hidpi:!0;this.f=a.url;this.g=a.imageLoadFunction?a.imageLoadFunction:Nv;this.v=a.params||{};this.M=null;this.l=[0,0];this.I=0;this.B=void 0!==a.ratio?a.ratio:1.5}v(Gw,Hv);k=Gw.prototype;k.co=function(){return this.v};
k.Jc=function(a,b,c,d){if(void 0===this.f)return null;b=Iv(this,b);c=this.T?c:1;var e=this.M;if(e&&this.I==this.i&&e.resolution==b&&e.a==c&&Va(e.G(),a))return e;e={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};tb(e,this.v);a=a.slice();var f=(a[0]+a[2])/2,g=(a[1]+a[3])/2;if(1!=this.B){var h=this.B*lb(a)/2,l=this.B*mb(a)/2;a[0]=f-h;a[1]=g-l;a[2]=f+h;a[3]=g+l}var h=b/c,l=Math.ceil(lb(a)/h),m=Math.ceil(mb(a)/h);a[0]=f-h*l/2;a[2]=f+h*l/2;a[1]=g-h*m/2;a[3]=g+h*m/2;this.l[0]=l;this.l[1]=m;f=a;g=this.l;h=c;d=
d.mb.split(":").pop();e.SIZE=g[0]+","+g[1];e.BBOX=f.join(",");e.BBOXSR=d;e.IMAGESR=d;e.DPI=Math.round(90*h);d=this.f;f=d.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");f==d&&xa(!1,50);e=Fw(f,e);this.M=new Js(a,b,c,this.j,e,this.R,this.g);this.I=this.i;y(this.M,"change",this.o,this);return this.M};k.bo=function(){return this.g};k.eo=function(){return this.f};k.fo=function(a){this.M=null;this.g=a;this.s()};
k.ho=function(a){a!=this.f&&(this.f=a,this.M=null,this.s())};k.io=function(a){tb(this.v,a);this.M=null;this.s()};function Hw(a){Hv.call(this,{projection:a.projection,resolutions:a.resolutions});this.R=void 0!==a.crossOrigin?a.crossOrigin:null;this.l=void 0!==a.displayDpi?a.displayDpi:96;this.g=a.params||{};this.I=a.url;this.f=a.imageLoadFunction?a.imageLoadFunction:Nv;this.T=void 0!==a.hidpi?a.hidpi:!0;this.pa=void 0!==a.metersPerUnit?a.metersPerUnit:1;this.v=void 0!==a.ratio?a.ratio:1;this.va=void 0!==a.useOverlay?a.useOverlay:!1;this.M=null;this.B=0}v(Hw,Hv);k=Hw.prototype;k.ko=function(){return this.g};
k.Jc=function(a,b,c){b=Iv(this,b);c=this.T?c:1;var d=this.M;if(d&&this.B==this.i&&d.resolution==b&&d.a==c&&Va(d.G(),a))return d;1!=this.v&&(a=a.slice(),rb(a,this.v));var e=[lb(a)/b*c,mb(a)/b*c];if(void 0!==this.I){var d=this.I,f=nb(a),g=this.pa,h=lb(a),l=mb(a),m=e[0],n=e[1],p=.0254/this.l,e={OPERATION:this.va?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.l,SETDISPLAYWIDTH:Math.round(e[0]),SETDISPLAYHEIGHT:Math.round(e[1]),
SETVIEWSCALE:n*h>m*l?h*g/(m*p):l*g/(n*p),SETVIEWCENTERX:f[0],SETVIEWCENTERY:f[1]};tb(e,this.g);d=Fw(d,e);d=new Js(a,b,c,this.j,d,this.R,this.f);y(d,"change",this.o,this)}else d=null;this.M=d;this.B=this.i;return d};k.jo=function(){return this.f};k.mo=function(a){tb(this.g,a);this.s()};k.lo=function(a){this.M=null;this.f=a;this.s()};function Iw(a){var b=a.imageExtent,c=void 0!==a.crossOrigin?a.crossOrigin:null,d=a.imageLoadFunction?a.imageLoadFunction:Nv;Hv.call(this,{attributions:a.attributions,logo:a.logo,projection:Tb(a.projection)});this.M=new Js(b,void 0,1,this.j,a.url,c,d);this.f=a.imageSize?a.imageSize:null;y(this.M,"change",this.o,this)}v(Iw,Hv);Iw.prototype.Jc=function(a){return qb(a,this.M.G())?this.M:null};
Iw.prototype.o=function(a){if(2==this.M.getState()){var b=this.M.G(),c=this.M.Y();if(this.f){var d=this.f[0];var e=this.f[1]}else d=c.width,e=c.height;b=Math.ceil(lb(b)/(mb(b)/e));if(b!=d){var b=jd(b,e),f=b.canvas;b.drawImage(c,0,0,d,e,0,0,f.width,f.height);this.M.Og(f)}}Hv.prototype.o.call(this,a)};function Jw(a){a=a||{};Hv.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions});this.pa=void 0!==a.crossOrigin?a.crossOrigin:null;this.g=a.url;this.v=a.imageLoadFunction?a.imageLoadFunction:Nv;this.f=a.params||{};this.l=!0;Kw(this);this.T=a.serverType;this.va=void 0!==a.hidpi?a.hidpi:!0;this.M=null;this.B=[0,0];this.R=0;this.I=void 0!==a.ratio?a.ratio:1.5}v(Jw,Hv);var Lw=[101,101];k=Jw.prototype;
k.so=function(a,b,c,d){if(void 0!==this.g){var e=ob(a,b,0,Lw),f={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.f.LAYERS};tb(f,this.f,d);d=Math.floor((e[3]-a[1])/b);f[this.l?"I":"X"]=Math.floor((a[0]-e[0])/b);f[this.l?"J":"Y"]=d;return Mw(this,e,Lw,1,Tb(c),f)}};k.uo=function(){return this.f};
k.Jc=function(a,b,c,d){if(void 0===this.g)return null;b=Iv(this,b);1==c||this.va&&void 0!==this.T||(c=1);var e=b/c,f=nb(a),g=ob(f,e,0,[Math.ceil(lb(a)/e),Math.ceil(mb(a)/e)]);a=ob(f,e,0,[Math.ceil(this.I*lb(a)/e),Math.ceil(this.I*mb(a)/e)]);if((f=this.M)&&this.R==this.i&&f.resolution==b&&f.a==c&&Va(f.G(),g))return f;g={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};tb(g,this.f);this.B[0]=Math.round(lb(a)/e);this.B[1]=Math.round(mb(a)/e);d=Mw(this,a,this.B,c,d,g);
this.M=new Js(a,b,c,this.j,d,this.pa,this.v);this.R=this.i;y(this.M,"change",this.o,this);return this.M};k.to=function(){return this.v};
function Mw(a,b,c,d,e,f){xa(void 0!==a.g,9);f[a.l?"CRS":"SRS"]=e.mb;"STYLES"in a.f||(f.STYLES="");if(1!=d)switch(a.T){case "geoserver":d=90*d+.5|0;f.FORMAT_OPTIONS="FORMAT_OPTIONS"in f?f.FORMAT_OPTIONS+(";dpi:"+d):"dpi:"+d;break;case "mapserver":f.MAP_RESOLUTION=90*d;break;case "carmentaserver":case "qgis":f.DPI=90*d;break;default:xa(!1,8)}f.WIDTH=c[0];f.HEIGHT=c[1];c=e.b;var g;a.l&&"ne"==c.substr(0,2)?g=[b[1],b[0],b[3],b[2]]:g=b;f.BBOX=g.join(",");return Fw(a.g,f)}k.vo=function(){return this.g};
k.wo=function(a){this.M=null;this.v=a;this.s()};k.xo=function(a){a!=this.g&&(this.g=a,this.M=null,this.s())};k.yo=function(a){tb(this.f,a);Kw(this);this.M=null;this.s()};function Kw(a){a.l=0<=Ye(a.f.VERSION||"1.3.0")};function Nw(a){a=a||{};var b;void 0!==a.attributions?b=a.attributions:b=[Ow];zw.call(this,{attributions:b,cacheSize:a.cacheSize,crossOrigin:void 0!==a.crossOrigin?a.crossOrigin:"anonymous",opaque:void 0!==a.opaque?a.opaque:!0,maxZoom:void 0!==a.maxZoom?a.maxZoom:19,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:a.wrapX})}v(Nw,zw);var Ow=new Ac({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});Fj.df={};Fj.df.Af=function(){};
(function(a){function b(a,b,c){if(g)return new ImageData(a,b,c);b=h.createImageData(b,c);b.data.set(a);return b}function c(a){var b=!0;try{new ImageData(10,10)}catch(n){b=!1}return function(c){var d=c.buffers,e=c.meta,f=c.width,g=c.height,h=d.length,l=d[0].byteLength;if(c.imageOps){l=Array(h);for(c=0;c<h;++c){var m=c;var n=new Uint8ClampedArray(d[c]);var L=f,oa=g;n=b?new ImageData(n,L,oa):{data:n,width:L,height:oa};l[m]=n}f=a(l,e).data}else{f=new Uint8ClampedArray(l);g=Array(h);m=Array(h);for(c=0;c<
h;++c)g[c]=new Uint8ClampedArray(d[c]),m[c]=[0,0,0,0];for(d=0;d<l;d+=4){for(c=0;c<h;++c)n=g[c],m[c][0]=n[d],m[c][1]=n[d+1],m[c][2]=n[d+2],m[c][3]=n[d+3];c=a(m,e);f[d]=c[0];f[d+1]=c[1];f[d+2]=c[2];f[d+3]=c[3]}}return f.buffer}}function d(a,b){var d=Object.keys(a.lib||{}).map(function(b){return"var "+b+" = "+a.lib[b].toString()+";"}).concat(["var __minion__ = ("+c.toString()+")(",a.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);",
"  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),d=URL.createObjectURL(new Blob(d,{type:"text/javascript"})),d=new Worker(d);d.addEventListener("message",b);return d}function e(a,b){var d=c(a.operation);return{postMessage:function(a){setTimeout(function(){b({data:{buffer:d(a),meta:a.meta}})},0)}}}function f(a){this.Ff=!!a.$l;var b;0===a.threads?b=0:this.Ff?b=1:b=a.threads||1;var c=[];if(b)for(var f=0;f<b;++f)c[f]=d(a,this.gh.bind(this,f));else c[0]=e(a,this.gh.bind(this,
0));this.qe=c;this.Ed=[];this.fk=a.rp||Infinity;this.oe=0;this.bd={};this.Gf=null}var g=!0;try{new ImageData(10,10)}catch(l){g=!1}var h=document.createElement("canvas").getContext("2d");f.prototype.pp=function(a,b,c){this.dk({inputs:a,Qh:b,callback:c});this.dh()};f.prototype.dk=function(a){for(this.Ed.push(a);this.Ed.length>this.fk;)this.Ed.shift().callback(null,null)};f.prototype.dh=function(){if(0===this.oe&&0<this.Ed.length){var a=this.Gf=this.Ed.shift(),b=a.inputs[0].width,c=a.inputs[0].height,
d=a.inputs.map(function(a){return a.data.buffer}),e=this.qe.length;this.oe=e;if(1===e)this.qe[0].postMessage({buffers:d,meta:a.Qh,imageOps:this.Ff,width:b,height:c},d);else for(var f=4*Math.ceil(a.inputs[0].data.length/4/e),g=0;g<e;++g){for(var h=g*f,B=[],E=0,A=d.length;E<A;++E)B.push(d[g].slice(h,h+f));this.qe[g].postMessage({buffers:B,meta:a.Qh,imageOps:this.Ff,width:b,height:c},B)}}};f.prototype.gh=function(a,b){this.Jq||(this.bd[a]=b.data,--this.oe,0===this.oe&&this.gk())};f.prototype.gk=function(){var a=
this.Gf,c=this.qe.length;if(1===c){var d=new Uint8ClampedArray(this.bd[0].buffer);var e=this.bd[0].meta}else{var f=a.inputs[0].data.length;d=new Uint8ClampedArray(f);e=Array(f);for(var f=4*Math.ceil(f/4/c),g=0;g<c;++g){var h=g*f;d.set(new Uint8ClampedArray(this.bd[g].buffer),h);e[g]=this.bd[g].meta}}this.Gf=null;this.bd={};a.callback(null,b(d,a.inputs[0].width,a.inputs[0].height),e);this.dh()};a["default"]={Af:f};a.Af=f})(Fj.df=Fj.df||{});function Pw(a){this.B=null;this.va=void 0!==a.operationType?a.operationType:"pixel";this.Sa=void 0!==a.threads?a.threads:1;this.g=Qw(a.sources);for(var b=0,c=this.g.length;b<c;++b)y(this.g[b],"change",this.s,this);this.T=new Pe(function(){return 1},this.s.bind(this));for(var b=Rw(this.g),c={},d=0,e=b.length;d<e;++d)c[w(b[d].layer)]=b[d];this.f=null;this.I={animate:!1,attributions:{},coordinateToPixelTransform:Bh(),extent:null,focus:null,index:0,layerStates:c,layerStatesArray:b,logos:{},pixelRatio:1,
pixelToCoordinateTransform:Bh(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.T,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};Hv.call(this,{});a.operation&&this.v(a.operation,a.lib)}v(Pw,Hv);Pw.prototype.v=function(a,b){this.B=new Fj.df.Af({operation:a,$l:"image"===this.va,rp:1,lib:b,threads:this.Sa});this.s()};
Pw.prototype.Y=function(a,b,c,d){c=!0;for(var e,f=0,g=this.g.length;f<g;++f)if(e=this.g[f].a.ha(),"ready"!==e.getState()){c=!1;break}if(!c)return null;c=tb({},this.I);c.viewState=tb({},c.viewState);e=nb(a);c.extent=a.slice();c.focus=e;c.size[0]=Math.round(lb(a)/b);c.size[1]=Math.round(mb(a)/b);f=c.viewState;f.center=e;f.projection=d;f.resolution=b;this.l=c;Qe(c.tileQueue,16,16);this.f&&(d=this.f.resolution,c=this.f.G(),b===d&&bb(a,c)||(this.f=null));if(!this.f||this.i!==this.R)a:{a=this.l;d=this.g.length;
b=Array(d);for(c=0;c<d;++c){e=this.g[c];f=a;g=a.layerStatesArray[c];if(e.sd(f,g)){var h=f.size[0],l=f.size[1];if(Sw){var m=Sw.canvas;m.width!==h||m.height!==l?Sw=jd(h,l):Sw.clearRect(0,0,h,l)}else Sw=jd(h,l);e.S(f,g,Sw);e=Sw.getImageData(0,0,h,l)}else e=null;if(e)b[c]=e;else break a}d={};this.b(new Tw(Uw,a,d));this.B.pp(b,d,this.pa.bind(this,a))}return this.f};
Pw.prototype.pa=function(a,b,c,d){if(!b&&c){b=a.extent;var e=a.viewState.resolution;if(e===this.l.viewState.resolution&&bb(b,this.l.extent)){if(this.f)var f=this.f.Y().getContext("2d");else f=jd(Math.round(lb(b)/e),Math.round(mb(b)/e)),this.f=new Ks(b,e,1,this.j,f.canvas);f.putImageData(c,0,0);this.s();this.R=this.i;this.b(new Tw(Vw,a,d))}}};var Sw=null;function Rw(a){return a.map(function(a){return th(a.a)})}
function Qw(a){for(var b=a.length,c=Array(b),d=0;d<b;++d){var e=d,f=a[d],g=null;f instanceof pw?(f=new cw({source:f}),g=new Vv(f)):f instanceof Hv&&(f=new Uv({source:f}),g=new zv(f));c[e]=g}return c}function Tw(a,b,c){Oc.call(this,a);this.extent=b.extent;this.resolution=b.viewState.resolution/b.pixelRatio;this.data=c}v(Tw,Oc);Pw.prototype.Jc=function(){return null};var Uw="beforeoperations",Vw="afteroperations";function Ww(a){var b=a.layer.indexOf("-"),b=Xw[-1==b?a.layer:a.layer.slice(0,b)],c=Yw[a.layer];zw.call(this,{attributions:Zw,cacheSize:a.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=a.maxZoom?a.maxZoom:b.maxZoom,minZoom:void 0!=a.minZoom?a.minZoom:b.minZoom,opaque:c.opaque,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+a.layer+"/{z}/{x}/{y}."+c.Lb,wrapX:a.wrapX})}v(Ww,zw);
var Zw=[new Ac({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),Ow],Yw={terrain:{Lb:"jpg",opaque:!0},"terrain-background":{Lb:"jpg",opaque:!0},"terrain-labels":{Lb:"png",opaque:!1},"terrain-lines":{Lb:"png",opaque:!1},"toner-background":{Lb:"png",opaque:!0},toner:{Lb:"png",opaque:!0},"toner-hybrid":{Lb:"png",opaque:!1},"toner-labels":{Lb:"png",opaque:!1},"toner-lines":{Lb:"png",opaque:!1},"toner-lite":{Lb:"png",
opaque:!0},watercolor:{Lb:"jpg",opaque:!0}},Xw={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};function $w(a){a=a||{};X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0});this.f=a.params||{};this.l=Oa();qw(this,ax(this))}v($w,X);function ax(a){var b=0,c=[],d;for(d in a.f)c[b++]=d+"-"+a.f[d];return c.join("/")}$w.prototype.C=function(){return this.f};
$w.prototype.nb=function(a){return a};
$w.prototype.Fc=function(a,b,c){var d=this.tileGrid;d||(d=this.Ta(c));if(!(d.b.length<=a[0])){var e=d.Aa(a,this.l),f=Ma(d.gb(a[0]),this.o);1!=b&&(f=La(f,b,this.o));d={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};tb(d,this.f);var g=this.urls;g?(c=c.mb.split(":").pop(),d.SIZE=f[0]+","+f[1],d.BBOX=e.join(","),d.BBOXSR=c,d.IMAGESR=c,d.DPI=Math.round(d.DPI?d.DPI*b:90*b),a=(1==g.length?g[0]:g[Ia((a[1]<<a[0])+a[2],g.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),
a=Fw(a,d)):a=void 0;return a}};$w.prototype.B=function(a){tb(this.f,a);qw(this,ax(this))};function bx(a){pw.call(this,{opaque:!1,projection:a.projection,tileGrid:a.tileGrid,wrapX:void 0!==a.wrapX?a.wrapX:!0})}v(bx,pw);bx.prototype.Nc=function(a,b,c){var d=this.Sb(a,b,c);if(this.a.b.hasOwnProperty(d))return this.a.get(d);var e=Ma(this.tileGrid.gb(a));a=[a,b,c];b=(b=rw(this,a))?rw(this,b).toString():"";e=new cx(a,e,b);this.a.set(d,e);return e};function cx(a,b,c){Ls.call(this,a,2);this.c=b;this.Ia=c;this.a=null}v(cx,Ls);
cx.prototype.Y=function(){if(this.a)return this.a;var a=this.c,b=jd(a[0],a[1]);b.strokeStyle="black";b.strokeRect(.5,.5,a[0]+.5,a[1]+.5);b.fillStyle="black";b.textAlign="center";b.textBaseline="middle";b.font="24px sans-serif";b.fillText(this.Ia,a[0]/2,a[1]/2);return this.a=b.canvas};cx.prototype.load=function(){};function dx(a){this.f=null;X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:Tb("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,wrapX:void 0!==a.wrapX?a.wrapX:!0});if(a.url)if(a.jsonp)gw(a.url,this.og.bind(this),this.Ve.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.Ao.bind(this));b.addEventListener("error",this.zo.bind(this));b.open("GET",a.url);b.send()}else a.tileJSON?
this.og(a.tileJSON):xa(!1,51)}v(dx,X);k=dx.prototype;k.Ao=function(a){a=a.target;if(!a.status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){this.Ve();return}this.og(b)}else this.Ve()};k.zo=function(){this.Ve()};k.pl=function(){return this.f};
k.og=function(a){var b=Tb("EPSG:4326"),c=this.c;if(a.bounds){var d=Vb(b,c);var e=sb(a.bounds,d)}var f=a.minzoom||0,d=a.maxzoom||22;this.tileGrid=c=xc({extent:zc(c),maxZoom:d,minZoom:f});this.tileUrlFunction=jw(a.tiles,c);if(void 0!==a.attribution&&!this.j){b=void 0!==e?e:b.G();e={};for(var g;f<=d;++f)g=f.toString(),e[g]=[oc(c,b,f)];this.ua([new Ac({html:a.attribution,tileRanges:e})])}this.f=a;bu(this,"ready")};k.Ve=function(){bu(this,"error")};function ex(a){pw.call(this,{projection:Tb("EPSG:3857"),state:"loading"});this.v=void 0!==a.preemptive?a.preemptive:!0;this.l=lw;this.g=void 0;this.f=a.jsonp||!1;if(a.url)if(this.f)gw(a.url,this.pg.bind(this),this.We.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.Eo.bind(this));b.addEventListener("error",this.Do.bind(this));b.open("GET",a.url);b.send()}else a.tileJSON?this.pg(a.tileJSON):xa(!1,51)}v(ex,pw);k=ex.prototype;
k.Eo=function(a){a=a.target;if(!a.status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){this.We();return}this.pg(b)}else this.We()};k.Do=function(){this.We()};k.ml=function(){return this.g};k.zk=function(a,b,c,d,e){this.tileGrid?(b=this.tileGrid.Be(a,b),fx(this.Nc(b[0],b[1],b[2],1,this.c),a,c,d,e)):!0===e?setTimeout(function(){c.call(d,null)},0):c.call(d,null)};k.We=function(){bu(this,"error")};
k.pg=function(a){var b=Tb("EPSG:4326"),c=this.c;if(a.bounds){var d=Vb(b,c);var e=sb(a.bounds,d)}var f=a.minzoom||0,d=a.maxzoom||22;this.tileGrid=c=xc({extent:zc(c),maxZoom:d,minZoom:f});this.g=a.template;var g=a.grids;if(g){this.l=jw(g,c);if(void 0!==a.attribution){b=void 0!==e?e:b.G();for(e={};f<=d;++f)g=f.toString(),e[g]=[oc(c,b,f)];this.ua([new Ac({html:a.attribution,tileRanges:e})])}bu(this,"ready")}else bu(this,"error")};
k.Nc=function(a,b,c,d,e){var f=this.Sb(a,b,c);if(this.a.b.hasOwnProperty(f))return this.a.get(f);a=[a,b,c];b=rw(this,a,e);d=this.l(b,d,e);d=new gx(a,void 0!==d?0:4,void 0!==d?d:"",this.tileGrid.Aa(a),this.v,this.f);this.a.set(f,d);return d};k.Ug=function(a,b,c){a=this.Sb(a,b,c);this.a.b.hasOwnProperty(a)&&this.a.get(a)};function gx(a,b,c,d,e,f){Ls.call(this,a,b);this.o=c;this.a=d;this.v=e;this.c=this.j=this.g=null;this.l=f}v(gx,Ls);k=gx.prototype;k.Y=function(){return null};
k.getData=function(a){if(!this.g||!this.j)return null;var b=this.g[Math.floor((1-(a[1]-this.a[1])/(this.a[3]-this.a[1]))*this.g.length)];if("string"!==typeof b)return null;b=b.charCodeAt(Math.floor((a[0]-this.a[0])/(this.a[2]-this.a[0])*b.length));93<=b&&b--;35<=b&&b--;b-=32;a=null;b in this.j&&(b=this.j[b],this.c&&b in this.c?a=this.c[b]:a=b);return a};
function fx(a,b,c,d,e){0==a.state&&!0===e?(Jc(a,"change",function(){c.call(d,this.getData(b))},a),hx(a)):!0===e?setTimeout(function(){c.call(d,this.getData(b))}.bind(a),0):c.call(d,a.getData(b))}k.bb=function(){return this.o};k.De=function(){this.state=3;this.s()};k.Ji=function(a){this.g=a.grid;this.j=a.keys;this.c=a.data;this.state=4;this.s()};
function hx(a){if(0==a.state)if(a.state=1,a.l)gw(a.o,a.Ji.bind(a),a.De.bind(a));else{var b=new XMLHttpRequest;b.addEventListener("load",a.Co.bind(a));b.addEventListener("error",a.Bo.bind(a));b.open("GET",a.o);b.send()}}k.Co=function(a){a=a.target;if(!a.status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){this.De();return}this.Ji(b)}else this.De()};k.Bo=function(){this.De()};k.load=function(){this.v&&hx(this)};function ix(a){a=a||{};var b=a.params||{};X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:!("TRANSPARENT"in b?b.TRANSPARENT:1),projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0});this.C=void 0!==a.gutter?a.gutter:0;this.f=b;this.l=!0;this.B=a.serverType;this.T=void 0!==a.hidpi?a.hidpi:!0;this.R="";
jx(this);this.fa=Oa();kx(this);qw(this,lx(this))}v(ix,X);k=ix.prototype;
k.Fo=function(a,b,c,d){c=Tb(c);var e=this.tileGrid;e||(e=this.Ta(c));b=e.Be(a,b);if(!(e.b.length<=b[0])){var f=e.Da(b[0]),g=e.Aa(b,this.fa),e=Ma(e.gb(b[0]),this.o),h=this.C;h&&(e=Ka(e,h,this.o),g=Qa(g,f*h,g));h={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.f.LAYERS};tb(h,this.f,d);d=Math.floor((g[3]-a[1])/f);h[this.l?"I":"X"]=Math.floor((a[0]-g[0])/f);h[this.l?"J":"Y"]=d;return mx(this,b,e,g,1,c,h)}};k.Xf=function(){return this.C};
k.Sb=function(a,b,c){return this.R+X.prototype.Sb.call(this,a,b,c)};k.Go=function(){return this.f};
function mx(a,b,c,d,e,f,g){var h=a.urls;if(h){g.WIDTH=c[0];g.HEIGHT=c[1];g[a.l?"CRS":"SRS"]=f.mb;"STYLES"in a.f||(g.STYLES="");if(1!=e)switch(a.B){case "geoserver":c=90*e+.5|0;g.FORMAT_OPTIONS="FORMAT_OPTIONS"in g?g.FORMAT_OPTIONS+(";dpi:"+c):"dpi:"+c;break;case "mapserver":g.MAP_RESOLUTION=90*e;break;case "carmentaserver":case "qgis":g.DPI=90*e;break;default:xa(!1,52)}f=f.b;a.l&&"ne"==f.substr(0,2)&&(a=d[0],d[0]=d[1],d[1]=a,a=d[2],d[2]=d[3],d[3]=a);g.BBOX=d.join(",");return Fw(1==h.length?h[0]:h[Ia((b[1]<<
b[0])+b[2],h.length)],g)}}k.nb=function(a){return this.T&&void 0!==this.B?a:1};function jx(a){var b=0,c=[];if(a.urls){var d;var e=0;for(d=a.urls.length;e<d;++e)c[b++]=a.urls[e]}a.R=c.join("#")}function lx(a){var b=0,c=[],d;for(d in a.f)c[b++]=d+"-"+a.f[d];return c.join("/")}
k.Fc=function(a,b,c){var d=this.tileGrid;d||(d=this.Ta(c));if(!(d.b.length<=a[0])){1==b||this.T&&void 0!==this.B||(b=1);var e=d.Da(a[0]),f=d.Aa(a,this.fa),d=Ma(d.gb(a[0]),this.o),g=this.C;g&&(d=Ka(d,g,this.o),f=Qa(f,e*g,f));1!=b&&(d=La(d,b,this.o));e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};tb(e,this.f);return mx(this,a,d,f,b,c,e)}};k.eb=function(a){X.prototype.eb.call(this,a);jx(this)};k.Ho=function(a){tb(this.f,a);jx(this);kx(this);qw(this,lx(this))};
function kx(a){a.l=0<=Ye(a.f.VERSION||"1.3.0")};function nx(a,b,c,d,e,f,g,h,l,m,n,p,q,r){Ls.call(this,a,b);this.j=null;this.o={Nd:!1,Kg:null,mf:-1,Lg:-1};this.c=m;this.a=[];this.u=c;this.v=f;this.g=[];this.l=[];if(f){var u=l.Aa(f),x=l.Da(a[0]);h.Rf(u,h.tc(x),function(a){var b=pb(u,h.Aa(a));if(.5<=lb(b)/x&&.5<=mb(b)/x){var b=a.toString(),c=m[b];c||(c=g(a,n,p),c=m[b]=new q(a,void 0==c?4:0,void 0==c?"":c,d,e),this.l.push(y(c,"change",r)));c.j++;this.a.push(b)}}.bind(this))}}v(nx,Ls);
nx.prototype.ka=function(){for(var a=0,b=this.a.length;a<b;++a){var c=this.a[a],d=this.c[c];d.j--;d.j||(delete this.c[c],Nc(d))}this.a.length=0;this.c=null;1==this.state&&(this.g.forEach(Ec),this.g.length=0);this.i&&Nc(this.i);this.state=5;this.s();this.l.forEach(Ec);this.l.length=0;Ls.prototype.ka.call(this)};nx.prototype.Y=function(){return-1==this.o.Lg?null:this.j.canvas};nx.prototype.bb=function(){return this.a.join("/")+"/"+this.u};
nx.prototype.load=function(){var a=0,b=!1;0==this.state&&Ns(this,1);1==this.state&&this.a.forEach(function(c){var d=this.c[c];0==d.state?(d.Pg(this.S),d.load()):3==d.state?b=!0:4==d.state&&ma(this.a,c);if(1==d.state){var e=y(d,"change",function(){var f=d.getState();if(2==f||3==f)--a,Ec(e),ma(this.g,e),3==f&&(ma(this.a,c),b=!0),a||Ns(this,0<this.a.length?2:3)}.bind(this));this.g.push(e);++a}}.bind(this));a||setTimeout(function(){Ns(this,0<this.a.length?2:b?3:4)}.bind(this),0)};
function ox(a,b){a.Pg(Cl(b,a.o,a.$o.bind(a),a.Zo.bind(a)))};function px(a,b,c,d,e){Ls.call(this,a,b);this.j=0;this.o=d;this.g=null;this.c={};this.u=e;this.l=c}v(px,Ls);k=px.prototype;k.ka=function(){this.g=null;this.c={};this.state=5;this.s();Ls.prototype.ka.call(this)};k.Lm=function(){return this.o};k.Km=function(){return this.g};k.bb=function(){return this.l};k.Mm=function(){return this.a};k.load=function(){0==this.state&&(Ns(this,1),this.u(this,this.l),this.v(null,NaN,null))};k.$o=function(a,b){this.ig(b);this.mj(a)};k.Zo=function(){Ns(this,3)};
k.mj=function(a){this.g=a;Ns(this,2)};k.ig=function(a){this.a=a};k.Pg=function(a){this.v=a};function qx(a){tw.call(this,{attributions:a.attributions,cacheSize:void 0!==a.cacheSize?a.cacheSize:128,extent:a.extent,logo:a.logo,opaque:!1,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:ox,tileUrlFunction:a.tileUrlFunction,tilePixelRatio:a.tilePixelRatio,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX?!0:a.wrapX});this.g=a.format?a.format:null;this.v={};this.l=void 0==a.overlaps?!0:a.overlaps;this.tileClass=a.tileClass?a.tileClass:
px;this.f={};this.tileGrid||(this.tileGrid=this.Ta(Tb(a.projection||"EPSG:3857")))}v(qx,tw);qx.prototype.Nc=function(a,b,c,d,e){var f=this.Sb(a,b,c);if(this.a.b.hasOwnProperty(f))return this.a.get(f);a=[a,b,c];c=(b=rw(this,a,e))?this.tileUrlFunction(b,d,e):void 0;d=new nx(a,void 0!==c?0:4,void 0!==c?c:"",this.g,this.tileLoadFunction,b,this.tileUrlFunction,this.tileGrid,this.Ta(e),this.v,d,e,this.tileClass,this.Li.bind(this));this.a.set(f,d);return d};
qx.prototype.Ta=function(a){var b=a.mb,c=this.f[b];c||(c=this.tileGrid,c=this.f[b]=wc(a,void 0,c?c.gb(c.minZoom):void 0));return c};qx.prototype.nb=function(a){return void 0==a?tw.prototype.nb.call(this,a):a};qx.prototype.Xd=function(a,b,c){a=Ma(this.Ta(c).gb(a));return[Math.round(a[0]*b),Math.round(a[1]*b)]};function rx(a){this.o=a.matrixIds;lc.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,resolutions:a.resolutions,tileSize:a.tileSize,tileSizes:a.tileSizes,sizes:a.sizes})}v(rx,lc);rx.prototype.l=function(){return this.o};
function sx(a,b,c){var d=[],e=[],f=[],g=[],h=[],l=void 0!==c?c:[];c=Tb(a.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var m=c.sc(),n="ne"==c.b.substr(0,2);a.TileMatrix.sort(function(a,b){return b.ScaleDenominator-a.ScaleDenominator});a.TileMatrix.forEach(function(a){var b;0<l.length?b=na(l,function(b){return a.Identifier==b.TileMatrix}):b=!0;if(b){e.push(a.Identifier);b=2.8E-4*a.ScaleDenominator/m;var c=a.TileWidth,p=a.TileHeight;n?f.push([a.TopLeftCorner[1],a.TopLeftCorner[0]]):
f.push(a.TopLeftCorner);d.push(b);g.push(c==p?c:[c,p]);h.push([a.MatrixWidth,-a.MatrixHeight])}});return new rx({extent:b,origins:f,resolutions:d,matrixIds:e,tileSizes:g,sizes:h})};function Z(a){function b(a){a="KVP"==d?Fw(a,f):a.replace(/\{(\w+?)\}/g,function(a,b){return b.toLowerCase()in f?f[b.toLowerCase()]:a});return function(b){if(b){var c={TileMatrix:e.o[b[0]],TileCol:b[1],TileRow:-b[2]-1};tb(c,g);b=a;return b="KVP"==d?Fw(b,c):b.replace(/\{(\w+?)\}/g,function(a,b){return c[b]})}}}this.fa=void 0!==a.version?a.version:"1.0.0";this.C=void 0!==a.format?a.format:"image/jpeg";this.f=a.dimensions?a.dimensions:{};this.B=a.layer;this.l=a.matrixSet;this.R=a.style;var c=a.urls;void 0===
c&&void 0!==a.url&&(c=mw(a.url));var d=this.T=void 0!==a.requestEncoding?a.requestEncoding:"KVP",e=a.tileGrid,f={layer:this.B,style:this.R,tilematrixset:this.l};"KVP"==d&&tb(f,{Service:"WMTS",Request:"GetTile",Version:this.fa,Format:this.C});var g=this.f,h=c&&0<c.length?kw(c.map(b)):lw;X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:e,
tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:h,urls:c,wrapX:void 0!==a.wrapX?a.wrapX:!1});qw(this,tx(this))}v(Z,X);k=Z.prototype;k.Mk=function(){return this.f};k.Io=function(){return this.C};k.Jo=function(){return this.B};k.$k=function(){return this.l};k.kl=function(){return this.T};k.Ko=function(){return this.R};k.rl=function(){return this.fa};function tx(a){var b=0,c=[],d;for(d in a.f)c[b++]=d+"-"+a.f[d];return c.join("/")}
k.uq=function(a){tb(this.f,a);qw(this,tx(this))};function ux(a){a=a||{};var b=a.size,c=b[0],d=b[1],e=[],f=256;switch(void 0!==a.tierSizeCalculation?a.tierSizeCalculation:vx){case vx:for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),f+=f;break;case wx:for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),c>>=1,d>>=1;break;default:xa(!1,53)}e.push([1,1]);e.reverse();for(var f=[1],g=[0],d=1,c=e.length;d<c;d++)f.push(1<<d),g.push(e[d-1][0]*e[d-1][1]+g[d-1]);f.reverse();b=[0,-b[1],b[0],0];b=new lc({extent:b,origin:ib(b),resolutions:f});(f=a.url)&&
-1==f.indexOf("{TileGroup}")&&(f+="{TileGroup}/{z}-{x}-{y}.jpg");f=mw(f);f=kw(f.map(function(a){return function(b){if(b){var c=b[0],d=b[1];b=-b[2]-1;var f={z:c,x:d,y:b,TileGroup:"TileGroup"+((d+b*e[c][0]+g[c])/256|0)};return a.replace(/\{(\w+?)\}/g,function(a,b){return f[b]})}}}));X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:xx,tileGrid:b,tileUrlFunction:f})}
v(ux,X);function xx(a,b,c,d,e){Os.call(this,a,b,c,d,e);this.a=null}v(xx,Os);xx.prototype.Y=function(){if(this.a)return this.a;var a=Os.prototype.Y.call(this);if(2==this.state){if(256==a.width&&256==a.height)return this.a=a;var b=jd(256,256);b.drawImage(a,0,0);return this.a=b.canvas}return a};var vx="default",wx="truncated";function yx(a,b){this.b=b;this.a=[{x:0,y:0,width:a,height:a}];this.c={};this.i=jd(a,a);this.f=this.i.canvas}yx.prototype.get=function(a){return this.c[a]||null};
yx.prototype.add=function(a,b,c,d,e){var f;var g=0;for(f=this.a.length;g<f;++g){var h=this.a[g];if(h.width>=b+this.b&&h.height>=c+this.b)return f={offsetX:h.x+this.b,offsetY:h.y+this.b,image:this.f},this.c[a]=f,d.call(e,this.i,h.x+this.b,h.y+this.b),a=g,b+=this.b,d=c+this.b,h.width-b>h.height-d?(c={x:h.x+b,y:h.y,width:h.width-b,height:h.height},b={x:h.x,y:h.y+d,width:b,height:h.height-d},zx(this,a,c,b)):(c={x:h.x+b,y:h.y,width:h.width-b,height:d},b={x:h.x,y:h.y+d,width:h.width,height:h.height-d},
zx(this,a,c,b)),f}return null};function zx(a,b,c,d){b=[b,1];0<c.width&&0<c.height&&b.push(c);0<d.width&&0<d.height&&b.push(d);a.a.splice.apply(a.a,b)};function Ax(a){a=a||{};this.a=void 0!==a.initialSize?a.initialSize:256;this.i=void 0!==a.maxSize?a.maxSize:void 0!==ea?ea:2048;this.b=void 0!==a.space?a.space:1;this.f=[new yx(this.a,this.b)];this.c=this.a;this.g=[new yx(this.c,this.b)]}Ax.prototype.add=function(a,b,c,d,e,f){if(b+this.b>this.i||c+this.b>this.i)return null;d=Bx(this,!1,a,b,c,d,f);if(!d)return null;a=Bx(this,!0,a,b,c,e?e:ua,f);return{offsetX:d.offsetX,offsetY:d.offsetY,image:d.image,Zl:a.image}};
function Bx(a,b,c,d,e,f,g){var h=b?a.g:a.f,l;var m=0;for(l=h.length;m<l;++m){var n=h[m];if(n=n.add(c,d,e,f,g))return n;n||m!==l-1||(b?(n=Math.min(2*a.c,a.i),a.c=n):(n=Math.min(2*a.a,a.i),a.a=n),n=new yx(n,a.b),h.push(n),++l)}return null};wa.prototype.code=wa.prototype.code;t("ol.Attribution",Ac);Ac.prototype.getHTML=Ac.prototype.i;t("ol.Collection",Yc);Yc.prototype.clear=Yc.prototype.clear;Yc.prototype.extend=Yc.prototype.fg;Yc.prototype.forEach=Yc.prototype.forEach;Yc.prototype.getArray=Yc.prototype.tm;Yc.prototype.item=Yc.prototype.item;Yc.prototype.getLength=Yc.prototype.dc;Yc.prototype.insertAt=Yc.prototype.He;Yc.prototype.pop=Yc.prototype.pop;Yc.prototype.push=Yc.prototype.push;Yc.prototype.remove=Yc.prototype.remove;
Yc.prototype.removeAt=Yc.prototype.Hg;Yc.prototype.setAt=Yc.prototype.Wp;bd.prototype.element=bd.prototype.element;t("ol.color.asArray",ed);t("ol.color.asString",gd);t("ol.colorlike.asColorLike",id);t("ol.control.defaults",xd);t("ol.coordinate.add",Ze);t("ol.coordinate.createStringXY",function(a){return function(b){return lf(b,a)}});t("ol.coordinate.format",cf);t("ol.coordinate.rotate",ef);t("ol.coordinate.toStringHDMS",function(a,b){return a?bf("NS",a[1],b)+" "+bf("EW",a[0],b):""});
t("ol.coordinate.toStringXY",lf);t("ol.DeviceOrientation",Rk);Rk.prototype.getAlpha=Rk.prototype.Fk;Rk.prototype.getBeta=Rk.prototype.Ik;Rk.prototype.getGamma=Rk.prototype.Ok;Rk.prototype.getHeading=Rk.prototype.um;Rk.prototype.getTracking=Rk.prototype.Th;Rk.prototype.setTracking=Rk.prototype.gg;t("ol.easing.easeIn",qd);t("ol.easing.easeOut",rd);t("ol.easing.inAndOut",sd);t("ol.easing.linear",td);t("ol.easing.upAndDown",function(a){return.5>a?sd(2*a):1-sd(2*(a-.5))});
t("ol.extent.boundingExtent",Na);t("ol.extent.buffer",Qa);t("ol.extent.containsCoordinate",Ta);t("ol.extent.containsExtent",Va);t("ol.extent.containsXY",Ua);t("ol.extent.createEmpty",Oa);t("ol.extent.equals",bb);t("ol.extent.extend",cb);t("ol.extent.getArea",jb);t("ol.extent.getBottomLeft",eb);t("ol.extent.getBottomRight",gb);t("ol.extent.getCenter",nb);t("ol.extent.getHeight",mb);t("ol.extent.getIntersection",pb);t("ol.extent.getSize",function(a){return[a[2]-a[0],a[3]-a[1]]});
t("ol.extent.getTopLeft",ib);t("ol.extent.getTopRight",hb);t("ol.extent.getWidth",lb);t("ol.extent.intersects",qb);t("ol.extent.isEmpty",kb);t("ol.extent.applyTransform",sb);t("ol.Feature",H);H.prototype.clone=H.prototype.clone;H.prototype.getGeometry=H.prototype.V;H.prototype.getId=H.prototype.wm;H.prototype.getGeometryName=H.prototype.Qk;H.prototype.getStyle=H.prototype.xm;H.prototype.getStyleFunction=H.prototype.Lc;H.prototype.setGeometry=H.prototype.Ra;H.prototype.setStyle=H.prototype.hg;
H.prototype.setId=H.prototype.jc;H.prototype.setGeometryName=H.prototype.Tc;t("ol.featureloader.xhr",Dl);t("ol.Geolocation",xs);xs.prototype.getAccuracy=xs.prototype.Dk;xs.prototype.getAccuracyGeometry=xs.prototype.Ek;xs.prototype.getAltitude=xs.prototype.Gk;xs.prototype.getAltitudeAccuracy=xs.prototype.Hk;xs.prototype.getHeading=xs.prototype.ym;xs.prototype.getPosition=xs.prototype.zm;xs.prototype.getProjection=xs.prototype.Uh;xs.prototype.getSpeed=xs.prototype.ll;xs.prototype.getTracking=xs.prototype.Vh;
xs.prototype.getTrackingOptions=xs.prototype.Gh;xs.prototype.setProjection=xs.prototype.Wh;xs.prototype.setTracking=xs.prototype.Ke;xs.prototype.setTrackingOptions=xs.prototype.wj;t("ol.Graticule",Ds);Ds.prototype.getMap=Ds.prototype.Cm;Ds.prototype.getMeridians=Ds.prototype.al;Ds.prototype.getParallels=Ds.prototype.hl;Ds.prototype.setMap=Ds.prototype.setMap;t("ol.has.DEVICE_PIXEL_RATIO",Sd);t("ol.has.CANVAS",Ud);t("ol.has.DEVICE_ORIENTATION",Vd);t("ol.has.GEOLOCATION",Wd);t("ol.has.TOUCH",Xd);
t("ol.has.WEBGL",Md);Js.prototype.getImage=Js.prototype.Y;Js.prototype.load=Js.prototype.load;Os.prototype.getImage=Os.prototype.Y;t("ol.inherits",v);t("ol.interaction.defaults",qh);t("ol.Kinetic",kg);t("ol.loadingstrategy.all",Zt);t("ol.loadingstrategy.bbox",function(a){return[a]});t("ol.loadingstrategy.tile",function(a){return function(b,c){c=a.tc(c);b=oc(a,b,c);var d=[];c=[c,0,0];for(c[1]=b.ca;c[1]<=b.$;++c[1])for(c[2]=b.da;c[2]<=b.ia;++c[2])d.push(a.Aa(c));return d}});t("ol.Map",G);
G.prototype.addControl=G.prototype.kk;G.prototype.addInteraction=G.prototype.lk;G.prototype.addLayer=G.prototype.ih;G.prototype.addOverlay=G.prototype.jh;G.prototype.forEachFeatureAtPixel=G.prototype.we;G.prototype.forEachLayerAtPixel=G.prototype.Im;G.prototype.hasFeatureAtPixel=G.prototype.Yl;G.prototype.getEventCoordinate=G.prototype.Tf;G.prototype.getEventPixel=G.prototype.xe;G.prototype.getTarget=G.prototype.ag;G.prototype.getTargetElement=G.prototype.jd;G.prototype.getCoordinateFromPixel=G.prototype.Wa;
G.prototype.getControls=G.prototype.Lk;G.prototype.getOverlays=G.prototype.fl;G.prototype.getOverlayById=G.prototype.el;G.prototype.getInteractions=G.prototype.Sk;G.prototype.getLayerGroup=G.prototype.Kc;G.prototype.getLayers=G.prototype.Xh;G.prototype.getPixelFromCoordinate=G.prototype.Ja;G.prototype.getSize=G.prototype.Ob;G.prototype.getView=G.prototype.Z;G.prototype.getViewport=G.prototype.sl;G.prototype.renderSync=G.prototype.Tp;G.prototype.render=G.prototype.render;
G.prototype.removeControl=G.prototype.Mp;G.prototype.removeInteraction=G.prototype.Np;G.prototype.removeLayer=G.prototype.Pp;G.prototype.removeOverlay=G.prototype.Qp;G.prototype.setLayerGroup=G.prototype.qj;G.prototype.setSize=G.prototype.Qg;G.prototype.setTarget=G.prototype.Le;G.prototype.setView=G.prototype.iq;G.prototype.updateSize=G.prototype.Ad;Jd.prototype.originalEvent=Jd.prototype.originalEvent;Jd.prototype.pixel=Jd.prototype.pixel;Jd.prototype.coordinate=Jd.prototype.coordinate;
Jd.prototype.dragging=Jd.prototype.dragging;Id.prototype.map=Id.prototype.map;Id.prototype.frameState=Id.prototype.frameState;t("ol.Object",Tc);Tc.prototype.get=Tc.prototype.get;Tc.prototype.getKeys=Tc.prototype.O;Tc.prototype.getProperties=Tc.prototype.N;Tc.prototype.set=Tc.prototype.set;Tc.prototype.setProperties=Tc.prototype.H;Tc.prototype.unset=Tc.prototype.P;Xc.prototype.key=Xc.prototype.key;Xc.prototype.oldValue=Xc.prototype.oldValue;t("ol.Observable",Sc);
t("ol.Observable.unByKey",function(a){if(Array.isArray(a))for(var b=0,c=a.length;b<c;++b)Ec(a[b]);else Ec(a)});Sc.prototype.changed=Sc.prototype.s;Sc.prototype.dispatchEvent=Sc.prototype.b;Sc.prototype.getRevision=Sc.prototype.L;Sc.prototype.on=Sc.prototype.J;Sc.prototype.once=Sc.prototype.once;Sc.prototype.un=Sc.prototype.K;t("ol.Overlay",sk);sk.prototype.getElement=sk.prototype.Rd;sk.prototype.getId=sk.prototype.Jm;sk.prototype.getMap=sk.prototype.Me;sk.prototype.getOffset=sk.prototype.Dh;
sk.prototype.getPosition=sk.prototype.Yh;sk.prototype.getPositioning=sk.prototype.Eh;sk.prototype.setElement=sk.prototype.lj;sk.prototype.setMap=sk.prototype.setMap;sk.prototype.setOffset=sk.prototype.rj;sk.prototype.setPosition=sk.prototype.Ne;sk.prototype.setPositioning=sk.prototype.uj;t("ol.proj.METERS_PER_UNIT",zb);t("ol.proj.setProj4",function(a){Ab=a});t("ol.proj.getPointResolution",Sb);t("ol.proj.addEquivalentProjections",Wb);t("ol.proj.addProjection",Xb);
t("ol.proj.addCoordinateTransforms",ac);t("ol.proj.fromLonLat",function(a,b){return gc(a,"EPSG:4326",void 0!==b?b:"EPSG:3857")});t("ol.proj.toLonLat",function(a,b){return gc(a,void 0!==b?b:"EPSG:3857","EPSG:4326")});t("ol.proj.get",Tb);t("ol.proj.equivalent",dc);t("ol.proj.getTransform",ec);t("ol.proj.transform",gc);t("ol.proj.transformExtent",hc);
t("ol.render.toContext",function(a,b){var c=a.canvas,d=b?b:{};b=d.pixelRatio||Sd;if(d=d.size)c.width=d[0]*b,c.height=d[1]*b,c.style.width=d[0]+"px",c.style.height=d[1]+"px";c=[0,0,c.width,c.height];d=Ih(Bh(),b,b);return new Xh(a,b,c,d,0)});t("ol.size.toSize",Ma);t("ol.Sphere",xb);xb.prototype.geodesicArea=xb.prototype.a;xb.prototype.haversineDistance=xb.prototype.b;Ls.prototype.getTileCoord=Ls.prototype.f;Ls.prototype.load=Ls.prototype.load;t("ol.tilegrid.createXYZ",xc);px.prototype.getFormat=px.prototype.Lm;
px.prototype.getFeatures=px.prototype.Km;px.prototype.getProjection=px.prototype.Mm;px.prototype.setFeatures=px.prototype.mj;px.prototype.setProjection=px.prototype.ig;px.prototype.setLoader=px.prototype.Pg;t("ol.View",F);F.prototype.animate=F.prototype.animate;F.prototype.getAnimating=F.prototype.Ic;F.prototype.getInteracting=F.prototype.Rk;F.prototype.cancelAnimations=F.prototype.ed;F.prototype.constrainCenter=F.prototype.Ec;F.prototype.constrainResolution=F.prototype.constrainResolution;
F.prototype.constrainRotation=F.prototype.constrainRotation;F.prototype.getCenter=F.prototype.wa;F.prototype.calculateExtent=F.prototype.dd;F.prototype.getMaxResolution=F.prototype.Nm;F.prototype.getMinResolution=F.prototype.Pm;F.prototype.getMaxZoom=F.prototype.Om;F.prototype.setMaxZoom=F.prototype.eq;F.prototype.getMinZoom=F.prototype.Qm;F.prototype.setMinZoom=F.prototype.fq;F.prototype.getProjection=F.prototype.Rm;F.prototype.getResolution=F.prototype.Pa;F.prototype.getResolutions=F.prototype.Sm;
F.prototype.getResolutionForExtent=F.prototype.ze;F.prototype.getRotation=F.prototype.Qa;F.prototype.getZoom=F.prototype.Hh;F.prototype.getZoomForResolution=F.prototype.Ce;F.prototype.fit=F.prototype.Qf;F.prototype.centerOn=F.prototype.uk;F.prototype.rotate=F.prototype.rotate;F.prototype.setCenter=F.prototype.ob;F.prototype.setResolution=F.prototype.Vc;F.prototype.setRotation=F.prototype.Oe;F.prototype.setZoom=F.prototype.lq;t("ol.xml.getAllTextContent",kl);t("ol.xml.parse",pl);
Oi.prototype.getGL=Oi.prototype.Wo;Oi.prototype.useProgram=Oi.prototype.Qc;t("ol.tilegrid.TileGrid",lc);lc.prototype.forEachTileCoord=lc.prototype.Rf;lc.prototype.getMaxZoom=lc.prototype.Ti;lc.prototype.getMinZoom=lc.prototype.Ui;lc.prototype.getOrigin=lc.prototype.Pc;lc.prototype.getResolution=lc.prototype.Da;lc.prototype.getResolutions=lc.prototype.Vi;lc.prototype.getTileCoordExtent=lc.prototype.Aa;lc.prototype.getTileCoordForCoordAndResolution=lc.prototype.Be;
lc.prototype.getTileCoordForCoordAndZ=lc.prototype.bg;lc.prototype.getTileSize=lc.prototype.gb;lc.prototype.getZForResolution=lc.prototype.tc;t("ol.tilegrid.WMTS",rx);rx.prototype.getMatrixIds=rx.prototype.l;t("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",sx);t("ol.style.AtlasManager",Ax);t("ol.style.Circle",$k);$k.prototype.setRadius=$k.prototype.Uc;t("ol.style.Fill",al);al.prototype.clone=al.prototype.clone;al.prototype.getColor=al.prototype.i;al.prototype.setColor=al.prototype.c;
t("ol.style.Icon",eo);eo.prototype.clone=eo.prototype.clone;eo.prototype.getAnchor=eo.prototype.Hc;eo.prototype.getColor=eo.prototype.Lo;eo.prototype.getImage=eo.prototype.Y;eo.prototype.getOrigin=eo.prototype.Oc;eo.prototype.getSrc=eo.prototype.Mo;eo.prototype.getSize=eo.prototype.ic;eo.prototype.load=eo.prototype.load;t("ol.style.Image",Xk);Xk.prototype.getOpacity=Xk.prototype.Ze;Xk.prototype.getRotateWithView=Xk.prototype.$e;Xk.prototype.getRotation=Xk.prototype.af;Xk.prototype.getScale=Xk.prototype.bf;
Xk.prototype.getSnapToPixel=Xk.prototype.Ae;Xk.prototype.setOpacity=Xk.prototype.td;Xk.prototype.setRotation=Xk.prototype.cf;Xk.prototype.setScale=Xk.prototype.ud;t("ol.style.RegularShape",Yk);Yk.prototype.clone=Yk.prototype.clone;Yk.prototype.getAnchor=Yk.prototype.Hc;Yk.prototype.getAngle=Yk.prototype.Pi;Yk.prototype.getFill=Yk.prototype.Fa;Yk.prototype.getImage=Yk.prototype.Y;Yk.prototype.getOrigin=Yk.prototype.Oc;Yk.prototype.getPoints=Yk.prototype.Qi;Yk.prototype.getRadius=Yk.prototype.Ri;
Yk.prototype.getRadius2=Yk.prototype.Fh;Yk.prototype.getSize=Yk.prototype.ic;Yk.prototype.getStroke=Yk.prototype.Ga;t("ol.style.Stroke",wj);wj.prototype.clone=wj.prototype.clone;wj.prototype.getColor=wj.prototype.No;wj.prototype.getLineCap=wj.prototype.Vk;wj.prototype.getLineDash=wj.prototype.Oo;wj.prototype.getLineDashOffset=wj.prototype.Wk;wj.prototype.getLineJoin=wj.prototype.Xk;wj.prototype.getMiterLimit=wj.prototype.bl;wj.prototype.getWidth=wj.prototype.Po;wj.prototype.setColor=wj.prototype.Qo;
wj.prototype.setLineCap=wj.prototype.aq;wj.prototype.setLineDash=wj.prototype.setLineDash;wj.prototype.setLineDashOffset=wj.prototype.bq;wj.prototype.setLineJoin=wj.prototype.cq;wj.prototype.setMiterLimit=wj.prototype.gq;wj.prototype.setWidth=wj.prototype.jq;t("ol.style.Style",bl);bl.prototype.clone=bl.prototype.clone;bl.prototype.getGeometry=bl.prototype.V;bl.prototype.getGeometryFunction=bl.prototype.Pk;bl.prototype.getFill=bl.prototype.Fa;bl.prototype.setFill=bl.prototype.pf;
bl.prototype.getImage=bl.prototype.Y;bl.prototype.setImage=bl.prototype.Og;bl.prototype.getStroke=bl.prototype.Ga;bl.prototype.setStroke=bl.prototype.qf;bl.prototype.getText=bl.prototype.Na;bl.prototype.setText=bl.prototype.xd;bl.prototype.getZIndex=bl.prototype.Ba;bl.prototype.setGeometry=bl.prototype.Ra;bl.prototype.setZIndex=bl.prototype.Vb;t("ol.style.Text",fo);fo.prototype.clone=fo.prototype.clone;fo.prototype.getFont=fo.prototype.Nk;fo.prototype.getOffsetX=fo.prototype.cl;
fo.prototype.getOffsetY=fo.prototype.dl;fo.prototype.getFill=fo.prototype.Fa;fo.prototype.getRotateWithView=fo.prototype.Ro;fo.prototype.getRotation=fo.prototype.So;fo.prototype.getScale=fo.prototype.To;fo.prototype.getStroke=fo.prototype.Ga;fo.prototype.getText=fo.prototype.Na;fo.prototype.getTextAlign=fo.prototype.nl;fo.prototype.getTextBaseline=fo.prototype.ol;fo.prototype.setFont=fo.prototype.nj;fo.prototype.setOffsetX=fo.prototype.sj;fo.prototype.setOffsetY=fo.prototype.tj;
fo.prototype.setFill=fo.prototype.pf;fo.prototype.setRotation=fo.prototype.Uo;fo.prototype.setScale=fo.prototype.Si;fo.prototype.setStroke=fo.prototype.qf;fo.prototype.setText=fo.prototype.xd;fo.prototype.setTextAlign=fo.prototype.vj;fo.prototype.setTextBaseline=fo.prototype.hq;t("ol.source.BingMaps",xw);t("ol.source.BingMaps.TOS_ATTRIBUTION",yw);xw.prototype.getApiKey=xw.prototype.T;xw.prototype.getImagerySet=xw.prototype.fa;t("ol.source.CartoDB",Aw);Aw.prototype.getConfig=Aw.prototype.Kk;
Aw.prototype.updateConfig=Aw.prototype.tq;Aw.prototype.setConfig=Aw.prototype.Xp;t("ol.source.Cluster",Y);Y.prototype.getDistance=Y.prototype.$n;Y.prototype.getSource=Y.prototype.ao;Y.prototype.setDistance=Y.prototype.Yp;t("ol.source.Image",Hv);Jv.prototype.image=Jv.prototype.image;t("ol.source.ImageArcGISRest",Gw);Gw.prototype.getParams=Gw.prototype.co;Gw.prototype.getImageLoadFunction=Gw.prototype.bo;Gw.prototype.getUrl=Gw.prototype.eo;Gw.prototype.setImageLoadFunction=Gw.prototype.fo;
Gw.prototype.setUrl=Gw.prototype.ho;Gw.prototype.updateParams=Gw.prototype.io;t("ol.source.ImageCanvas",Ov);t("ol.source.ImageMapGuide",Hw);Hw.prototype.getParams=Hw.prototype.ko;Hw.prototype.getImageLoadFunction=Hw.prototype.jo;Hw.prototype.updateParams=Hw.prototype.mo;Hw.prototype.setImageLoadFunction=Hw.prototype.lo;t("ol.source.ImageStatic",Iw);t("ol.source.ImageVector",Pv);Pv.prototype.getSource=Pv.prototype.no;Pv.prototype.getStyle=Pv.prototype.oo;Pv.prototype.getStyleFunction=Pv.prototype.po;
Pv.prototype.setStyle=Pv.prototype.Ii;t("ol.source.ImageWMS",Jw);Jw.prototype.getGetFeatureInfoUrl=Jw.prototype.so;Jw.prototype.getParams=Jw.prototype.uo;Jw.prototype.getImageLoadFunction=Jw.prototype.to;Jw.prototype.getUrl=Jw.prototype.vo;Jw.prototype.setImageLoadFunction=Jw.prototype.wo;Jw.prototype.setUrl=Jw.prototype.xo;Jw.prototype.updateParams=Jw.prototype.yo;t("ol.source.OSM",Nw);t("ol.source.OSM.ATTRIBUTION",Ow);t("ol.source.Raster",Pw);Pw.prototype.setOperation=Pw.prototype.v;
Tw.prototype.extent=Tw.prototype.extent;Tw.prototype.resolution=Tw.prototype.resolution;Tw.prototype.data=Tw.prototype.data;t("ol.source.Source",$t);$t.prototype.getAttributions=$t.prototype.ya;$t.prototype.getLogo=$t.prototype.xa;$t.prototype.getProjection=$t.prototype.za;$t.prototype.getState=$t.prototype.getState;$t.prototype.refresh=$t.prototype.sa;$t.prototype.setAttributions=$t.prototype.ua;t("ol.source.Stamen",Ww);t("ol.source.Tile",pw);pw.prototype.getTileGrid=pw.prototype.ab;
sw.prototype.tile=sw.prototype.tile;t("ol.source.TileArcGISRest",$w);$w.prototype.getParams=$w.prototype.C;$w.prototype.updateParams=$w.prototype.B;t("ol.source.TileDebug",bx);t("ol.source.TileImage",X);X.prototype.setRenderReprojectionEdges=X.prototype.Pb;X.prototype.setTileGridForProjection=X.prototype.Qb;t("ol.source.TileJSON",dx);dx.prototype.getTileJSON=dx.prototype.pl;t("ol.source.TileUTFGrid",ex);ex.prototype.getTemplate=ex.prototype.ml;ex.prototype.forDataAtCoordinateAndResolution=ex.prototype.zk;
t("ol.source.TileWMS",ix);ix.prototype.getGetFeatureInfoUrl=ix.prototype.Fo;ix.prototype.getParams=ix.prototype.Go;ix.prototype.updateParams=ix.prototype.Ho;tw.prototype.getTileLoadFunction=tw.prototype.pb;tw.prototype.getTileUrlFunction=tw.prototype.qb;tw.prototype.getUrls=tw.prototype.rb;tw.prototype.setTileLoadFunction=tw.prototype.vb;tw.prototype.setTileUrlFunction=tw.prototype.cb;tw.prototype.setUrl=tw.prototype.jb;tw.prototype.setUrls=tw.prototype.eb;t("ol.source.Vector",U);
U.prototype.addFeature=U.prototype.yb;U.prototype.addFeatures=U.prototype.cd;U.prototype.clear=U.prototype.clear;U.prototype.forEachFeature=U.prototype.sh;U.prototype.forEachFeatureInExtent=U.prototype.$b;U.prototype.forEachFeatureIntersectingExtent=U.prototype.th;U.prototype.getFeaturesCollection=U.prototype.Ah;U.prototype.getFeatures=U.prototype.Xe;U.prototype.getFeaturesAtCoordinate=U.prototype.zh;U.prototype.getFeaturesInExtent=U.prototype.Uf;U.prototype.getClosestFeatureToCoordinate=U.prototype.vh;
U.prototype.getExtent=U.prototype.G;U.prototype.getFeatureById=U.prototype.yh;U.prototype.getFormat=U.prototype.Mi;U.prototype.getUrl=U.prototype.Ni;U.prototype.removeFeature=U.prototype.Gb;gu.prototype.feature=gu.prototype.feature;t("ol.source.VectorTile",qx);t("ol.source.WMTS",Z);Z.prototype.getDimensions=Z.prototype.Mk;Z.prototype.getFormat=Z.prototype.Io;Z.prototype.getLayer=Z.prototype.Jo;Z.prototype.getMatrixSet=Z.prototype.$k;Z.prototype.getRequestEncoding=Z.prototype.kl;
Z.prototype.getStyle=Z.prototype.Ko;Z.prototype.getVersion=Z.prototype.rl;Z.prototype.updateDimensions=Z.prototype.uq;
t("ol.source.WMTS.optionsFromCapabilities",function(a,b){var c=na(a.Contents.Layer,function(a){return a.Identifier==b.layer});if(null===c)return null;var d=a.Contents.TileMatrixSet;var e=1<c.TileMatrixSetLink.length?"projection"in b?sa(c.TileMatrixSetLink,function(a){var c=na(d,function(b){return b.Identifier==a.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),e=Tb(c),f=Tb(b.projection);return e&&f?dc(e,f):c==b.projection}):sa(c.TileMatrixSetLink,function(a){return a.TileMatrixSet==
b.matrixSet}):0;0>e&&(e=0);var f=c.TileMatrixSetLink[e].TileMatrixSet;var g=c.TileMatrixSetLink[e].TileMatrixSetLimits;var h=c.Format[0];"format"in b&&(h=b.format);e=sa(c.Style,function(a){return"style"in b?a.Title==b.style:a.isDefault});0>e&&(e=0);e=c.Style[e].Identifier;var l={};"Dimension"in c&&c.Dimension.forEach(function(a){var b=a.Identifier,c=a.Default;void 0===c&&(c=a.Value[0]);l[b]=c});var m=na(a.Contents.TileMatrixSet,function(a){return a.Identifier==f});var n="projection"in b?Tb(b.projection):
Tb(m.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var p=c.WGS84BoundingBox;if(void 0!==p){var q=Tb("EPSG:4326").G();q=p[0]==q[0]&&p[2]==q[2];var r=hc(p,"EPSG:4326",n);(p=n.G())&&(Va(p,r)||(r=void 0))}g=sx(m,r,g);var u=[],m=b.requestEncoding,m=void 0!==m?m:"";if("OperationsMetadata"in a&&"GetTile"in a.OperationsMetadata)for(a=a.OperationsMetadata.GetTile.DCP.HTTP.Get,r=0,p=a.length;r<p;++r){var x=na(a[r].Constraint,function(a){return"GetEncoding"==a.name}).AllowedValues.Value;
""===m&&(m=x[0]);if("KVP"===m)ja(x,"KVP")&&u.push(a[r].href);else break}u.length||(m="REST",c.ResourceURL.forEach(function(a){"tile"===a.resourceType&&(h=a.format,u.push(a.template))}));return{urls:u,layer:b.layer,matrixSet:f,format:h,projection:n,requestEncoding:m,tileGrid:g,style:e,dimensions:l,wrapX:q,crossOrigin:b.crossOrigin}});t("ol.source.XYZ",zw);t("ol.source.Zoomify",ux);Rh.prototype.vectorContext=Rh.prototype.vectorContext;Rh.prototype.frameState=Rh.prototype.frameState;
Rh.prototype.context=Rh.prototype.context;Rh.prototype.glContext=Rh.prototype.glContext;kq.prototype.get=kq.prototype.get;kq.prototype.getExtent=kq.prototype.G;kq.prototype.getId=kq.prototype.Wn;kq.prototype.getGeometry=kq.prototype.V;kq.prototype.getProperties=kq.prototype.Xn;kq.prototype.getType=kq.prototype.U;t("ol.render.VectorContext",Wh);kk.prototype.setStyle=kk.prototype.rd;kk.prototype.drawGeometry=kk.prototype.zb;kk.prototype.drawFeature=kk.prototype.te;Xh.prototype.drawCircle=Xh.prototype.Zb;
Xh.prototype.setStyle=Xh.prototype.rd;Xh.prototype.drawGeometry=Xh.prototype.zb;Xh.prototype.drawFeature=Xh.prototype.te;t("ol.proj.common.add",ic);t("ol.proj.Projection",Bb);Bb.prototype.getCode=Bb.prototype.Jk;Bb.prototype.getExtent=Bb.prototype.G;Bb.prototype.getUnits=Bb.prototype.Un;Bb.prototype.getMetersPerUnit=Bb.prototype.sc;Bb.prototype.getWorldExtent=Bb.prototype.tl;Bb.prototype.isGlobal=Bb.prototype.dm;Bb.prototype.setGlobal=Bb.prototype.$p;Bb.prototype.setExtent=Bb.prototype.Vn;
Bb.prototype.setWorldExtent=Bb.prototype.kq;Bb.prototype.setGetPointResolution=Bb.prototype.Zp;t("ol.proj.Units.METERS_PER_UNIT",zb);t("ol.layer.Base",sh);sh.prototype.getExtent=sh.prototype.G;sh.prototype.getMaxResolution=sh.prototype.fc;sh.prototype.getMinResolution=sh.prototype.gc;sh.prototype.getOpacity=sh.prototype.hc;sh.prototype.getVisible=sh.prototype.Mb;sh.prototype.getZIndex=sh.prototype.Ba;sh.prototype.setExtent=sh.prototype.vc;sh.prototype.setMaxResolution=sh.prototype.Ac;
sh.prototype.setMinResolution=sh.prototype.Bc;sh.prototype.setOpacity=sh.prototype.wc;sh.prototype.setVisible=sh.prototype.xc;sh.prototype.setZIndex=sh.prototype.Vb;t("ol.layer.Group",uh);uh.prototype.getLayers=uh.prototype.qd;uh.prototype.setLayers=uh.prototype.xi;t("ol.layer.Heatmap",V);V.prototype.getBlur=V.prototype.uh;V.prototype.getGradient=V.prototype.Bh;V.prototype.getRadius=V.prototype.yi;V.prototype.setBlur=V.prototype.jj;V.prototype.setGradient=V.prototype.pj;V.prototype.setRadius=V.prototype.Uc;
t("ol.layer.Image",Uv);Uv.prototype.getSource=Uv.prototype.ha;t("ol.layer.Layer",wh);wh.prototype.getSource=wh.prototype.ha;wh.prototype.setMap=wh.prototype.setMap;wh.prototype.setSource=wh.prototype.Wc;t("ol.layer.Tile",cw);cw.prototype.getPreload=cw.prototype.Ud;cw.prototype.getSource=cw.prototype.ha;cw.prototype.setPreload=cw.prototype.zi;cw.prototype.getUseInterimTilesOnError=cw.prototype.kd;cw.prototype.setUseInterimTilesOnError=cw.prototype.Ai;t("ol.layer.Vector",T);T.prototype.getSource=T.prototype.ha;
T.prototype.getStyle=T.prototype.D;T.prototype.getStyleFunction=T.prototype.C;T.prototype.setStyle=T.prototype.g;t("ol.layer.VectorTile",W);W.prototype.getPreload=W.prototype.Ud;W.prototype.getUseInterimTilesOnError=W.prototype.kd;W.prototype.setPreload=W.prototype.Bi;W.prototype.setUseInterimTilesOnError=W.prototype.Ci;t("ol.interaction.DoubleClickZoom",rg);t("ol.interaction.DoubleClickZoom.handleEvent",sg);t("ol.interaction.DragAndDrop",Rs);t("ol.interaction.DragAndDrop.handleEvent",mf);
Us.prototype.features=Us.prototype.features;Us.prototype.file=Us.prototype.file;Us.prototype.projection=Us.prototype.projection;t("ol.interaction.DragBox",Rg);Rg.prototype.getGeometry=Rg.prototype.V;Wg.prototype.coordinate=Wg.prototype.coordinate;Wg.prototype.mapBrowserEvent=Wg.prototype.mapBrowserEvent;t("ol.interaction.DragPan",Gg);t("ol.interaction.DragRotate",Kg);t("ol.interaction.DragRotateAndZoom",Ys);t("ol.interaction.DragZoom",$g);t("ol.interaction.Draw",ju);
t("ol.interaction.Draw.handleEvent",lu);ju.prototype.removeLastPoint=ju.prototype.Op;ju.prototype.finishDrawing=ju.prototype.Pd;ju.prototype.extend=ju.prototype.vn;t("ol.interaction.Draw.createRegularPolygon",function(a,b){return function(c,d){var e=c[0];c=c[1];var f=Math.sqrt(hf(e,c));d=d?d:Zf(new ys(e),a);$f(d,e,f,b?b:Math.atan((c[1]-e[1])/(c[0]-e[0])));return d}});
t("ol.interaction.Draw.createBox",function(){return function(a,b){a=Na(a);b=b||new D(null);b.ma([[eb(a),gb(a),hb(a),ib(a),eb(a)]]);return b}});zu.prototype.feature=zu.prototype.feature;t("ol.interaction.Extent",Au);Au.prototype.getExtent=Au.prototype.G;Au.prototype.setExtent=Au.prototype.g;Lu.prototype.extent_=Lu.prototype.b;t("ol.interaction.Interaction",ng);ng.prototype.getActive=ng.prototype.c;ng.prototype.getMap=ng.prototype.f;ng.prototype.setActive=ng.prototype.Ha;
t("ol.interaction.KeyboardPan",ah);t("ol.interaction.KeyboardPan.handleEvent",bh);t("ol.interaction.KeyboardZoom",ch);t("ol.interaction.KeyboardZoom.handleEvent",dh);t("ol.interaction.Modify",Nu);t("ol.interaction.Modify.handleEvent",Qu);Nu.prototype.removePoint=Nu.prototype.hj;Vu.prototype.features=Vu.prototype.features;Vu.prototype.mapBrowserEvent=Vu.prototype.mapBrowserEvent;t("ol.interaction.MouseWheelZoom",eh);t("ol.interaction.MouseWheelZoom.handleEvent",fh);eh.prototype.setMouseAnchor=eh.prototype.T;
t("ol.interaction.PinchRotate",ih);t("ol.interaction.PinchZoom",mh);t("ol.interaction.Pointer",Dg);t("ol.interaction.Pointer.handleEvent",Eg);t("ol.interaction.Select",cv);cv.prototype.getFeatures=cv.prototype.Gn;cv.prototype.getHitTolerance=cv.prototype.Hn;cv.prototype.getLayer=cv.prototype.In;t("ol.interaction.Select.handleEvent",dv);cv.prototype.setHitTolerance=cv.prototype.Kn;cv.prototype.setMap=cv.prototype.setMap;fv.prototype.selected=fv.prototype.selected;fv.prototype.deselected=fv.prototype.deselected;
fv.prototype.mapBrowserEvent=fv.prototype.mapBrowserEvent;t("ol.interaction.Snap",hv);hv.prototype.addFeature=hv.prototype.yb;hv.prototype.removeFeature=hv.prototype.Gb;t("ol.interaction.Translate",mv);mv.prototype.getHitTolerance=mv.prototype.B;mv.prototype.setHitTolerance=mv.prototype.I;sv.prototype.features=sv.prototype.features;sv.prototype.coordinate=sv.prototype.coordinate;t("ol.geom.Circle",ys);ys.prototype.clone=ys.prototype.clone;ys.prototype.getCenter=ys.prototype.wa;
ys.prototype.getRadius=ys.prototype.pd;ys.prototype.getType=ys.prototype.U;ys.prototype.intersectsExtent=ys.prototype.Xa;ys.prototype.setCenter=ys.prototype.ob;ys.prototype.setCenterAndRadius=ys.prototype.Ng;ys.prototype.setRadius=ys.prototype.Uc;ys.prototype.transform=ys.prototype.tb;t("ol.geom.Geometry",of);of.prototype.getClosestPoint=of.prototype.Ab;of.prototype.intersectsCoordinate=of.prototype.sb;of.prototype.getExtent=of.prototype.G;of.prototype.rotate=of.prototype.rotate;
of.prototype.scale=of.prototype.scale;of.prototype.simplify=of.prototype.Rb;of.prototype.transform=of.prototype.tb;t("ol.geom.GeometryCollection",tm);tm.prototype.clone=tm.prototype.clone;tm.prototype.getGeometries=tm.prototype.Vf;tm.prototype.getType=tm.prototype.U;tm.prototype.intersectsExtent=tm.prototype.Xa;tm.prototype.setGeometries=tm.prototype.oj;tm.prototype.applyTransform=tm.prototype.Dc;tm.prototype.translate=tm.prototype.translate;t("ol.geom.LinearRing",Jf);Jf.prototype.clone=Jf.prototype.clone;
Jf.prototype.getArea=Jf.prototype.qn;Jf.prototype.getCoordinates=Jf.prototype.X;Jf.prototype.getType=Jf.prototype.U;Jf.prototype.setCoordinates=Jf.prototype.ma;t("ol.geom.LineString",O);O.prototype.appendCoordinate=O.prototype.mk;O.prototype.clone=O.prototype.clone;O.prototype.forEachSegment=O.prototype.Ck;O.prototype.getCoordinateAtM=O.prototype.nn;O.prototype.getCoordinates=O.prototype.X;O.prototype.getCoordinateAt=O.prototype.wh;O.prototype.getLength=O.prototype.pn;O.prototype.getType=O.prototype.U;
O.prototype.intersectsExtent=O.prototype.Xa;O.prototype.setCoordinates=O.prototype.ma;t("ol.geom.MultiLineString",P);P.prototype.appendLineString=P.prototype.nk;P.prototype.clone=P.prototype.clone;P.prototype.getCoordinateAtM=P.prototype.rn;P.prototype.getCoordinates=P.prototype.X;P.prototype.getLineString=P.prototype.Yk;P.prototype.getLineStrings=P.prototype.gd;P.prototype.getType=P.prototype.U;P.prototype.intersectsExtent=P.prototype.Xa;P.prototype.setCoordinates=P.prototype.ma;
t("ol.geom.MultiPoint",Q);Q.prototype.appendPoint=Q.prototype.qk;Q.prototype.clone=Q.prototype.clone;Q.prototype.getCoordinates=Q.prototype.X;Q.prototype.getPoint=Q.prototype.il;Q.prototype.getPoints=Q.prototype.Zd;Q.prototype.getType=Q.prototype.U;Q.prototype.intersectsExtent=Q.prototype.Xa;Q.prototype.setCoordinates=Q.prototype.ma;t("ol.geom.MultiPolygon",R);R.prototype.appendPolygon=R.prototype.rk;R.prototype.clone=R.prototype.clone;R.prototype.getArea=R.prototype.sn;
R.prototype.getCoordinates=R.prototype.X;R.prototype.getInteriorPoints=R.prototype.Uk;R.prototype.getPolygon=R.prototype.jl;R.prototype.getPolygons=R.prototype.Td;R.prototype.getType=R.prototype.U;R.prototype.intersectsExtent=R.prototype.Xa;R.prototype.setCoordinates=R.prototype.ma;t("ol.geom.Point",C);C.prototype.clone=C.prototype.clone;C.prototype.getCoordinates=C.prototype.X;C.prototype.getType=C.prototype.U;C.prototype.intersectsExtent=C.prototype.Xa;C.prototype.setCoordinates=C.prototype.ma;
t("ol.geom.Polygon",D);D.prototype.appendLinearRing=D.prototype.pk;D.prototype.clone=D.prototype.clone;D.prototype.getArea=D.prototype.tn;D.prototype.getCoordinates=D.prototype.X;D.prototype.getInteriorPoint=D.prototype.Tk;D.prototype.getLinearRingCount=D.prototype.Zk;D.prototype.getLinearRing=D.prototype.Ch;D.prototype.getLinearRings=D.prototype.Sd;D.prototype.getType=D.prototype.U;D.prototype.intersectsExtent=D.prototype.Xa;D.prototype.setCoordinates=D.prototype.ma;
t("ol.geom.Polygon.circular",Xf);t("ol.geom.Polygon.fromExtent",Yf);t("ol.geom.Polygon.fromCircle",Zf);t("ol.geom.SimpleGeometry",rf);rf.prototype.getFirstCoordinate=rf.prototype.ac;rf.prototype.getLastCoordinate=rf.prototype.bc;rf.prototype.getLayout=rf.prototype.cc;rf.prototype.applyTransform=rf.prototype.Dc;rf.prototype.translate=rf.prototype.translate;t("ol.format.EsriJSON",Ql);Ql.prototype.readFeature=Ql.prototype.Tb;Ql.prototype.readFeatures=Ql.prototype.Oa;Ql.prototype.readGeometry=Ql.prototype.Sc;
Ql.prototype.readProjection=Ql.prototype.kb;Ql.prototype.writeGeometry=Ql.prototype.$c;Ql.prototype.writeGeometryObject=Ql.prototype.je;Ql.prototype.writeFeature=Ql.prototype.Bd;Ql.prototype.writeFeatureObject=Ql.prototype.Zc;Ql.prototype.writeFeatures=Ql.prototype.Wb;Ql.prototype.writeFeaturesObject=Ql.prototype.he;t("ol.format.Feature",El);t("ol.format.filter.and",rm);
t("ol.format.filter.or",function(a){var b=[null].concat(Array.prototype.slice.call(arguments));return new (Function.prototype.bind.apply(pm,b))});t("ol.format.filter.not",function(a){return new nm(a)});t("ol.format.filter.bbox",sm);t("ol.format.filter.intersects",function(a,b,c){return new hm(a,b,c)});t("ol.format.filter.within",function(a,b,c){return new qm(a,b,c)});t("ol.format.filter.equalTo",function(a,b,c){return new dm(a,b,c)});
t("ol.format.filter.notEqualTo",function(a,b,c){return new om(a,b,c)});t("ol.format.filter.lessThan",function(a,b){return new lm(a,b)});t("ol.format.filter.lessThanOrEqualTo",function(a,b){return new mm(a,b)});t("ol.format.filter.greaterThan",function(a,b){return new em(a,b)});t("ol.format.filter.greaterThanOrEqualTo",function(a,b){return new fm(a,b)});t("ol.format.filter.isNull",function(a){return new km(a)});t("ol.format.filter.between",function(a,b,c){return new im(a,b,c)});
t("ol.format.filter.like",function(a,b,c,d,e,f){return new jm(a,b,c,d,e,f)});t("ol.format.filter.during",function(a,b,c){return new bm(a,b,c)});t("ol.format.GeoJSON",xm);xm.prototype.readFeature=xm.prototype.Tb;xm.prototype.readFeatures=xm.prototype.Oa;xm.prototype.readGeometry=xm.prototype.Sc;xm.prototype.readProjection=xm.prototype.kb;xm.prototype.writeFeature=xm.prototype.Bd;xm.prototype.writeFeatureObject=xm.prototype.Zc;xm.prototype.writeFeatures=xm.prototype.Wb;
xm.prototype.writeFeaturesObject=xm.prototype.he;xm.prototype.writeGeometry=xm.prototype.$c;xm.prototype.writeGeometryObject=xm.prototype.je;t("ol.format.GML",Sm);Sm.prototype.writeFeatures=Sm.prototype.Wb;Sm.prototype.writeFeaturesNode=Sm.prototype.Xb;t("ol.format.GML2",an);t("ol.format.GML3",Sm);Sm.prototype.writeGeometryNode=Sm.prototype.ie;Sm.prototype.writeFeatures=Sm.prototype.Wb;Sm.prototype.writeFeaturesNode=Sm.prototype.Xb;Fm.prototype.readFeatures=Fm.prototype.Oa;t("ol.format.GPX",mn);
mn.prototype.readFeature=mn.prototype.Tb;mn.prototype.readFeatures=mn.prototype.Oa;mn.prototype.readProjection=mn.prototype.kb;mn.prototype.writeFeatures=mn.prototype.Wb;mn.prototype.writeFeaturesNode=mn.prototype.Xb;t("ol.format.IGC",Xn);Xn.prototype.readFeature=Xn.prototype.Tb;Xn.prototype.readFeatures=Xn.prototype.Oa;Xn.prototype.readProjection=Xn.prototype.kb;t("ol.format.KML",go);go.prototype.readFeature=go.prototype.Tb;go.prototype.readFeatures=go.prototype.Oa;go.prototype.readName=go.prototype.Cp;
go.prototype.readNetworkLinks=go.prototype.Dp;go.prototype.readRegion=go.prototype.Gp;go.prototype.readRegionFromNode=go.prototype.lf;go.prototype.readProjection=go.prototype.kb;go.prototype.writeFeatures=go.prototype.Wb;go.prototype.writeFeaturesNode=go.prototype.Xb;t("ol.format.MVT",lq);lq.prototype.readFeatures=lq.prototype.Oa;lq.prototype.readProjection=lq.prototype.kb;lq.prototype.setLayers=lq.prototype.mn;t("ol.format.OSMXML",nq);nq.prototype.readFeatures=nq.prototype.Oa;
nq.prototype.readProjection=nq.prototype.kb;t("ol.format.Polyline",Nq);t("ol.format.Polyline.encodeDeltas",Oq);t("ol.format.Polyline.decodeDeltas",Qq);t("ol.format.Polyline.encodeFloats",Pq);t("ol.format.Polyline.decodeFloats",Rq);Nq.prototype.readFeature=Nq.prototype.Tb;Nq.prototype.readFeatures=Nq.prototype.Oa;Nq.prototype.readGeometry=Nq.prototype.Sc;Nq.prototype.readProjection=Nq.prototype.kb;Nq.prototype.writeGeometry=Nq.prototype.$c;t("ol.format.TopoJSON",Sq);Sq.prototype.readFeatures=Sq.prototype.Oa;
Sq.prototype.readProjection=Sq.prototype.kb;t("ol.format.WFS",Yq);Yq.prototype.readFeatures=Yq.prototype.Oa;Yq.prototype.readTransactionResponse=Yq.prototype.j;Yq.prototype.readFeatureCollectionMetadata=Yq.prototype.g;t("ol.format.WFS.writeFilter",function(a){var b=jl("http://www.opengis.net/ogc","Filter");Bl({node:b},mr,wl(a.kc),[a],[]);return b});Yq.prototype.writeGetFeature=Yq.prototype.l;Yq.prototype.writeTransaction=Yq.prototype.v;Yq.prototype.readProjection=Yq.prototype.kb;
t("ol.format.WKT",sr);sr.prototype.readFeature=sr.prototype.Tb;sr.prototype.readFeatures=sr.prototype.Oa;sr.prototype.readGeometry=sr.prototype.Sc;sr.prototype.writeFeature=sr.prototype.Bd;sr.prototype.writeFeatures=sr.prototype.Wb;sr.prototype.writeGeometry=sr.prototype.$c;t("ol.format.WMSCapabilities",Lr);Lr.prototype.read=Lr.prototype.read;t("ol.format.WMSGetFeatureInfo",hs);hs.prototype.readFeatures=hs.prototype.Oa;t("ol.format.WMTSCapabilities",is);is.prototype.read=is.prototype.read;
t("ol.format.filter.And",Zl);t("ol.format.filter.Bbox",$l);t("ol.format.filter.Comparison",am);t("ol.format.filter.ComparisonBinary",cm);t("ol.format.filter.During",bm);t("ol.format.filter.EqualTo",dm);t("ol.format.filter.Filter",Xl);t("ol.format.filter.GreaterThan",em);t("ol.format.filter.GreaterThanOrEqualTo",fm);t("ol.format.filter.Intersects",hm);t("ol.format.filter.IsBetween",im);t("ol.format.filter.IsLike",jm);t("ol.format.filter.IsNull",km);t("ol.format.filter.LessThan",lm);
t("ol.format.filter.LessThanOrEqualTo",mm);t("ol.format.filter.Not",nm);t("ol.format.filter.NotEqualTo",om);t("ol.format.filter.Or",pm);t("ol.format.filter.Spatial",gm);t("ol.format.filter.Within",qm);t("ol.events.condition.altKeyOnly",function(a){a=a.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey});t("ol.events.condition.altShiftKeysOnly",tg);t("ol.events.condition.always",mf);t("ol.events.condition.click",function(a){return"click"==a.type});t("ol.events.condition.never",nf);
t("ol.events.condition.pointerMove",vg);t("ol.events.condition.singleClick",wg);t("ol.events.condition.doubleClick",function(a){return"dblclick"==a.type});t("ol.events.condition.noModifierKeys",xg);t("ol.events.condition.platformModifierKeyOnly",function(a){a=a.originalEvent;return!a.altKey&&(Rd?a.metaKey:a.ctrlKey)&&!a.shiftKey});t("ol.events.condition.shiftKeyOnly",yg);t("ol.events.condition.targetNotEditable",Ag);t("ol.events.condition.mouseOnly",Bg);t("ol.events.condition.primaryAction",Cg);
Oc.prototype.type=Oc.prototype.type;Oc.prototype.target=Oc.prototype.target;Oc.prototype.preventDefault=Oc.prototype.preventDefault;Oc.prototype.stopPropagation=Oc.prototype.stopPropagation;t("ol.control.Attribution",nd);t("ol.control.Attribution.render",od);nd.prototype.getCollapsible=nd.prototype.Um;nd.prototype.setCollapsible=nd.prototype.Xm;nd.prototype.setCollapsed=nd.prototype.Wm;nd.prototype.getCollapsed=nd.prototype.Tm;t("ol.control.Control",md);md.prototype.getMap=md.prototype.g;
md.prototype.setMap=md.prototype.setMap;md.prototype.setTarget=md.prototype.f;t("ol.control.FullScreen",yd);t("ol.control.MousePosition",Dd);t("ol.control.MousePosition.render",Ed);Dd.prototype.getCoordinateFormat=Dd.prototype.xh;Dd.prototype.getProjection=Dd.prototype.Zh;Dd.prototype.setCoordinateFormat=Dd.prototype.kj;Dd.prototype.setProjection=Dd.prototype.$h;t("ol.control.OverviewMap",Bk);t("ol.control.OverviewMap.render",Ck);Bk.prototype.getCollapsible=Bk.prototype.$m;
Bk.prototype.setCollapsible=Bk.prototype.cn;Bk.prototype.setCollapsed=Bk.prototype.bn;Bk.prototype.getCollapsed=Bk.prototype.Zm;Bk.prototype.getOverviewMap=Bk.prototype.gl;t("ol.control.Rotate",ud);t("ol.control.Rotate.render",vd);t("ol.control.ScaleLine",Gk);Gk.prototype.getUnits=Gk.prototype.C;t("ol.control.ScaleLine.render",Hk);Gk.prototype.setUnits=Gk.prototype.I;t("ol.control.Zoom",wd);t("ol.control.ZoomSlider",Lk);t("ol.control.ZoomSlider.render",Nk);t("ol.control.ZoomToExtent",Qk);
Tc.prototype.changed=Tc.prototype.s;Tc.prototype.dispatchEvent=Tc.prototype.b;Tc.prototype.getRevision=Tc.prototype.L;Tc.prototype.on=Tc.prototype.J;Tc.prototype.once=Tc.prototype.once;Tc.prototype.un=Tc.prototype.K;Yc.prototype.get=Yc.prototype.get;Yc.prototype.getKeys=Yc.prototype.O;Yc.prototype.getProperties=Yc.prototype.N;Yc.prototype.set=Yc.prototype.set;Yc.prototype.setProperties=Yc.prototype.H;Yc.prototype.unset=Yc.prototype.P;Yc.prototype.changed=Yc.prototype.s;
Yc.prototype.dispatchEvent=Yc.prototype.b;Yc.prototype.getRevision=Yc.prototype.L;Yc.prototype.on=Yc.prototype.J;Yc.prototype.once=Yc.prototype.once;Yc.prototype.un=Yc.prototype.K;bd.prototype.type=bd.prototype.type;bd.prototype.target=bd.prototype.target;bd.prototype.preventDefault=bd.prototype.preventDefault;bd.prototype.stopPropagation=bd.prototype.stopPropagation;Rk.prototype.get=Rk.prototype.get;Rk.prototype.getKeys=Rk.prototype.O;Rk.prototype.getProperties=Rk.prototype.N;Rk.prototype.set=Rk.prototype.set;
Rk.prototype.setProperties=Rk.prototype.H;Rk.prototype.unset=Rk.prototype.P;Rk.prototype.changed=Rk.prototype.s;Rk.prototype.dispatchEvent=Rk.prototype.b;Rk.prototype.getRevision=Rk.prototype.L;Rk.prototype.on=Rk.prototype.J;Rk.prototype.once=Rk.prototype.once;Rk.prototype.un=Rk.prototype.K;H.prototype.get=H.prototype.get;H.prototype.getKeys=H.prototype.O;H.prototype.getProperties=H.prototype.N;H.prototype.set=H.prototype.set;H.prototype.setProperties=H.prototype.H;H.prototype.unset=H.prototype.P;
H.prototype.changed=H.prototype.s;H.prototype.dispatchEvent=H.prototype.b;H.prototype.getRevision=H.prototype.L;H.prototype.on=H.prototype.J;H.prototype.once=H.prototype.once;H.prototype.un=H.prototype.K;xs.prototype.get=xs.prototype.get;xs.prototype.getKeys=xs.prototype.O;xs.prototype.getProperties=xs.prototype.N;xs.prototype.set=xs.prototype.set;xs.prototype.setProperties=xs.prototype.H;xs.prototype.unset=xs.prototype.P;xs.prototype.changed=xs.prototype.s;xs.prototype.dispatchEvent=xs.prototype.b;
xs.prototype.getRevision=xs.prototype.L;xs.prototype.on=xs.prototype.J;xs.prototype.once=xs.prototype.once;xs.prototype.un=xs.prototype.K;Os.prototype.getTileCoord=Os.prototype.f;Os.prototype.load=Os.prototype.load;G.prototype.get=G.prototype.get;G.prototype.getKeys=G.prototype.O;G.prototype.getProperties=G.prototype.N;G.prototype.set=G.prototype.set;G.prototype.setProperties=G.prototype.H;G.prototype.unset=G.prototype.P;G.prototype.changed=G.prototype.s;G.prototype.dispatchEvent=G.prototype.b;
G.prototype.getRevision=G.prototype.L;G.prototype.on=G.prototype.J;G.prototype.once=G.prototype.once;G.prototype.un=G.prototype.K;Id.prototype.type=Id.prototype.type;Id.prototype.target=Id.prototype.target;Id.prototype.preventDefault=Id.prototype.preventDefault;Id.prototype.stopPropagation=Id.prototype.stopPropagation;Jd.prototype.map=Jd.prototype.map;Jd.prototype.frameState=Jd.prototype.frameState;Jd.prototype.type=Jd.prototype.type;Jd.prototype.target=Jd.prototype.target;
Jd.prototype.preventDefault=Jd.prototype.preventDefault;Jd.prototype.stopPropagation=Jd.prototype.stopPropagation;ee.prototype.originalEvent=ee.prototype.originalEvent;ee.prototype.pixel=ee.prototype.pixel;ee.prototype.coordinate=ee.prototype.coordinate;ee.prototype.dragging=ee.prototype.dragging;ee.prototype.preventDefault=ee.prototype.preventDefault;ee.prototype.stopPropagation=ee.prototype.stopPropagation;ee.prototype.map=ee.prototype.map;ee.prototype.frameState=ee.prototype.frameState;
ee.prototype.type=ee.prototype.type;ee.prototype.target=ee.prototype.target;Xc.prototype.type=Xc.prototype.type;Xc.prototype.target=Xc.prototype.target;Xc.prototype.preventDefault=Xc.prototype.preventDefault;Xc.prototype.stopPropagation=Xc.prototype.stopPropagation;sk.prototype.get=sk.prototype.get;sk.prototype.getKeys=sk.prototype.O;sk.prototype.getProperties=sk.prototype.N;sk.prototype.set=sk.prototype.set;sk.prototype.setProperties=sk.prototype.H;sk.prototype.unset=sk.prototype.P;
sk.prototype.changed=sk.prototype.s;sk.prototype.dispatchEvent=sk.prototype.b;sk.prototype.getRevision=sk.prototype.L;sk.prototype.on=sk.prototype.J;sk.prototype.once=sk.prototype.once;sk.prototype.un=sk.prototype.K;nx.prototype.getTileCoord=nx.prototype.f;nx.prototype.load=nx.prototype.load;px.prototype.getTileCoord=px.prototype.f;px.prototype.load=px.prototype.load;F.prototype.get=F.prototype.get;F.prototype.getKeys=F.prototype.O;F.prototype.getProperties=F.prototype.N;F.prototype.set=F.prototype.set;
F.prototype.setProperties=F.prototype.H;F.prototype.unset=F.prototype.P;F.prototype.changed=F.prototype.s;F.prototype.dispatchEvent=F.prototype.b;F.prototype.getRevision=F.prototype.L;F.prototype.on=F.prototype.J;F.prototype.once=F.prototype.once;F.prototype.un=F.prototype.K;rx.prototype.forEachTileCoord=rx.prototype.Rf;rx.prototype.getMaxZoom=rx.prototype.Ti;rx.prototype.getMinZoom=rx.prototype.Ui;rx.prototype.getOrigin=rx.prototype.Pc;rx.prototype.getResolution=rx.prototype.Da;
rx.prototype.getResolutions=rx.prototype.Vi;rx.prototype.getTileCoordExtent=rx.prototype.Aa;rx.prototype.getTileCoordForCoordAndResolution=rx.prototype.Be;rx.prototype.getTileCoordForCoordAndZ=rx.prototype.bg;rx.prototype.getTileSize=rx.prototype.gb;rx.prototype.getZForResolution=rx.prototype.tc;Yk.prototype.getOpacity=Yk.prototype.Ze;Yk.prototype.getRotateWithView=Yk.prototype.$e;Yk.prototype.getRotation=Yk.prototype.af;Yk.prototype.getScale=Yk.prototype.bf;Yk.prototype.getSnapToPixel=Yk.prototype.Ae;
Yk.prototype.setOpacity=Yk.prototype.td;Yk.prototype.setRotation=Yk.prototype.cf;Yk.prototype.setScale=Yk.prototype.ud;$k.prototype.clone=$k.prototype.clone;$k.prototype.getAngle=$k.prototype.Pi;$k.prototype.getFill=$k.prototype.Fa;$k.prototype.getPoints=$k.prototype.Qi;$k.prototype.getRadius=$k.prototype.Ri;$k.prototype.getRadius2=$k.prototype.Fh;$k.prototype.getStroke=$k.prototype.Ga;$k.prototype.getOpacity=$k.prototype.Ze;$k.prototype.getRotateWithView=$k.prototype.$e;
$k.prototype.getRotation=$k.prototype.af;$k.prototype.getScale=$k.prototype.bf;$k.prototype.getSnapToPixel=$k.prototype.Ae;$k.prototype.setOpacity=$k.prototype.td;$k.prototype.setRotation=$k.prototype.cf;$k.prototype.setScale=$k.prototype.ud;eo.prototype.getOpacity=eo.prototype.Ze;eo.prototype.getRotateWithView=eo.prototype.$e;eo.prototype.getRotation=eo.prototype.af;eo.prototype.getScale=eo.prototype.bf;eo.prototype.getSnapToPixel=eo.prototype.Ae;eo.prototype.setOpacity=eo.prototype.td;
eo.prototype.setRotation=eo.prototype.cf;eo.prototype.setScale=eo.prototype.ud;$t.prototype.get=$t.prototype.get;$t.prototype.getKeys=$t.prototype.O;$t.prototype.getProperties=$t.prototype.N;$t.prototype.set=$t.prototype.set;$t.prototype.setProperties=$t.prototype.H;$t.prototype.unset=$t.prototype.P;$t.prototype.changed=$t.prototype.s;$t.prototype.dispatchEvent=$t.prototype.b;$t.prototype.getRevision=$t.prototype.L;$t.prototype.on=$t.prototype.J;$t.prototype.once=$t.prototype.once;
$t.prototype.un=$t.prototype.K;pw.prototype.getAttributions=pw.prototype.ya;pw.prototype.getLogo=pw.prototype.xa;pw.prototype.getProjection=pw.prototype.za;pw.prototype.getState=pw.prototype.getState;pw.prototype.refresh=pw.prototype.sa;pw.prototype.setAttributions=pw.prototype.ua;pw.prototype.get=pw.prototype.get;pw.prototype.getKeys=pw.prototype.O;pw.prototype.getProperties=pw.prototype.N;pw.prototype.set=pw.prototype.set;pw.prototype.setProperties=pw.prototype.H;pw.prototype.unset=pw.prototype.P;
pw.prototype.changed=pw.prototype.s;pw.prototype.dispatchEvent=pw.prototype.b;pw.prototype.getRevision=pw.prototype.L;pw.prototype.on=pw.prototype.J;pw.prototype.once=pw.prototype.once;pw.prototype.un=pw.prototype.K;tw.prototype.getTileGrid=tw.prototype.ab;tw.prototype.refresh=tw.prototype.sa;tw.prototype.getAttributions=tw.prototype.ya;tw.prototype.getLogo=tw.prototype.xa;tw.prototype.getProjection=tw.prototype.za;tw.prototype.getState=tw.prototype.getState;tw.prototype.setAttributions=tw.prototype.ua;
tw.prototype.get=tw.prototype.get;tw.prototype.getKeys=tw.prototype.O;tw.prototype.getProperties=tw.prototype.N;tw.prototype.set=tw.prototype.set;tw.prototype.setProperties=tw.prototype.H;tw.prototype.unset=tw.prototype.P;tw.prototype.changed=tw.prototype.s;tw.prototype.dispatchEvent=tw.prototype.b;tw.prototype.getRevision=tw.prototype.L;tw.prototype.on=tw.prototype.J;tw.prototype.once=tw.prototype.once;tw.prototype.un=tw.prototype.K;X.prototype.getTileLoadFunction=X.prototype.pb;
X.prototype.getTileUrlFunction=X.prototype.qb;X.prototype.getUrls=X.prototype.rb;X.prototype.setTileLoadFunction=X.prototype.vb;X.prototype.setTileUrlFunction=X.prototype.cb;X.prototype.setUrl=X.prototype.jb;X.prototype.setUrls=X.prototype.eb;X.prototype.getTileGrid=X.prototype.ab;X.prototype.refresh=X.prototype.sa;X.prototype.getAttributions=X.prototype.ya;X.prototype.getLogo=X.prototype.xa;X.prototype.getProjection=X.prototype.za;X.prototype.getState=X.prototype.getState;
X.prototype.setAttributions=X.prototype.ua;X.prototype.get=X.prototype.get;X.prototype.getKeys=X.prototype.O;X.prototype.getProperties=X.prototype.N;X.prototype.set=X.prototype.set;X.prototype.setProperties=X.prototype.H;X.prototype.unset=X.prototype.P;X.prototype.changed=X.prototype.s;X.prototype.dispatchEvent=X.prototype.b;X.prototype.getRevision=X.prototype.L;X.prototype.on=X.prototype.J;X.prototype.once=X.prototype.once;X.prototype.un=X.prototype.K;xw.prototype.setRenderReprojectionEdges=xw.prototype.Pb;
xw.prototype.setTileGridForProjection=xw.prototype.Qb;xw.prototype.getTileLoadFunction=xw.prototype.pb;xw.prototype.getTileUrlFunction=xw.prototype.qb;xw.prototype.getUrls=xw.prototype.rb;xw.prototype.setTileLoadFunction=xw.prototype.vb;xw.prototype.setTileUrlFunction=xw.prototype.cb;xw.prototype.setUrl=xw.prototype.jb;xw.prototype.setUrls=xw.prototype.eb;xw.prototype.getTileGrid=xw.prototype.ab;xw.prototype.refresh=xw.prototype.sa;xw.prototype.getAttributions=xw.prototype.ya;
xw.prototype.getLogo=xw.prototype.xa;xw.prototype.getProjection=xw.prototype.za;xw.prototype.getState=xw.prototype.getState;xw.prototype.setAttributions=xw.prototype.ua;xw.prototype.get=xw.prototype.get;xw.prototype.getKeys=xw.prototype.O;xw.prototype.getProperties=xw.prototype.N;xw.prototype.set=xw.prototype.set;xw.prototype.setProperties=xw.prototype.H;xw.prototype.unset=xw.prototype.P;xw.prototype.changed=xw.prototype.s;xw.prototype.dispatchEvent=xw.prototype.b;xw.prototype.getRevision=xw.prototype.L;
xw.prototype.on=xw.prototype.J;xw.prototype.once=xw.prototype.once;xw.prototype.un=xw.prototype.K;zw.prototype.setRenderReprojectionEdges=zw.prototype.Pb;zw.prototype.setTileGridForProjection=zw.prototype.Qb;zw.prototype.getTileLoadFunction=zw.prototype.pb;zw.prototype.getTileUrlFunction=zw.prototype.qb;zw.prototype.getUrls=zw.prototype.rb;zw.prototype.setTileLoadFunction=zw.prototype.vb;zw.prototype.setTileUrlFunction=zw.prototype.cb;zw.prototype.setUrl=zw.prototype.jb;zw.prototype.setUrls=zw.prototype.eb;
zw.prototype.getTileGrid=zw.prototype.ab;zw.prototype.refresh=zw.prototype.sa;zw.prototype.getAttributions=zw.prototype.ya;zw.prototype.getLogo=zw.prototype.xa;zw.prototype.getProjection=zw.prototype.za;zw.prototype.getState=zw.prototype.getState;zw.prototype.setAttributions=zw.prototype.ua;zw.prototype.get=zw.prototype.get;zw.prototype.getKeys=zw.prototype.O;zw.prototype.getProperties=zw.prototype.N;zw.prototype.set=zw.prototype.set;zw.prototype.setProperties=zw.prototype.H;zw.prototype.unset=zw.prototype.P;
zw.prototype.changed=zw.prototype.s;zw.prototype.dispatchEvent=zw.prototype.b;zw.prototype.getRevision=zw.prototype.L;zw.prototype.on=zw.prototype.J;zw.prototype.once=zw.prototype.once;zw.prototype.un=zw.prototype.K;Aw.prototype.setRenderReprojectionEdges=Aw.prototype.Pb;Aw.prototype.setTileGridForProjection=Aw.prototype.Qb;Aw.prototype.getTileLoadFunction=Aw.prototype.pb;Aw.prototype.getTileUrlFunction=Aw.prototype.qb;Aw.prototype.getUrls=Aw.prototype.rb;Aw.prototype.setTileLoadFunction=Aw.prototype.vb;
Aw.prototype.setTileUrlFunction=Aw.prototype.cb;Aw.prototype.setUrl=Aw.prototype.jb;Aw.prototype.setUrls=Aw.prototype.eb;Aw.prototype.getTileGrid=Aw.prototype.ab;Aw.prototype.refresh=Aw.prototype.sa;Aw.prototype.getAttributions=Aw.prototype.ya;Aw.prototype.getLogo=Aw.prototype.xa;Aw.prototype.getProjection=Aw.prototype.za;Aw.prototype.getState=Aw.prototype.getState;Aw.prototype.setAttributions=Aw.prototype.ua;Aw.prototype.get=Aw.prototype.get;Aw.prototype.getKeys=Aw.prototype.O;
Aw.prototype.getProperties=Aw.prototype.N;Aw.prototype.set=Aw.prototype.set;Aw.prototype.setProperties=Aw.prototype.H;Aw.prototype.unset=Aw.prototype.P;Aw.prototype.changed=Aw.prototype.s;Aw.prototype.dispatchEvent=Aw.prototype.b;Aw.prototype.getRevision=Aw.prototype.L;Aw.prototype.on=Aw.prototype.J;Aw.prototype.once=Aw.prototype.once;Aw.prototype.un=Aw.prototype.K;U.prototype.getAttributions=U.prototype.ya;U.prototype.getLogo=U.prototype.xa;U.prototype.getProjection=U.prototype.za;
U.prototype.getState=U.prototype.getState;U.prototype.refresh=U.prototype.sa;U.prototype.setAttributions=U.prototype.ua;U.prototype.get=U.prototype.get;U.prototype.getKeys=U.prototype.O;U.prototype.getProperties=U.prototype.N;U.prototype.set=U.prototype.set;U.prototype.setProperties=U.prototype.H;U.prototype.unset=U.prototype.P;U.prototype.changed=U.prototype.s;U.prototype.dispatchEvent=U.prototype.b;U.prototype.getRevision=U.prototype.L;U.prototype.on=U.prototype.J;U.prototype.once=U.prototype.once;
U.prototype.un=U.prototype.K;Y.prototype.addFeature=Y.prototype.yb;Y.prototype.addFeatures=Y.prototype.cd;Y.prototype.clear=Y.prototype.clear;Y.prototype.forEachFeature=Y.prototype.sh;Y.prototype.forEachFeatureInExtent=Y.prototype.$b;Y.prototype.forEachFeatureIntersectingExtent=Y.prototype.th;Y.prototype.getFeaturesCollection=Y.prototype.Ah;Y.prototype.getFeatures=Y.prototype.Xe;Y.prototype.getFeaturesAtCoordinate=Y.prototype.zh;Y.prototype.getFeaturesInExtent=Y.prototype.Uf;
Y.prototype.getClosestFeatureToCoordinate=Y.prototype.vh;Y.prototype.getExtent=Y.prototype.G;Y.prototype.getFeatureById=Y.prototype.yh;Y.prototype.getFormat=Y.prototype.Mi;Y.prototype.getUrl=Y.prototype.Ni;Y.prototype.removeFeature=Y.prototype.Gb;Y.prototype.getAttributions=Y.prototype.ya;Y.prototype.getLogo=Y.prototype.xa;Y.prototype.getProjection=Y.prototype.za;Y.prototype.getState=Y.prototype.getState;Y.prototype.refresh=Y.prototype.sa;Y.prototype.setAttributions=Y.prototype.ua;
Y.prototype.get=Y.prototype.get;Y.prototype.getKeys=Y.prototype.O;Y.prototype.getProperties=Y.prototype.N;Y.prototype.set=Y.prototype.set;Y.prototype.setProperties=Y.prototype.H;Y.prototype.unset=Y.prototype.P;Y.prototype.changed=Y.prototype.s;Y.prototype.dispatchEvent=Y.prototype.b;Y.prototype.getRevision=Y.prototype.L;Y.prototype.on=Y.prototype.J;Y.prototype.once=Y.prototype.once;Y.prototype.un=Y.prototype.K;Hv.prototype.getAttributions=Hv.prototype.ya;Hv.prototype.getLogo=Hv.prototype.xa;
Hv.prototype.getProjection=Hv.prototype.za;Hv.prototype.getState=Hv.prototype.getState;Hv.prototype.refresh=Hv.prototype.sa;Hv.prototype.setAttributions=Hv.prototype.ua;Hv.prototype.get=Hv.prototype.get;Hv.prototype.getKeys=Hv.prototype.O;Hv.prototype.getProperties=Hv.prototype.N;Hv.prototype.set=Hv.prototype.set;Hv.prototype.setProperties=Hv.prototype.H;Hv.prototype.unset=Hv.prototype.P;Hv.prototype.changed=Hv.prototype.s;Hv.prototype.dispatchEvent=Hv.prototype.b;Hv.prototype.getRevision=Hv.prototype.L;
Hv.prototype.on=Hv.prototype.J;Hv.prototype.once=Hv.prototype.once;Hv.prototype.un=Hv.prototype.K;Jv.prototype.type=Jv.prototype.type;Jv.prototype.target=Jv.prototype.target;Jv.prototype.preventDefault=Jv.prototype.preventDefault;Jv.prototype.stopPropagation=Jv.prototype.stopPropagation;Gw.prototype.getAttributions=Gw.prototype.ya;Gw.prototype.getLogo=Gw.prototype.xa;Gw.prototype.getProjection=Gw.prototype.za;Gw.prototype.getState=Gw.prototype.getState;Gw.prototype.refresh=Gw.prototype.sa;
Gw.prototype.setAttributions=Gw.prototype.ua;Gw.prototype.get=Gw.prototype.get;Gw.prototype.getKeys=Gw.prototype.O;Gw.prototype.getProperties=Gw.prototype.N;Gw.prototype.set=Gw.prototype.set;Gw.prototype.setProperties=Gw.prototype.H;Gw.prototype.unset=Gw.prototype.P;Gw.prototype.changed=Gw.prototype.s;Gw.prototype.dispatchEvent=Gw.prototype.b;Gw.prototype.getRevision=Gw.prototype.L;Gw.prototype.on=Gw.prototype.J;Gw.prototype.once=Gw.prototype.once;Gw.prototype.un=Gw.prototype.K;
Ov.prototype.getAttributions=Ov.prototype.ya;Ov.prototype.getLogo=Ov.prototype.xa;Ov.prototype.getProjection=Ov.prototype.za;Ov.prototype.getState=Ov.prototype.getState;Ov.prototype.refresh=Ov.prototype.sa;Ov.prototype.setAttributions=Ov.prototype.ua;Ov.prototype.get=Ov.prototype.get;Ov.prototype.getKeys=Ov.prototype.O;Ov.prototype.getProperties=Ov.prototype.N;Ov.prototype.set=Ov.prototype.set;Ov.prototype.setProperties=Ov.prototype.H;Ov.prototype.unset=Ov.prototype.P;Ov.prototype.changed=Ov.prototype.s;
Ov.prototype.dispatchEvent=Ov.prototype.b;Ov.prototype.getRevision=Ov.prototype.L;Ov.prototype.on=Ov.prototype.J;Ov.prototype.once=Ov.prototype.once;Ov.prototype.un=Ov.prototype.K;Hw.prototype.getAttributions=Hw.prototype.ya;Hw.prototype.getLogo=Hw.prototype.xa;Hw.prototype.getProjection=Hw.prototype.za;Hw.prototype.getState=Hw.prototype.getState;Hw.prototype.refresh=Hw.prototype.sa;Hw.prototype.setAttributions=Hw.prototype.ua;Hw.prototype.get=Hw.prototype.get;Hw.prototype.getKeys=Hw.prototype.O;
Hw.prototype.getProperties=Hw.prototype.N;Hw.prototype.set=Hw.prototype.set;Hw.prototype.setProperties=Hw.prototype.H;Hw.prototype.unset=Hw.prototype.P;Hw.prototype.changed=Hw.prototype.s;Hw.prototype.dispatchEvent=Hw.prototype.b;Hw.prototype.getRevision=Hw.prototype.L;Hw.prototype.on=Hw.prototype.J;Hw.prototype.once=Hw.prototype.once;Hw.prototype.un=Hw.prototype.K;Iw.prototype.getAttributions=Iw.prototype.ya;Iw.prototype.getLogo=Iw.prototype.xa;Iw.prototype.getProjection=Iw.prototype.za;
Iw.prototype.getState=Iw.prototype.getState;Iw.prototype.refresh=Iw.prototype.sa;Iw.prototype.setAttributions=Iw.prototype.ua;Iw.prototype.get=Iw.prototype.get;Iw.prototype.getKeys=Iw.prototype.O;Iw.prototype.getProperties=Iw.prototype.N;Iw.prototype.set=Iw.prototype.set;Iw.prototype.setProperties=Iw.prototype.H;Iw.prototype.unset=Iw.prototype.P;Iw.prototype.changed=Iw.prototype.s;Iw.prototype.dispatchEvent=Iw.prototype.b;Iw.prototype.getRevision=Iw.prototype.L;Iw.prototype.on=Iw.prototype.J;
Iw.prototype.once=Iw.prototype.once;Iw.prototype.un=Iw.prototype.K;Pv.prototype.getAttributions=Pv.prototype.ya;Pv.prototype.getLogo=Pv.prototype.xa;Pv.prototype.getProjection=Pv.prototype.za;Pv.prototype.getState=Pv.prototype.getState;Pv.prototype.refresh=Pv.prototype.sa;Pv.prototype.setAttributions=Pv.prototype.ua;Pv.prototype.get=Pv.prototype.get;Pv.prototype.getKeys=Pv.prototype.O;Pv.prototype.getProperties=Pv.prototype.N;Pv.prototype.set=Pv.prototype.set;Pv.prototype.setProperties=Pv.prototype.H;
Pv.prototype.unset=Pv.prototype.P;Pv.prototype.changed=Pv.prototype.s;Pv.prototype.dispatchEvent=Pv.prototype.b;Pv.prototype.getRevision=Pv.prototype.L;Pv.prototype.on=Pv.prototype.J;Pv.prototype.once=Pv.prototype.once;Pv.prototype.un=Pv.prototype.K;Jw.prototype.getAttributions=Jw.prototype.ya;Jw.prototype.getLogo=Jw.prototype.xa;Jw.prototype.getProjection=Jw.prototype.za;Jw.prototype.getState=Jw.prototype.getState;Jw.prototype.refresh=Jw.prototype.sa;Jw.prototype.setAttributions=Jw.prototype.ua;
Jw.prototype.get=Jw.prototype.get;Jw.prototype.getKeys=Jw.prototype.O;Jw.prototype.getProperties=Jw.prototype.N;Jw.prototype.set=Jw.prototype.set;Jw.prototype.setProperties=Jw.prototype.H;Jw.prototype.unset=Jw.prototype.P;Jw.prototype.changed=Jw.prototype.s;Jw.prototype.dispatchEvent=Jw.prototype.b;Jw.prototype.getRevision=Jw.prototype.L;Jw.prototype.on=Jw.prototype.J;Jw.prototype.once=Jw.prototype.once;Jw.prototype.un=Jw.prototype.K;Nw.prototype.setRenderReprojectionEdges=Nw.prototype.Pb;
Nw.prototype.setTileGridForProjection=Nw.prototype.Qb;Nw.prototype.getTileLoadFunction=Nw.prototype.pb;Nw.prototype.getTileUrlFunction=Nw.prototype.qb;Nw.prototype.getUrls=Nw.prototype.rb;Nw.prototype.setTileLoadFunction=Nw.prototype.vb;Nw.prototype.setTileUrlFunction=Nw.prototype.cb;Nw.prototype.setUrl=Nw.prototype.jb;Nw.prototype.setUrls=Nw.prototype.eb;Nw.prototype.getTileGrid=Nw.prototype.ab;Nw.prototype.refresh=Nw.prototype.sa;Nw.prototype.getAttributions=Nw.prototype.ya;
Nw.prototype.getLogo=Nw.prototype.xa;Nw.prototype.getProjection=Nw.prototype.za;Nw.prototype.getState=Nw.prototype.getState;Nw.prototype.setAttributions=Nw.prototype.ua;Nw.prototype.get=Nw.prototype.get;Nw.prototype.getKeys=Nw.prototype.O;Nw.prototype.getProperties=Nw.prototype.N;Nw.prototype.set=Nw.prototype.set;Nw.prototype.setProperties=Nw.prototype.H;Nw.prototype.unset=Nw.prototype.P;Nw.prototype.changed=Nw.prototype.s;Nw.prototype.dispatchEvent=Nw.prototype.b;Nw.prototype.getRevision=Nw.prototype.L;
Nw.prototype.on=Nw.prototype.J;Nw.prototype.once=Nw.prototype.once;Nw.prototype.un=Nw.prototype.K;Pw.prototype.getAttributions=Pw.prototype.ya;Pw.prototype.getLogo=Pw.prototype.xa;Pw.prototype.getProjection=Pw.prototype.za;Pw.prototype.getState=Pw.prototype.getState;Pw.prototype.refresh=Pw.prototype.sa;Pw.prototype.setAttributions=Pw.prototype.ua;Pw.prototype.get=Pw.prototype.get;Pw.prototype.getKeys=Pw.prototype.O;Pw.prototype.getProperties=Pw.prototype.N;Pw.prototype.set=Pw.prototype.set;
Pw.prototype.setProperties=Pw.prototype.H;Pw.prototype.unset=Pw.prototype.P;Pw.prototype.changed=Pw.prototype.s;Pw.prototype.dispatchEvent=Pw.prototype.b;Pw.prototype.getRevision=Pw.prototype.L;Pw.prototype.on=Pw.prototype.J;Pw.prototype.once=Pw.prototype.once;Pw.prototype.un=Pw.prototype.K;Tw.prototype.type=Tw.prototype.type;Tw.prototype.target=Tw.prototype.target;Tw.prototype.preventDefault=Tw.prototype.preventDefault;Tw.prototype.stopPropagation=Tw.prototype.stopPropagation;
Ww.prototype.setRenderReprojectionEdges=Ww.prototype.Pb;Ww.prototype.setTileGridForProjection=Ww.prototype.Qb;Ww.prototype.getTileLoadFunction=Ww.prototype.pb;Ww.prototype.getTileUrlFunction=Ww.prototype.qb;Ww.prototype.getUrls=Ww.prototype.rb;Ww.prototype.setTileLoadFunction=Ww.prototype.vb;Ww.prototype.setTileUrlFunction=Ww.prototype.cb;Ww.prototype.setUrl=Ww.prototype.jb;Ww.prototype.setUrls=Ww.prototype.eb;Ww.prototype.getTileGrid=Ww.prototype.ab;Ww.prototype.refresh=Ww.prototype.sa;
Ww.prototype.getAttributions=Ww.prototype.ya;Ww.prototype.getLogo=Ww.prototype.xa;Ww.prototype.getProjection=Ww.prototype.za;Ww.prototype.getState=Ww.prototype.getState;Ww.prototype.setAttributions=Ww.prototype.ua;Ww.prototype.get=Ww.prototype.get;Ww.prototype.getKeys=Ww.prototype.O;Ww.prototype.getProperties=Ww.prototype.N;Ww.prototype.set=Ww.prototype.set;Ww.prototype.setProperties=Ww.prototype.H;Ww.prototype.unset=Ww.prototype.P;Ww.prototype.changed=Ww.prototype.s;Ww.prototype.dispatchEvent=Ww.prototype.b;
Ww.prototype.getRevision=Ww.prototype.L;Ww.prototype.on=Ww.prototype.J;Ww.prototype.once=Ww.prototype.once;Ww.prototype.un=Ww.prototype.K;sw.prototype.type=sw.prototype.type;sw.prototype.target=sw.prototype.target;sw.prototype.preventDefault=sw.prototype.preventDefault;sw.prototype.stopPropagation=sw.prototype.stopPropagation;$w.prototype.setRenderReprojectionEdges=$w.prototype.Pb;$w.prototype.setTileGridForProjection=$w.prototype.Qb;$w.prototype.getTileLoadFunction=$w.prototype.pb;
$w.prototype.getTileUrlFunction=$w.prototype.qb;$w.prototype.getUrls=$w.prototype.rb;$w.prototype.setTileLoadFunction=$w.prototype.vb;$w.prototype.setTileUrlFunction=$w.prototype.cb;$w.prototype.setUrl=$w.prototype.jb;$w.prototype.setUrls=$w.prototype.eb;$w.prototype.getTileGrid=$w.prototype.ab;$w.prototype.refresh=$w.prototype.sa;$w.prototype.getAttributions=$w.prototype.ya;$w.prototype.getLogo=$w.prototype.xa;$w.prototype.getProjection=$w.prototype.za;$w.prototype.getState=$w.prototype.getState;
$w.prototype.setAttributions=$w.prototype.ua;$w.prototype.get=$w.prototype.get;$w.prototype.getKeys=$w.prototype.O;$w.prototype.getProperties=$w.prototype.N;$w.prototype.set=$w.prototype.set;$w.prototype.setProperties=$w.prototype.H;$w.prototype.unset=$w.prototype.P;$w.prototype.changed=$w.prototype.s;$w.prototype.dispatchEvent=$w.prototype.b;$w.prototype.getRevision=$w.prototype.L;$w.prototype.on=$w.prototype.J;$w.prototype.once=$w.prototype.once;$w.prototype.un=$w.prototype.K;
bx.prototype.getTileGrid=bx.prototype.ab;bx.prototype.refresh=bx.prototype.sa;bx.prototype.getAttributions=bx.prototype.ya;bx.prototype.getLogo=bx.prototype.xa;bx.prototype.getProjection=bx.prototype.za;bx.prototype.getState=bx.prototype.getState;bx.prototype.setAttributions=bx.prototype.ua;bx.prototype.get=bx.prototype.get;bx.prototype.getKeys=bx.prototype.O;bx.prototype.getProperties=bx.prototype.N;bx.prototype.set=bx.prototype.set;bx.prototype.setProperties=bx.prototype.H;bx.prototype.unset=bx.prototype.P;
bx.prototype.changed=bx.prototype.s;bx.prototype.dispatchEvent=bx.prototype.b;bx.prototype.getRevision=bx.prototype.L;bx.prototype.on=bx.prototype.J;bx.prototype.once=bx.prototype.once;bx.prototype.un=bx.prototype.K;dx.prototype.setRenderReprojectionEdges=dx.prototype.Pb;dx.prototype.setTileGridForProjection=dx.prototype.Qb;dx.prototype.getTileLoadFunction=dx.prototype.pb;dx.prototype.getTileUrlFunction=dx.prototype.qb;dx.prototype.getUrls=dx.prototype.rb;dx.prototype.setTileLoadFunction=dx.prototype.vb;
dx.prototype.setTileUrlFunction=dx.prototype.cb;dx.prototype.setUrl=dx.prototype.jb;dx.prototype.setUrls=dx.prototype.eb;dx.prototype.getTileGrid=dx.prototype.ab;dx.prototype.refresh=dx.prototype.sa;dx.prototype.getAttributions=dx.prototype.ya;dx.prototype.getLogo=dx.prototype.xa;dx.prototype.getProjection=dx.prototype.za;dx.prototype.getState=dx.prototype.getState;dx.prototype.setAttributions=dx.prototype.ua;dx.prototype.get=dx.prototype.get;dx.prototype.getKeys=dx.prototype.O;
dx.prototype.getProperties=dx.prototype.N;dx.prototype.set=dx.prototype.set;dx.prototype.setProperties=dx.prototype.H;dx.prototype.unset=dx.prototype.P;dx.prototype.changed=dx.prototype.s;dx.prototype.dispatchEvent=dx.prototype.b;dx.prototype.getRevision=dx.prototype.L;dx.prototype.on=dx.prototype.J;dx.prototype.once=dx.prototype.once;dx.prototype.un=dx.prototype.K;ex.prototype.getTileGrid=ex.prototype.ab;ex.prototype.refresh=ex.prototype.sa;ex.prototype.getAttributions=ex.prototype.ya;
ex.prototype.getLogo=ex.prototype.xa;ex.prototype.getProjection=ex.prototype.za;ex.prototype.getState=ex.prototype.getState;ex.prototype.setAttributions=ex.prototype.ua;ex.prototype.get=ex.prototype.get;ex.prototype.getKeys=ex.prototype.O;ex.prototype.getProperties=ex.prototype.N;ex.prototype.set=ex.prototype.set;ex.prototype.setProperties=ex.prototype.H;ex.prototype.unset=ex.prototype.P;ex.prototype.changed=ex.prototype.s;ex.prototype.dispatchEvent=ex.prototype.b;ex.prototype.getRevision=ex.prototype.L;
ex.prototype.on=ex.prototype.J;ex.prototype.once=ex.prototype.once;ex.prototype.un=ex.prototype.K;ix.prototype.setRenderReprojectionEdges=ix.prototype.Pb;ix.prototype.setTileGridForProjection=ix.prototype.Qb;ix.prototype.getTileLoadFunction=ix.prototype.pb;ix.prototype.getTileUrlFunction=ix.prototype.qb;ix.prototype.getUrls=ix.prototype.rb;ix.prototype.setTileLoadFunction=ix.prototype.vb;ix.prototype.setTileUrlFunction=ix.prototype.cb;ix.prototype.setUrl=ix.prototype.jb;ix.prototype.setUrls=ix.prototype.eb;
ix.prototype.getTileGrid=ix.prototype.ab;ix.prototype.refresh=ix.prototype.sa;ix.prototype.getAttributions=ix.prototype.ya;ix.prototype.getLogo=ix.prototype.xa;ix.prototype.getProjection=ix.prototype.za;ix.prototype.getState=ix.prototype.getState;ix.prototype.setAttributions=ix.prototype.ua;ix.prototype.get=ix.prototype.get;ix.prototype.getKeys=ix.prototype.O;ix.prototype.getProperties=ix.prototype.N;ix.prototype.set=ix.prototype.set;ix.prototype.setProperties=ix.prototype.H;ix.prototype.unset=ix.prototype.P;
ix.prototype.changed=ix.prototype.s;ix.prototype.dispatchEvent=ix.prototype.b;ix.prototype.getRevision=ix.prototype.L;ix.prototype.on=ix.prototype.J;ix.prototype.once=ix.prototype.once;ix.prototype.un=ix.prototype.K;gu.prototype.type=gu.prototype.type;gu.prototype.target=gu.prototype.target;gu.prototype.preventDefault=gu.prototype.preventDefault;gu.prototype.stopPropagation=gu.prototype.stopPropagation;qx.prototype.getTileLoadFunction=qx.prototype.pb;qx.prototype.getTileUrlFunction=qx.prototype.qb;
qx.prototype.getUrls=qx.prototype.rb;qx.prototype.setTileLoadFunction=qx.prototype.vb;qx.prototype.setTileUrlFunction=qx.prototype.cb;qx.prototype.setUrl=qx.prototype.jb;qx.prototype.setUrls=qx.prototype.eb;qx.prototype.getTileGrid=qx.prototype.ab;qx.prototype.refresh=qx.prototype.sa;qx.prototype.getAttributions=qx.prototype.ya;qx.prototype.getLogo=qx.prototype.xa;qx.prototype.getProjection=qx.prototype.za;qx.prototype.getState=qx.prototype.getState;qx.prototype.setAttributions=qx.prototype.ua;
qx.prototype.get=qx.prototype.get;qx.prototype.getKeys=qx.prototype.O;qx.prototype.getProperties=qx.prototype.N;qx.prototype.set=qx.prototype.set;qx.prototype.setProperties=qx.prototype.H;qx.prototype.unset=qx.prototype.P;qx.prototype.changed=qx.prototype.s;qx.prototype.dispatchEvent=qx.prototype.b;qx.prototype.getRevision=qx.prototype.L;qx.prototype.on=qx.prototype.J;qx.prototype.once=qx.prototype.once;qx.prototype.un=qx.prototype.K;Z.prototype.setRenderReprojectionEdges=Z.prototype.Pb;
Z.prototype.setTileGridForProjection=Z.prototype.Qb;Z.prototype.getTileLoadFunction=Z.prototype.pb;Z.prototype.getTileUrlFunction=Z.prototype.qb;Z.prototype.getUrls=Z.prototype.rb;Z.prototype.setTileLoadFunction=Z.prototype.vb;Z.prototype.setTileUrlFunction=Z.prototype.cb;Z.prototype.setUrl=Z.prototype.jb;Z.prototype.setUrls=Z.prototype.eb;Z.prototype.getTileGrid=Z.prototype.ab;Z.prototype.refresh=Z.prototype.sa;Z.prototype.getAttributions=Z.prototype.ya;Z.prototype.getLogo=Z.prototype.xa;
Z.prototype.getProjection=Z.prototype.za;Z.prototype.getState=Z.prototype.getState;Z.prototype.setAttributions=Z.prototype.ua;Z.prototype.get=Z.prototype.get;Z.prototype.getKeys=Z.prototype.O;Z.prototype.getProperties=Z.prototype.N;Z.prototype.set=Z.prototype.set;Z.prototype.setProperties=Z.prototype.H;Z.prototype.unset=Z.prototype.P;Z.prototype.changed=Z.prototype.s;Z.prototype.dispatchEvent=Z.prototype.b;Z.prototype.getRevision=Z.prototype.L;Z.prototype.on=Z.prototype.J;Z.prototype.once=Z.prototype.once;
Z.prototype.un=Z.prototype.K;ux.prototype.setRenderReprojectionEdges=ux.prototype.Pb;ux.prototype.setTileGridForProjection=ux.prototype.Qb;ux.prototype.getTileLoadFunction=ux.prototype.pb;ux.prototype.getTileUrlFunction=ux.prototype.qb;ux.prototype.getUrls=ux.prototype.rb;ux.prototype.setTileLoadFunction=ux.prototype.vb;ux.prototype.setTileUrlFunction=ux.prototype.cb;ux.prototype.setUrl=ux.prototype.jb;ux.prototype.setUrls=ux.prototype.eb;ux.prototype.getTileGrid=ux.prototype.ab;
ux.prototype.refresh=ux.prototype.sa;ux.prototype.getAttributions=ux.prototype.ya;ux.prototype.getLogo=ux.prototype.xa;ux.prototype.getProjection=ux.prototype.za;ux.prototype.getState=ux.prototype.getState;ux.prototype.setAttributions=ux.prototype.ua;ux.prototype.get=ux.prototype.get;ux.prototype.getKeys=ux.prototype.O;ux.prototype.getProperties=ux.prototype.N;ux.prototype.set=ux.prototype.set;ux.prototype.setProperties=ux.prototype.H;ux.prototype.unset=ux.prototype.P;ux.prototype.changed=ux.prototype.s;
ux.prototype.dispatchEvent=ux.prototype.b;ux.prototype.getRevision=ux.prototype.L;ux.prototype.on=ux.prototype.J;ux.prototype.once=ux.prototype.once;ux.prototype.un=ux.prototype.K;hw.prototype.getTileCoord=hw.prototype.f;hw.prototype.load=hw.prototype.load;xt.prototype.changed=xt.prototype.s;xt.prototype.dispatchEvent=xt.prototype.b;xt.prototype.getRevision=xt.prototype.L;xt.prototype.on=xt.prototype.J;xt.prototype.once=xt.prototype.once;xt.prototype.un=xt.prototype.K;Vt.prototype.changed=Vt.prototype.s;
Vt.prototype.dispatchEvent=Vt.prototype.b;Vt.prototype.getRevision=Vt.prototype.L;Vt.prototype.on=Vt.prototype.J;Vt.prototype.once=Vt.prototype.once;Vt.prototype.un=Vt.prototype.K;Rv.prototype.changed=Rv.prototype.s;Rv.prototype.dispatchEvent=Rv.prototype.b;Rv.prototype.getRevision=Rv.prototype.L;Rv.prototype.on=Rv.prototype.J;Rv.prototype.once=Rv.prototype.once;Rv.prototype.un=Rv.prototype.K;bw.prototype.changed=bw.prototype.s;bw.prototype.dispatchEvent=bw.prototype.b;bw.prototype.getRevision=bw.prototype.L;
bw.prototype.on=bw.prototype.J;bw.prototype.once=bw.prototype.once;bw.prototype.un=bw.prototype.K;Yt.prototype.changed=Yt.prototype.s;Yt.prototype.dispatchEvent=Yt.prototype.b;Yt.prototype.getRevision=Yt.prototype.L;Yt.prototype.on=Yt.prototype.J;Yt.prototype.once=Yt.prototype.once;Yt.prototype.un=Yt.prototype.K;Gt.prototype.changed=Gt.prototype.s;Gt.prototype.dispatchEvent=Gt.prototype.b;Gt.prototype.getRevision=Gt.prototype.L;Gt.prototype.on=Gt.prototype.J;Gt.prototype.once=Gt.prototype.once;
Gt.prototype.un=Gt.prototype.K;yv.prototype.changed=yv.prototype.s;yv.prototype.dispatchEvent=yv.prototype.b;yv.prototype.getRevision=yv.prototype.L;yv.prototype.on=yv.prototype.J;yv.prototype.once=yv.prototype.once;yv.prototype.un=yv.prototype.K;zv.prototype.changed=zv.prototype.s;zv.prototype.dispatchEvent=zv.prototype.b;zv.prototype.getRevision=zv.prototype.L;zv.prototype.on=zv.prototype.J;zv.prototype.once=zv.prototype.once;zv.prototype.un=zv.prototype.K;Vv.prototype.changed=Vv.prototype.s;
Vv.prototype.dispatchEvent=Vv.prototype.b;Vv.prototype.getRevision=Vv.prototype.L;Vv.prototype.on=Vv.prototype.J;Vv.prototype.once=Vv.prototype.once;Vv.prototype.un=Vv.prototype.K;Ot.prototype.changed=Ot.prototype.s;Ot.prototype.dispatchEvent=Ot.prototype.b;Ot.prototype.getRevision=Ot.prototype.L;Ot.prototype.on=Ot.prototype.J;Ot.prototype.once=Ot.prototype.once;Ot.prototype.un=Ot.prototype.K;dw.prototype.changed=dw.prototype.s;dw.prototype.dispatchEvent=dw.prototype.b;dw.prototype.getRevision=dw.prototype.L;
dw.prototype.on=dw.prototype.J;dw.prototype.once=dw.prototype.once;dw.prototype.un=dw.prototype.K;Rh.prototype.type=Rh.prototype.type;Rh.prototype.target=Rh.prototype.target;Rh.prototype.preventDefault=Rh.prototype.preventDefault;Rh.prototype.stopPropagation=Rh.prototype.stopPropagation;pe.prototype.type=pe.prototype.type;pe.prototype.target=pe.prototype.target;pe.prototype.preventDefault=pe.prototype.preventDefault;pe.prototype.stopPropagation=pe.prototype.stopPropagation;sh.prototype.get=sh.prototype.get;
sh.prototype.getKeys=sh.prototype.O;sh.prototype.getProperties=sh.prototype.N;sh.prototype.set=sh.prototype.set;sh.prototype.setProperties=sh.prototype.H;sh.prototype.unset=sh.prototype.P;sh.prototype.changed=sh.prototype.s;sh.prototype.dispatchEvent=sh.prototype.b;sh.prototype.getRevision=sh.prototype.L;sh.prototype.on=sh.prototype.J;sh.prototype.once=sh.prototype.once;sh.prototype.un=sh.prototype.K;uh.prototype.getExtent=uh.prototype.G;uh.prototype.getMaxResolution=uh.prototype.fc;
uh.prototype.getMinResolution=uh.prototype.gc;uh.prototype.getOpacity=uh.prototype.hc;uh.prototype.getVisible=uh.prototype.Mb;uh.prototype.getZIndex=uh.prototype.Ba;uh.prototype.setExtent=uh.prototype.vc;uh.prototype.setMaxResolution=uh.prototype.Ac;uh.prototype.setMinResolution=uh.prototype.Bc;uh.prototype.setOpacity=uh.prototype.wc;uh.prototype.setVisible=uh.prototype.xc;uh.prototype.setZIndex=uh.prototype.Vb;uh.prototype.get=uh.prototype.get;uh.prototype.getKeys=uh.prototype.O;
uh.prototype.getProperties=uh.prototype.N;uh.prototype.set=uh.prototype.set;uh.prototype.setProperties=uh.prototype.H;uh.prototype.unset=uh.prototype.P;uh.prototype.changed=uh.prototype.s;uh.prototype.dispatchEvent=uh.prototype.b;uh.prototype.getRevision=uh.prototype.L;uh.prototype.on=uh.prototype.J;uh.prototype.once=uh.prototype.once;uh.prototype.un=uh.prototype.K;wh.prototype.getExtent=wh.prototype.G;wh.prototype.getMaxResolution=wh.prototype.fc;wh.prototype.getMinResolution=wh.prototype.gc;
wh.prototype.getOpacity=wh.prototype.hc;wh.prototype.getVisible=wh.prototype.Mb;wh.prototype.getZIndex=wh.prototype.Ba;wh.prototype.setExtent=wh.prototype.vc;wh.prototype.setMaxResolution=wh.prototype.Ac;wh.prototype.setMinResolution=wh.prototype.Bc;wh.prototype.setOpacity=wh.prototype.wc;wh.prototype.setVisible=wh.prototype.xc;wh.prototype.setZIndex=wh.prototype.Vb;wh.prototype.get=wh.prototype.get;wh.prototype.getKeys=wh.prototype.O;wh.prototype.getProperties=wh.prototype.N;wh.prototype.set=wh.prototype.set;
wh.prototype.setProperties=wh.prototype.H;wh.prototype.unset=wh.prototype.P;wh.prototype.changed=wh.prototype.s;wh.prototype.dispatchEvent=wh.prototype.b;wh.prototype.getRevision=wh.prototype.L;wh.prototype.on=wh.prototype.J;wh.prototype.once=wh.prototype.once;wh.prototype.un=wh.prototype.K;T.prototype.setMap=T.prototype.setMap;T.prototype.setSource=T.prototype.Wc;T.prototype.getExtent=T.prototype.G;T.prototype.getMaxResolution=T.prototype.fc;T.prototype.getMinResolution=T.prototype.gc;
T.prototype.getOpacity=T.prototype.hc;T.prototype.getVisible=T.prototype.Mb;T.prototype.getZIndex=T.prototype.Ba;T.prototype.setExtent=T.prototype.vc;T.prototype.setMaxResolution=T.prototype.Ac;T.prototype.setMinResolution=T.prototype.Bc;T.prototype.setOpacity=T.prototype.wc;T.prototype.setVisible=T.prototype.xc;T.prototype.setZIndex=T.prototype.Vb;T.prototype.get=T.prototype.get;T.prototype.getKeys=T.prototype.O;T.prototype.getProperties=T.prototype.N;T.prototype.set=T.prototype.set;
T.prototype.setProperties=T.prototype.H;T.prototype.unset=T.prototype.P;T.prototype.changed=T.prototype.s;T.prototype.dispatchEvent=T.prototype.b;T.prototype.getRevision=T.prototype.L;T.prototype.on=T.prototype.J;T.prototype.once=T.prototype.once;T.prototype.un=T.prototype.K;V.prototype.getSource=V.prototype.ha;V.prototype.getStyle=V.prototype.D;V.prototype.getStyleFunction=V.prototype.C;V.prototype.setStyle=V.prototype.g;V.prototype.setMap=V.prototype.setMap;V.prototype.setSource=V.prototype.Wc;
V.prototype.getExtent=V.prototype.G;V.prototype.getMaxResolution=V.prototype.fc;V.prototype.getMinResolution=V.prototype.gc;V.prototype.getOpacity=V.prototype.hc;V.prototype.getVisible=V.prototype.Mb;V.prototype.getZIndex=V.prototype.Ba;V.prototype.setExtent=V.prototype.vc;V.prototype.setMaxResolution=V.prototype.Ac;V.prototype.setMinResolution=V.prototype.Bc;V.prototype.setOpacity=V.prototype.wc;V.prototype.setVisible=V.prototype.xc;V.prototype.setZIndex=V.prototype.Vb;V.prototype.get=V.prototype.get;
V.prototype.getKeys=V.prototype.O;V.prototype.getProperties=V.prototype.N;V.prototype.set=V.prototype.set;V.prototype.setProperties=V.prototype.H;V.prototype.unset=V.prototype.P;V.prototype.changed=V.prototype.s;V.prototype.dispatchEvent=V.prototype.b;V.prototype.getRevision=V.prototype.L;V.prototype.on=V.prototype.J;V.prototype.once=V.prototype.once;V.prototype.un=V.prototype.K;Uv.prototype.setMap=Uv.prototype.setMap;Uv.prototype.setSource=Uv.prototype.Wc;Uv.prototype.getExtent=Uv.prototype.G;
Uv.prototype.getMaxResolution=Uv.prototype.fc;Uv.prototype.getMinResolution=Uv.prototype.gc;Uv.prototype.getOpacity=Uv.prototype.hc;Uv.prototype.getVisible=Uv.prototype.Mb;Uv.prototype.getZIndex=Uv.prototype.Ba;Uv.prototype.setExtent=Uv.prototype.vc;Uv.prototype.setMaxResolution=Uv.prototype.Ac;Uv.prototype.setMinResolution=Uv.prototype.Bc;Uv.prototype.setOpacity=Uv.prototype.wc;Uv.prototype.setVisible=Uv.prototype.xc;Uv.prototype.setZIndex=Uv.prototype.Vb;Uv.prototype.get=Uv.prototype.get;
Uv.prototype.getKeys=Uv.prototype.O;Uv.prototype.getProperties=Uv.prototype.N;Uv.prototype.set=Uv.prototype.set;Uv.prototype.setProperties=Uv.prototype.H;Uv.prototype.unset=Uv.prototype.P;Uv.prototype.changed=Uv.prototype.s;Uv.prototype.dispatchEvent=Uv.prototype.b;Uv.prototype.getRevision=Uv.prototype.L;Uv.prototype.on=Uv.prototype.J;Uv.prototype.once=Uv.prototype.once;Uv.prototype.un=Uv.prototype.K;cw.prototype.setMap=cw.prototype.setMap;cw.prototype.setSource=cw.prototype.Wc;
cw.prototype.getExtent=cw.prototype.G;cw.prototype.getMaxResolution=cw.prototype.fc;cw.prototype.getMinResolution=cw.prototype.gc;cw.prototype.getOpacity=cw.prototype.hc;cw.prototype.getVisible=cw.prototype.Mb;cw.prototype.getZIndex=cw.prototype.Ba;cw.prototype.setExtent=cw.prototype.vc;cw.prototype.setMaxResolution=cw.prototype.Ac;cw.prototype.setMinResolution=cw.prototype.Bc;cw.prototype.setOpacity=cw.prototype.wc;cw.prototype.setVisible=cw.prototype.xc;cw.prototype.setZIndex=cw.prototype.Vb;
cw.prototype.get=cw.prototype.get;cw.prototype.getKeys=cw.prototype.O;cw.prototype.getProperties=cw.prototype.N;cw.prototype.set=cw.prototype.set;cw.prototype.setProperties=cw.prototype.H;cw.prototype.unset=cw.prototype.P;cw.prototype.changed=cw.prototype.s;cw.prototype.dispatchEvent=cw.prototype.b;cw.prototype.getRevision=cw.prototype.L;cw.prototype.on=cw.prototype.J;cw.prototype.once=cw.prototype.once;cw.prototype.un=cw.prototype.K;W.prototype.getSource=W.prototype.ha;W.prototype.getStyle=W.prototype.D;
W.prototype.getStyleFunction=W.prototype.C;W.prototype.setStyle=W.prototype.g;W.prototype.setMap=W.prototype.setMap;W.prototype.setSource=W.prototype.Wc;W.prototype.getExtent=W.prototype.G;W.prototype.getMaxResolution=W.prototype.fc;W.prototype.getMinResolution=W.prototype.gc;W.prototype.getOpacity=W.prototype.hc;W.prototype.getVisible=W.prototype.Mb;W.prototype.getZIndex=W.prototype.Ba;W.prototype.setExtent=W.prototype.vc;W.prototype.setMaxResolution=W.prototype.Ac;W.prototype.setMinResolution=W.prototype.Bc;
W.prototype.setOpacity=W.prototype.wc;W.prototype.setVisible=W.prototype.xc;W.prototype.setZIndex=W.prototype.Vb;W.prototype.get=W.prototype.get;W.prototype.getKeys=W.prototype.O;W.prototype.getProperties=W.prototype.N;W.prototype.set=W.prototype.set;W.prototype.setProperties=W.prototype.H;W.prototype.unset=W.prototype.P;W.prototype.changed=W.prototype.s;W.prototype.dispatchEvent=W.prototype.b;W.prototype.getRevision=W.prototype.L;W.prototype.on=W.prototype.J;W.prototype.once=W.prototype.once;
W.prototype.un=W.prototype.K;ng.prototype.get=ng.prototype.get;ng.prototype.getKeys=ng.prototype.O;ng.prototype.getProperties=ng.prototype.N;ng.prototype.set=ng.prototype.set;ng.prototype.setProperties=ng.prototype.H;ng.prototype.unset=ng.prototype.P;ng.prototype.changed=ng.prototype.s;ng.prototype.dispatchEvent=ng.prototype.b;ng.prototype.getRevision=ng.prototype.L;ng.prototype.on=ng.prototype.J;ng.prototype.once=ng.prototype.once;ng.prototype.un=ng.prototype.K;rg.prototype.getActive=rg.prototype.c;
rg.prototype.getMap=rg.prototype.f;rg.prototype.setActive=rg.prototype.Ha;rg.prototype.get=rg.prototype.get;rg.prototype.getKeys=rg.prototype.O;rg.prototype.getProperties=rg.prototype.N;rg.prototype.set=rg.prototype.set;rg.prototype.setProperties=rg.prototype.H;rg.prototype.unset=rg.prototype.P;rg.prototype.changed=rg.prototype.s;rg.prototype.dispatchEvent=rg.prototype.b;rg.prototype.getRevision=rg.prototype.L;rg.prototype.on=rg.prototype.J;rg.prototype.once=rg.prototype.once;rg.prototype.un=rg.prototype.K;
Rs.prototype.getActive=Rs.prototype.c;Rs.prototype.getMap=Rs.prototype.f;Rs.prototype.setActive=Rs.prototype.Ha;Rs.prototype.get=Rs.prototype.get;Rs.prototype.getKeys=Rs.prototype.O;Rs.prototype.getProperties=Rs.prototype.N;Rs.prototype.set=Rs.prototype.set;Rs.prototype.setProperties=Rs.prototype.H;Rs.prototype.unset=Rs.prototype.P;Rs.prototype.changed=Rs.prototype.s;Rs.prototype.dispatchEvent=Rs.prototype.b;Rs.prototype.getRevision=Rs.prototype.L;Rs.prototype.on=Rs.prototype.J;
Rs.prototype.once=Rs.prototype.once;Rs.prototype.un=Rs.prototype.K;Us.prototype.type=Us.prototype.type;Us.prototype.target=Us.prototype.target;Us.prototype.preventDefault=Us.prototype.preventDefault;Us.prototype.stopPropagation=Us.prototype.stopPropagation;Dg.prototype.getActive=Dg.prototype.c;Dg.prototype.getMap=Dg.prototype.f;Dg.prototype.setActive=Dg.prototype.Ha;Dg.prototype.get=Dg.prototype.get;Dg.prototype.getKeys=Dg.prototype.O;Dg.prototype.getProperties=Dg.prototype.N;Dg.prototype.set=Dg.prototype.set;
Dg.prototype.setProperties=Dg.prototype.H;Dg.prototype.unset=Dg.prototype.P;Dg.prototype.changed=Dg.prototype.s;Dg.prototype.dispatchEvent=Dg.prototype.b;Dg.prototype.getRevision=Dg.prototype.L;Dg.prototype.on=Dg.prototype.J;Dg.prototype.once=Dg.prototype.once;Dg.prototype.un=Dg.prototype.K;Rg.prototype.getActive=Rg.prototype.c;Rg.prototype.getMap=Rg.prototype.f;Rg.prototype.setActive=Rg.prototype.Ha;Rg.prototype.get=Rg.prototype.get;Rg.prototype.getKeys=Rg.prototype.O;
Rg.prototype.getProperties=Rg.prototype.N;Rg.prototype.set=Rg.prototype.set;Rg.prototype.setProperties=Rg.prototype.H;Rg.prototype.unset=Rg.prototype.P;Rg.prototype.changed=Rg.prototype.s;Rg.prototype.dispatchEvent=Rg.prototype.b;Rg.prototype.getRevision=Rg.prototype.L;Rg.prototype.on=Rg.prototype.J;Rg.prototype.once=Rg.prototype.once;Rg.prototype.un=Rg.prototype.K;Wg.prototype.type=Wg.prototype.type;Wg.prototype.target=Wg.prototype.target;Wg.prototype.preventDefault=Wg.prototype.preventDefault;
Wg.prototype.stopPropagation=Wg.prototype.stopPropagation;Gg.prototype.getActive=Gg.prototype.c;Gg.prototype.getMap=Gg.prototype.f;Gg.prototype.setActive=Gg.prototype.Ha;Gg.prototype.get=Gg.prototype.get;Gg.prototype.getKeys=Gg.prototype.O;Gg.prototype.getProperties=Gg.prototype.N;Gg.prototype.set=Gg.prototype.set;Gg.prototype.setProperties=Gg.prototype.H;Gg.prototype.unset=Gg.prototype.P;Gg.prototype.changed=Gg.prototype.s;Gg.prototype.dispatchEvent=Gg.prototype.b;Gg.prototype.getRevision=Gg.prototype.L;
Gg.prototype.on=Gg.prototype.J;Gg.prototype.once=Gg.prototype.once;Gg.prototype.un=Gg.prototype.K;Kg.prototype.getActive=Kg.prototype.c;Kg.prototype.getMap=Kg.prototype.f;Kg.prototype.setActive=Kg.prototype.Ha;Kg.prototype.get=Kg.prototype.get;Kg.prototype.getKeys=Kg.prototype.O;Kg.prototype.getProperties=Kg.prototype.N;Kg.prototype.set=Kg.prototype.set;Kg.prototype.setProperties=Kg.prototype.H;Kg.prototype.unset=Kg.prototype.P;Kg.prototype.changed=Kg.prototype.s;Kg.prototype.dispatchEvent=Kg.prototype.b;
Kg.prototype.getRevision=Kg.prototype.L;Kg.prototype.on=Kg.prototype.J;Kg.prototype.once=Kg.prototype.once;Kg.prototype.un=Kg.prototype.K;Ys.prototype.getActive=Ys.prototype.c;Ys.prototype.getMap=Ys.prototype.f;Ys.prototype.setActive=Ys.prototype.Ha;Ys.prototype.get=Ys.prototype.get;Ys.prototype.getKeys=Ys.prototype.O;Ys.prototype.getProperties=Ys.prototype.N;Ys.prototype.set=Ys.prototype.set;Ys.prototype.setProperties=Ys.prototype.H;Ys.prototype.unset=Ys.prototype.P;Ys.prototype.changed=Ys.prototype.s;
Ys.prototype.dispatchEvent=Ys.prototype.b;Ys.prototype.getRevision=Ys.prototype.L;Ys.prototype.on=Ys.prototype.J;Ys.prototype.once=Ys.prototype.once;Ys.prototype.un=Ys.prototype.K;$g.prototype.getGeometry=$g.prototype.V;$g.prototype.getActive=$g.prototype.c;$g.prototype.getMap=$g.prototype.f;$g.prototype.setActive=$g.prototype.Ha;$g.prototype.get=$g.prototype.get;$g.prototype.getKeys=$g.prototype.O;$g.prototype.getProperties=$g.prototype.N;$g.prototype.set=$g.prototype.set;
$g.prototype.setProperties=$g.prototype.H;$g.prototype.unset=$g.prototype.P;$g.prototype.changed=$g.prototype.s;$g.prototype.dispatchEvent=$g.prototype.b;$g.prototype.getRevision=$g.prototype.L;$g.prototype.on=$g.prototype.J;$g.prototype.once=$g.prototype.once;$g.prototype.un=$g.prototype.K;ju.prototype.getActive=ju.prototype.c;ju.prototype.getMap=ju.prototype.f;ju.prototype.setActive=ju.prototype.Ha;ju.prototype.get=ju.prototype.get;ju.prototype.getKeys=ju.prototype.O;
ju.prototype.getProperties=ju.prototype.N;ju.prototype.set=ju.prototype.set;ju.prototype.setProperties=ju.prototype.H;ju.prototype.unset=ju.prototype.P;ju.prototype.changed=ju.prototype.s;ju.prototype.dispatchEvent=ju.prototype.b;ju.prototype.getRevision=ju.prototype.L;ju.prototype.on=ju.prototype.J;ju.prototype.once=ju.prototype.once;ju.prototype.un=ju.prototype.K;zu.prototype.type=zu.prototype.type;zu.prototype.target=zu.prototype.target;zu.prototype.preventDefault=zu.prototype.preventDefault;
zu.prototype.stopPropagation=zu.prototype.stopPropagation;Au.prototype.getActive=Au.prototype.c;Au.prototype.getMap=Au.prototype.f;Au.prototype.setActive=Au.prototype.Ha;Au.prototype.get=Au.prototype.get;Au.prototype.getKeys=Au.prototype.O;Au.prototype.getProperties=Au.prototype.N;Au.prototype.set=Au.prototype.set;Au.prototype.setProperties=Au.prototype.H;Au.prototype.unset=Au.prototype.P;Au.prototype.changed=Au.prototype.s;Au.prototype.dispatchEvent=Au.prototype.b;Au.prototype.getRevision=Au.prototype.L;
Au.prototype.on=Au.prototype.J;Au.prototype.once=Au.prototype.once;Au.prototype.un=Au.prototype.K;Lu.prototype.type=Lu.prototype.type;Lu.prototype.target=Lu.prototype.target;Lu.prototype.preventDefault=Lu.prototype.preventDefault;Lu.prototype.stopPropagation=Lu.prototype.stopPropagation;ah.prototype.getActive=ah.prototype.c;ah.prototype.getMap=ah.prototype.f;ah.prototype.setActive=ah.prototype.Ha;ah.prototype.get=ah.prototype.get;ah.prototype.getKeys=ah.prototype.O;ah.prototype.getProperties=ah.prototype.N;
ah.prototype.set=ah.prototype.set;ah.prototype.setProperties=ah.prototype.H;ah.prototype.unset=ah.prototype.P;ah.prototype.changed=ah.prototype.s;ah.prototype.dispatchEvent=ah.prototype.b;ah.prototype.getRevision=ah.prototype.L;ah.prototype.on=ah.prototype.J;ah.prototype.once=ah.prototype.once;ah.prototype.un=ah.prototype.K;ch.prototype.getActive=ch.prototype.c;ch.prototype.getMap=ch.prototype.f;ch.prototype.setActive=ch.prototype.Ha;ch.prototype.get=ch.prototype.get;ch.prototype.getKeys=ch.prototype.O;
ch.prototype.getProperties=ch.prototype.N;ch.prototype.set=ch.prototype.set;ch.prototype.setProperties=ch.prototype.H;ch.prototype.unset=ch.prototype.P;ch.prototype.changed=ch.prototype.s;ch.prototype.dispatchEvent=ch.prototype.b;ch.prototype.getRevision=ch.prototype.L;ch.prototype.on=ch.prototype.J;ch.prototype.once=ch.prototype.once;ch.prototype.un=ch.prototype.K;Nu.prototype.getActive=Nu.prototype.c;Nu.prototype.getMap=Nu.prototype.f;Nu.prototype.setActive=Nu.prototype.Ha;Nu.prototype.get=Nu.prototype.get;
Nu.prototype.getKeys=Nu.prototype.O;Nu.prototype.getProperties=Nu.prototype.N;Nu.prototype.set=Nu.prototype.set;Nu.prototype.setProperties=Nu.prototype.H;Nu.prototype.unset=Nu.prototype.P;Nu.prototype.changed=Nu.prototype.s;Nu.prototype.dispatchEvent=Nu.prototype.b;Nu.prototype.getRevision=Nu.prototype.L;Nu.prototype.on=Nu.prototype.J;Nu.prototype.once=Nu.prototype.once;Nu.prototype.un=Nu.prototype.K;Vu.prototype.type=Vu.prototype.type;Vu.prototype.target=Vu.prototype.target;
Vu.prototype.preventDefault=Vu.prototype.preventDefault;Vu.prototype.stopPropagation=Vu.prototype.stopPropagation;eh.prototype.getActive=eh.prototype.c;eh.prototype.getMap=eh.prototype.f;eh.prototype.setActive=eh.prototype.Ha;eh.prototype.get=eh.prototype.get;eh.prototype.getKeys=eh.prototype.O;eh.prototype.getProperties=eh.prototype.N;eh.prototype.set=eh.prototype.set;eh.prototype.setProperties=eh.prototype.H;eh.prototype.unset=eh.prototype.P;eh.prototype.changed=eh.prototype.s;
eh.prototype.dispatchEvent=eh.prototype.b;eh.prototype.getRevision=eh.prototype.L;eh.prototype.on=eh.prototype.J;eh.prototype.once=eh.prototype.once;eh.prototype.un=eh.prototype.K;ih.prototype.getActive=ih.prototype.c;ih.prototype.getMap=ih.prototype.f;ih.prototype.setActive=ih.prototype.Ha;ih.prototype.get=ih.prototype.get;ih.prototype.getKeys=ih.prototype.O;ih.prototype.getProperties=ih.prototype.N;ih.prototype.set=ih.prototype.set;ih.prototype.setProperties=ih.prototype.H;ih.prototype.unset=ih.prototype.P;
ih.prototype.changed=ih.prototype.s;ih.prototype.dispatchEvent=ih.prototype.b;ih.prototype.getRevision=ih.prototype.L;ih.prototype.on=ih.prototype.J;ih.prototype.once=ih.prototype.once;ih.prototype.un=ih.prototype.K;mh.prototype.getActive=mh.prototype.c;mh.prototype.getMap=mh.prototype.f;mh.prototype.setActive=mh.prototype.Ha;mh.prototype.get=mh.prototype.get;mh.prototype.getKeys=mh.prototype.O;mh.prototype.getProperties=mh.prototype.N;mh.prototype.set=mh.prototype.set;
mh.prototype.setProperties=mh.prototype.H;mh.prototype.unset=mh.prototype.P;mh.prototype.changed=mh.prototype.s;mh.prototype.dispatchEvent=mh.prototype.b;mh.prototype.getRevision=mh.prototype.L;mh.prototype.on=mh.prototype.J;mh.prototype.once=mh.prototype.once;mh.prototype.un=mh.prototype.K;cv.prototype.getActive=cv.prototype.c;cv.prototype.getMap=cv.prototype.f;cv.prototype.setActive=cv.prototype.Ha;cv.prototype.get=cv.prototype.get;cv.prototype.getKeys=cv.prototype.O;
cv.prototype.getProperties=cv.prototype.N;cv.prototype.set=cv.prototype.set;cv.prototype.setProperties=cv.prototype.H;cv.prototype.unset=cv.prototype.P;cv.prototype.changed=cv.prototype.s;cv.prototype.dispatchEvent=cv.prototype.b;cv.prototype.getRevision=cv.prototype.L;cv.prototype.on=cv.prototype.J;cv.prototype.once=cv.prototype.once;cv.prototype.un=cv.prototype.K;fv.prototype.type=fv.prototype.type;fv.prototype.target=fv.prototype.target;fv.prototype.preventDefault=fv.prototype.preventDefault;
fv.prototype.stopPropagation=fv.prototype.stopPropagation;hv.prototype.getActive=hv.prototype.c;hv.prototype.getMap=hv.prototype.f;hv.prototype.setActive=hv.prototype.Ha;hv.prototype.get=hv.prototype.get;hv.prototype.getKeys=hv.prototype.O;hv.prototype.getProperties=hv.prototype.N;hv.prototype.set=hv.prototype.set;hv.prototype.setProperties=hv.prototype.H;hv.prototype.unset=hv.prototype.P;hv.prototype.changed=hv.prototype.s;hv.prototype.dispatchEvent=hv.prototype.b;hv.prototype.getRevision=hv.prototype.L;
hv.prototype.on=hv.prototype.J;hv.prototype.once=hv.prototype.once;hv.prototype.un=hv.prototype.K;mv.prototype.getActive=mv.prototype.c;mv.prototype.getMap=mv.prototype.f;mv.prototype.setActive=mv.prototype.Ha;mv.prototype.get=mv.prototype.get;mv.prototype.getKeys=mv.prototype.O;mv.prototype.getProperties=mv.prototype.N;mv.prototype.set=mv.prototype.set;mv.prototype.setProperties=mv.prototype.H;mv.prototype.unset=mv.prototype.P;mv.prototype.changed=mv.prototype.s;mv.prototype.dispatchEvent=mv.prototype.b;
mv.prototype.getRevision=mv.prototype.L;mv.prototype.on=mv.prototype.J;mv.prototype.once=mv.prototype.once;mv.prototype.un=mv.prototype.K;sv.prototype.type=sv.prototype.type;sv.prototype.target=sv.prototype.target;sv.prototype.preventDefault=sv.prototype.preventDefault;sv.prototype.stopPropagation=sv.prototype.stopPropagation;of.prototype.get=of.prototype.get;of.prototype.getKeys=of.prototype.O;of.prototype.getProperties=of.prototype.N;of.prototype.set=of.prototype.set;
of.prototype.setProperties=of.prototype.H;of.prototype.unset=of.prototype.P;of.prototype.changed=of.prototype.s;of.prototype.dispatchEvent=of.prototype.b;of.prototype.getRevision=of.prototype.L;of.prototype.on=of.prototype.J;of.prototype.once=of.prototype.once;of.prototype.un=of.prototype.K;rf.prototype.getClosestPoint=rf.prototype.Ab;rf.prototype.intersectsCoordinate=rf.prototype.sb;rf.prototype.getExtent=rf.prototype.G;rf.prototype.rotate=rf.prototype.rotate;rf.prototype.scale=rf.prototype.scale;
rf.prototype.simplify=rf.prototype.Rb;rf.prototype.transform=rf.prototype.tb;rf.prototype.get=rf.prototype.get;rf.prototype.getKeys=rf.prototype.O;rf.prototype.getProperties=rf.prototype.N;rf.prototype.set=rf.prototype.set;rf.prototype.setProperties=rf.prototype.H;rf.prototype.unset=rf.prototype.P;rf.prototype.changed=rf.prototype.s;rf.prototype.dispatchEvent=rf.prototype.b;rf.prototype.getRevision=rf.prototype.L;rf.prototype.on=rf.prototype.J;rf.prototype.once=rf.prototype.once;rf.prototype.un=rf.prototype.K;
ys.prototype.getFirstCoordinate=ys.prototype.ac;ys.prototype.getLastCoordinate=ys.prototype.bc;ys.prototype.getLayout=ys.prototype.cc;ys.prototype.rotate=ys.prototype.rotate;ys.prototype.scale=ys.prototype.scale;ys.prototype.getClosestPoint=ys.prototype.Ab;ys.prototype.intersectsCoordinate=ys.prototype.sb;ys.prototype.getExtent=ys.prototype.G;ys.prototype.simplify=ys.prototype.Rb;ys.prototype.get=ys.prototype.get;ys.prototype.getKeys=ys.prototype.O;ys.prototype.getProperties=ys.prototype.N;
ys.prototype.set=ys.prototype.set;ys.prototype.setProperties=ys.prototype.H;ys.prototype.unset=ys.prototype.P;ys.prototype.changed=ys.prototype.s;ys.prototype.dispatchEvent=ys.prototype.b;ys.prototype.getRevision=ys.prototype.L;ys.prototype.on=ys.prototype.J;ys.prototype.once=ys.prototype.once;ys.prototype.un=ys.prototype.K;tm.prototype.getClosestPoint=tm.prototype.Ab;tm.prototype.intersectsCoordinate=tm.prototype.sb;tm.prototype.getExtent=tm.prototype.G;tm.prototype.rotate=tm.prototype.rotate;
tm.prototype.scale=tm.prototype.scale;tm.prototype.simplify=tm.prototype.Rb;tm.prototype.transform=tm.prototype.tb;tm.prototype.get=tm.prototype.get;tm.prototype.getKeys=tm.prototype.O;tm.prototype.getProperties=tm.prototype.N;tm.prototype.set=tm.prototype.set;tm.prototype.setProperties=tm.prototype.H;tm.prototype.unset=tm.prototype.P;tm.prototype.changed=tm.prototype.s;tm.prototype.dispatchEvent=tm.prototype.b;tm.prototype.getRevision=tm.prototype.L;tm.prototype.on=tm.prototype.J;
tm.prototype.once=tm.prototype.once;tm.prototype.un=tm.prototype.K;Jf.prototype.getFirstCoordinate=Jf.prototype.ac;Jf.prototype.getLastCoordinate=Jf.prototype.bc;Jf.prototype.getLayout=Jf.prototype.cc;Jf.prototype.rotate=Jf.prototype.rotate;Jf.prototype.scale=Jf.prototype.scale;Jf.prototype.getClosestPoint=Jf.prototype.Ab;Jf.prototype.intersectsCoordinate=Jf.prototype.sb;Jf.prototype.getExtent=Jf.prototype.G;Jf.prototype.simplify=Jf.prototype.Rb;Jf.prototype.transform=Jf.prototype.tb;
Jf.prototype.get=Jf.prototype.get;Jf.prototype.getKeys=Jf.prototype.O;Jf.prototype.getProperties=Jf.prototype.N;Jf.prototype.set=Jf.prototype.set;Jf.prototype.setProperties=Jf.prototype.H;Jf.prototype.unset=Jf.prototype.P;Jf.prototype.changed=Jf.prototype.s;Jf.prototype.dispatchEvent=Jf.prototype.b;Jf.prototype.getRevision=Jf.prototype.L;Jf.prototype.on=Jf.prototype.J;Jf.prototype.once=Jf.prototype.once;Jf.prototype.un=Jf.prototype.K;O.prototype.getFirstCoordinate=O.prototype.ac;
O.prototype.getLastCoordinate=O.prototype.bc;O.prototype.getLayout=O.prototype.cc;O.prototype.rotate=O.prototype.rotate;O.prototype.scale=O.prototype.scale;O.prototype.getClosestPoint=O.prototype.Ab;O.prototype.intersectsCoordinate=O.prototype.sb;O.prototype.getExtent=O.prototype.G;O.prototype.simplify=O.prototype.Rb;O.prototype.transform=O.prototype.tb;O.prototype.get=O.prototype.get;O.prototype.getKeys=O.prototype.O;O.prototype.getProperties=O.prototype.N;O.prototype.set=O.prototype.set;
O.prototype.setProperties=O.prototype.H;O.prototype.unset=O.prototype.P;O.prototype.changed=O.prototype.s;O.prototype.dispatchEvent=O.prototype.b;O.prototype.getRevision=O.prototype.L;O.prototype.on=O.prototype.J;O.prototype.once=O.prototype.once;O.prototype.un=O.prototype.K;P.prototype.getFirstCoordinate=P.prototype.ac;P.prototype.getLastCoordinate=P.prototype.bc;P.prototype.getLayout=P.prototype.cc;P.prototype.rotate=P.prototype.rotate;P.prototype.scale=P.prototype.scale;
P.prototype.getClosestPoint=P.prototype.Ab;P.prototype.intersectsCoordinate=P.prototype.sb;P.prototype.getExtent=P.prototype.G;P.prototype.simplify=P.prototype.Rb;P.prototype.transform=P.prototype.tb;P.prototype.get=P.prototype.get;P.prototype.getKeys=P.prototype.O;P.prototype.getProperties=P.prototype.N;P.prototype.set=P.prototype.set;P.prototype.setProperties=P.prototype.H;P.prototype.unset=P.prototype.P;P.prototype.changed=P.prototype.s;P.prototype.dispatchEvent=P.prototype.b;
P.prototype.getRevision=P.prototype.L;P.prototype.on=P.prototype.J;P.prototype.once=P.prototype.once;P.prototype.un=P.prototype.K;Q.prototype.getFirstCoordinate=Q.prototype.ac;Q.prototype.getLastCoordinate=Q.prototype.bc;Q.prototype.getLayout=Q.prototype.cc;Q.prototype.rotate=Q.prototype.rotate;Q.prototype.scale=Q.prototype.scale;Q.prototype.getClosestPoint=Q.prototype.Ab;Q.prototype.intersectsCoordinate=Q.prototype.sb;Q.prototype.getExtent=Q.prototype.G;Q.prototype.simplify=Q.prototype.Rb;
Q.prototype.transform=Q.prototype.tb;Q.prototype.get=Q.prototype.get;Q.prototype.getKeys=Q.prototype.O;Q.prototype.getProperties=Q.prototype.N;Q.prototype.set=Q.prototype.set;Q.prototype.setProperties=Q.prototype.H;Q.prototype.unset=Q.prototype.P;Q.prototype.changed=Q.prototype.s;Q.prototype.dispatchEvent=Q.prototype.b;Q.prototype.getRevision=Q.prototype.L;Q.prototype.on=Q.prototype.J;Q.prototype.once=Q.prototype.once;Q.prototype.un=Q.prototype.K;R.prototype.getFirstCoordinate=R.prototype.ac;
R.prototype.getLastCoordinate=R.prototype.bc;R.prototype.getLayout=R.prototype.cc;R.prototype.rotate=R.prototype.rotate;R.prototype.scale=R.prototype.scale;R.prototype.getClosestPoint=R.prototype.Ab;R.prototype.intersectsCoordinate=R.prototype.sb;R.prototype.getExtent=R.prototype.G;R.prototype.simplify=R.prototype.Rb;R.prototype.transform=R.prototype.tb;R.prototype.get=R.prototype.get;R.prototype.getKeys=R.prototype.O;R.prototype.getProperties=R.prototype.N;R.prototype.set=R.prototype.set;
R.prototype.setProperties=R.prototype.H;R.prototype.unset=R.prototype.P;R.prototype.changed=R.prototype.s;R.prototype.dispatchEvent=R.prototype.b;R.prototype.getRevision=R.prototype.L;R.prototype.on=R.prototype.J;R.prototype.once=R.prototype.once;R.prototype.un=R.prototype.K;C.prototype.getFirstCoordinate=C.prototype.ac;C.prototype.getLastCoordinate=C.prototype.bc;C.prototype.getLayout=C.prototype.cc;C.prototype.rotate=C.prototype.rotate;C.prototype.scale=C.prototype.scale;
C.prototype.getClosestPoint=C.prototype.Ab;C.prototype.intersectsCoordinate=C.prototype.sb;C.prototype.getExtent=C.prototype.G;C.prototype.simplify=C.prototype.Rb;C.prototype.transform=C.prototype.tb;C.prototype.get=C.prototype.get;C.prototype.getKeys=C.prototype.O;C.prototype.getProperties=C.prototype.N;C.prototype.set=C.prototype.set;C.prototype.setProperties=C.prototype.H;C.prototype.unset=C.prototype.P;C.prototype.changed=C.prototype.s;C.prototype.dispatchEvent=C.prototype.b;
C.prototype.getRevision=C.prototype.L;C.prototype.on=C.prototype.J;C.prototype.once=C.prototype.once;C.prototype.un=C.prototype.K;D.prototype.getFirstCoordinate=D.prototype.ac;D.prototype.getLastCoordinate=D.prototype.bc;D.prototype.getLayout=D.prototype.cc;D.prototype.rotate=D.prototype.rotate;D.prototype.scale=D.prototype.scale;D.prototype.getClosestPoint=D.prototype.Ab;D.prototype.intersectsCoordinate=D.prototype.sb;D.prototype.getExtent=D.prototype.G;D.prototype.simplify=D.prototype.Rb;
D.prototype.transform=D.prototype.tb;D.prototype.get=D.prototype.get;D.prototype.getKeys=D.prototype.O;D.prototype.getProperties=D.prototype.N;D.prototype.set=D.prototype.set;D.prototype.setProperties=D.prototype.H;D.prototype.unset=D.prototype.P;D.prototype.changed=D.prototype.s;D.prototype.dispatchEvent=D.prototype.b;D.prototype.getRevision=D.prototype.L;D.prototype.on=D.prototype.J;D.prototype.once=D.prototype.once;D.prototype.un=D.prototype.K;Sm.prototype.readFeatures=Sm.prototype.Oa;
an.prototype.readFeatures=an.prototype.Oa;Sm.prototype.readFeatures=Sm.prototype.Oa;md.prototype.get=md.prototype.get;md.prototype.getKeys=md.prototype.O;md.prototype.getProperties=md.prototype.N;md.prototype.set=md.prototype.set;md.prototype.setProperties=md.prototype.H;md.prototype.unset=md.prototype.P;md.prototype.changed=md.prototype.s;md.prototype.dispatchEvent=md.prototype.b;md.prototype.getRevision=md.prototype.L;md.prototype.on=md.prototype.J;md.prototype.once=md.prototype.once;
md.prototype.un=md.prototype.K;nd.prototype.getMap=nd.prototype.g;nd.prototype.setMap=nd.prototype.setMap;nd.prototype.setTarget=nd.prototype.f;nd.prototype.get=nd.prototype.get;nd.prototype.getKeys=nd.prototype.O;nd.prototype.getProperties=nd.prototype.N;nd.prototype.set=nd.prototype.set;nd.prototype.setProperties=nd.prototype.H;nd.prototype.unset=nd.prototype.P;nd.prototype.changed=nd.prototype.s;nd.prototype.dispatchEvent=nd.prototype.b;nd.prototype.getRevision=nd.prototype.L;nd.prototype.on=nd.prototype.J;
nd.prototype.once=nd.prototype.once;nd.prototype.un=nd.prototype.K;yd.prototype.getMap=yd.prototype.g;yd.prototype.setMap=yd.prototype.setMap;yd.prototype.setTarget=yd.prototype.f;yd.prototype.get=yd.prototype.get;yd.prototype.getKeys=yd.prototype.O;yd.prototype.getProperties=yd.prototype.N;yd.prototype.set=yd.prototype.set;yd.prototype.setProperties=yd.prototype.H;yd.prototype.unset=yd.prototype.P;yd.prototype.changed=yd.prototype.s;yd.prototype.dispatchEvent=yd.prototype.b;
yd.prototype.getRevision=yd.prototype.L;yd.prototype.on=yd.prototype.J;yd.prototype.once=yd.prototype.once;yd.prototype.un=yd.prototype.K;Dd.prototype.getMap=Dd.prototype.g;Dd.prototype.setMap=Dd.prototype.setMap;Dd.prototype.setTarget=Dd.prototype.f;Dd.prototype.get=Dd.prototype.get;Dd.prototype.getKeys=Dd.prototype.O;Dd.prototype.getProperties=Dd.prototype.N;Dd.prototype.set=Dd.prototype.set;Dd.prototype.setProperties=Dd.prototype.H;Dd.prototype.unset=Dd.prototype.P;Dd.prototype.changed=Dd.prototype.s;
Dd.prototype.dispatchEvent=Dd.prototype.b;Dd.prototype.getRevision=Dd.prototype.L;Dd.prototype.on=Dd.prototype.J;Dd.prototype.once=Dd.prototype.once;Dd.prototype.un=Dd.prototype.K;Bk.prototype.getMap=Bk.prototype.g;Bk.prototype.setMap=Bk.prototype.setMap;Bk.prototype.setTarget=Bk.prototype.f;Bk.prototype.get=Bk.prototype.get;Bk.prototype.getKeys=Bk.prototype.O;Bk.prototype.getProperties=Bk.prototype.N;Bk.prototype.set=Bk.prototype.set;Bk.prototype.setProperties=Bk.prototype.H;Bk.prototype.unset=Bk.prototype.P;
Bk.prototype.changed=Bk.prototype.s;Bk.prototype.dispatchEvent=Bk.prototype.b;Bk.prototype.getRevision=Bk.prototype.L;Bk.prototype.on=Bk.prototype.J;Bk.prototype.once=Bk.prototype.once;Bk.prototype.un=Bk.prototype.K;ud.prototype.getMap=ud.prototype.g;ud.prototype.setMap=ud.prototype.setMap;ud.prototype.setTarget=ud.prototype.f;ud.prototype.get=ud.prototype.get;ud.prototype.getKeys=ud.prototype.O;ud.prototype.getProperties=ud.prototype.N;ud.prototype.set=ud.prototype.set;
ud.prototype.setProperties=ud.prototype.H;ud.prototype.unset=ud.prototype.P;ud.prototype.changed=ud.prototype.s;ud.prototype.dispatchEvent=ud.prototype.b;ud.prototype.getRevision=ud.prototype.L;ud.prototype.on=ud.prototype.J;ud.prototype.once=ud.prototype.once;ud.prototype.un=ud.prototype.K;Gk.prototype.getMap=Gk.prototype.g;Gk.prototype.setMap=Gk.prototype.setMap;Gk.prototype.setTarget=Gk.prototype.f;Gk.prototype.get=Gk.prototype.get;Gk.prototype.getKeys=Gk.prototype.O;
Gk.prototype.getProperties=Gk.prototype.N;Gk.prototype.set=Gk.prototype.set;Gk.prototype.setProperties=Gk.prototype.H;Gk.prototype.unset=Gk.prototype.P;Gk.prototype.changed=Gk.prototype.s;Gk.prototype.dispatchEvent=Gk.prototype.b;Gk.prototype.getRevision=Gk.prototype.L;Gk.prototype.on=Gk.prototype.J;Gk.prototype.once=Gk.prototype.once;Gk.prototype.un=Gk.prototype.K;wd.prototype.getMap=wd.prototype.g;wd.prototype.setMap=wd.prototype.setMap;wd.prototype.setTarget=wd.prototype.f;wd.prototype.get=wd.prototype.get;
wd.prototype.getKeys=wd.prototype.O;wd.prototype.getProperties=wd.prototype.N;wd.prototype.set=wd.prototype.set;wd.prototype.setProperties=wd.prototype.H;wd.prototype.unset=wd.prototype.P;wd.prototype.changed=wd.prototype.s;wd.prototype.dispatchEvent=wd.prototype.b;wd.prototype.getRevision=wd.prototype.L;wd.prototype.on=wd.prototype.J;wd.prototype.once=wd.prototype.once;wd.prototype.un=wd.prototype.K;Lk.prototype.getMap=Lk.prototype.g;Lk.prototype.setMap=Lk.prototype.setMap;
Lk.prototype.setTarget=Lk.prototype.f;Lk.prototype.get=Lk.prototype.get;Lk.prototype.getKeys=Lk.prototype.O;Lk.prototype.getProperties=Lk.prototype.N;Lk.prototype.set=Lk.prototype.set;Lk.prototype.setProperties=Lk.prototype.H;Lk.prototype.unset=Lk.prototype.P;Lk.prototype.changed=Lk.prototype.s;Lk.prototype.dispatchEvent=Lk.prototype.b;Lk.prototype.getRevision=Lk.prototype.L;Lk.prototype.on=Lk.prototype.J;Lk.prototype.once=Lk.prototype.once;Lk.prototype.un=Lk.prototype.K;Qk.prototype.getMap=Qk.prototype.g;
Qk.prototype.setMap=Qk.prototype.setMap;Qk.prototype.setTarget=Qk.prototype.f;Qk.prototype.get=Qk.prototype.get;Qk.prototype.getKeys=Qk.prototype.O;Qk.prototype.getProperties=Qk.prototype.N;Qk.prototype.set=Qk.prototype.set;Qk.prototype.setProperties=Qk.prototype.H;Qk.prototype.unset=Qk.prototype.P;Qk.prototype.changed=Qk.prototype.s;Qk.prototype.dispatchEvent=Qk.prototype.b;Qk.prototype.getRevision=Qk.prototype.L;Qk.prototype.on=Qk.prototype.J;Qk.prototype.once=Qk.prototype.once;
Qk.prototype.un=Qk.prototype.K;
  return OPENLAYERS.ol;
}));

var tf={types:{},consts:{},platform:{},browser:{},helpers:{},units:{},js:{},layout:{},dom:{},events:{},ui:{},apps:{},ajax:{},styles:{},canvas:{},map:{ui:{},aux:{}},urlapi:{},services:{},math:{},g_Styles:null,g_SvgGlyphBtnMaker:null,g_Counter:null,g_Debug:null,g_DocMouseListener:null,g_UtmGdcConverter:null,g_LevelResolutionConverter:null,g_scriptCallDispatcher:null,g_SvgGlyphLib:null};tf.consts.URLAPIDocumentTitle="TerraMap";tf.consts.MVideoDocumentTitle="Data Mapper";
tf.consts.TimeSeriesDocumentTitle="TerraFly - TimeSeries";tf.consts.MLSDocumentTitle="TerraFly MLS Search";tf.consts.MLSDocumentTitle2="Search Tool for S Florida Real Estate Powered by TerraFly";tf.consts.urlPartsSeparatorStr="$$";tf.consts.defaultLatitude=25.75869;tf.consts.minLatitude=-90;tf.consts.maxLatitude=90;tf.consts.latitudeRange=tf.consts.maxLatitude-tf.consts.minLatitude;tf.consts.defaultLongitude=-80.37388;tf.consts.minLongitude=-180;tf.consts.maxLongitude=180;
tf.consts.longitudeRange=tf.consts.maxlongitude-tf.consts.minlongitude;tf.consts.defaultMapCenter=[tf.consts.defaultLongitude,tf.consts.defaultLatitude];tf.consts.defaultRes=2.4;tf.consts.defaultLevel=16;tf.consts.maxLevel=24;tf.consts.minLevel=1;tf.consts.defaultTFLogoOn=!0;tf.consts.defaultLegend="$$http://vn4.cs.fiu.edu/defaultmap$$";tf.consts.defaultLegendM="$$http://n00.cs.fiu.edu/Defaults/layers.maponly.mapnik2$$";tf.consts.defaultLegendH="$$http://n00.cs.fiu.edu/Defaults/layers.hybrid.mapnik2$$";
tf.consts.mapnikEngine="m";tf.consts.mapnik2Engine="m2";tf.consts.defaultFMap=tf.consts.mapnik2Engine;tf.consts.defaultTFPassThrough="";tf.consts.defaultVid="";tf.consts.defaultHelp="<span><b>Double Click</b>: Local Data Reports and Queries<br /><b>Drag</b>: Browse the map<br />Buttons: <b>Full Screen</b>, <b>Reset Rotation</b>, <b>Search Location</b>, <b>Zoom</b>, <b>Map Layers</b><br /><br />Address bar examples:<br />1 Flagler St, Miami, FL<br />Miami<br />Miami, FL<br />33139<br />25.77 -80.19 (coordinates)</span>";
tf.consts.defaultAddress="";tf.consts.tfLogoOnStr="1";tf.consts.tfLogoOffStr="0";tf.consts.typeNameHybrid="hybrid";tf.consts.typeNameMap="map";tf.consts.typeNameAerial="satellite";tf.consts.typeNameUndefined="undefined";tf.consts.defaultTypeName=tf.consts.typeNameHybrid;tf.consts.sourceName_best_available="best_available";tf.consts.sourceName_naip_1m="naip_1m";tf.consts.sourceName_usgs_toop_r="usgs_toop_r";tf.consts.sourceName_county_1ft="county_1ft";tf.consts.sourceName_landsat7_321="landsat7_321";
tf.consts.sourceName_usgs_1m="usgs_1m";tf.consts.sourceName_country_3inch="country_3inch";tf.consts.sourceName_usgs_ap_cir="usgs_ap_cir";tf.consts.sourceName_usgs_ap_r="usgs_ap_r";tf.consts.sourceName_dor_1ft="dor_1ft";tf.consts.sourceName_usgs_ap_cir="usgs_ap_cir";tf.consts.defaultSourceName=tf.consts.sourceName_best_available;tf.consts.appParamName="app";tf.consts.appStartParamName="appstart";tf.consts.appStartExpandedValue="expanded";tf.consts.appStartCollapsedValue="collapsed";
tf.consts.paramLinkTargetStr="linktarget";tf.consts.panelNameZoom="zoom";tf.consts.panelNameOverview="overview";tf.consts.panelNameLayers="legend";tf.consts.markersPanelCollapsed="markerspanecollapsed";tf.consts.panelNameDownload="download";tf.consts.panelNameMeasure="measure";tf.consts.panelNameType="type";tf.consts.panelNameFullscreen="fullscreen";tf.consts.panelNameSource="source";tf.consts.panelNameAddress="address";tf.consts.panelNameMapLocation="maplocation";tf.consts.panelNameMapScale="mapscale";
tf.consts.panelNameMapRotate="maprotate";tf.consts.panelNameUserLocation="userlocation";tf.consts.panelNameTFLogo="tflogo";tf.consts.panelNameNoAddress="noaddress";tf.consts.panelNameNoMapLocation="nomaplocation";tf.consts.panelNameNoMapRotate="nomaprotate";tf.consts.panelNameNoMapScale="nomapscale";tf.consts.panelNameNoUserLocation="nouserlocation";tf.consts.panelNameNoMapCenter="nomapcenter";tf.consts.charSplitStrings="+";
tf.consts.allPanelNames=[tf.consts.panelNameAddress,tf.consts.panelNameZoom,tf.consts.panelNameLayers,tf.consts.markersPanelCollapsed,tf.consts.panelNameType,tf.consts.panelNameMeasure,tf.consts.panelNameDownload,tf.consts.panelNameSource,tf.consts.panelNameFullscreen,tf.consts.panelNameMapLocation,tf.consts.panelNameOverview,tf.consts.panelNameMapScale,tf.consts.panelNameMapRotate,tf.consts.panelNameUserLocation,tf.consts.panelNameTFLogo];
tf.consts.defaultPanels=tf.consts.panelNameTFLogo+tf.consts.charSplitStrings+tf.consts.panelNameAddress+tf.consts.charSplitStrings+tf.consts.panelNameZoom+tf.consts.charSplitStrings+tf.consts.panelNameLayers+tf.consts.charSplitStrings+tf.consts.panelNameType+tf.consts.charSplitStrings+tf.consts.panelNameMeasure+tf.consts.charSplitStrings+tf.consts.panelNameMapLocation+tf.consts.charSplitStrings+tf.consts.panelNameUserLocation+tf.consts.charSplitStrings+tf.consts.panelNameMapRotate+tf.consts.charSplitStrings+
tf.consts.panelNameMapScale+tf.consts.charSplitStrings+tf.consts.panelNameOverview;tf.consts.charSplitApps="+";tf.consts.paramNameFMap="fmap";tf.consts.paramNameLat="lat";tf.consts.paramNameLon="lon";tf.consts.paramNameRes="res";tf.consts.paramNameLevel="level";tf.consts.paramNamePanels="panels";tf.consts.paramNameAddress="address";tf.consts.paramNameHelp="help";tf.consts.paramNameVid="vid";tf.consts.paramNamePassThrough="tf_passtrough";tf.consts.paramNameTFLogo="tflogo";tf.consts.paramNameType="type";
tf.consts.paramNameSource="source";tf.consts.paramNameMessageTimeout="rgpopup";tf.consts.paramNameLegend="legend";tf.consts.paramNameLegendH="legendh";tf.consts.paramNameLegendM="legendm";tf.consts.paramNameApps="apps";tf.consts.paramNameAppSpecs="appspecs";tf.consts.paramNameDLLegend="dlayerlegend";tf.consts.paramNameDLData="dlayerdata";tf.consts.paramNameDLField="dlayerfield";tf.consts.paramNameDLSelect="dlayerselect";tf.consts.paramNameDLColor="dlayercolor";tf.consts.paramNameDLExtent="dlayerextent";
tf.consts.paramNameDLPreClick="dlayerpreclick";tf.consts.paramNamePerspectiveMap="perspectivemap";tf.consts.paramNameDirectionsMode="directionsmode";tf.consts.paramNameDirectionsDest="directionsdest";tf.consts.paramNameDirectionsUseBus="directionsbus";tf.consts.paramNameDirectionsUseBusStage="directionsbusstage";tf.consts.MVideoParamNameVideo="m";tf.consts.minMessageTimeout=0;tf.consts.maxMessageTimeout=60;tf.consts.defaultMessageTimeout=5;tf.consts.addressBarName="Search Location";
tf.consts.mapTypesName="Display Type";tf.consts.mapTypesHybridLabel="Hybrid";tf.consts.mapTypesAerialLabel="Aerial";tf.consts.mapTypesMapLabel="Map";tf.consts.mapTypesHybridTip="Hybrid: Aerial + Map";tf.consts.mapTypesAerialTip="Aerial images only";tf.consts.mapTypesMapTip="Map images only";tf.consts.centerToUserLocationTip="Center Map to User Location";tf.consts.mapLayersName="Map Layers";tf.consts.baseMapLayersName="Base Layers";tf.consts.baseMapLayersToolTip="View Base Layers";
tf.consts.mapSourcesName="Aerial Source";tf.consts.mapSourcesItemTip="Use images from: ";tf.consts.mapLayerSourceName="maplayersource";tf.consts.mapDownloadName="Download";tf.consts.mapMeasureName="Measure";tf.consts.mapLocationShowTip="Enable Location Information on Map Move";tf.consts.mapLocationHideTip="Disable Location Information on Map Move";tf.consts.mapLocationPopupHideTip="Hide Location Information";tf.consts.fullScreenToolTipNormal="View Full Screen";tf.consts.fullScreenToolTipFull="Exit Full Screen";
tf.consts.minAppWidthNumber=400;tf.consts.minAppHeightNumber=360;tf.consts.defaultGeocoderError="ERROR IN ADDRESS, PLEASE REENTER";tf.consts.strShowPanel="SHOW";tf.consts.strHidePanel="HIDE";tf.consts.RoutingServiceURL="http://131.94.133.147:5000/";tf.consts.routingServiceModeFoot="foot";tf.consts.routingServiceModeCar="car";tf.consts.routingServiceModeBicycle="bicycle";tf.consts.routingServiceModeBus="bus";tf.consts.worldGeodeticSystemStr="EPSG:4326";tf.consts.sphericalMercatorSystemStr="EPSG:3857";
tf.consts.UTMSystemStr="EPSG:3006";tf.consts.olSystem=tf.consts.sphericalMercatorSystemStr;tf.consts.tmSystem=tf.consts.worldGeodeticSystemStr;tf.consts.downloadSystem=tf.consts.UTMSystemStr;tf.consts.SVGGlyphPrefix="-tf-svgglyph-";tf.consts.KnownPropertyPrefix="-tf-prop-";tf.consts.DLayerProperty=tf.consts.KnownPropertyPrefix+"dlayer";tf.consts.TableRowProperty=tf.consts.KnownPropertyPrefix+"tablerow";tf.consts.KeyedFeatureProperty=tf.consts.KnownPropertyPrefix+"keyedfeature";
tf.consts.DOMEventNames={};tf.consts.DOMEventNamesFocus="focus";tf.consts.DOMEventNamesBlur="blur";tf.consts.DOMEventNamesEnded="ended";tf.consts.DOMEventNamesTimeUpdate="timeupdate";tf.consts.DOMEventNamesLoadMetaData="loadmetadata";tf.consts.DOMEventNamesClick="click";tf.consts.DOMEventNamesChange="change";tf.consts.DOMEventNamesDOMMouseScroll="DOMMouseScroll";tf.consts.DOMEventNamesMouseWheel="mousewheel";tf.consts.DOMEventNamesLoseFocus="losefocus";tf.consts.DOMEventNamesResize="resize";
tf.consts.DOMEventNamesKeyPress="keypress";tf.consts.DOMEventNamesKeyUp="keyup";tf.consts.DOMEventNamesMouseMove="mousemove";tf.consts.DOMEventNamesMouseUp="mouseup";tf.consts.DOMEventNamesMouseDown="mousedown";tf.consts.DOMEventNamesMouseOver="mouseover";tf.consts.DOMEventNamesMouseOut="mouseout";tf.consts.DOMEventNamesMouseEnter="mouseenter";tf.consts.DOMEventNamesMouseLeave="mouseleave";tf.consts.DOMEventNamesTouchStart="touchstart";tf.consts.DOMEventNamesTouchMove="touchmove";
tf.consts.DOMEventNamesTouchEnd="touchend";tf.consts.DOMEventNamesTouchEnter="touchenter";tf.consts.DOMEventNamesTouchLeave="touchleave";tf.consts.DOMEventNamesTouchCancel="touchcancel";
tf.consts.allMouseEventNames=[tf.consts.DOMEventNamesMouseMove,tf.consts.DOMEventNamesMouseUp,tf.consts.DOMEventNamesMouseDown,tf.consts.DOMEventNamesMouseOver,tf.consts.DOMEventNamesMouseOut,tf.consts.DOMEventNamesMouseEnter,tf.consts.DOMEventNamesMouseLeave,tf.consts.DOMEventNamesTouchStart,tf.consts.DOMEventNamesTouchMove,tf.consts.DOMEventNamesTouchEnd,tf.consts.DOMEventNamesTouchEnter,tf.consts.DOMEventNamesTouchLeave,tf.consts.DOMEventNamesTouchCancel];
tf.consts.DOMEventNameswebkitfullscreenchange="webkitfullscreenchange";tf.consts.DOMEventNamesmozfullscreenchange="mozfullscreenchange";tf.consts.DOMEventNamesfullscreenchange="fullscreenchange";tf.consts.DOMEventNamesMSFullscreenChange="MSFullscreenChange";tf.consts.allFullScreenEventNames=[tf.consts.DOMEventNameswebkitfullscreenchange,tf.consts.DOMEventNamesmozfullscreenchange,tf.consts.DOMEventNamesfullscreenchange,tf.consts.DOMEventNamesMSFullscreenChange];tf.consts.keyedListDeleteEvent="listDelete";
tf.consts.keyedListAddedItemsEvent="listAddedItems";tf.consts.keyedListUpdatedItemsEvent="listUpdatedItems";tf.consts.keyedListDeletedItemsEvent="listDeletedItems";tf.consts.allKeyedListEventNames=[tf.consts.keyedListDeleteEvent,tf.consts.keyedListAddedItemsEvent,tf.consts.keyedListUpdatedItemsEvent,tf.consts.keyedListDeletedItemsEvent];tf.consts.keyedFeaturesAddedEvent="featuresAdded";tf.consts.keyedFeaturesUpdatedEvent="featuresUpdated";tf.consts.keyedFeaturesDeletedEvent="featuresDeleted";
tf.consts.allKeyedFeaturesEventNames=[tf.consts.keyedFeaturesAddedEvent,tf.consts.keyedFeaturesUpdatedEvent,tf.consts.keyedFeaturesDeletedEvent];tf.consts.keyedTableRowsAddedEvent="keyedTableRowsAdded";tf.consts.keyedTableRowsUpdatedEvent="keyedTableRowsUpdated";tf.consts.keyedTableRowsDeletedEvent="keyedTableRowsDeleted";tf.consts.keyedTableRowsEventNames=[tf.consts.keyedTableRowsAddedEvent,tf.consts.keyedTableRowsUpdatedEvent,tf.consts.keyedTableRowsDeletedEvent];
tf.consts.mapFeatureLayerVisibilityChangeEvent="visibilityChange";tf.consts.allMapFeatureLayerEventNames=[tf.consts.mapFeatureLayerVisibilityChangeEvent];tf.consts.mapToggleScaleUnitEvent="toggleScaleUnit";tf.consts.mapMoveEndEvent="moveEnd";tf.consts.mapMoveStartEvent="moveStart";tf.consts.mapResizedEvent="resized";tf.consts.mapMouseMoveEvent="mouseMove";tf.consts.mapClickEvent="click";tf.consts.mapMouseDragEvent="mouseDrag";tf.consts.mapEndDragEvent="endDrag";tf.consts.mapInstantClickEvent="iclick";
tf.consts.mapDblClickEvent="dblClick";tf.consts.mapFeatureClickEvent="featureClick";tf.consts.mapFeatureInstantClickEvent="ifeatureClick";tf.consts.mapFeatureDblClickEvent="featureDblClick";tf.consts.mapFeatureMouseMoveEvent="featureMouseMove";tf.consts.mapFeatureMouseDragEvent="featureMouseDrag";tf.consts.mapFeatureHoverInOutEvent="featureHoverInOut";tf.consts.mapTypeChangeEvent="modeChange";tf.consts.mapLevelChangeEvent="levelChange";tf.consts.mapResolutionChangeEvent="resolutionChange";
tf.consts.mapRotationChangeEvent="rotationChange";tf.consts.mapFullScreenEvent="fullScreen";tf.consts.mapPostComposeEvent="postCompose";tf.consts.mapPostPostComposeEvent="postPostCompose";tf.consts.mapPreComposeEvent="preCompose";tf.consts.mapPostRenderEvent="postRender";tf.consts.mapViewSettingsChangedEvent="viewsettingschanged";
tf.consts.allMapEventNames=[tf.consts.mapToggleScaleUnitEvent,tf.consts.mapMoveEndEvent,tf.consts.mapMoveStartEvent,tf.consts.mapResizedEvent,tf.consts.mapMouseMoveEvent,tf.consts.mapMouseDragEvent,tf.consts.mapEndDragEvent,tf.consts.mapClickEvent,tf.consts.mapInstantClickEvent,tf.consts.mapDblClickEvent,tf.consts.mapFeatureInstantClickEvent,tf.consts.mapFeatureClickEvent,tf.consts.mapFeatureDblClickEvent,tf.consts.mapFeatureMouseMoveEvent,tf.consts.mapFeatureMouseDragEvent,tf.consts.mapFeatureHoverInOutEvent,
tf.consts.mapTypeChangeEvent,tf.consts.mapLevelChangeEvent,tf.consts.mapResolutionChangeEvent,tf.consts.mapRotationChangeEvent,tf.consts.mapFullScreenEvent,tf.consts.mapPostComposeEvent,tf.consts.mapPostPostComposeEvent,tf.consts.mapPreComposeEvent,tf.consts.mapPostRenderEvent,tf.consts.mapViewSettingsChangedEvent];tf.consts.positioningCenter="center";tf.consts.positioningLeft="left";tf.consts.positioningRight="right";tf.consts.positioningTop="top";tf.consts.positioningBottom="bottom";
tf.consts.defaultMapFeatureStyleName="defaultMapFeatureStyleName";tf.consts.defaultMapAnimatedDurationPerLevelMillis=400;tf.consts.defaultMapAnimatedCenterDurationMillis=300;tf.platform.TestURL="http://experiment2.cs.fiu.edu/hterramap/test/";tf.platform.StageURL="http://experiment2.cs.fiu.edu/hterramap/stage/";tf.platform.ProdURL="http://tfcore.cs.fiu.edu/hterramap/";tf.platform.LocalURL="http://localhost/terramap/";tf.platform.isKnown=!1;
tf.platform.GetURL=function(){if(void 0==tf.platform.PlatformURL){var a=tf.platform,c,e=document.getElementsByTagName("script"),d,b;for(d=0;b=e[d];++d){b=b.src;var g=b.indexOf("mapapi.js");if(0<=g){c=b.substring(0,g);break}}if(void 0!==c)if(tf.platform.isKnown=0<=c.indexOf("test"))c=tf.platform.TestURL;else if(tf.platform.isKnown=0<=c.indexOf("stage"))c=tf.platform.StageURL;else if(tf.platform.isKnown=0<=c.indexOf("tfcore"))c=tf.platform.ProdURL;tf.platform.isKnown||(c="",tf.platform.isKnown=!1);
a.PlatformURL=c}return tf.platform.PlatformURL};tf.platform.GetIsKnown=function(){tf.platform.GetURL();return tf.platform.isKnown};tf.platform.GetIsTest=function(){return tf.platform.GetURL()==tf.platform.TestURL||!tf.platform.isKnown};tf.platform.GetIsStage=function(){return tf.platform.GetURL()==tf.platform.StageURL};tf.platform.GetIsProduction=function(){return tf.platform.GetURL()==tf.platform.ProdURL};tf.map.MapSphere=new ol.Sphere(6378137);
tf.js.GetLegendCompositesStrs=function(a,c){function e(a,b){var d=0,e="",f="",h="";if(a&&tf.js.GetIsNonEmptyArray(b))for(var g=b.length,k="",l="",m=0;m<g;++m){var p=b[m];if(void 0==c||p.min-1E-5<=c&&p.max+1E-5>=c)e+=k+p.prefix+p.suffixM,f+=k+p.prefix+p.suffixH,h+=l+p.value,k="+",l=",",++d}return{count:d,m1Mpartial:e,m1Hpartial:f,m2partial:h}}function d(a,c){var d=0<c.count;if(d){var e=a?"+":"";g+=e+c.m1Mpartial;b+=e+c.m1Hpartial;f+=(a?",":"")+c.m2partial}return d}var b="",g="",f="";if(tf.js.GetIsNonEmptyArray(a))for(var k=
a.length,h=!1,l=0;l<k;++l){var n=a[l];if(tf.js.GetIsNonEmptyArray(n.groups))for(var m=n.groups.length,p=0;p<m;++p)d(h,e(n.groups[p].visible,n.groups[p].composites))&&(h=!0);else d(h,e(n.visible,n.composites))&&(h=!0)}return{m1H:b,m1M:g,m2:f}};
tf.js.DecodeLegend=function(a){function c(a,b){var c=!!b,d="",e="";tf.js.GetIsNonEmptyString(a)&&(e=a.split(":"),d=e[0].replace(/\_/g," "),0<d.length&&"~"==d[0]&&(c=!0,d=d.substr(1)),e=1<e.length?e[1].replace(/\_/g," "):d);return{visible:c,name:d,desc:e}}function e(a,b){var d=[];if(tf.js.GetIsNonEmptyString(a)){var e=a.split(";"),f=e.length;if(0<f)for(var h=0;h<f;++h){var g=void 0,k=e[h].split("@");if(2==k.length){var l,u=k[1];l=[];var B=void 0,E=void 0;if(tf.js.GetIsNonEmptyString(u))for(var u=u.split("+"),
D=u.length,F=0;F<D;++F){var C,G=u[F];C=void 0;if(tf.js.GetIsNonEmptyString(G)){var H=G.split("-"),I=H.length;C={prefix:"",value:"",suffixM:"",suffixH:"",min:1E11,max:-1};1==I?(C.value=C.prefix=G,C.min=-1,C.max=150):2==I?(C.value=C.prefix=G,G=H[1].substr(0,1),H=H[1].substr(1,1),"_"==G?C.min=0:(C.min=Math.pow(2,parseInt(G,10)),150<C.min&&(C.min=150)),"_"==H?C.max=.999:(C.max=Math.pow(2,parseInt(H,10)+1)-.001,150<C.max&&(C.max=150))):3==I||4==I?(C.prefix=H[0]+"-"+H[1]+"-"+H[2]+"-",C.value=H[0],C.min=
parseFloat(H[1]),C.max=parseFloat(H[2]),C.min>C.max&&(swap=C.min,C.min=C.max,C.max=swap),4==I&&(G=H[3].split("||"),C.suffixH=G[0],C.suffixM=2==G.length?G[1]:G[0])):C=void 0}if(void 0!=C){if(void 0==E||E>C.min)E=C.min;if(void 0==B||B>C.max)B=C.max;l.push(C)}}l={composites:l,min:E,max:B};0<l.composites.length&&(g=tf.js.ShallowMerge(l,c(k[0],b)))}void 0!=g&&d.push(g)}}return d}var d=[];if(tf.js.GetIsNonEmptyString(a)){a=a.split("};");for(var b=a.length,g=0;g<b;++g){var f=a[g],k=f.length,h=void 0;if(0<
k){var l=f.split("{");2==l.length&&(f=e(l[0]),0<f.length&&d.push.apply(d,f),f=l[1],k=f.length);k&&(f=f.split("::"),2==f.length&&(l=c(f[0]),f=e(f[1],l.visible),0<f.length&&(h={groups:f,name:l.name,desc:l.desc})))}void 0!=h&&d.push(h)}}return d};
(function(a){var c=a.prototype,e=c.parseFromString;try{if((new a).parseFromString("","text/html"))return}catch(d){}c.parseFromString=function(a,c){if(/^\s*text\/html\s*(?:;|$)/i.test(c)){var d=document.implementation.createHTMLDocument("");-1<a.toLowerCase().indexOf("<!doctype")?d.documentElement.innerHTML=a:d.body.innerHTML=a;return d}return e.apply(this,arguments)}})(DOMParser);tf.GetDocMouseListener=function(){tf.g_DocMouseListener||(tf.g_DocMouseListener=new tf.events.DocMouseListener);return tf.g_DocMouseListener};
tf.GetStyles=function(a){tf.g_Styles||(tf.g_Styles=new tf.styles.Styles(a));return tf.g_Styles};tf.GetGlobalCounter=function(){tf.g_Counter||(tf.g_Counter=new tf.js.Counter);return tf.g_Counter};tf.GetNextDynCSSClassName=function(){return"tf-dyn-css-"+tf.GetGlobalCounter().GetNext()};tf.GetDebug=function(){tf.g_Debug||(tf.g_Debug=new tf.Debug);return tf.g_Debug};
tf.helpers.XML2Object=function(a){function c(a,b){e[a]?(tf.js.GetIsArray(e[a])||(e[a]=[e[a]]),e[a][e[a].length]=b):e[a]=b}var e={};if(tf.js.GetIsValidObject(a)&&tf.js.GetIsValidObject(a.attributes)&&tf.js.GetIsValidObject(a.childNodes)){var d,b;for(d=0;b=a.attributes[d];++d)c(b.name,b.value);for(d=0;b=a.childNodes[d];++d)1==b.nodeType&&(1==b.childNodes.length&&3==b.firstChild.nodeType?c(b.nodeName,b.firstChild.nodeValue):c(b.nodeName,tf.helpers.XML2Object(b)))}return e};
tf.helpers.XMLString2Object=function(a){var c={};tf.js.GetIsNonEmptyString(a)&&(a=(new DOMParser).parseFromString(a,"application/xml"),tf.js.GetIsValidObject(a)&&tf.js.GetIsValidObject(a.documentElement)&&(c=tf.helpers.XML2Object(a.documentElement)));return c};tf.js.ParseSplitStringWithSeparators=function(a,c){var e={};if(tf.js.GetIsNonEmptyString(a)&&tf.js.GetIsNonEmptyString(c)){a=a.split(c);for(var d=a.length,b=0;b<d;++b){var g=a[b];e[g.toLowerCase()]=g}}return e};
tf.js.AddStringWithSeparators=function(a,c,e){tf.js.GetIsNonEmptyString(c)&&tf.js.GetIsNonEmptyString(e)&&(a=tf.js.GetIsNonEmptyString(a)?a+(e+c):c);return a};tf.js.AddStringsWithSeparatorsIfAbsent=function(a,c,e){if(tf.js.GetIsNonEmptyString(e)){var d=tf.js.ParseSplitStringWithSeparators(a,e);if(tf.js.GetIsValidObject(d)){tf.js.GetIsNonEmptyArray(c)||(c=[c]);for(var b=c.length,g=0;g<b;++g){var f=c[g];tf.js.GetIsNonEmptyString(f)&&(d[f]||(a=tf.js.AddStringWithSeparators(a,f,e)))}}}return a};
tf.helpers.HitTestSegment=function(a,c,e){var d,b,g=0,f=!1,k=!1,h=!1,l;if(tf.js.GetIsArrayWithMinLength(a,2)&&tf.js.GetIsArrayWithMinLength(c,2)&&tf.js.GetIsArrayWithMinLength(e,2)){d=a[0];b=a[1];var g=c[0],n=c[1];if(d==g&&b==n)b=[d,b],k=!0,l=1;else{var m=g-d,p=n-b;l=((e[0]-d)*m+(e[1]-b)*p)/(m*m+p*p);0>l?(b=[d,b],f=!0,l=0):1<l?(b=[g,n],k=!0,l=1):(b=[d+m*l,b+p*l],h=!0)}d=tf.units.GetHaversineDistance(e,b);a=(e[0]-a[0])*(c[1]-a[1])-(e[1]-a[1])*(c[0]-a[0]);g=0==a?0:0<a?1:-1}return{distance:d,closestPoint:b,
isStart:f,isEnd:k,isSeg:h,proj:l,angle:g}};
tf.helpers.HitTestMapCoordinatesArray=function(a,c,e,d,b,g,f,k){var h=-1,l=-1,n=void 0,m=void 0,p=0;if(tf.js.GetIsArrayWithMinLength(a,1)&&tf.js.GetIsArrayWithMinLength(a[0],2)&&tf.js.GetIsArrayWithMinLength(c,2)){var q=a.length-1;0==q&&(a=[a[0],a[0]],q=1);void 0==e&&(e=0);void 0==d&&(d=0);void 0==g&&(g=0);if(void 0==k||0>k)k=0;for(;e<q;++e){var r=tf.helpers.HitTestSegment(a[e],a[1+e],c);if(void 0!=r.distance&&r.proj>d&&(-1==h||r.distance+k<h)&&(void 0===f||0<=f&&0<=r.angle||0>=f&&0>=r.angle)){h=
r.distance;n=r.closestPoint?r.closestPoint.slice(0):void 0;l=e;m=r.proj;p=r.angle;if(void 0!=b&&e>=b)break;if(h<g)break}d=0}}return{minDistance:h,minDistanceIndex:l,closestPoint:n,proj:m,angle:p}};tf.helpers.CalcAverageCoordinates=function(a,c){var e=[0,0];if(tf.js.GetIsNonEmptyArray(a)&&tf.js.GetIsArrayWithLength(a[0],2)){var d=0,b=a.length;c=!!c;for(var g in a){var f=a[g];if(f)if(2==f.length)e[0]+=f[0],e[1]+=f[1],d++;else break;else break;if(c&&g==b-2)break}d&&(e[0]/=d,e[1]/=d)}return e};
tf.dom.SelectAndCopyToClipboard=function(a){return tf.dom.SelectAndCopyToDocClipboard(document,a)};tf.dom.SelectAndCopyToDocClipboard=function(a,c){var e=!1,d=tf.dom.GetHTMLElementFrom(c);if(d)try{d.select(),a.execCommand("copy"),e=!0}catch(b){}return e};
tf.dom.OnRangeChange=function(a,c){a=tf.dom.GetHTMLElementFrom(a);var e=!0,d={current:void 0,mostRecent:void 0};a.addEventListener("input",function(a){e=!1;d.current=a.target.value;d.current!==d.mostRecent&&c(a,d);d.mostRecent=d.current});a.addEventListener("change",function(a){e&&c(a,d)})};
tf.dom.IsVerticalScrollElementVisible=function(a,c,e){e=!0;var d=0;if((a=tf.dom.GetHTMLElementFrom(a))&&(c=tf.dom.GetHTMLElementFrom(c))){var b=a.scrollTop;a=b+a.offsetHeight;var g=c.offsetTop;c=g+c.offsetHeight;c>a&&(e=!1,d=c-a,g+=d);g<b&&(e=!1,d=g-b)}return{isVisible:e,offSetScroll:b+d}};
tf.dom.IsVerticalScrollElementVisibleOld=function(a,c,e){var d=!1,b=0;e=void 0!=e?e:10;(a=tf.dom.GetHTMLElementFrom(a))&&(c=tf.dom.GetHTMLElementFrom(c))&&(c=c.offsetTop-a.offsetTop,d=a.scrollTop,c>d+a.offsetHeight-e?(d=!1,b=c-e):c<d+e?(d=!1,b=c-e):d=!0);return{isVisible:d,offSetScroll:b}};tf.dom.IsLastVerticalScrollElemVisible=function(a,c){var e={isVisible:!0,offsetScroll:0};if(a=tf.dom.GetHTMLElementFrom(a)){var d=a.lastChild;d&&(e=tf.dom.IsVerticalScrollElementVisible(a,d,c))}return e};
tf.dom.ScrollVerticallyToEnsureVisible=function(a,c,e){c=tf.dom.IsVerticalScrollElementVisible(a,c,e);if(e=!c.isVisible)tf.dom.GetHTMLElementFrom(a).scrollTop=c.offSetScroll;return e};tf.dom.ScrollVerticallyToEnd=function(a){if(a=tf.dom.GetHTMLElementFrom(a))a.scrollTop=a.scrollHeight};
tf.dom.ScrollHorizontallyToEnsureVisible=function(a,c){var e=!1;if((a=tf.dom.GetHTMLElementFrom(a))&&(c=tf.dom.GetHTMLElementFrom(c))){var d=c.offsetLeft-a.offsetLeft,e=a.scrollLeft;if(e=d>e+a.offsetWidth-10||d<e)a.scrollLeft=d}return e};tf.dom.SetDisplayStyle=function(a,c){if(a=tf.dom.GetHTMLElementFrom(a))a.style.display=c};tf.dom.ToggleDisplayStyle=function(a,c,e){if(a=tf.dom.GetHTMLElementFrom(a))a.style.display=a.style.display==c?e:c};
tf.dom.ToggleDisplayBlockNone=function(a){return tf.dom.ToggleDisplayStyle(a,"block","none")};tf.dom.SetDisplayBlockNone=function(a,c){return tf.dom.SetDisplayStyle(a,c?"block":"none")};tf.dom.AddScript=function(a,c,e){if(tf.js.GetIsNonEmptyString(a)){e=void 0!=e?e:document;var d=e.createElement("script");d.type="text/javascript";d.src=a;tf.js.GetFunctionOrNull(c)&&(d.onload=c);e.head.appendChild(d)}};
tf.dom.AddScripts=function(a,c,e){function d(){!g&&0<=++b&&(g=!0,c())}var b=0,g=!1;if(tf.js.GetIsNonEmptyArray(a))for(var f=a.length,k=0;k<f;++k)tf.dom.AddScript(a[k],d,e)};tf.dom.AddLink=function(a,c,e,d){if(tf.js.GetIsNonEmptyString(a)){var b=document.createElement("link");tf.js.GetFunctionOrNull(d)&&(b.onload=d);b.href=a;tf.js.GetIsNonEmptyString(c)&&(b.rel=c);tf.js.GetIsNonEmptyString(e)&&(b.type=e);document.head.appendChild(b)}};
tf.dom.AddGoogleFont=function(a,c){tf.js.GetIsNonEmptyString(a)&&tf.dom.AddLink("http://fonts.googleapis.com/css?family="+a,"stylesheet","text/css",c)};tf.dom.GetWindowDims=function(){var a=window,c=document,e=c.documentElement,c=c.getElementsByTagName("body")[0];return[(a.innerWidth||e.clientWidth||c.clientWidth)-1,(a.innerHeight||e.clientHeight||c.clientHeight)-1]};
tf.dom.FitContainerToWindowDims=function(a){var c=tf.dom.GetWindowDims();if(a=tf.dom.GetHTMLElementFrom(a))a=a.style,a.width=a.maxWidth=c[0]+"px",a.height=a.maxHeight=c[1]+"px";return c};tf.dom.GetIsHTMLNode=function(a){return"object"===typeof Node?a instanceof Node:a&&"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName};tf.dom.GetIsHTMLElement=function(a){return tf.js.GetIsValidObject(a)&&1===a.nodeType&&"string"===typeof a.nodeName};
tf.dom.GetHTMLElementFrom=function(a){a&&(tf.dom.GetIsHTMLElement(a)||(a=tf.js.GetIsNonEmptyString(a)?document.getElementById(a):tf.js.GetIsValidObject(a)&&tf.js.GetFunctionOrNull(a.GetHTMLElement)?a.GetHTMLElement():null));return a};tf.dom.GetDOMEventListenerFrom=function(a){a&&(tf.dom.GetIsHTMLElement(a)||(tf.js.GetIsNonEmptyString(a)?a=document.getElementById(a):tf.js.GetIsValidObject(a)&&tf.js.GetFunctionOrNull(a.GetHTMLElement)&&(a=a.GetHTMLElement())),tf.js.GetIsValidObject(a)||(a=null));return a};
tf.dom.GetElemClassName=function(a){return a instanceof SVGElement?(a.className?a.className.baseVal:a.getAttribute("class"))||"":a.className};tf.dom.SetElemClassName=function(a,c){if(a instanceof SVGElement)a.className?a.className.baseVal=c:a.setAttribute("class",c);else return a.className=c};tf.dom.GetContainsCSSClass=function(a,c){return(a=tf.dom.GetHTMLElementFrom(a))?tf.js.GetNonEmptyString(c)&&(new RegExp("(\\s+|^)"+c+"(\\s+|$)")).test(tf.dom.GetElemClassName(a)):!1};
tf.dom.AddCSSClass=function(a,c){if((a=tf.dom.GetHTMLElementFrom(a))&&c){tf.js.GetIsArray(c)||(c=c.split(" "));for(var e=tf.dom.GetElemClassName(a),d=0,b=c.length;d<b;++d)c[d]&&!(new RegExp("(\\s+|^)"+c[d]+"(\\s+|$)")).test(e)&&(e=e.trim()+" "+c[d]);tf.dom.SetElemClassName(a,e)}};
tf.dom.RemoveCSSClass=function(a,c){if((a=tf.dom.GetHTMLElementFrom(a))&&c){tf.js.GetIsArray(c)||(c=c.split(" "));for(var e=tf.dom.GetElemClassName(a),d=0,b=c.length;d<b;++d)e=e.replace(new RegExp("(\\s+|^)"+c[d]+"(\\s+|$)")," ").trim();tf.dom.SetElemClassName(a,e)}};tf.dom.ReplaceCSSClass=function(a,c,e){tf.dom.RemoveCSSClass(a,c);tf.dom.AddCSSClass(a,e)};tf.dom.ReplaceCSSClassCondition=function(a,c,e,d){c?tf.dom.ReplaceCSSClass(a,d,e):tf.dom.ReplaceCSSClass(a,e,d)};
tf.dom.AppendTo=function(a,c){(c=tf.dom.GetHTMLElementFrom(c))&&(a=tf.dom.GetHTMLElementFrom(a))&&tf.js.GetFunctionOrNull(c.appendChild)&&c.appendChild(a)};tf.dom.AddContent=function(a,c){if(tf.js.GetIsValidObject(a)&&tf.js.GetIsValidObject(c))if(tf.js.GetFunctionOrNull(a.AppendTo))a.AppendTo(c);else{var e=tf.dom.GetHTMLElementFrom(a),d=tf.dom.GetHTMLElementFrom(c);e&&d&&d.appendChild(e)}};tf.dom.RemoveAllChildren=function(a){if(a=tf.dom.GetHTMLElementFrom(a))for(var c;c=a.lastChild;)a.removeChild(c)};
tf.dom.CreateDomElementID=function(a){return a+tf.GetGlobalCounter().GetNext()+""};tf.js.ShallowMerge=function(){for(var a={},c=arguments.length,e=0;e<c;++e){var d=arguments[e];if(d&&"object"===typeof d)for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b])}return a};tf.js.GetIsBoolean=function(a){return"boolean"===typeof a};tf.js.GetIsString=function(a){return!!a&&"string"===typeof a};tf.js.GetIsStringWithMinLength=function(a,c){return tf.js.GetIsString(a)&&a.length>=c};
tf.js.GetIsStringWithLength=function(a,c){return tf.js.GetIsString(a)&&a.length==c};tf.js.GetIsNonEmptyString=function(a){return tf.js.GetIsString(a)&&!!a.length};tf.js.GetNonEmptyString=function(a,c){return tf.js.GetIsNonEmptyString(a)?a:c};tf.js.GetIsArray=function(a){if(a){if(a.constructor===Array)return!0;if(tf.js.GetFunctionOrNull(a))return!1;if(!tf.js.GetIsString(a)&&void 0!==a.length)return"number"==typeof a.length}return!1};
tf.js.GetIsNonEmptyArray=function(a){return tf.js.GetIsArray(a)&&!!a.length};tf.js.GetIsArrayWithLength=function(a,c){return tf.js.GetIsArray(a)&&a.length==c};tf.js.GetIsArrayWithLength=function(a,c){return tf.js.GetIsArray(a)&&a.length==c};tf.js.GetIsArrayWithMinLength=function(a,c){return tf.js.GetIsArray(a)&&a.length>=c};tf.js.GetIsValidObject=function(a){return!!a&&"object"===typeof a};tf.js.GetValidObjectFrom=function(a){return tf.js.GetIsValidObject(a)?a:{}};
tf.js.GetFunctionOrNull=function(a){return"function"===typeof a?a:null};tf.js.JSONParseWithEval=function(a){return tf.js.GetNonEmptyString(a)?eval("("+a+")"):null};tf.js.JSONParse=function(a){var c=null,e=JSON&&JSON.parse?JSON.parse:tf.js.JSONParseWithEval;try{c=e(a)}catch(d){if(e!=tf.js.JSONParseWithEval)try{c=tf.js.JSONParseWithEval(a)}catch(b){c=null}else c=null;c||tf.GetDebug().LogIfTest("exception on JSON decode")}return c};
tf.js.GetURLOfScript=function(a){var c;if("string"===typeof a){var e=document.getElementsByTagName("script"),d,b;for(d=0;b=e[d];++d){b=b.src;var g=b.indexOf(a);if(0<=g){c=b.substring(0,g);break}}}return c};tf.js.GetHexColorStr=function(a,c){var e=c;"string"==typeof a?0<a.length&&("#"!=a[0]?0==a.indexOf("0x")?e="#"+a.substr(2):(a=parseInt(a,10),e="#"+a.toString(16)):e=a):"number"==typeof a&&(e="#"+a.toString(16));return e};
tf.js.GetRGBAColor=function(a,c,e){var d="rgb(0,0,0)";if(a=tf.js.GetHexColorStr(a,c))if(c=a.length,(c=7==c?2:4==c?1:0)&&"#"==a.charAt(0)){var d=parseInt(a.substr(1,c),16),b=parseInt(a.substr(1+c,c),16);a=parseInt(a.substr(1+2*c,c),16);1==c&&(d=16*d+d,b=16*b+b,a=16*a+a);c=!1;"number"==typeof e&&(e=0>e?0:1<e?1:e,c=1!=e);d=c?"rgba("+d+","+b+","+a+","+e+")":"rgb("+d+","+b+","+a+")"}return d};tf.js.GetRandomHexColorStr=function(){return"#"+Math.floor(16777215*Math.random()).toString(16)};
tf.js.GetGrayFromRGB=function(a){return.299*a.r+.587*a.g+.114*a.b};tf.js.GetRGBFromColor=function(a,c){var e=255,d=255,b=255;if(a=tf.js.GetHexColorStr(a,c)){var g=a.length;(g=7==g?2:4==g?1:0)&&"#"==a.charAt(0)&&(e=parseInt(a.substr(1,g),16),d=parseInt(a.substr(1+g,g),16),b=parseInt(a.substr(1+2*g,g),16),1==g&&(e+=e<<4,d+=d<<4,b+=b<<4))}return{r:e,g:d,b:b}};tf.js.GetIsValidNumber=function(a){return Number(a)===a&&isFinite(a)};
tf.js.GetIsNonNegativeNumber=function(a){return tf.js.GetIsValidNumber(a)&&0<=a};tf.js.GetIsPositiveNumber=function(a){return tf.js.GetIsValidNumber(a)&&0<a};tf.js.GetIsInt=function(a){return tf.js.GetIsValidNumber(a)&&0===a%1};tf.js.GetIsNonNegativeInt=function(a){return tf.js.GetIsInt(a)&&tf.js.GetIsNonNegativeNumber(a)};tf.js.GetIsPositiveInt=function(a){return tf.js.GetIsInt(a)&&tf.js.GetIsPositiveNumber(a)};
tf.js.GetNonNegativeIntFrom=function(a,c){tf.js.GetIsNonEmptyString(a)&&(a=parseInt(a,10));return tf.js.GetIsNonNegativeInt(a)?a:void 0!==c?c:0};tf.js.GetPositiveIntFrom=function(a,c){tf.js.GetIsNonEmptyString(a)&&(a=parseInt(a,10));return tf.js.GetIsPositiveInt(a)?a:void 0!==c?c:1};tf.js.NumberClip=function(a,c,e){return a<c?c:a>e?e:a};tf.js.GetFloatNumber=function(a,c){void 0!==a?("string"===typeof a&&(a=parseFloat(a)),"number"===typeof a&&isFinite(a)||(a=c)):a=c;return a};
tf.js.GetFloatNumberInRange=function(a,c,e,d){a=tf.js.GetFloatNumber(a,d);return tf.js.NumberClip(a,c,e)};tf.js.GetIntNumberInRange=function(a,c,e,d){return Math.floor(tf.js.GetFloatNumberInRange(a,c,e,d))};tf.js.GetIsFalseNotUndefined=function(a){return void 0===a?!1:!tf.js.GetBoolFromValue(a,!1)};tf.js.GetBoolFromValue=function(a,c){return"boolean"===typeof a?a:"string"===typeof a?0<a.length&&"false"!==a.toLowerCase():void 0===c?!1:!!c};
tf.js.GetLatitudeFrom=function(a){return tf.js.GetFloatNumberInRange(a,tf.consts.minLatitude,tf.consts.maxLatitude,tf.consts.defaultLatitude)};tf.js.GetLongitudeFrom=function(a){return tf.js.GetFloatNumberInRange(a,tf.consts.minLongitude,tf.consts.maxLongitude,tf.consts.defaultLongitude)};tf.js.GetRandomLatitude=function(){return Math.random()*tf.consts.latitudeRange-tf.consts.maxLatitude};tf.js.GetRandomLongitude=function(){return Math.random()*tf.consts.longitudeRange-tf.consts.maxLongitude};
tf.js.GetLevelFrom=function(a){return tf.js.GetIntNumberInRange(a,tf.consts.minLevel,tf.consts.maxLevel,tf.consts.defaultLevel)};tf.js.GetMinMaxLevelsFrom=function(a,c){void 0===a&&(a=tf.consts.minLevel);void 0===c&&(c=tf.consts.maxLevel);a=tf.js.GetLevelFrom(a);c=tf.js.GetLevelFrom(c);if(a<c){var e=a;a=c;c=e}return{minLevel:a,maxLevel:c}};
tf.js.GetMidExtentCoord=function(a){var c;tf.js.GetIsArrayWithMinLength(a,4)&&(a[0]=tf.js.GetLongitudeFrom(a[0]),a[1]=tf.js.GetLatitudeFrom(a[1]),a[2]=tf.js.GetLongitudeFrom(a[2]),a[3]=tf.js.GetLatitudeFrom(a[3]),c=[a[0]+(a[2]-a[0])/2,a[1]+(a[3]-a[1])/2]);return c};
tf.js.GetMapExtentFrom=function(a){if(tf.js.GetIsArrayWithMinLength(a,4)){a[0]=tf.js.GetLongitudeFrom(a[0]);a[1]=tf.js.GetLatitudeFrom(a[1]);a[2]=tf.js.GetLongitudeFrom(a[2]);a[3]=tf.js.GetLatitudeFrom(a[3]);if(a[0]>a[2]){var c=a[0];a[0]=a[2];a[2]=c}a[1]>a[3]&&(c=a[1],a[1]=a[3],a[3]=c)}else a=[tf.consts.defaultLongitude,tf.consts.defaultLatitude,tf.consts.defaultLongitude,tf.consts.defaultLatitude];return a};
tf.js.GetExtentContainsCoord=function(a,c){a=tf.js.GetMapExtentFrom(a);c=tf.js.GetMapCoordsFrom(c);return c[0]>=a[0]&&c[0]<=a[2]&&c[1]>=a[1]&&c[1]<=a[3]};tf.js.UpdateMapExtent=function(a,c){c=tf.js.GetMapCoordsFrom(c);void 0==a?a=[c[0],c[1],c[0],c[1]]:(a=tf.js.GetMapExtentFrom(a),a[0]>c[0]?a[0]=c[0]:a[2]<c[0]&&(a[2]=c[0]),a[1]>c[1]?a[1]=c[1]:a[3]<c[1]&&(a[3]=c[1]));return a};tf.js.GetExtentCenter=function(a){return tf.js.GetIsArrayWithMinLength(a,4)?[a[0]+(a[2]-a[0])/2,a[1]+(a[3]-a[1])/2]:void 0};
tf.js.MergeMapExtents=function(a,c){a=tf.js.GetMapExtentFrom(a);c=tf.js.GetMapExtentFrom(c);var e=a.slice(0),e=tf.js.UpdateMapExtent(e,[c[0],c[1]]);return e=tf.js.UpdateMapExtent(e,[c[2],c[3]])};tf.js.ScaleMapExtent=function(a,c){a=tf.js.GetMapExtentFrom(a);c=tf.js.GetFloatNumber(c,1);var e=(a[2]-a[0])/2,d=(a[3]-a[1])/2,b=a[0]+e,g=a[1]+d,e=e*c,d=d*c;return[b-e,g-d,b+e,g+d]};
tf.js.GetPolyGeomFromExtent=function(a){a=tf.js.GetMapExtentFrom(a);var c=[a[0],a[1]];return{type:"polygon",coordinates:[[c,[a[2],a[1]],[a[2],a[3]],[a[0],a[3]],c]]}};tf.js.ObjectToArray=function(a){var c=[],e;for(e in a)c.push(a[e]);return c};tf.js.GetDimFromStrOrPxNumber=function(a,c){return"number"===typeof a?a+"px":"string"===typeof a&&a.length?a:c};
tf.js.ConvertToHHMMSS=function(a){var c=Math.abs(tf.js.GetFloatNumber(a,0));a=Math.floor(c/3600);var e=Math.floor((c-3600*a)/60),c=Math.floor(c-3600*a-60*e);10>a&&(a="0"+a);10>e&&(e="0"+e);10>c&&(c="0"+c);return a+":"+e+":"+c};tf.js.ConvertToHHMMSSBrief=function(a){var c=tf.js.GetFloatNumber(a,0);a=Math.floor(c/3600);var e=Math.floor((c-3600*a)/60),c=Math.floor(c-3600*a-60*e);10>a&&(a=0<a?"0"+a+":":"");10>e&&(e=0<e?0<a?"0"+e+":":e+":":"0:");10>c&&(c="0"+c);return a+e+c};
tf.js.ConvertToHourMinute=function(a){var c=tf.js.GetFloatNumber(a,0);a=Math.floor(c/3600);c=Math.floor((c-3600*a)/60);a?(10>c&&(c="0"+c),a=a+"h:"+c+"m"):a=c+"m";return a};tf.js.ConvertToHourMinute2=function(a){var c=tf.js.GetFloatNumber(a,0);a=Math.floor(c/3600);c=Math.floor((c-3600*a)/60);return a?0==c?a+" "+(1!=a?"hours":"hour"):a+" h "+c+" min":c+" min"};
tf.js.ClipEndingChar=function(a,c){var e=tf.js.GetNonEmptyString(a,""),d=tf.js.GetNonEmptyString(c,"");if(e&&d){var b=e.length;e.charAt(b-1)==d.charAt(0)&&(e=e.substring(0,--b))}return e};tf.js.RemoveParenthesisFrom=function(a){if(a=tf.js.GetNonEmptyString(a))"("==a.charAt(0)&&(a=a.slice(1)),a.length&&")"==a.charAt(a.length-1)&&(a=a.slice(0,-1));return a};
tf.js.RemoveBracketsFrom=function(a){if(a=tf.js.GetNonEmptyString(a))"["==a.charAt(0)&&(a=a.slice(1)),a.length&&"]"==a.charAt(a.length-1)&&(a=a.slice(0,-1));return a};tf.js.CapitaliseFirstLetter=function(a){tf.js.GetIsNonEmptyString(a)&&(a=a.charAt(0).toUpperCase()+a.slice(1));return a};tf.js.CapitaliseFirstLetterOnly=function(a){tf.js.GetIsNonEmptyString(a)&&(a=tf.js.CapitaliseFirstLetter(a.toLowerCase()));return a};
tf.js.GetRandomArrayElement=function(a){return tf.js.GetIsNonEmptyArray(a)?a[Math.floor(Math.random()*a.length)]:null};tf.js.GetIsInstanceOf=function(a,c){return!!a&&!!c&&a instanceof c};tf.js.GetIsInstanceOf2=function(a,c){return!!a&&!!c&&1==a.type};tf.js.GetIsMap=function(a){return tf.js.GetIsInstanceOf(a,tf.map.Map)};tf.js.GetIsMapFeatureLayer=function(a){return tf.js.GetIsInstanceOf(a,tf.map.FeatureLayer)};tf.js.GetIsMapFeature=function(a){return tf.js.GetIsInstanceOf(a,tf.map.Feature)};
tf.js.GetMapFrom=function(a){return tf.js.GetIsMap(a)?a:null};tf.js.MakeObjectKey=function(a){return a?"#"+a:null};tf.js.GetHasGeoJSONGeometryProperties=function(a){if(tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(a.type)){var c="point"==a.type.toLowerCase()?2:1;return tf.js.GetIsArrayWithMinLength(a.coordinates,c)}return!1};
tf.js.GetGeoJSONGeometryFrom=function(a){var c=null;tf.js.GetIsValidObject(a)&&(a=a.geometry,tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(a.type)&&tf.js.GetIsNonEmptyArray(a.coordinates)&&(c=a));return c};tf.js.GetGeoJSONGeometryFunctionFrom=function(a){(a=tf.js.GetFunctionOrNull(a))||(a=tf.js.GetGeoJSONGeometryFrom);return a};tf.js.GetLooksLikeLineStringCoords=function(a){return tf.js.GetIsArrayWithMinLength(a,2)&&tf.js.GetIsArrayWithMinLength(a[0],2)};
tf.js.GetLooksLineMultiLineStringCoords=function(a){return tf.js.GetIsArrayWithLength(a,0)||tf.js.GetIsArrayWithMinLength(a,1)&&tf.js.GetLooksLikeLineStringCoords(a[0])};tf.js.GetLooksLikeMultiLineStringGeom=function(a){return tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(a.type)&&"multilinestring"==a.type.toLowerCase()&&tf.js.GetLooksLineMultiLineStringCoords(a.coordinates)};
tf.js.GetLSVertexDistancesMeters=function(a){var c=[];if(tf.js.GetLooksLikeLineStringCoords(a)){var c=[],e=a.length,d=0;c.push(d);for(var b=1;b<e;++b)d+=tf.units.GetHaversineDistance(a[b-1],a[b]),c.push(d)}return c};tf.js.InterpolateCoords=function(a,c,e){return[a[0]+(c[0]-a[0])*e,a[1]+(c[1]-a[1])*e]};tf.js.GetLSPointAt=function(a,c,e){var d;if(0<=c&&0<=e&&1>=e&&tf.js.GetLooksLikeLineStringCoords(a)){var b=a.length;c<b-1?d=tf.js.InterpolateCoords(a[c],a[c+1],e):c==b-1&&(d=a[c])}return d};
tf.js.GetLSPointAtDistanceMeters=function(a,c,e){if(tf.js.GetLooksLikeLineStringCoords(a)&&tf.js.GetIsArrayWithMinLength(c,a.length)){var d=a.length,b=tf.js.BinarySearch(c,e,function(a,b){return a-b});if(0>b){b=-(b+1);if(0<b){if(b<d){var d=b-1,g=c[d];c=c[b]-g;e=0!=c?(e-g)/c:0;1<e&&console.log("invalid proj");return{pointCoords:tf.js.GetLSPointAt(a,d,e),index:d,proj:e}}return{pointCoords:a[a.length-1],index:a.length-1,proj:0}}return{pointCoords:a[0],index:0,proj:0}}return{pointCoords:a[b],index:b,
proj:0}}return{pointCoords:void 0,index:-1,proj:0}};tf.js.GetDistanceMetersAtIndexProj=function(a,c,e,d){var b=0;tf.js.GetLooksLikeLineStringCoords(a)&&tf.js.GetIsArrayWithMinLength(c,a.length)&&(a=a.length,0>e?d=e=0:e>=a-1&&(e=a-1,d=0),0>d?d=0:1<d&&(d=1),b=c[e],d&&(b+=(c[e+1]-b)*d));return b};
tf.js.CreatePartialLS=function(a,c,e,d,b){var g=tf.js.GetLooksLikeLineStringCoords(a)?a.length:0,f=[];if(1<g&&0<=c&&d<g&&c<=d){var k=d-c;0<k&&(f=a.slice(c+1,c+k));c=tf.js.InterpolateCoords(a[c],a[c+1],e);e=a[d];a=d<g-1?tf.js.InterpolateCoords(e,a[d+1],b):e;f.unshift(c);f.push(a)}return f};
tf.js.CopyLineStringCoords=function(a){var c=[];if(tf.js.GetIsArrayWithMinLength(a,1)&&tf.js.GetIsArrayWithMinLength(a[0],2))for(var e in a){var d=a[e];tf.js.GetIsArrayWithMinLength(d,2)&&c.push([tf.js.GetLongitudeFrom(d[0]),tf.js.GetLatitudeFrom(d[1])])}return c};tf.js.CopyMultiLineStringCoords=function(a){var c=[];if(tf.js.GetIsNonEmptyArray(a))for(var e in a){var d=tf.js.CopyLineStringCoords(a[e]);d&&c.push(d)}return c};
tf.js.CopyMultiLineStringGeom=function(a){var c={type:"multilinestring",coordinates:[]};tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyArray(a.coordinates)&&(c.coordinates=tf.js.CopyMultiLineStringCoords(a.coordinates));return c};tf.js.CountMLSPoints=function(a){var c=0;if(tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyArray(a.coordinates))for(var e in a.coordinates){var d=a.coordinates[e];tf.js.GetIsNonEmptyArray(d)&&tf.js.GetIsArrayWithMinLength(d[0],2)&&(c+=d.length)}return c};
tf.js.GetMapCoordsFrom=function(a){var c,e;tf.js.GetIsArrayWithMinLength(a,2)?(c=a[1],e=a[0]):"object"===typeof a&&(void 0!==a.lat?(c=a.lat,e=a.lon):void 0!=a.Lat?(c=a.Lat,e=a.Lon):void 0!=a.latitude?(c=a.latitude,e=a.longitude):void 0!=a.Latitude&&(c=a.Latitude,e=a.Longitude));void 0===c?e=c=0:(c=tf.js.GetLatitudeFrom(c),e=tf.js.GetLongitudeFrom(e));return[e,c]};tf.js.InheritFrom=function(a,c){return ol.inherits(a,c)};
tf.js.SetObjProperty=function(a,c,e){tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(c)&&(!e||tf.js.GetIsValidObject(e))&&(e?a[c]=e:a[c]&&delete a[c])};tf.js.GetObjProperty=function(a,c){var e=void 0;tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(c)&&(e=a[c]);return e};tf.js.GetFindReferenceInStringRegExp=function(){return/\$\[(\w+)\]/};
tf.js.ReplaceWithValues=function(a,c,e,d){if(tf.js.GetIsString(a)&&(e=a,tf.js.GetIsValidObject(c)&&(void 0===d&&(d=tf.js.GetFindReferenceInStringRegExp()),tf.js.GetIsInstanceOf(d,RegExp))))for(;a=d.exec(e);){var b=c[a[1]];tf.js.GetIsString(b)||(b=void 0!==b&&tf.js.GetFunctionOrNull(b.toString)?b.toString():"");e=e.replace(a[0],b)}return e};
tf.js.ReplaceObjectWithValues=function(a,c,e){void 0===e&&(e=tf.js.GetFindReferenceInStringRegExp());if(tf.js.GetIsValidObject(a)&&tf.js.GetIsValidObject(c)&&tf.js.GetIsInstanceOf(e,RegExp))for(var d in a)if(a.hasOwnProperty(d)){var b=a[d];tf.js.GetIsNonEmptyString(b)&&(a[d]=tf.js.ReplaceWithValues(b,c,b,e))}return a};
tf.js.Spline1D=function(a,c,e,d){var b,g,f,k;this.GetStartCoord=function(){return k};this.GetEndCoord=function(){return b};this.GetControlCoord=function(a){return a?f:g};this.GetCoord=function(a){var c=a*a,d=1-a,e=d*d;return b*c*a+3*(g*c*d+f*a*e)+k*e*d};this.GetVelocity=function(a){var d=1-a;return 3*(d*d*(f-k)+a*a*(b-g))+6*d*a*(g-f)};this.GetAcceleration=function(a){return 6*((1-a)*(g-2*f+k)+a*(b-2*g+f))};b=tf.js.GetFloatNumber(d,0);g=tf.js.GetFloatNumber(e,0);f=tf.js.GetFloatNumber(c,0);k=tf.js.GetFloatNumber(a,
0)};
tf.js.Spline2D=function(a,c,e,d){var b;this.GetStartCoords=function(){return[b[0].GetStartCoord(),b[1].GetStartCoord()]};this.GetEndCoords=function(){return[b[0].GetEndCoord(),b[1].GetEndCoord()]};this.GetControlCoords=function(a){return[b[0].GetControlCoord(a),b[1].GetControlCoord(a)]};this.GetCoords=function(a){return[b[0].GetCoord(a),b[1].GetCoord(a)]};this.GetVelocity=function(a){return[b[0].GetVelocity(a),b[1].GetVelocity(a)]};this.GetAcceleration=function(a){return[b[0].GetAcceleration(a),b[1].GetAcceleration(a)]};
(function(){var g=[0,0];a=tf.js.GetIsArrayWithMinLength(a,2)?a.slice(0):g;c=tf.js.GetIsArrayWithMinLength(c,2)?c.slice(0):g;e=tf.js.GetIsArrayWithMinLength(e,2)?e.slice(0):g;d=tf.js.GetIsArrayWithMinLength(d,2)?d.slice(0):g;b=[new tf.js.Spline1D(a[0],c[0],e[0],d[0]),new tf.js.Spline1D(a[1],c[1],e[1],d[1])]})()};tf.platform.GetPoweredByTerraFlyLogoImgStr=function(){return"http://tf-core.cs.fiu.edu/hterramap/image/svg/poweredByTF.svg"};tf.platform.GetPoweredByTerraFlyLogo=function(){return tf.GetStyles().CreateImageFullWidthHeight(tf.platform.GetPoweredByTerraFlyLogoImgStr())};
tf.platform.MakePlatformPath=function(a){return tf.platform.GetURL()+a};tf.units.EaseIn=function(a){return Math.pow(a,3)};tf.units.EaseOut=function(a){return 1-ol.easing.easeIn(1-a)};tf.units.EaseInAndOut=function(a){return 3*a*a-2*a*a*a};tf.units.EaseLinear=function(a){return a};tf.units.GetOneDayMillis=function(){return 864E5};tf.units.GetDaysBetweenDates=function(a,c){return Math.round(Math.abs((a.getTime()-c.getTime())/tf.units.GetOneDayMillis()))};
tf.units.GetUtmGdcConverter=function(){tf.g_UtmGdcConverter||(tf.g_UtmGdcConverter=new tf.units.UtmGdcConverter);return tf.g_UtmGdcConverter};tf.units.GetLevelResolutionConverter=function(){tf.g_LevelResolutionConverter||(tf.g_LevelResolutionConverter=new tf.units.LevelResolutionConverter);return tf.g_LevelResolutionConverter};tf.units.DegreesToRadians=function(a){a=tf.js.GetFloatNumber(a,0);return Math.PI*a/180};tf.units.RadiansToDegrees=function(a){a=tf.js.GetFloatNumber(a,0);return 180*a/Math.PI};
tf.units.GetTotalDistanceInMeters=function(a,c){var e=0;if(tf.js.GetLooksLikeLineStringCoords(a)){for(var d=a.length-1,b=0;b<d;++b)e+=tf.units.GetDistanceInMetersBetweenMapCoords(a[b],a[b+1]);c&&(e+=tf.units.GetDistanceInMetersBetweenMapCoords(a[0],a[d]))}return e};tf.units.GetTotalHaversineDistanceInMeters=function(a,c){var e=0;if(tf.js.GetLooksLikeLineStringCoords(a)){for(var d=a.length-1,b=0;b<d;++b)e+=tf.units.GetHaversineDistance(a[b],a[b+1]);c&&(e+=tf.units.GetHaversineDistance(a[0],a[d]))}return e};
tf.units.SplitSegment=function(a,c,e){var d=[];if(void 0!==(a=tf.js.GetMapCoordsFrom(a))&&void 0!==(c=tf.js.GetMapCoordsFrom(c))){var b=a[0];a=a[1];var g=c[0]-b;c=c[1]-a;for(var f=0;f<e;++f){var k=(f+1)/(e+1);d.push([b+g*k,a+c*k])}}return d};
tf.units.SplitLineStringSegments=function(a,c,e,d){if(tf.js.GetLooksLikeLineStringCoords(a)&&void 0!==c&&tf.js.GetIsNonNegativeNumber(c)){var b=a.length-1,g=0,f;tf.js.GetIsNonEmptyArray(d)?(f=d.length,g=0):d=null;for(var k=0;k<b;++k){var h=a[k],l=a[k+1],n=tf.units.GetDistanceInMetersBetweenMapCoords(h,l);if(d)for(;g<f&&d[g]<=k;)++g;if(n>c){n=Math.floor(n/c)+1;h=tf.units.SplitSegment(h,l,n);for(l=0;l<h.length;++l)a.splice(k+l+1,0,h[l]);if(d)for(h=g;h<f;h++)d[h]+=n;k+=n;b+=n}}e&&(h=a[b],l=a[0],n=tf.units.GetDistanceInMetersBetweenMapCoords(h,
l),n>c&&(n=Math.floor(n/c)+1,h=tf.units.SplitSegment(h,l,n),a=a.concat(h)))}return a};tf.units.DisplaceMapCoords=function(a,c,e){tf.js.GetMapCoordsFrom(a);var d=a[1];a=a[0];e/=6378137;var d=tf.units.DegreesToRadians(d),b=tf.units.DegreesToRadians(a);a=Math.asin(Math.sin(d)*Math.cos(e)+Math.cos(d)*Math.sin(e)*Math.cos(c));c=b+Math.atan2(Math.sin(c)*Math.sin(e)*Math.cos(d),Math.cos(e)-Math.sin(d)*Math.sin(a));return isNaN(a)||isNaN(c)?[0,0]:[tf.units.RadiansToDegrees(c),tf.units.RadiansToDegrees(a)]};
tf.units.GetDistanceInMetersBetweenMapCoords=function(a,c){var e=tf.units.Degrees2Meters(a),d=tf.units.Degrees2Meters(c),b=d[0]-e[0],e=d[1]-e[1];return Math.sqrt(b*b+e*e)};tf.js.CalcPolyAreaInSquareMeters=function(a,c){var e=0;tf.js.GetLooksLikeLineStringCoords(a)&&(e=c?a:a.slice(0),c||e.push(a[0]),e=Math.abs(tf.map.MapSphere.geodesicArea(e)));return e};
tf.units.GetHaversineDistance=function(a,c){var e=Math.PI/180,d=e*a[1],b=e*c[1],g=(b-d)/2,e=e*(c[0]-a[0])/2,d=Math.sin(g)*Math.sin(g)+Math.sin(e)*Math.sin(e)*Math.cos(d)*Math.cos(b);return 12756274*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))};tf.units.GetMapHeading=function(a,c){var e=0;tf.js.GetIsArrayWithMinLength(a,2)&&tf.js.GetIsArrayWithMinLength(c,2)&&(e=Math.atan2(c[1]-a[1],c[0]-a[0]));return e};
tf.units.GetMapHeading1=function(a,c){var e=Math.PI/180,d=a[0]*e,b=c[0]*e,g=a[1]*e,f=c[1]*e,e=Math.sin(b-d)*Math.cos(f),d=Math.cos(g)*Math.sin(f)-Math.sin(g)*Math.cos(f)*Math.cos(b-d);return Math.atan2(e,d)};tf.units.NormalizeAngle0To2PI=function(a){var c=2*Math.PI;a=(a%c+c)%c;if(1E-5>Math.abs(a)||1E-5>Math.abs(a))a=0;return a};tf.units.GetShortestArcBetweenAngles=function(a,c){var e=Math.PI,d=e+e;return((c-a)%d+(d+e))%d-e};
tf.units.UtmGdcConverter=function(){var a=1/298.257223563,c=a*(2-a),e=.25*c,d=c/(1-c),a=a/(2-a),b=2/(1-c),g=.1666666666666668/(1-c),f=.00555555555555552/(1-c),k=.375*(1*c+.25*Math.pow(c,2)+.1171875*Math.pow(c,3)-455/4096*Math.pow(c,4)),h=.05859375*(1*Math.pow(c,2)+.75*Math.pow(c,3)-.6015625*Math.pow(c,4)),l=35/3072*(Math.pow(c,3)-1.28125*Math.pow(c,4)),n=-315/131072*Math.pow(c,4),m=1-.25*c-.046875*Math.pow(c,2)-5/256*Math.pow(c,3)-175/16384*Math.pow(c,4),p=-2*k+4*h-6*l+8*n,q=-8*h+32*l-80*n,r=-32*
l+192*n,A=-128*n,k=1-c/4-.046875*Math.pow(c,2)-5/256*Math.pow(c,3)-175/16384*Math.pow(c,4),h=1.5*a-.84375*Math.pow(a,3),l=1.3125*Math.pow(a,2)-1.71875*Math.pow(a,4),n=151/96*Math.pow(a,3),a=2.142578125*Math.pow(a,4),t=6378137*k,w=2*h+4*l+6*n+8*a,v=-8*l-32*n-80*a,u=32*n+192*a,B=-128*a;this.UtmToGdc=function(a){var d=0,h=0;if(tf.js.GetIsArrayWithLength(a,3)){var d=a[0],k=a[1],h=a[2],l=0<=h;l||(h=-h);a=(d-5E5)/.9996;var k=(l?k/.9996:(k-1E7)/.9996)/t,d=Math.sin(k),l=Math.cos(k),m=d*d,h=(6*h-183)/57.29577951308232,
d=k+d*l*(w+m*(v+m*(u+m*B))),l=Math.sin(d),p=l*l,k=Math.cos(d),n=l/k,l=n*n,m=0*k*k,A=.25-c/4*p,r=6378137/(.25-e*p+.249998608869975+(.25-e*p)/(.25-e*p+.249998608869975)),p=m*(46-3*m+l*(-252-90*l)+m*l*(225*l-66)),p=p+(61+l*(45*l+90));a/=r;r=a*a;d=57.29577951308232*(d-n*A*r*(b+r*(-g*(5+l*(3-9*m)+m*(1-4*m))+r*f*p)));h=57.29577951308232*(h+a*(1+r*(-.166666666666667*(1+l+l+m)+.00833333333333333*r*(5+l*(24*l+28)+m*(8*l+6))))/k)}return[h,d]};this.GdcToUtm=function(a){var b=0,c=0,f=0;if(tf.js.GetIsArrayWithLength(a,
2)){var f=a[1],h=0<=f,k=.017453292519943295*f,b=.017453292519943295*a[0],g=Math.sin(k),l=Math.cos(k);a=g/l;var n=g*g,c=6378137/(.25-e*n+.249998608869975+(.25-e*n)/(.25-e*n+.249998608869975)),f=30*b/3.1415926+31,f=0>=f?1:61<=f?60:f;0!=f%1&&(f-=f%1);var b=(b-.017453292519943295*(6*f-183))*l,g=g*l*(p+n*(q+n*(r+n*A))),g=6378137*(m*k+g),n=a*a,l=d*l*l,t=b*b,b=.9996*c*b*(1+t*(.166666666666667*(1-n+l)+.00833333333333333*t*(5+n*(n-18)+l*(14-58*n))))+5E5,c=.9996*(g+c*a*t*(.5+t*(.0416666666666667*(5-n+l*(4*
l+9))+.00138888888888888*t*(61+n*(n-58)+l*(270-330*n)))));0>k&&(c+=1E7);h||(f=-f)}return[b,c,f]}};tf.units.GdcToUtm=function(a){return tf.units.GetUtmGdcConverter().GdcToUtm(a)};tf.units.UtmToGdc=function(a){return tf.units.GetUtmGdcConverter().UtmToGdc(a)};
tf.units.LevelResolutionConverter=function(){var a,c,e;this.GetLevelByResolution=function(a){a=tf.js.GetFloatNumber(a,tf.consts.defaultRes);for(var b=0;b<c-1&&a<e[b];)++b;return b+1};this.GetResolutionByLevel=function(d){return a[tf.js.GetIntNumberInRange(d,tf.consts.minLevel,c,tf.consts.defaultLevel)-1]};(function(){var d=Math.SQRT2;e=[];a=[78271.517,39135.7585,19567.8792,9783.9396,4891.9698,2445.9849,1222.9925,611.4962,305.7481,152.8741,76.8,38.4,19.2,9.6,4.8,2.4,1.2,.6,.3,.15,.075,.0375,.01875,
.009375,.0046875];c=a.length;for(var b=0;b<c;++b)e[b]=a[b]/d})()};tf.units.GetLevelByResolution=function(a){return tf.units.GetLevelResolutionConverter().GetLevelByResolution(a)};tf.units.GetResolutionByLevel=function(a){return tf.units.GetLevelResolutionConverter().GetResolutionByLevel(a)};
tf.units.GetBoundsZoomLevel=function(a,c,e,d){d=tf.units.GetDistanceInMetersBetweenMapCoords(a,[a[0],c[1]])/d;a=tf.units.GetDistanceInMetersBetweenMapCoords(a,[c[0],a[1]])/e;return tf.units.GetLevelByResolution(d>a?d:a)-1};tf.units.GetMetersToFeet=function(a){return 3.28084*a};tf.units.GetKMHToMPH=function(a){return.621371*a};tf.units.GetSquareMetersToSquareFeet=function(a){return tf.units.GetMetersToFeet(tf.units.GetMetersToFeet(a))};
tf.units.GetAcresFromSquareMeters=function(a){return tf.js.GetFloatNumber(a,0)/4046.873};tf.units.TM2OL=function(a){return ol.proj.transform(a,tf.consts.tmSystem,tf.consts.olSystem)};tf.units.OL2TM=function(a){return ol.proj.transform(a,tf.consts.olSystem,tf.consts.tmSystem)};
tf.browser.GetDevicePixelRatio=function(){var a=1;void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?a=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(a=window.devicePixelRatio);return a};tf.browser.GetLooksLikeFullScreen=function(){return screen.width===window.innerWidth};
tf.browser.GetIsFullScreen=function(a){a=void 0!=a?a:document;return!!(a.webkitIsFullScreen||a.mozFullScreen||a.msFullscreenElement||a.fullscreenElement)};tf.browser.RequestFullScreen=function(a){var c=a.webkitRequestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.requestFullscreen;c&&c.call(a)};tf.browser.ExitFullScreen=function(a){a=void 0!=a?a:document;var c=a.webkitCancelFullScreen||a.mozCancelFullScreen||a.msExitFullscreen||a.exitFullscreen||a.cancelFullScreen;c&&c.call(a)};
tf.browser.GetBrowserType=function(){var a=navigator.userAgent.toLowerCase(),c="unknown",e=-1,d=!!a.match(/Android/i),b=!!a.match(/BlackBerry/i),g=!!a.match(/iPhone|iPad|iPod/i),f=!!a.match(/Opera Mini/i),k=!!a.match(/IEMobile/i)||!!a.match(/WPDesktop/i),h=d||b||g||f||k,l=!1,n=!1,m=!1;/webkit/.test(a)?/chrome/.test(a)?(c="chrome",e=(a.match(/.+(?:chrome)[\/]([\d.]+)/)||[])[1],m=!0):(c="safari",e=(a.match(/.+(?:version)[\/]([\d.]+)/)||[])[1]):/opera/.test(a)?(c="opera",e=(a.match(/.+(?:ra)[\/]([\d.]+)/)||
[])[1]):!/msie/.test(a)&&!/trident.*rv\:11\./.test(a)||/opera/.test(a)?/firefox/.test(a)&&!/(compatible|webkit)/.test(a)?(n=!0,c="firefox",e=(a.match(/.+(?:firefox)[\/]([\d.]+)/)||[])[1]):!/mozilla/.test(a)||/(compatible|webkit)/.test(a)||/(compatible|firefox)/.test(a)||(c="mozilla",e=(a.match(/.+(?:la)[\/]([\d.]+)/)||[])[1]):(l=!0,c="msie",e=(a.match(/(?:ie)[ ]([\d.]+)/)||[])[1]);return{type:c,version:e,userAgent:a,isIE:l,isFireFox:n,isChrome:m,isAndroidMobile:d,isBlackBerryMobile:b,isiOSMobile:g,
isOperaMobile:f,isWindowsMobile:k,isAnyMobile:h}};tf.browser.Type=tf.browser.GetBrowserType();tf.browser.IsCompatible=function(){return tf.browser.HasCanvas()};tf.browser.HasTouch=function(){return void 0!==ol?void 0!==ol.has?ol.has.TOUCH:!1:!1};tf.browser.HasCanvas=function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))};
tf.map.GetMapEngineFrom=function(a){a=tf.js.GetNonEmptyString(a,tf.consts.mapnik2Engine).toLowerCase();a!==tf.consts.mapnikEngine&&(a=tf.consts.mapnik2Engine);return a};
tf.map.GetConvexHull=function(a){function c(a,b){var g,f=[];g=0;var k=[],h=[],l;for(l in b){var n=b[l],m=(a[0][1]-a[1][1])*(n[0]-a[0][0])+(a[1][0]-a[0][0])*(n[1]-a[0][1]);0<m&&(h.push(n),m>g&&(g=m,k=n))}g=k;e.push(a);return g.length?(f=f.concat(c([a[0],g],h)),f=f.concat(c([g,a[1]],h))):[a]}var e;return function(a){var b=[];if(tf.js.GetLooksLikeLineStringCoords(a)){var g,f,k,h;e=[];for(var l in a){var n=a[l];if(n[0]>g||!g)k=n,g=n[0];if(n[0]<f||!f)h=n,f=n[0]}a=[].concat(c([h,k],a),c([k,h],a));b.push(a[0][0]);
for(var m in a)b.push(a[m][1])}return b}(a)};
tf.helpers.Timer=function(a){function c(){var a=Date.now();g||(d+=(a-b)*f,void 0!=k&&d>=k&&(d=h?d%k:k));b=a;return d}var e,d,b,g,f,k,h,l;this.SetLimit=function(a){k=tf.js.GetFloatNumber(a,0);0>=k&&(k=void 0)};this.GetLimit=function(){return k};this.SetWrap=function(a){h=!!a};this.GetWrap=function(){return h};this.GetElapsedTime=function(){return c()};this.SetElapsedTime=function(a){d=tf.js.GetFloatNumber(a,0);b=Date.now()};this.GetIsPaused=function(){return g};this.Pause=function(a){c();g!=(a=!!a)&&
(g=a,l&&l({sender:e,isPaused:g}))};this.SetSpeed=function(a){f=tf.js.GetFloatNumber(a,1)};this.GetSpeed=function(){return f};e=this;b=Date.now();d=0;g=!1;f=1;k=void 0;h=!0;tf.js.GetIsValidObject(a)&&(l=tf.js.GetFunctionOrNull(a.onPausePlay))};
tf.js.Collection=function(a){var c,e,d,b,g;this.GetType=function(){return g};this.Add=function(a){var k;void 0===a||void 0!=g&&!tf.js.GetIsInstanceOf(a,g)||(k=0<e.length?e.shift():d++,c[k]=a,++b);return k};this.Get=function(a){return c[a]};this.Del=function(a){var d;if(d=void 0!==c[a])e.push(a),delete c[a],--b;return d};this.GetCount=function(){return b};this.ForEach=function(a){if(a=tf.js.GetFunctionOrNull(a))for(var b in c)a(c[b])};this.Empty=function(){c={};b=0};c={};b=0;d=1;e=[];tf.js.GetIsValidObject(a)&&
void 0!==a.type&&(g=a.type)};tf.js.GetMonthDayYearStr=function(a){var c="";if(a){c=a.getDate();10>c&&(c="0"+c);var e=a.getMonth()+1;10>e&&(e="0"+e);c=""+a.getFullYear()+"-"+e+"-"+c}return c};tf.js.GetYYYYMMDDStr=function(a){var c="";if(a){c=a.getDate();10>c&&(c="0"+c);var e=a.getMonth()+1;10>e&&(e="0"+e);c=""+a.getFullYear()+e+c}return c};tf.js.DateFromYYYYMMDDStr=function(a){return tf.js.GetIsNonEmptyString(a)&&8==a.length?new Date(a.substr(0,4),a.substr(4,2)-1,a.substr(6,2)):new Date};
tf.js.GetDateFromTimeStamp=function(a){var c;if(tf.js.GetIsStringWithMinLength(a,21)){c=parseInt(a.substring(0,4),10);var e=parseInt(a.substring(5,7),10)-1,d=parseInt(a.substring(8,10),10),b=parseInt(a.substring(11,13),10),g=parseInt(a.substring(14,16),10);a=parseInt(a.substring(17,19),10);c=new Date(c,e,d,b,g,a)}return c};
tf.js.GetTimeStampFromDate=function(a){var c;if(a){c=a.getFullYear();var e=a.getMonth()+1,d=a.getDate(),b=a.getHours(),g=a.getMinutes();a=a.getSeconds();10>e&&(e="0"+e);10>d&&(d="0"+d);10>b&&(b="0"+b);10>g&&(g="0"+g);10>a&&(a="0"+a);c=""+c+"-"+e+"-"+d+" "+b+":"+g+":"+a+".0"}return c};tf.js.GetAMPMHourWithSeconds=function(a){if(a){var c=a.getHours(),e=a.getMinutes();10>e&&(e=0==e?"00":"0"+e);a=a.getSeconds();10>a&&(a=0==a?"00":"0"+a);var d=12<=c;return(d&&12!=c?c-12:c)+":"+e+":"+a+(d?" pm":" am")}return""};
tf.js.GetAMPMHourWithMinutes=function(a){if(a){var c=a.getHours();a=a.getMinutes();10>a&&(a=0==a?"00":"0"+a);var e=12<=c;return(e&&12!=c?c-12:c)+":"+a+(e?" pm":" am")}return""};tf.js.TranslateHourMinSec=function(a){var c="am",e=Math.floor(a/3600),d=e,b=a-3600*d;a=Math.floor(b/60);b-=60*a;10>d?d="0"+d:12<=d&&(12==d?c="pm":24==d?d-=12:24<d?d-=24:(d-=12,c="pm"));10>a&&(a="0"+a);10>b&&(b="0"+b);d=d+":"+a;e=e+":"+a;return{HM:d+c,HMS:d+":"+b+c,MHM:e,MHMS:e+":"+b}};
tf.js.GetShortHMSStr=function(a,c){var e;if(void 0!=a){var d="";e="";0>a?(a=-a,d="-"):d="+";if(0==a)e="0s";else{var b=Math.floor(a/3600),g=a-3600*b,f=Math.floor(g/60),g=(g-60*f).toFixed(0);0<b&&(e+=b+"h");0<f&&(e+=f+"m");0<g&&(e+=g+"s")}c||(e=d+e)}return e};tf.js.GetHMSFromDate=function(a){return a?60*(60*a.getHours()+a.getMinutes())+a.getSeconds():void 0};
tf.js.BinarySearch=function(a,c,e){if(tf.js.GetIsNonEmptyArray(a)&&tf.js.GetFunctionOrNull(e)){for(var d=0,b=a.length-1;d<=b;){var g=d+(b-d>>>1),f=e(c,a[g]);if(0<f)d=g+1;else if(0>f)b=g-1;else return g}return-d-1}};tf.js.BinarySearchGetExactOrNextIndex=function(a,c,e){c=tf.js.BinarySearch(a,c,e);void 0!=c&&0>c&&(c=-(c+1),0>c?c=0:c>=a.length&&(c=a.length-1));return c};
tf.js.BinarySearchGetExactOrPrevIndex=function(a,c,e){c=tf.js.BinarySearch(a,c,e);void 0!=c&&0>c&&(c=-(c+1)-1,0>c?c=0:c>=a.length&&(c=a.length-1));return c};tf.js.SortObject=function(a,c){var e;if(tf.js.GetIsValidObject(a)&&tf.js.GetFunctionOrNull(c)){var d=[];e={};for(var b in a)d.push({key:b,value:a[b]});d.sort(function(a,b){return c(a.value,b.value)});for(b in d){var g=d[b];e[g.key]=g.value}}return e};
tf.units.Degrees2Meters=function(a){var c=2.003750834E7*a[0]/180;a=Math.log(Math.tan((90+a[1])*Math.PI/360))/(Math.PI/180);return[c,2.003750834E7*a/180]};tf.js.SquaredDistance=function(a,c,e,d){a=e-a;c=d-c;return a*a+c*c};tf.js.SquaredSegmentDistance=function(a,c,e,d,b,g){var f=b-e,k=g-d;if(0!==f||0!==k){var h=((a-e)*f+(c-d)*k)/(f*f+k*k);1<h?(e=b,d=g):0<h&&(e+=f*h,d+=k*h)}return tf.js.SquaredDistance(a,c,e,d)};
tf.map.SimplifyLS=function(a,c){var e=[],d=0,b=a.length,g=b-d,f=c*c;if(3>g)for(;d<b;++d)e.push(a[d]);else{var k=Array(g),b=[d,b-1],h=0,l,n=[];for(l=0;l<g;++l)n.push(tf.units.Degrees2Meters(a[l]));for(k[0]=k[g-1]=1;0<b.length;){var m=b.pop(),p=b.pop(),q=n[p],r=q[0],A=q[1],q=n[m],t=q[0],w=q[1],v=0;for(l=p+1;l<m;l+=1)q=n[l],q=tf.js.SquaredSegmentDistance(q[0],q[1],r,A,t,w),q>v&&(h=l,v=q);v>f&&(k[h-d]=1,p+1<h&&b.push(p,h),h+1<m&&b.push(h,m))}for(l=0;l<g;++l)k[l]&&e.push(a[d+l])}return e};
tf.map.GetIsLSClockwise=function(a){var c=!1;if(tf.js.GetLooksLikeLineStringCoords(a)){var e=a.length-1;if(1<e){for(var c=0,d=a[0],b=1;b<e;++b)var g=a[b],c=c+(g[0]-d[0])*(g[1]+d[1]),d=g;g=a[0];d=a[e];c+=(g[0]-d[0])*(g[1]+d[1]);c=0<=c}}return c};
tf.js.DecodeHeaderObjectArray=function(a){var c;if(tf.js.GetIsArrayWithMinLength(a,1)){var e=a[0];if(tf.js.GetIsArrayWithMinLength(e,1)){var d=e.length;if(0<d){var b=a.length;c=[];for(var g=1;g<b;++g){var f=a[g];if(f.length==d){for(var k={},h=0;h<d;++h){var l=f[h];null==l&&(l=void 0);k[e[h]]=l}c.push(k)}}}}}return c};
tf.js.GetCoordsAreDifferent=function(a,c){tf.js.GetIsArrayWithMinLength(a,2)||(a=void 0);tf.js.GetIsArrayWithMinLength(c,2)||(c=void 0);return void 0==a&&void 0!=c||void 0!=a&&void 0==c||void 0!=a&&void 0!=c&&(a[0]!=c[0]||a[1]!=c[1])};
tf.js.BinaryHeap=function(a){function c(a,b){h[a]=b;void 0!=n&&(n[p(b)]=a)}function e(a){return void 0!=n?n[p(a)]:void 0}function d(a){void 0!=n&&delete n[p(a)]}function b(a){for(var b=h[a],d=a-1>>1,e=a;0<=d&&0>m(b,h[d]);)c(a,h[d]),d=(a=d)-1>>1;a!=e&&c(a,b);return a}function g(a){for(var b=h[a],d=a,e=2*a+1;e<l;e=2*e+1){e<l-1&&0>m(h[e+1],h[e])&&++e;if(0>m(h[e],b))c(a,h[e]);else break;a=e}a!=d&&c(a,b);return a}function f(a){void 0!=a&&a==b(a)&&g(a)}function k(){++v;l=0;h=[void 0];n=p?{}:void 0}var h,
l,n,m,p,q,r,A,t,w,v,u;this.GetStats=function(){return{nInserts:q,nPops:r,nGets:A,nUpdates:t,nDeletes:w,nResets:v,maxCount:u}};this.GetCount=function(){return l};this.IsEmpty=function(){return 0==l};this.Insert=function(a){m&&(++q,c(l,a),b(l++),l>u&&(u=l))};this.PeekRoot=function(){return 0<l?h[0]:void 0};this.PopRoot=function(){var a=0<l?h[0]:void 0;void 0!=a&&(++r,d(a),c(0,h[--l]),g(0));return a};this.GetItem=function(a){a=void 0!=n?n[a]:void 0;return void 0!=a?h[a]:void 0};this.Update=function(a,
b){var d=e(a);void 0==d||void 0!=b&&d!=e(b)||(++t,void 0!=b&&c(d,b),f(d))};this.Delete=function(a){var b=e(a);if(void 0!=b)if(++w,2>l)k(),--v;else{var g=h[--l];d(a);g!=a&&(d(g),c(b,g),f(b))}};this.FromItems=function(a){var b=tf.js.GetIsNonEmptyArray(a)?a.length:0;k();if(0<b){h=Array(b);for(var d=0;d<b;++d)c(d,a[d]);l=b;for(a=l>>1;0<=a;--a)g(a)}};this.Reset=function(){return k()};this.GetHeap=function(){return h};q=r=A=t=w=v=u=0;m=tf.js.GetFunctionOrNull(a.compareFunction);p=tf.js.GetFunctionOrNull(a.getItemKeyFunction);
k()};
tf.js.GraphSearch=function(a){var c,e;this.GetStats=function(){return e};c=this;(function(){if(tf.js.GetIsNonEmptyArray(a.startNodes)){var d=tf.js.GetFunctionOrNull(a.getNodeKey),b=tf.js.GetFunctionOrNull(a.getNodeNeighbors),g=tf.js.GetFunctionOrNull(a.getIsEndNode),f=tf.js.GetFunctionOrNull(a.compareNodes),k=tf.js.GetFunctionOrNull(a.foundEndNode);if(d&&b&&g&&f&&k){var h=!1,l=0,n=0,m=0,p=0,q=0,r=new tf.js.BinaryHeap({compareFunction:f,getItemKeyFunction:d}),A={},t;for(t in a.startNodes)r.Insert(a.startNodes[t]),++p;
for(;!h&&!r.IsEmpty();){var w=r.PopRoot();++m;if(g(w))++q,k({sender:c,endNode:w})||(h=!0);else{var v=b(w);A[d(w)]=w;for(t in v){var w=v[t],u=d(w);void 0==A[u]&&(u=r.GetItem(u),void 0==u?(++n,r.Insert(w)):0>f(w,u)&&(++l,r.Update(u,w)))}}}e={binaryHeapStats:r.GetStats(),nStart:p,nFound:q,nInserted:n,nSettled:m,nUpdated:l,interrupted:h}}}})()};tf.js.GetKeyCodeFromEvent=function(a){return"object"===typeof a?window.event&&a.keyCode?a.keyCode:a.which?a.which:0:0};
tf.js.Context=function(a){function c(){b.Notify(g,{sender:d,ctx:tf.js.ShallowMerge(f)})}function e(a,b){var d=f[a]!=b;d&&(f[a]=b);return d}var d,b,g,f;this.AddListener=function(a){return b.AddListener(g,a)};this.GetCtx=function(){return tf.js.ShallowMerge(f)};this.SetCtx=function(a){var b=!1,d;for(d in a)e(d,a[d])&&(b=!0);b&&c();return b};this.SetCtxAttribute=function(a,b){var d=e(a,b);d&&c();return d};this.GetCtxAttribute=function(a){return f[a]};d=this;g="ctxChange";b=new tf.events.MultiEventNotifier({eventNames:[g]});
f=tf.js.ShallowMerge(a.ctx)};tf.js.UnCamelize=function(a){for(var c="",e="string"===typeof a?a.length:0,d=0;d<e;++d)var b=a[d],g=b.toLowerCase(),c=c+(b==g?b:"-"+g);return c};tf.js.CompassDirectionToAngle=function(a){a={N:0,NE:45,E:90,SE:135,S:180,SW:225,W:270,NW:315}[a];return void 0!=a?Math.PI*a/180:0};
tf.js.ClipLineSegment=function(a,c,e){function d(d,c){var e=0;d<a[0]?e|=b:d>a[2]&&(e|=g);c<a[1]?e|=f:c>a[3]&&(e|=k);return e}var b=1,g=2,f=4,k=8,h=a[0],l=a[1],n=a[2],m=a[3],p=c[0];c=c[1];var q=e[0];e=e[1];for(var r=!1,A=d(p,c),t=d(q,e),w=!!A,v=!!t;;)if(A|t)if(A&t)break;else{var u,B,E=A?A:t;E&k?(u=p+(q-p)*(m-c)/(e-c),B=m):E&f?(u=p+(q-p)*(l-c)/(e-c),B=l):E&g?(B=c+(e-c)*(n-p)/(q-p),u=n):E&b&&(B=c+(e-c)*(h-p)/(q-p),u=h);E==A?(p=u,c=B,A=d(p,c)):(q=u,e=B,t=d(q,e))}else{r=!0;break}return{intersects:r,startCoord:[p,
c],endCoord:[q,e],clippedStart:w,clippedEnd:v}};tf.js.ClipMapLineSegment=function(a,c,e){var d=tf.units.TM2OL([a[0],a[1]]);a=tf.units.TM2OL([a[2],a[3]]);d=tf.js.ClipLineSegment([d[0],d[1],a[0],a[1]],tf.units.TM2OL(c),tf.units.TM2OL(e));d.intersects&&(d.startCoord=d.clippedStart?tf.units.OL2TM(d.startCoord):c,d.endCoord=d.clippedEnd?tf.units.OL2TM(d.endCoord):e);return d};tf.js.propagateValues=function(a,c,e,d){for(var b=1;b<c;++b)for(var g=0;g<e;++g)a[b*e+g]=a[(b-1)*e+g]*d;return a};
tf.js.CalcDistancesInMeters=function(){return tf.js.propagateValues([.1,.2,.5],20,3,10)};tf.js.CalcDistancesInMiles=function(){return tf.js.propagateValues([16.0934,32.1868,80.467],24,3,10)};tf.js.CalcDistancesInFeet=function(){return tf.js.propagateValues([.1*.3048,.2*.3048,.1524],20,3,10)};tf.js.CalcDistances3Units=function(){return{distancesInMeters:tf.js.CalcDistancesInMeters(),distancesInMiles:tf.js.CalcDistancesInMiles(),distancesInFeet:tf.js.CalcDistancesInFeet()}};
tf.js.ObjectToURLParams=function(a,c){var e;if(tf.js.GetIsValidObject(a)){var d=!1;e="";for(var b in a){var g=a[b];void 0!=g&&(d&&(e+="&"),e=c?e+(b+"="+g):e+(b+"="+encodeURIComponent(g)),d=!0)}}return e};
tf.js.CalcStopDistances=function(a,c,e,d){var b=[],g=[],f=[],k=[],h=[],l=[],n=[],m=[],p=!1,q=!1,r=!1,A=!1,t=0;void 0===d&&(d=1);if(tf.js.GetLooksLikeLineStringCoords(a)&&tf.js.GetIsArrayWithMinLength(c,a.length)&&e.length)for(var w=e.length,v=void 0,u=0,B=0,E=a.length,D=a[0][0]==a[E-1][0]&&a[0][1]==a[E-1][1],F=[0,10,20],C=F.length,G=!0,H=0;H<C&&G;++H){var I=H+1==C,J=[0,0],t=F[H],b=[],g=[],k=[],f=[],h=[],l=[],n=[],m=[],G=A=r=p=q=!1;lastPoint=v=void 0;for(var K=B=u=0;K<w&&!G;++K){var N=e[K],N=[N.lon,
N.lat],Q=B,M=v,R=u,O=lastPoint;if(N[0]!=J[0]||N[1]!=J[1])for(var J=N,T=!0,U=!1;T;){var S=tf.helpers.HitTestMapCoordinatesArray(a,N,void 0!=v?v:void 0,u,void 0,t,void 0,2),T=!1;if(S.closestPoint){0==K&&1<S.minDistanceIndex&&K+1<w&&(B=e[K+1],B=tf.helpers.HitTestMapCoordinatesArray(a,[B.lon,B.lat],0,0,void 0,0,void 0,2),10>B.minDistanceIndex&&B.minDistanceIndex<S.minDistanceIndex&&(S.minDistanceIndex=S.proj=0,S.closestPoint=a[0].slice(0),S.angle=1,q=!0));if(S.minDistanceIndex<v||S.minDistanceIndex==
v&&S.proj<u)D&&K+1==w?(p=!0,S.minDistanceIndex=E-1,S.proj=0,S.angle=1):I?h.push(K):(G=!0,T=!1);0>S.angle&&m.push(K);O=S.closestPoint;M=v=S.minDistanceIndex;R=u=S.proj;Q=B=tf.js.GetDistanceMetersAtIndexProj(a,c,M,R)}else if(2!=K||U)I?n.push(K):(G=!0,T=!1);else{for(A=0;A<K;++A)b[A]=g[A]=k[A]=0;A=U=T=!0;B=v=u=0;O=a[0]}}else l.push(K);b.push(Q*d);f.push(O);g.push(M);k.push(R)}}return{distances:b,acceptDistance:t,shapeIndices:g,shapePoints:f,shapeProjs:k,adjustedForEndStopInLoop:p,fixedFirstStopFarFromStart:q,
fixedSecondStop:r,fixedThirdStop:A,stopsIndicesOutOfSequence:h,failedHitTest:n,funnyAngles:m,skippedSameCoords:l}};
tf.js.LogCalcStops=function(a){if(a){0<a.acceptDistance&&console.log("non zero acceptDistance: "+a.acceptDistance);if(a.failedHitTest.length){var c=1==a.failedHitTest.length?" stop ":" stops ";console.log(a.failedHitTest.length+c+"failed hit test");for(var e in a.failedHitTest)console.log(a.failedHitTest[e])}a.adjustedForEndStopInLoop&&console.log("adjusted for end stop in loop");a.fixedFirstStopFarFromStart&&console.log("fixed first stop far from start");a.fixedSecondStop&&console.log("fixed 1st stop based on 2nd stop");
a.fixedThirdStop&&console.log("fixed 1st & 2nd stops based on 3rd stop");if(a.stopsIndicesOutOfSequence.length)for(e in c=1==a.stopsIndicesOutOfSequence.length?" stop ":" stops ",console.log(a.stopsIndicesOutOfSequence.length+c+"out of sequence"),a.stopsIndicesOutOfSequence)console.log(a.stopsIndicesOutOfSequence[e]);if(0<a.funnyAngles.length)for(e in c=1==a.funnyAngles.length?" stop ":" stops ",console.log(a.funnyAngles.length+c+"with funny angles"),a.funnyAngles)console.log(a.funnyAngles[e])}};
tf.js.GetDistanceBetweenLineStrings=function(a,c){function e(a,b){for(var d=-1,c=a.length,e=b.length,n=0;n<c;++n){for(var m=a[n],p=-1,q=0;q<e;++q){var r=tf.units.GetHaversineDistance(m,b[q]);if(-1==p||r<p)p=r}if(-1==d||p>d)d=p}return d}var d=-1;if(tf.js.GetLooksLikeLineStringCoords(a)&&tf.js.GetLooksLikeLineStringCoords(c))var d=e(a,c),b=e(c,a),d=d>b?d:b;return d};
tf.js.GetDistanceBetweenLineStrings2=function(a,c){function e(a,b){for(var d=-1,e=a.length,l=0;l<e;++l){var n=tf.helpers.HitTestMapCoordinatesArray(c,a[l],void 0,void 0,void 0,void 0,void 0,void 0).minDistance;if(-1==d||n>d)d=n}return d}var d=-1;if(tf.js.GetLooksLikeLineStringCoords(a)&&tf.js.GetLooksLikeLineStringCoords(c))var d=e(a,c),b=e(c,a),d=d>b?d:b;return d};tf.consts.measureColorTicDefaultHybrid="#fff";tf.consts.measureColorTicDefaultMap="#1E90FF";
tf.js.CalcVertexInfos=function(a,c,e){var d=[];if(tf.js.GetIsNonEmptyArray(a)){e=tf.js.GetFunctionOrNull(e)?e:tf.units.GetHaversineDistance;var b=a.length;if(0<b)for(var g=a[0],f=0,k=2*Math.PI,h=Math.PI/2,l=3*h,n=1;n<b+1;++n){var m=n<b?a[n]:a[0],p=[g[0]+(m[0]-g[0])/2,g[1]+(m[1]-g[1])/2],q=e(g,m),r=tf.units.NormalizeAngle0To2PI(tf.units.GetMapHeading(g,m)),A=Math.PI-r,t=k-r,w;0>=q&&(q=1E-6);var v=t;t>h&&t<l?(t+=Math.PI,w="right"):w="left";var u=tf.units.NormalizeAngle0To2PI(t+Math.PI/2),g={coords:g.slice(0),
nextCoords:m.slice(0),midCoords:p,headingToNext:r,normal:A,uprightTextDirection:v,textDirection:t,textFlowDirection:u,endTextAlign:w,distanceToNext:q,totalDistance:f,index:n};n==b&&(g.area=c);d.push(g);g=m;f+=q}}return d};
tf.js.CalcClippedVertexInfo=function(a,c,e,d,b,g,f){var k;d=void 0!=d?d:a.GetVisibleExtent();g=tf.js.GetFunctionOrNull(g)?g:tf.units.GetHaversineDistance;var h=(tf.js.GetFunctionOrNull(f)?f:tf.js.ClipLineSegment)(d,c.coords,c.nextCoords);if(h.intersects){var l=void 0!=b?b:a.GetRotationRad();b=a.ActualMapToPixelCoords(c.coords);k=a.ActualMapToPixelCoords(c.nextCoords);f=a.ActualMapToPixelCoords(c.midCoords);d=h.startCoord;var n=h.endCoord,m=a.ActualMapToPixelCoords(d);a=a.ActualMapToPixelCoords(n);
var p=k[0]-b[0],q=k[1]-b[1],r=p*p+q*q,A=Math.sqrt(r),l=c.textDirection+l,t=!h.clippedStart,h=!h.clippedEnd,w=g(c.coords,d);g=g(c.nextCoords,n);k={vi:c,coordsPx:b,nextCoordsPx:k,midCoordsPx:f,coordsClip:d,nextCoordsClip:n,coordsClipPx:m,nextCoordsClipPx:a,coordsIsVisible:t,nextCoordsIsVisible:h,invisibleStartDistance:w,invisibleEndDistance:g,lengthXPx:p,lengthYPx:q,lengthSegPxSq:r,lengthSegPx:A,textDirectionWithRotation:l,isLast:c.index==e}}return k};
tf.js.CalcDisplayDistances=function(a,c,e,d){var b=1609<a;d=c?b?d.distancesInMiles:d.distancesInFeet:d.distancesInMeters;c=c?b?"mi":"ft":999.5<a?"km":"m";b=tf.js.BinarySearchGetExactOrNextIndex(d,100*e,function(a,b){return a<b?-1:a>b?1:0});d=d[b];b=d/10;return{distanceUnitText:c,distanceMarkScaleInMeters:d,distanceTicScaleInMeters:b,offsetMetersEndSegText:12.5*e,nTics:Math.floor(a/b)}};
tf.js.FormatDistanceText=function(a,c,e){if(0<a){var d;switch(c){default:case "m":d=1;break;case "km":d=1E3;break;case "mi":d=1609.34;break;case "ft":d=.3048}e&&(d*=d);a=""+(a/d).toFixed(3);d=0;for(var b=a.length;1<b&&"0"==a[b-1];)--b,++d;0<d&&(a=a.slice(0,-d),"."==a[a.length-1]&&(a=a.slice(0,-1)));a+=" "+c;e&&(a+="\u00b2")}else a="0";return a};
tf.js.DrawMeasuredVertex=function(a){function c(a,b,d,c,e,f,h){var k=parseInt(a.fontSize,10)*g+"px";b.font=a.fontWeight+" "+k+" "+a.fontFamily;b.textAlign=void 0!=h?h:"center";b.textBaseline="middle";b.save();b.setTransform(1,0,0,1,0,0);tf.browser.Type.isFireFox||(b.shadowColor="rgba(255,255,255,1)",b.shadowBlur=6,b.shadowOffsetX=0,b.shadowOffsetY=0);b.translate(c*g,e*g);b.rotate(f);b.fillStyle=a.textFill;b.strokeStyle=a.textLine;b.lineWidth=a.lineWidth*g;b.strokeText(d,0,0);b.fillText(d,0,0);b.restore()}
function e(a,b,d,e,f,h,g,k,l){c(a,b,tf.js.FormatDistanceText(d,l,!1),e,f,h,g)}function d(a,b,d,e,f,h,g,k,l){c(a,b,tf.js.FormatDistanceText(d,l,!0),e,f,h,g)}function b(a,b){var d=a.vi,d=b/(0<d.distanceToNext?d.distanceToNext:1E-6);return[a.coordsPx[0]+d*a.lengthXPx,a.coordsPx[1]+d*a.lengthYPx]}var g=tf.browser.GetDevicePixelRatio(),f=void 0!=a.largerFontSize?a.largerFontSize:"16px",k=a.map,h=void 0!=a.showingHybrid?!!a.showingHybrid:k.GetMapType()!=tf.consts.typeNameMap,l=void 0!=a.textStyle?a.textStyle:
h?{fontFamily:"Roboto",lineWidth:4,textFill:"#fff",textLine:"rgba(0, 0, 0, 0.7)",fontSize:"12px",fontWeight:"400"}:{fontFamily:"Roboto",lineWidth:1,textFill:"#000",textLine:"rgba(30, 144, 255, 0.7)",fontSize:"11px",fontWeight:"300"},n=void 0!=a.endTextStyle?tf.js.ShallowMerge(l,a.endTextStyle):tf.js.ShallowMerge(l,{fontSize:f}),m=a.distances,f=m.distanceUnitText,p=m.distanceTicScaleInMeters,q=m.offsetMetersEndSegText,m=a.pvi,r=m.vi,A=void 0!=a.resolution?a.resolution:k.GetResolution(),t=tf.units.DisplaceMapCoords(r.midCoords,
r.normal,6*A),t=k.ActualMapToPixelCoords(t),w=t[0]-m.midCoordsPx[0],v=t[1]-m.midCoordsPx[1],u=void 0!=a.colorTic?a.colorTic:h?tf.consts.measureColorTicDefaultHybrid:tf.consts.measureColorTicDefaultMap,B=r.totalDistance,E=B+r.distanceToNext,D=E-m.invisibleEndDistance,F=(B+m.invisibleStartDistance)/p,t=Math.floor(F);F!=t&&++t;for(var C=D/p,D=Math.floor(C),G=a.ctx,H=t;H<=D;++H){var I=H*p,J=b(m,I-B),K=J[0]+.3*w,N=J[1]+.3*v,Q,M,R=!1;0==H%5?0==H%2?(Q=1.25,M=2,R=!a.skipScaleText):(Q=1,M=2):(Q=.75,M=1);if(!a.skipTics){var O=
K+w*Q;Q=N+v*Q;G.beginPath();G.strokeStyle=u;G.lineWidth=M*g;G.moveTo(K*g,N*g);G.lineTo(O*g,Q*g);G.closePath();G.fill();G.stroke()}R&&(K=J[0]+2.5*w,J=J[1]+2.5*v,e(l,G,I,K,J,m.textDirectionWithRotation,"center",h,f))}if(a.showIntermediateLenghts&&C>F+1||m.isLast)p=b(m,r.distanceToNext+q+12*A),K=p[0],J=p[1],l=m.isLast?n:l,e(l,G,E,K,J,m.textDirectionWithRotation,r.endTextAlign,h,f),void 0!=r.area&&(a=void 0!=a.rotation?a.rotation:k.GetRotationRad(),a=tf.units.DisplaceMapCoords(r.midCoords,r.uprightTextDirection+
a,18*A),k=k.ActualMapToPixelCoords(a),d(l,G,r.area,k[0],k[1],m.textDirectionWithRotation,"center",h,f));return D-t+1};
tf.js.DrawMeasuredVertices=function(a){var c,e,d=0,b=0,g=0,f=0,k=a.vertexInfos;if(tf.js.GetIsNonEmptyArray(k)){var h=k.length;if(2<=h){var l=a.map,n=void 0!=a.extent?a.extent:l.GetVisibleExtent(),m=void 0!=a.rotation?a.rotation:l.GetRotationRad(),g=!!a.showArea;2==h?h=1:g||--h;c=void 0!=a.useUSScale?!!a.useUSScale:l.GetIsUSScaleUnits();var p=void 0!=a.resolution?a.resolution:l.GetResolution(),q=tf.js.GetFunctionOrNull(a.distanceFunction)?a.distanceFunction:tf.units.GetHaversineDistance,r=tf.js.GetFunctionOrNull(a.clipFunction)?
a.clipFunction:tf.js.ClipLineSegment,g=k[h-1].totalDistance+k[h-1].distanceToNext;c=tf.js.CalcDisplayDistances(g,c,p,a.distances3Units);for(var A=[],t=0;t<h;++t){var w=k[t],v=tf.js.CalcClippedVertexInfo(l,w,h,n,m,q,r);void 0!=w.area&&(f=w.area);e=tf.js.UpdateMapExtent(e,w.coords);e=tf.js.UpdateMapExtent(e,w.nextCoords);void 0!=v&&A.push(v)}k=A.length;if(0<k){n=tf.browser.GetDevicePixelRatio();q=void 0!=a.showingHybrid?a.showingHybrid:l.GetMapType()!=tf.consts.typeNameMap;r=void 0!=a.colorTic?a.colorTic:
q?tf.consts.measureColorTicDefaultHybrid:tf.consts.measureColorTicDefaultMap;w=void 0!=a.showIntermediateLenghts?!!a.showIntermediateLenghts:!0;h=a.ctx;b=c.nTics;h.save();h.setTransform(1,0,0,1,0,0);h.lineCap="round";h.lineJoin="round";h.setLineDash([]);if(!a.skipEdges)for(var u=void 0!=a.lineWidth?a.lineWidth:1,B=void 0!=a.colorSeg?a.colorSeg:q?tf.consts.measureColorTicDefaultMap:tf.consts.measureColorTicDefaultHybrid,t=0;t<k;++t)v=A[t],h.beginPath(),h.strokeStyle=B,h.lineWidth=u*n,h.moveTo(v.coordsClipPx[0]*
n,v.coordsClipPx[1]*n),h.lineTo(v.nextCoordsClipPx[0]*n,v.nextCoordsClipPx[1]*n),h.closePath(),h.fill(),h.stroke();if(!a.skipMeasures)for(a={map:l,ctx:h,skipScaleText:a.skipScaleText,skipTics:a.skipTics,distances:c,rotation:m,showIntermediateLenghts:w,colorTic:r,resolution:p,showingHybrid:q,textStyle:a.textStyle,largerFontSize:a.largerFontSize},t=0;t<k;++t)a.pvi=A[t],d+=tf.js.DrawMeasuredVertex(a);h.restore()}}}return{nTicsDrawn:d,nTics:b,distances:c,vertexExtent:e,totalDistance:g,area:f}};
tf.dom.Insertable=function(a){var c,e,d;this.GetDomObj=function(){return e};this.GetHTMLElement=function(){return d};this.GetParentNode=function(){return d?d.parentNode:null};this.RemoveFromParent=function(){var a=c.GetParentNode();a&&a.removeChild(c.GetHTMLElement())};this.GetHasParent=function(){return!!c.GetParentNode()};this.AppendTo=function(a){d&&tf.dom.AppendTo(c,a)};c=this;(e=tf.js.GetIsValidObject(a.domObj)?a.domObj:null)&&!(d=tf.dom.GetHTMLElementFrom(a.domElement))&&(e=null,tf.GetDebug().LogIfTest("Insertable: failed to get HTML element"))};
tf.dom.Element=function(a){function c(a){n&&n(a)}function e(a){r&&r(a)}function d(a){m&&m(a)}var b,g,f,k,h,l,n,m,p,q,r;this.OnDelete=function(){l&&(l.OnDelete(),l=null);q&&(q.OnDelete(),q=null)};this.SetValue=function(a){f&&(f.value=tf.js.GetNonEmptyString(a,""))};this.GetValue=function(){return f?f.value.trim():""};this.SetOnClick=function(a,b,d){void 0==l?l=new tf.events.DOMClickListener({domObj:g,target:f,callBack:c,optionalScope:b,callBackSettings:d}):l.ChangeCallBackSettings(d);n=tf.js.GetFunctionOrNull(a)};
this.SetOnHover=function(a,b,d){void 0==q?q=new tf.events.DOMHoverListener({domObj:g,target:f,callBack:e,optionalScope:b,callBackSettings:d}):q.ChangeCallBackSettings(d);r=tf.js.GetFunctionOrNull(a)};this.SetOnChange=function(a,b,c){void 0==p?p=new tf.events.DOMChangeListener({domObj:g,target:f,callBack:d,optionalScope:b,callBackSettings:c}):p.ChangeCallBackSettings(c);m=tf.js.GetFunctionOrNull(a)};this.ClearContent=function(){tf.dom.RemoveAllChildren(b);f.innerHTML=""};this.ReplaceContent=function(){b.ClearContent();
b.AddContent.apply(b,arguments)};this.AddContent=function(){for(var a in arguments){var d=arguments[a];if(d)if(tf.js.GetIsString(d))if(h){var c=(new tf.dom.Span({cssClass:k})).GetHTMLElement();c.innerHTML=d;f.appendChild(c)}else f.appendChild(document.createTextNode(d));else tf.js.GetFunctionOrNull(d.AppendTo)?d.AppendTo(b):(d=tf.dom.GetHTMLElementFrom(d))&&f.appendChild(d)}};this.RemoveContent=function(a){(a=tf.dom.GetHTMLElementFrom(a))&&a.parentNode==f&&f.removeChild(a)};this.InsertHead=function(a){if(a=
tf.dom.GetHTMLElementFrom(a))return 0==f.childNodes.length?b.AddContent(a):b.InsertContentBefore(a,f.firstElementChild)};this.InsertContentBefore=function(a,b){(a=tf.dom.GetHTMLElementFrom(a))&&(b=tf.dom.GetHTMLElementFrom(b))&&b.parentNode==f&&f.insertBefore(a,b)};this.InsertContentAfter=function(a,d){(a=tf.dom.GetHTMLElementFrom(a))&&(d=tf.dom.GetHTMLElementFrom(d))&&d.parentNode==f&&(d=d.nextSibling)&&b.InsertContentBefore(a,d)};this.ScrollContent=function(a){if(a=tf.dom.GetHTMLElementFrom(a)&&
a.parentNode==f)f.scrollTop=a.offsetTop-f.offsetTop};b=this;h=!1;if(g=tf.js.GetIsValidObject(a.domObj)?a.domObj:null)(f=tf.dom.GetHTMLElementFrom(a.domElement))?(a.id&&(f.id=a.id),tf.js.GetIsNonEmptyString(a.cssClass)&&(f.className=a.cssClass),tf.js.GetIsNonEmptyString(a.tooltip)&&(f.title=a.tooltip),tf.js.GetIsNonEmptyString(a.value)&&(f.value=a.value),k=tf.js.GetNonEmptyString(a.spanCSSClass,null),h=tf.js.GetBoolFromValue(a.addTextContentAsSpan,!0)):g=null;tf.dom.Insertable.call(b,a)};
tf.js.InheritFrom(tf.dom.Element,tf.dom.Insertable);tf.dom.Div=function(a){var c;this.GetDiv=function(){return c.GetHTMLElement()};c=this;(function(){var e=document.createElement("div");a=tf.js.GetValidObjectFrom(a);var d=tf.js.GetIsNonEmptyString(a.cssClass)?a.cssClass:tf.GetStyles().paddedBlockDivStyle;tf.js.GetIsFalseNotUndefined(a.initiallyVisible)&&(e.style.display="none");tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:d,tooltip:a.tooltip})})()};tf.js.InheritFrom(tf.dom.Div,tf.dom.Element);
tf.dom.Select=function(a){var c;this.GetSelect=function(){return c.GetHTMLElement()};c=this;(function(){var e=document.createElement("select");a=tf.js.GetValidObjectFrom(a);tf.js.GetIsFalseNotUndefined(a.initiallyVisible)&&(e.style.display="none");tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:a.cssClass,tooltip:a.tooltip})})()};tf.js.InheritFrom(tf.dom.Select,tf.dom.Element);
tf.dom.Option=function(a){var c;this.GetSelect=function(){return c.GetHTMLElement()};c=this;(function(){var e=document.createElement("option");a=tf.js.GetValidObjectFrom(a);tf.js.GetIsFalseNotUndefined(a.initiallyVisible)&&(e.style.display="none");tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:a.cssClass,tooltip:a.tooltip})})()};tf.js.InheritFrom(tf.dom.Option,tf.dom.Element);
tf.dom.UL=function(a){var c;this.GetUL=function(){return c.GetHTMLElement()};c=this;(function(){var e=document.createElement("ul");a=tf.js.GetValidObjectFrom(a);tf.js.GetIsFalseNotUndefined(a.initiallyVisible)&&(e.style.display="none");tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:a.cssClass,tooltip:a.tooltip})})()};tf.js.InheritFrom(tf.dom.Option,tf.dom.Element);
tf.dom.LI=function(a){var c;this.GetUL=function(){return c.GetHTMLElement()};c=this;(function(){var e=document.createElement("li");a=tf.js.GetValidObjectFrom(a);tf.js.GetIsFalseNotUndefined(a.initiallyVisible)&&(e.style.display="none");tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:a.cssClass,tooltip:a.tooltip})})()};tf.js.InheritFrom(tf.dom.Option,tf.dom.Element);
tf.dom.Button=function(a){var c,e;this.GetButton=function(){return c.GetHTMLElement()};this.OnDelete=function(){e&&(e.OnDelete(),e=void 0)};c=this;(function(){var d=document.createElement("button");a=tf.js.GetValidObjectFrom(a);var b=tf.js.GetIsNonEmptyString(a.cssClass)?a.cssClass:tf.GetStyles().unPaddedBlockDivStyle;tf.js.GetIsFalseNotUndefined(a.initiallyVisible)&&(d.style.display="none");tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:d,cssClass:b,tooltip:a.tooltip});c.SetOnClick(a.onClick,
a.optionalScope,a.onClickSettings);c.SetOnHover(a.onHover,a.optionalScope,a.onHoverSettings)})()};tf.js.InheritFrom(tf.dom.Div,tf.dom.Element);
tf.dom.TextInput=function(a){var c=null;this.GetInput=function(){return GetHTMLElement()};c=this;(function(){var e=document.createElement("input");a=tf.js.GetValidObjectFrom(a);var d=tf.js.GetNonEmptyString(a.label,""),b=tf.js.GetNonEmptyString(a.tooltip,d),g=tf.js.GetNonEmptyString(a.value,""),f=tf.js.GetIsNonEmptyString(a.cssClass)?a.cssClass:tf.GetStyles().inputTextClass;e.type="text";e.placeholder=d;tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:f,tooltip:b,value:g})})()};
tf.js.InheritFrom(tf.dom.TextInput,tf.dom.Element);
tf.dom.Link=function(a){function c(){window.open(d,b)}var e,d,b;this.GetLink=function(){return GetHTMLElement()};e=this;(function(){var g=document.createElement("a");a=tf.js.GetValidObjectFrom(a);d=g.href=a.href;b=g.target=a.target;tf.dom.Element.call(e,{id:a.id,domObj:e,domElement:g,addTextContentAsSpan:!1,tooltip:a.tooltip,cssClass:a.cssClass});tf.js.GetIsNonEmptyString(a.label)&&e.AddContent(a.label);new tf.events.DOMClickListener({target:g,callBack:c,optionalScope:e,callBackSettings:void 0})})()};
tf.js.InheritFrom(tf.dom.Link,tf.dom.Element);tf.dom.Span=function(a){var c;this.GetSpan=function(){return GetHTMLElement()};c=this;(function(){var e=document.createElement("span");a=tf.js.GetValidObjectFrom(a);var d=tf.js.GetIsNonEmptyString(a.cssClass)?a.cssClass:tf.GetStyles().spanClass,b=tf.js.GetIsNonEmptyString(a.spanCSSClass)?a.spanCSSClass:tf.GetStyles().spanClass;tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,addTextContentAsSpan:!0,spanCSSClass:b,cssClass:d})})()};
tf.js.InheritFrom(tf.dom.Span,tf.dom.Element);
tf.dom.Img=function(a){function c(){var a=d.GetHTMLElement();a.onload=a.onabort=a.onerror=void 0;f=!0;g&&(a=g,g=void 0,a(d))}function e(){k=!1;c()}var d,b,g,f,k;this.GetSettings=function(){return a};this.GetIsValid=function(){return k};this.GetImg=function(){return d.GetHTMLElement()};this.GetIsLoaded=function(){return f};this.GetSrc=function(){return b};this.GetDimensions=function(){var a=d.GetHTMLElement();return a?[a.width,a.height]:[0,0]};d=this;(function(){var h=document.createElement("img");
a=tf.js.GetValidObjectFrom(a);f=!1;k=!0;g=tf.js.GetFunctionOrNull(a.onLoad);h.onload=c;h.onabort=e;h.onerror=e;a.crossOrigin&&(h.crossOrigin="anonymous");if(b=tf.js.GetNonEmptyString(a.src))h.src=b;tf.dom.Element.call(d,{id:a.id,domObj:d,domElement:h,cssClass:a.cssClass,tooltip:a.tooltip})})()};tf.js.InheritFrom(tf.dom.Img,tf.dom.Element);
tf.dom.ImgsPreLoader=function(a){function c(){h(b)}function e(){void 0!==g&&f==g&&(k=!0,h&&setTimeout(c,10))}function d(b,d){new tf.dom.Img({src:b,cssClass:a.cssClassStr,onLoad:function(a){l[d]=a;++f;e()}})}var b,g,f,k,h,l;this.GetIsLoadComplete=function(){return k};this.GetImgs=function(){return l};b=this;(function(){a=tf.js.GetValidObjectFrom(a);f=0;k=!1;l=[];h=tf.js.GetFunctionOrNull(a.onAllLoaded);var b=a.imgSrcs;if(tf.js.GetIsValidObject(b)){var c=0,p;for(p in b)tf.js.GetNonEmptyString(b[p])&&
++c;var q=0;for(p in b){var r=tf.js.GetNonEmptyString(b[p]);r&&d(r,q++)}g=c;e()}})()};
tf.ui.TextBtn=function(a){function c(a){tf.js.GetIsNonEmptyString(a)?l.title=a:void 0!==l.title&&delete l.title}function e(a){tf.js.GetIsNonEmptyString(a)?n=l.className=a:(a=!!a)!=n&&(n=a,l.className=n?f:k)}function d(a){m&&m.OnDelete();tf.js.GetFunctionOrNull(a)&&(m=new tf.events.DOMClickListener({domObj:b,target:l,callBack:a,optionalScope:b,callBackSettings:void 0}))}var b,g,f,k,h,l,n,m;this.SetOnClick=function(a){return d(a)};this.GetStyle=function(){return n};this.SetStyle=function(a){return e(a)};
this.SetText=function(a){l.textContent=tf.js.GetNonEmptyString(a,"")};this.GetText=function(){return l.textContent};this.ChangeToolTip=function(a){return c(a)};b=this;a=tf.js.GetValidObjectFrom(a);g=tf.GetStyles();f=g.textDivBtnLightStyleClass;k=g.textDivBtnDarkStyleClass;h=g.GetSubStyles().textButtonHeightDelta+"px";n=void 0;m=null;l=(new tf.dom.Div({cssClass:g.GetUnPaddedDivClassNames(!1,!1)})).GetHTMLElement();d(a.onClick);l.textContent=tf.js.GetNonEmptyString(a.label,"");c(a.tooltip);e(a.style);
a=tf.js.GetDimFromStrOrPxNumber(a.dim,"1em");l.style.fontSize="calc("+a+" - "+h+")";tf.dom.Insertable.call(b,{domObj:b,domElement:l})};tf.js.InheritFrom(tf.ui.TextBtn,tf.dom.Insertable);
tf.js.ObjectCache=function(a){function c(){return{}}var e,d,b;this.GetNext=function(){for(var g=d.length,f=tf.js.GetFunctionOrNull(a.createNew)?a.createNew:c;b>=g;)d.push(f({sender:e})),++g;return d[b++]};this.Reset=function(){b=0};this.GetObjects=function(){return d};this.GetActiveCount=function(){return b};this.GetTotalCount=function(){return d.length};this.OnDelete=function(){var b=tf.js.GetFunctionOrNull(a.onDelete);if(b)for(var c=buttonsCache.length,k=0;k<c;++k)b({sender:e,obj:d[k]});d=[];e.Reset()};
e=this;d=[];e.Reset()};
tf.ui.TextButtonCache=function(a){var c,e,d,b;this.GetNextButton=function(){for(var a=c.length;e>=a;)c.push(new tf.ui.TextBtn({style:b,label:"",dim:d,tooltip:"",onClick:void 0})),++a;return c[e++]};this.Reset=function(){e=0};this.GetButtons=function(){return c};this.GetActiveCount=function(){return e};this.GetTotalCount=function(){return c.length};this.OnDelete=function(){for(var a=c.length,b=0;b<a;++b)c[b].OnDelete();c=[];e=0};d=void 0!=a.buttonDim?a.buttonDim:"1rem";b=void 0!=a.buttonStyle?a.buttonStyle:
!0;c=[];e=0};
tf.ui.LiveStreamPlayer=function(a){function c(a){l.display="block";try{jwplayer(m).setup({height:g,width:b,stretching:"exactfit",sources:[{file:a}],rtmp:{bufferlength:3}}),jwplayer(m).onMeta(function(a){}),jwplayer(m).play(),d=!0}catch(c){d=!1}}function e(){d&&(jwplayer(m).stop(),l.display="none",d=!1)}var d,b,g,f,k,h,l,n="liveFeedPlayerContainer",m="liveFeedPlayer";this.PlayStream=function(a){return c(a)};this.PlayVideo=function(a){l.display="block";try{jwplayer(m).setup({height:g,width:b,stretching:"exactfit",
file:a}),jwplayer(m).play(),d=!0}catch(c){d=!1}};this.OnDelete=function(){e();f.removeChild(k.GetHTMLElement())};this.StopPlay=function(){return e()};this.GetIsPlaying=function(){return d};a=tf.js.GetValidObjectFrom(a);(f=tf.dom.GetHTMLElementFrom(a.container))||(f=document.body);n=tf.dom.CreateDomElementID("tf-live-player");m=tf.dom.CreateDomElementID("tf-live-player");b=void 0!==a.width?a.width:320;g=void 0!==a.height?a.height:240;(function(){if(!k){var a={position:"relative",display:"block",backgroundColor:"#fff",
width:b+"px",height:g+"px",left:"0",top:"0",margin:"0px",padding:"0px",border:"0px",zIndex:"2000"};k=new tf.dom.Div({id:n});h=new tf.dom.Div({id:m});l=k.GetHTMLElement().style;tf.GetStyles().ApplyStyleProperties(k,a);h.AppendTo(k);k.AppendTo(f)}})();d=!1};
tf.ui.ConfirmMsg=function(a){function c(a){a=void 0!=a?a:p;return void 0==a?0:a}function e(a){t&&(clearTimeout(t),t=void 0);A&&k.ChangeOpacityVisibilityClass(q,A=!1);w.ClearContent();u({sender:g,confirmed:a})}function d(a){a=c(a);t&&(clearTimeout(t),t=void 0);k.ChangeOpacityVisibilityClass(q,A=!0);0<a&&(t=setTimeout(function(){return e(!1)},a))}function b(a){return function(b){e(a);return!1}}var g,f,k,h,l,n,m,p,q,r,A,t,w,v,u,B,E,D,F,C,G;this.ConfirmMsg=function(a,b,c){tf.js.GetFunctionOrNull(a)&&
tf.js.GetIsNonEmptyString(b)&&(A&&e(!1),u=a,v.innerHTML=b,d(c))};g=this;k=tf.GetStyles();C=k.CreateTextDivBtnClasses("white","green","white","darkgreen");G=k.CreateTextDivBtnClasses("white","red","white","darkred");f=tf.dom.GetHTMLElementFrom(a.container);l=a.style;h=a.className;n=a.msgClassName;m=a.buttonsDivClassName;p=a.timeout;B=tf.js.GetNonEmptyString(a.yesLabel,"Yes");E=tf.js.GetNonEmptyString(a.noLabel,"No");D=tf.js.GetNonEmptyString(a.yesTooltip,"Confirm");F=tf.js.GetNonEmptyString(a.noTooltip,
"Cancel");(function(){q=new tf.dom.Div({});r=q.GetHTMLElement();void 0!=h&&(r.className=h);void 0!=l&&k.ApplyStyleProperties(q,l);w=new tf.dom.Div({cssClass:n});v=w.GetHTMLElement();var a=new tf.dom.Div({cssClass:m}),d=k.AddButtonDivMargins(new tf.ui.TextBtn({dim:"18px",style:C,label:B,tooltip:D,onClick:b(!0)})),c=k.AddButtonDivMargins(new tf.ui.TextBtn({dim:"18px",style:G,label:E,tooltip:F,onClick:b(!1)})),e={textShadow:"1px 1px 1px #000"};k.ApplyStyleProperties(d,e);k.ApplyStyleProperties(c,e);
a.AddContent(d,c);q.AddContent(w,a);f.appendChild(r);k.ChangeOpacityVisibilityClass(q,!1)})()};
tf.ui.OneToast=function(a){function c(a,b){h!=(a=!!a)&&((h=a)?b?k.InsertHead(n):k.AddContent(n):(k.RemoveContent(n),p&&p({sender:g})))}function e(){A&&(clearTimeout(A),A=void 0);h&&c(!1);n.ClearContent()}function d(b){var d=void 0!=b.timeout?b.timeout:2E3,h=void 0!=a.addBefore?!!a.addBefore:t;++u;var k=new B(g,u,function(){return u});A&&(clearTimeout(A),A=void 0);v=void 0!=a.closeOnClick?!!a.closeOnClick:w;m.className=tf.js.GetIsNonEmptyString(b.className)?b.className:r;tf.js.GetIsValidObject(b.style)&&
(m.style="",f.Apply(n,b.style));c(!0,h);0<d&&(A=setTimeout(e,d));return k}function b(a){v&&e();return!1}var g,f,k,h,l,n,m,p,q,r,A,t,w,v,u;this.Toast=function(b){var c;if(!l&&tf.js.GetIsValidObject(b)){var e=!1;n.ClearContent();(e=tf.js.GetIsNonEmptyString(b.text))?m.innerHTML=b.text:(e=tf.dom.GetHTMLElementFrom(a.content))&&n.ReplaceContent(a.content);e&&(c=d(b))}return c};this.GetIsShowing=function(){return h};this.GetIsDeleted=function(){return l};this.Close=function(){return e()};var B=function(a,
b,d){this.IsShowing=function(){return b==d()&&a.GetIsShowing()};this.Close=function(){b==d()&&a.Close()}};g=this;f=tf.GetStyles();u=0;tf.dom.GetHTMLElementFrom(a.container)&&tf.js.GetFunctionOrNull(a.container.AddContent)&&tf.js.GetFunctionOrNull(a.container.RemoveContent)?(k=a.container,l=!1,p=tf.js.GetFunctionOrNull(a.onClose),w=void 0!=a.closeOnClick?!!a.closeOnClick:!0,t=void 0!=a.addBefore?!!a.addBefore:!0,q=tf.js.GetValidObjectFrom(a.style),r=tf.js.GetNonEmptyString(a.className,""),n=new tf.dom.Div({}),
m=n.GetHTMLElement(),void 0!=r&&(m.className=r),void 0!=q&&f.ApplyStyleProperties(n,q),m.addEventListener("click",b)):l=!0};
tf.ui.Toaster=function(a){function c(a){a=void 0!=a?a:k;return void 0==a?0:a}function e(){1==++q&&b.ChangeOpacityVisibilityClass(n,!0);return 0<p.length?p.pop():new tf.ui.OneToast({onClose:function(a){0==--q&&b.ChangeOpacityVisibilityClass(n,!1);p.push(a.sender)},container:n,className:a.toastClassName,style:a.toastStyle,closeOnClick:l})}var d,b,g,f,k,h,l,n,m,p,q;this.GetNActiveToasts=function(){return q};this.Toast=function(a){var d;if(tf.js.GetIsValidObject(a)){var f=tf.js.GetIsNonEmptyString(a.text),
g=!f&&tf.dom.GetHTMLElementFrom(a.content);if(f||g)d=e().Toast({text:a.text,content:a.content,timeout:c(a.timeout),addBefore:void 0!=a.addBefore?a.addBefore:h,className:a.className,style:a.style,closeOnClick:void 0!=a.closeOnClick?a.closeOnClick:l}),1==q&&b.ChangeOpacityVisibilityClass(n,!0)}return d};b=tf.GetStyles();d=tf.dom.GetHTMLElementFrom(a.container);f=a.style;g=a.className;k=a.timeout;l=void 0!=a.closeOnClick?!!a.closeOnClick:!0;h=void 0!=a.addBefore?!!a.addBefore:!0;q=0;p=[];n=new tf.dom.Div({});
m=n.GetHTMLElement();void 0!=g&&(m.className=g);void 0!=f&&b.ApplyStyleProperties(n,f);d.appendChild(m);b.ChangeOpacityVisibilityClass(n,!1)};
tf.ui.FullScreenDiv=function(a){function c(a){r||A!=(a=!!a)&&d(A=a)}function e(a,b){b?setTimeout(function(){p.zIndex=a},1E3):p.zIndex=a}function d(a){var d,c,f;a?(d=t,c="1",f="all"):(d=w,c="0",f="none");p.opacity=c;p.pointerEvents=f;e(d,!a);a?b():k.Notify(l,{sender:g})}function b(){r||q.DelayCallBack()}var g,f,k,h,l,n,m,p,q,r,A,t,w,v,u;this.Show=function(a){return c(a)};this.GetIsShowing=function(){return A};this.GetTopDiv=function(){return n};this.AddResizeListener=function(a){return k.AddListener(h,
a)};this.AddCloseListener=function(a){return k.AddListener(l,a)};this.OnDelete=function(){r||(c(!1),v&&v.OnDelete(),m&&document.body.removeChild(m),n&&(n.ClearContent(),n.OnDelete()),n=m=toDivES=k=v=q=void 0,r=!0)};this.GetIsDeleted=function(){return r};g=this;f=tf.GetStyles();r=!1;h="res";l="clo";k=new tf.events.MultiEventNotifier({eventNames:[h]});a=tf.js.GetValidObjectFrom(a);t=void 0!=a.zIndexShowing?a.zIndexShowing:100;w=void 0!=a.zIndexNotShowing?a.zIndexNotShowing:0;u=a.customStyle;n=new tf.dom.Div;
m=n.GetHTMLElement();p=m.style;f.ApplyStyleProperties(n,{display:"block","pointer-events":"none",position:"absolute","z-index":"0",left:"0px",top:"0px",width:"100%",height:"100%",border:"none",margin:"0px",padding:"0px",opacity:"0",overflow:"hidden","background-color":"rgba(255,255,255,0)","-webkit-transition":"opacity 1s ease-in-out","-moz-transition":"opacity 1s ease-in-out","-ms-transition":"opacity 1s ease-in-out","-o-transition":"opacity 1s ease-in-out",transition:"opacity 1s ease-in-out"});
tf.js.GetIsValidObject(u)&&f.ApplyStyleProperties(n,u);d(A=!1);document.body.appendChild(m);void 0!=a.onClose&&g.AddCloseListener(a.onClose);void 0!=a.onResize&&g.AddResizeListener(a.onResize);q=new tf.events.DelayedCallBack(250,function(){if(!r)return k.Notify(h,{sender:g}),!1});v=tf.events.AddDOMEventListener(window,tf.consts.DOMEventNamesResize,b);b()};
tf.ui.MultiLineInput=function(a){function c(a){if(k){var b=!0;if(f){var b=a?v.value.trim():"",c={sender:d,isConfirmed:a,props:t,text:b};(b=!(a&&E&&!E(c)))&&f(c)}b&&(k=!1,r.display="none")}}function e(a){return function(b){a?c(!0):c(!1)}}var d,b,g,f,k,h,l,n,m,p,q,r,A,t,w,v,u,B,E;this.GetTopDiv=function(){return p};this.GetIsEditing=function(){return k};this.Edit=function(a){if(!k&&tf.js.GetIsValidObject(a)){k=!0;r.display="block";w=tf.js.GetNonEmptyString(a.title,"Text Input");u.SetText(tf.js.GetNonEmptyString(a.saveText,
"Save"));u.ChangeToolTip(tf.js.GetNonEmptyString(a.saveToolTip,"Save"));var b;void 0!==a.cancelText?(B.SetText(tf.js.GetNonEmptyString(a.cancelText,"Cancel")),B.ChangeToolTip(tf.js.GetNonEmptyString(a.cancelToolTip,"Cancel")),b="inline-block"):b="none";B.GetHTMLElement().style.display=b;v.value=tf.js.GetNonEmptyString(a.text,"").trim();void 0!=a.nRows&&(v.rows=""+a.nRows);m.innerHTML=w;k=!0;t=a.props;v.focus()}};this.OnClose=function(a){return c(a)};d=this;a=tf.js.GetValidObjectFrom(a);f=tf.js.GetFunctionOrNull(a.onClose);
E=tf.js.GetFunctionOrNull(a.validator);n=a.container;b=tf.GetStyles();g=b.GetStyleCreator();h=b.CreateTextDivBtnClasses("white","green","white","darkgreen");l=b.CreateTextDivBtnClasses("white","red","white","darkred");k=!1;(function(){var d=tf.GetNextDynCSSClassName(),c=tf.GetNextDynCSSClassName(),f=tf.GetNextDynCSSClassName(),k=tf.GetNextDynCSSClassName(),t=tf.GetNextDynCSSClassName();g.CreateStyles([{styleName:"."+d,inherits:{margin:"0px",padding:"0px",border:"none",display:"block"}},{styleName:"."+
c,inherits:{padding:"4px",fontSize:"90%",backgroundColor:"rgba(255, 255, 255, 0.7)",marginBottom:"4px",display:"block",borderBottom:"1px solid brown"}},{styleName:"."+f,inherits:{display:"block",border:"none",padding:"2px",marginTop:"2px",borderTop:"1px solid rgba(255, 255, 255, 0.7)"}},{styleName:"."+k,inherits:{position:"absolute",margin:"4px",border:"2px solid red",borderRadius:"6px",fontSize:"18px",lineHeight:"20px",color:"darkblue",backgroundColor:"orange",textShadow:"2px 2px 3px white",cursor:"default",
display:"block",zIndex:"10",textAlign:"center",boxShadow:"2px 2px 4px 1px rgba(0,0,0,0.75)"}},{styleName:"."+t,inherits:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"40%",overflow:"hidden"}}]);A=new tf.dom.Div({cssClass:d});d=new tf.dom.Div({cssClass:c});m=d.GetHTMLElement();m.innerHTML="";m.title="";f=new tf.dom.Div({cssClass:f});u=b.AddButtonDivMargins(new tf.ui.TextBtn({dim:"16px",style:h,label:"Save",tooltip:"Save",onClick:e(!0)}));B=b.AddButtonDivMargins(new tf.ui.TextBtn({dim:"16px",
style:l,label:"Cancel",tooltip:"Cancel",onClick:e(!1)}));c={textShadow:"1px 1px 1px #000"};b.ApplyStyleProperties(u,c);b.ApplyStyleProperties(B,c);f.AddContent(u,B);f.GetHTMLElement().style.textAlign="right";v=document.createElement("textarea");v.className="multiLineInput";v.title=tf.js.GetNonEmptyString(a.textAreaToolTip,"Copy, Paste or Type text here");v.rows=10;A.AddContent(d,v,f);p=new tf.dom.Div({cssClass:k+" "+t});p.AddContent(A);q=p.GetHTMLElement();r=q.style;r.display="none";void 0!=a.zIndex&&
(r.zIndex=a.zIndex);n.AddContent(p)})()};
tf.ui.FullScreenMultiLineInput=function(a){function c(a){e.Show(!1);b&&b(a)}var e,d,b;this.GetIsEditing=function(){return d.GetIsEditing()};this.Edit=function(a){d.GetIsEditing()||(e.Show(!0),d.Edit(a))};this.OnClose=function(a){return d.OnClose(a)};this.GetTopDiv=function(){return d.GetTopDiv()};(function(){a=tf.js.GetValidObjectFrom(a);var g=tf.js.GetValidObjectFrom(a.multiLineInputSettings),f=tf.js.GetValidObjectFrom(a.fullScreenSettings);b=tf.js.GetFunctionOrNull(g.onClose);e=new tf.ui.FullScreenDiv(f);
d=new tf.ui.MultiLineInput(tf.js.ShallowMerge(g,{onClose:c,container:e.GetTopDiv()}))})()};
tf.ui.DatePicker=function(a){function c(){p&&(p.removeChild(m),p=void 0)}function e(a){E+=a?1:-1;0>E?(E=11,--B):11<E&&(E=0,++B);f()}function d(a){return function(b){if(F&&(b=a.index-D+1,F)){var d=new Date(B,E,b),c=d.getDay();F({sender:h,month:E,year:B,day:b,date:d,dow:c})}}}function b(a){a&&(a=a||new Date,void 0!=U&&a<U&&(a=U),void 0!=S&&a>S&&(a=S),T=a,v=a.getMonth(),w=a.getFullYear(),u=a.getDate(),B=w,E=v,f())}function g(a,b){var d,c;b?(d=1,c="all"):(d=0,c="none");a.style.opacity=d;a.style.pointerEvents=
c}function f(){var a=t[E],b=new Date(B,E,1),d=tf.units.GetDaysBetweenDates(b,new Date(B,E+1,0))+1,c=E==v&&B==w,e=N;q.titleDiv.myDivE.innerHTML=a+" "+B;D=b.getDay();for(var a=0,b=D,f=q.rows,h=f[a],k=h.cols,l=0;l<D;++l)g(k[l].divE,!1);for(l=0;l<d;++l){6<b&&(b=0,h=f[++a],k=h.cols);var m=k[b],p=l+1;g(m.divE,!0);c&&u==p?tf.dom.AddCSSClass(m.divE,e):tf.dom.RemoveCSSClass(m.divE,e);m.divE.innerHTML=""+p;h.divE.style.display="block";++b}for(l=b;7>l;++l)g(k[l].divE,!1);for(l=a+1;l<r;++l)q.rows[l].divE.style.display=
"none"}function k(){var a=new tf.dom.Div({cssClass:Q}),b=new tf.dom.Div({cssClass:O}),d=new tf.dom.Div({cssClass:M}),c=new tf.dom.Div({cssClass:R}),f=b.GetHTMLElement(),h=new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphLeftArrowName,onClick:function(){e(!1)},tooltip:"Previous Month",dim:C}),k=new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphRightArrowName,onClick:function(){e(!0)},tooltip:"Next Month",dim:C});d.AddContent(h);c.AddContent(k);a.AddContent(c);a.AddContent(d);a.AddContent(b);
return{div:a,prev:d,next:c,myDiv:b,myDivE:f}}var h,l,n,m,p,q,r,A,t,w,v,u,B,E,D,F,C,G,H,I,J,K,N,Q,M,R,O,T,U,S;this.SetMinDate=function(a){U=a;b(T)};this.SetMaxDate=function(a){b(T)};this.SetDate=function(a){return b(a)};this.AppendTo=function(a,b){c();l.ApplyStyleProperties(n,b);(p=tf.dom.GetHTMLElementFrom(a))?(p.appendChild(m),m.focus()):p=void 0};this.Detach=function(){return c()};this.IsAttached=function(){return!!p};this.GetHTMLElement=function(){return n.GetHTMLElement()};h=this;l=tf.GetStyles();
a=tf.js.GetValidObjectFrom(a);F=tf.js.GetFunctionOrNull(a.onClick);r=6;A=tf.js.GetIsArrayWithLength(a.weekDayLetters,7)&&tf.js.GetIsStringWithMinLength(a.weekDayLetters[0],2)?a.weekDayLetters:"Su Mo Tu We Th Fr Sa".split(" ");t=tf.js.GetIsArrayWithLength(a.monthNames,12)&&tf.js.GetIsNonEmptyString(a.monthNames[0])?a.monthNames:"January February March April May June July August September October November December".split(" ");C=tf.js.GetIsNonEmptyString(a.buttonDim)?a.buttonDim:"20px";(function(){G=
tf.GetNextDynCSSClassName();H=tf.GetNextDynCSSClassName();I=tf.GetNextDynCSSClassName();J=tf.GetNextDynCSSClassName();K=tf.GetNextDynCSSClassName();N=tf.GetNextDynCSSClassName();Q=tf.GetNextDynCSSClassName();M=tf.GetNextDynCSSClassName();R=tf.GetNextDynCSSClassName();O=tf.GetNextDynCSSClassName();var a=[{styleName:"."+G,inherits:{backgroundColor:"rgb(0,68,152)",borderRadius:"6px",border:"2px solid navajowhite",display:"inline-block"}},{styleName:".undefined",inherits:{padding:"2px",margin:"2px",display:"block",
border:"1px solid green"}},{styleName:"."+H,inherits:{whiteSpace:"nowrap",display:"block"}},{styleName:"."+I,inherits:{whiteSpace:"nowrap",backgroundColor:"white",color:"navy",textShadow:"none",fontWeight:"600",marginBottom:"2px"}},{styleName:"."+J,inherits:{padding:"2px",margin:"2px",display:"inline-block",border:"1px solid navy",lineHeight:"16px",fontSize:"14px",textAlign:"right",paddingRight:"6px",width:"24px"}},{styleName:"."+K,inherits:{padding:"2px",margin:"2px",display:"inline-block",border:"1px solid navy",
lineHeight:"16px",fontSize:"14px",textAlign:"right",paddingRight:"6px",width:"24px",color:"white",cursor:"pointer"}},{styleName:"."+K+":hover",inherits:{backgroundColor:"white",color:"navy",fontWeight:"600",fontSize:"16px"}},{styleName:"."+N,inherits:{backgroundColor:"lightgreen",fontWeight:"600",fontSize:"15px",color:"navy"}},{styleName:"."+Q,inherits:{verticalAlign:"middle",whiteSpace:"nowrap",backgroundColor:"white",color:"navy",textShadow:"none",fontWeight:"600",borderRadius:"4px",marginBottom:"4px",
position:"relative",textAlign:"center",overflow:"hidden",lineHeight:"16px",fontSize:"14px"}},{styleName:"."+M,inherits:{position:"absolute",left:"4px",top:"2px",height:"calc(100% - 4px)",overflow:"hidden"}},{styleName:"."+R,inherits:{position:"absolute",right:"4px",top:"2px",height:"calc(100% - 4px)",overflow:"hidden"}},{styleName:"."+O,inherits:{padding:"2px",margin:"2px",display:"inline-block"}}];l.GetStyleCreator().CreateStyles(a)})();n=new tf.dom.Div({cssClass:G});m=n.GetHTMLElement();q=function(){var a=
[],b=new tf.dom.Div({cssClass:void 0}),c=k(),e;e=[];for(var f=new tf.dom.Div({cssClass:I}),h=0;7>h;++h){var g;g=h;var l=new tf.dom.Div({cssClass:J});l.GetHTMLElement().innerHTML=A[g];g={div:l,col:g};e.push(g);f.AddContent(g.div)}e={div:f,cols:e};b.AddContent(c.div);b.AddContent(e.div);for(f=0;f<r;++f){h=f;g=[];for(var l=new tf.dom.Div({cssClass:H}),m=0;7>m;++m){var p,n=h,t=m,w=new tf.dom.Div({cssClass:K});p=w.GetHTMLElement();var q=7*n+t,n={div:w,divE:p,row:n,col:t,index:q};p.innerHTML=""+q;p.addEventListener("click",
d(n));p=n;g.push(p);l.AddContent(p.div)}h={div:l,divE:l.GetHTMLElement(),cols:g};a.push(h);b.AddContent(h.div)}return{div:b,rows:a,wdDiv:e,titleDiv:c}}();n.AddContent(q.div);U=a.minDate;b()};
tf.ui.QuickMenu=function(a){function c(){h&&(h.removeChild(f),h=void 0)}function e(a,b){return function(){l&&l({sender:d,text:a.text,item:a,index:b})}}var d,b,g,f,k,h,l,n,m,p,q;this.GetTopDivStyle=function(){return k};this.AppendTo=function(a,d){c();b.ApplyStyleProperties(g,d);(h=tf.dom.GetHTMLElementFrom(a))?(h.appendChild(f),f.focus()):h=void 0};this.Detach=function(){return c()};this.IsAttached=function(){return!!h};this.GetHTMLElement=function(){return g.GetHTMLElement()};this.GetButtons=function(){return m};
d=this;b=tf.GetStyles();a=tf.js.GetValidObjectFrom(a);l=tf.js.GetFunctionOrNull(a.onClick);n=tf.js.GetIsNonEmptyString(a.buttonDim)?a.buttonDim:"1.6em";(function(){p=tf.GetNextDynCSSClassName();q=tf.GetNextDynCSSClassName();var a=[{styleName:"."+p,inherits:{backgroundColor:"rgb(0,68,152)",borderRadius:"6px",border:"2px solid navajowhite",display:"inline-block",fontSize:"1.4em"}},{styleName:"."+q,inherits:{padding:"2px",margin:"2px",display:"block",border:"1px solid green"}}];b.GetStyleCreator().CreateStyles(a)})();
(function(){g=new tf.dom.Div({cssClass:p});f=g.GetHTMLElement();k=f.style;m=[];for(var b=a.items?a.items.length:0,d=0;d<b;++d){var c=a.items[d],c=new tf.ui.TextBtn({style:!0,label:c.text,buttonDim:n,tooltip:tf.js.GetIsNonEmptyString(c.toolTip)?c.toolTip:c.text,onClick:e(c,d)});c.GetHTMLElement().style.display="block";g.AddContent(c);m.push(c)}})()};
tf.ui.MultiMenus=function(a){function c(a){e(a.sender)}function e(a){for(var c in d){var e=d[c];e!=a&&e.CloseIfOpen()}}var d;this.AddMenu=function(a){a&&tf.js.GetFunctionOrNull(a.AddOpenListener)&&tf.js.GetFunctionOrNull(a.CloseIfOpen)&&(d.push(a),a.AddOpenListener(c))};this.CloseMenus=function(a){return e(a)};this.UpdateMenuPositions=function(){for(var a in d)d[a].OnResize()};d=[]};
tf.ui.GuidedTour=function(a){function c(){R&&(clearTimeout(R),R=void 0);T&&(T=!1,O&&O.SetIsToggled(!T))}function e(){T&&(R=setTimeout(d,1E3*I[J].duration_secs))}function d(){p(J+1)}function b(){T?c():(T=!0,e())}function g(){S&&n(S)}function f(){var a=D?t:w;a&&a({sender:q,isPlaying:D})}function k(){if(!D){var a=v.GetTopDiv();a.ClearContent();a.AddContent(F,U);u&&(u.GetHTMLElement().style.opacity=0);v.Show(D=!0);f();p(J)}}function h(a,b){a&&Z&&(b?tf.dom.AddCSSClass:tf.dom.RemoveCSSClass)(a,Z)}function l(a){if(U){S=
void 0;var b=U.GetHTMLElement().style;a&&h(U,!1);b.opacity=0;a&&h(U,!0)}}function n(a){setTimeout(function(){m(a)},300)}function m(a){if((a=tf.dom.GetHTMLElementFrom(a))&&U){var b=a.getBoundingClientRect();if(b){l(!0);S=a;a=Math.trunc(b.left)-8;var d=Math.trunc(b.top)-8,c=Math.trunc(b.width),b=Math.trunc(b.height),e=U.GetHTMLElement().style;e.left=a+"px";e.top=d+"px";e.width=c+4+"px";e.height=b+4+"px";e.opacity=1}}}function p(a){var b=I.length;0>a?a=b-1:a>=b&&(a=0);l(!0);var d=0==a?"none":"inline-block",
c=a<b-1?"inline-block":"none";Q.GetHTMLElement().style.display=d;M.GetHTMLElement().style.display=c;K.GetHTMLElement().style.display=d;N.GetHTMLElement().style.display=c;J=a;d=I[a];C.GetHTMLElement().innerHTML="[ "+(a+1)+"/"+b+" ] "+d.title;G.GetHTMLElement().innerHTML=d.content;d.action();e()}var q,r,A,t,w,v,u,B,E,D,F,C,G,H,I,J,K,N,Q,M,R,O,T,U,S,Z,X,da,L,W,ca;this.ShowPlayButton=function(a){u.GetHTMLElement().style.display=a};this.GetIsPlaying=function(){return D};this.HiLight=function(a){return m(a)};
this.DelayHiLight=function(a){return n(a)};this.HideHighLight=function(a){return l(a)};q=this;r=tf.GetStyles();v=a.fullScreenDiv;I=a.tourSteps;t=tf.js.GetFunctionOrNull(a.onPlay);w=tf.js.GetFunctionOrNull(a.onPause);B=void 0!=a.playButtonClass?a.playButtonClass:!0;E=void 0!=a.playButtonStyles?a.playButtonStyles:{position:"absolute",left:"1rem",top:"1rem"};A=void 0!=a.buttonDim?a.buttonDim:"1rem";Z=a.opacityTransitionCSSClass;X=a.hilightDivCSSClass;da=a.guidedWrapperCSSClass;L=a.guidedTitleCSSClass;
W=a.guidedContentCSSClass;ca=a.guidedButtonsCSSClass;(function(){T=D=!1;if(tf.dom.GetHTMLElementFrom(a.playButtonContainer)){var d=tf.js.GetNonEmptyString(a.playButtonToolTip,"Take a guided tour");u=new tf.ui.TextBtn({style:B,label:"Guided Tour",dim:"1.4rem",tooltip:d,onClick:k});r.ApplyStyleProperties(u,E);h(u,!0);a.playButtonContainer.AddContent(u)}void 0==v?v=new tf.ui.FullScreenDiv({onResize:g}):v.AddResizeListener(g);F=new tf.dom.Div({cssClass:da});C=new tf.dom.Div({cssClass:L});G=new tf.dom.Div({cssClass:W});
H=new tf.dom.Div({cssClass:ca});F.AddContent(C,G,H);K=r.AddButtonDivRightMargin(new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphArrowToStartName,onClick:function(){c();p(0)},tooltip:"First step in Tour",dim:A}));N=r.AddButtonDivRightMargin(new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphArrowToEndName,onClick:function(){c();p(I.length-1)},tooltip:"Last step in Tour",dim:A}));Q=r.AddButtonDivRightMargin(new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphLeftArrowName,onClick:function(){c();
p(J+-1)},tooltip:"Previous step in Tour",dim:A}));M=r.AddButtonDivRightMargin(new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphRightArrowName,onClick:function(){c();p(J+1)},tooltip:"Next step in Tour",dim:A}));var d=new tf.dom.Div,e=d.GetHTMLElement().style;e.position="absolute";e.left="2px";e.top="2px";e=r.AddButtonDivLeftRightMargins(new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphPauseName,onClick:function(){c();D&&(v.Show(D=!1),u&&(u.GetHTMLElement().style.opacity=1),f())},tooltip:"Pause Tour",
dim:A}));O=r.AddButtonDivRightMargin(new tf.ui.SvgGlyphToggleBtn({style:!0,onClick:b,dim:A,isToggled:!T,glyph:tf.styles.SvgGlyphAutoRepeatName,tooltip:"Manually advance to the next step of the tour",toggledGlyph:tf.styles.SvgGlyphNoAutoRepeatName,toggledTooltip:"Automatically advance to the next step of the tour"}));d.AddContent(e,O);H.AddContent(d,K,N,Q,M);U=new tf.dom.Div({cssClass:X});h(U,!0);J=void 0!=a.curTourStep?a.curTourStep:0})()};
tf.ui.TimeAnimationControl=function(a){function c(a,b){C.Notify(a,tf.js.ShallowMerge(b,{sender:k,isPaused:u.GetIsPaused()}))}function e(){var a=!u.GetIsPaused();q.SetIsToggled(a);u.Pause(a);c(F)}function d(){u.Pause(!0);u.SetElapsedTime(0);q.SetIsToggled(!0);f()}function b(){u.SetWrap(r=!r)}function g(){100<(A*=10)&&(A=1);u.SetSpeed(A);t&&t.SetText(A+"x")}function f(){E=u.GetElapsedTime();if(w&&m){var a=void 0==B;a||(a=999<Math.abs(E-B));a&&(G=new Date,B=E,G.setTime(m.getTime()+E),a=tf.js.GetTimeStampFromDate(G),
a=a.substring(0,19),w.innerHTML=a,v.SetPos01(0!=D?E/D:0))}}var k,h,l,n,m,p,q,r,A,t,w,v,u,B,E,D,F,C,G,H;this.AddListener=function(a){return C.AddListener(F,a)};this.GetIsShowing=function(){return H};this.Show=function(a){h.ChangeOpacityVisibilityClass(n,a);H=!!a};this.SetMinMaxDate=function(a,b){G=new Date(a);m=a;p=b;D=p.getTime()-m.getTime();u.SetLimit(D);d()};this.Pause=function(){k.GetIsPaused()||k.OnPlayPause()};this.OnUpdate=function(){return f()};this.GetIsPaused=function(){return u.GetIsPaused()};
this.OnPlayPause=function(){return e()};this.OnStop=function(){return d()};this.GetElapsedTime=function(){return E};this.GetCurrentDateTime=function(){return G};k=this;H=!1;G=new Date;F="playpause";C=new tf.events.MultiEventNotifier({eventNames:[F]});h=tf.GetStyles();l=a.container;A=1;u=new tf.helpers.Timer;u.SetSpeed(A);u.SetLimit(D=18E5);u.SetWrap(r=!0);u.Pause(!0);(function(){var a=new tf.dom.Div({cssClass:h.unPaddedBlockDivClass});(t=new tf.ui.TextBtn({style:!0,label:"",dim:"1.0em",tooltip:"Select playback speed",
onClick:g}))&&t.SetText(A+"x");t.GetHTMLElement().style.minWidth="3rem";var m=new tf.ui.SvgGlyphToggleBtn({style:!0,onClick:b,dim:"1.0em",isToggled:r,glyph:tf.styles.SvgGlyphAutoRepeatName,tooltip:"Auto-repeat",toggledGlyph:tf.styles.SvgGlyphNoAutoRepeatName,toggledTooltip:"Auto-repeat"});q=new tf.ui.SvgGlyphToggleBtn({style:!0,onClick:e,dim:"1.0em",isToggled:!1,glyph:tf.styles.SvgGlyphPauseName,tooltip:"Pause",toggledGlyph:tf.styles.SvgGlyphPlayName,toggledTooltip:"Play"});var p=new tf.ui.SvgGlyphBtn({style:!0,
glyph:tf.styles.SvgGlyphStopName,onClick:d,tooltip:"Stop",dim:"1.0em"}),B=new tf.dom.Div;w=B.GetHTMLElement();h.ApplyStyleProperties(B,{verticalAlign:"middle",borderLeft:"1px solid #003377",padding:"6px",paddingBottom:"2px",display:"inline-block",cursor:"default",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"calc(100% - 14px)",backgroundColor:"transparent",background:"none",textAlign:"center"});a.AddContent(h.AddButtonDivMargins(t),h.AddButtonDivRightMargin(p),h.AddButtonDivRightMargin(q),h.AddButtonDivRightMargin(m),
h.AddButtonDivRightMargin(w));m=new tf.dom.Div({cssClass:h.unPaddedBlockDivClass});h.ApplyStyleProperties(m,{overflow:"hidden",borderTop:"1px solid #003377"});v=new tf.ui.CanvasSlider(0,"1.5rem",!1);p=v.GetHTMLElement();v.SetOnClickListener(function(a,b){u.SetElapsedTime(D*b);f();v.SetPos01(b);u.GetIsPaused()&&c(F,{isSeek:!0})},k);p.title="Click to change time";p.style.width="calc(100% - 2px)";p.style.display="block";m.AddContent(v);a.AddContent(m);h.ApplyStyleProperties(n=a,{display:"block",overflow:"hidden",
position:"absolute",right:"8px",top:"3.5rem",fontSize:"1.8em",backgroundColor:"rgba(255,255,255,0.75)",borderRadius:"8px",border:"2px solid navy","tf-shadow":[0,0,4,"rgba(0,0,0,0.6)"],zIndex:2,textAlign:"left",width:"24rem"});n.AppendTo(l);h.ChangeOpacityVisibilityClass(n,!1);H=!1})()};
tf.ui.DateTimePicker=function(a){function c(){J&&(J.Detach(),J=void 0,b())}function e(a){a=J==a;c();return a}function d(a,d){c();a&&((J=a).AppendTo(K,d),b(),E&&E({sender:A}),U.Notify(T,{sender:A}))}function b(){H.SetStyle(J==G?B:u);C.SetStyle(J==F?B:u)}function g(){var a=D.GetHTMLElement().getBoundingClientRect();return{position:"absolute",left:a.left+"px",top:a.bottom+"px",zIndex:10}}function f(){e(F)||(F.SetDate(N),d(F,g()))}function k(){var a=H.GetHTMLElement().getBoundingClientRect();return{position:"absolute",
left:a.left+"px",top:a.bottom+"px",zIndex:10,fontSize:"1rem"}}function h(){e(G)||d(G,k())}function l(){C&&C.SetText(tf.js.GetMonthDayYearStr(N))}function n(){I&&I.SetText(R?"am":"pm")}function m(a){N=a.date;c();l()}function p(a){Q=parseInt(a.text,10);O=a.text;c();H&&H.SetText(O)}function q(){c();R=!R;n()}function r(a){var b,d;c();d=!0;a?(b=a.getHours(),12<b&&(b-=12,d=!1),a.getMinutes()):b=0;N=new Date(a.getFullYear(),a.getMonth(),a.getDate());Q=b;O=0<b?""+b:M;R=d;l();H&&H.SetText(O);n()}var A,t,w,
v,u,B,E,D,F,C,G,H,I,J,K,N,Q,M,R,O,T,U;this.AddOpenListener=function(a){return U.AddListener(T,a)};this.GetIsOpen=function(){return void 0!=J};this.CloseIfOpen=function(){return c()};this.OnResize=function(){var a;J==F?a=g():J==G&&(a=k());void 0!=a&&t.ApplyStyleProperties(J,a)};this.SetDateTime=function(a){return r(a)};this.GetDateTime=function(){var a=Q;R||(a+=12);var a=new Date(N.getFullYear(),N.getMonth(),N.getDate(),a,0,0,0),b=tf.js.GetTimeStampFromDate(a);return{startDate:a,startDateStr:b}};this.GetHTMLElement=
function(){return D.GetHTMLElement()};this.GetTopDiv=function(){return D};A=this;t=tf.GetStyles();T="open";U=new tf.events.MultiEventNotifier({eventNames:[T]});M="0/12";v=void 0!=a.style?a.style:{borderRadius:"4px",padding:"2px",border:"1px solid #bfbfbf",color:"white",backgroundColor:"#61788c",textAlign:"left",position:"relative"};w=void 0!=a.buttonDim?a.buttonDim:"1rem";u=void 0!=a.buttonClasses?a.buttonClasses:!0;B=void 0!=a.buttonSelectedClasses?a.buttonSelectedClasses:!1;K=a.menuContainer;E=
tf.js.GetFunctionOrNull(a.onOpenMenu);(function(){F=new tf.ui.DatePicker({onClick:m});C=new tf.ui.TextBtn({style:u,label:"",dim:w,tooltip:"Select date",onClick:f});l();for(var a=[],b=0;12>b;++b){var d=0==b?M:""+b;a.push({text:d,toolTip:"Select hour "+d})}G=new tf.ui.QuickMenu({onClick:p,items:a});(H=new tf.ui.TextBtn({style:u,label:"",dim:w,tooltip:"Select hour",onClick:h}))&&H.SetText(O);a=H.GetHTMLElement().style;a.minWidth="1.4rem";a.textAlign="right";I=new tf.ui.TextBtn({style:u,label:"",dim:w,
tooltip:"Select AM/PM",onClick:q});n();D=new tf.dom.Div({cssClass:t.unPaddedBlockDivClass});t.ApplyStyleProperties(D,v);D.AddContent(C,H,I)})();r(new Date)};
tf.ui.QuickTextMenus=function(a){function c(){p&&(p.menu.Detach(),p=void 0,e())}function e(){for(var a in q){var b=q[a],d=p==b;b.isCurrent!=d&&(b.button.SetStyle(d?t:A),b.isCurrent=d)}}function d(a){a=q[a];var b={};a&&(a=a.button.GetHTMLElement().getBoundingClientRect(),b={position:"absolute",left:a.left+"px",top:a.bottom+"px",zIndex:10,fontSize:"1rem"});return b}function b(a){return function(){var b=q[a];if(b){var k=p==b;c();k||(k=d(a),c(),b&&((p=b).menu.AppendTo(m,k),e(),h&&h({sender:f,isOpenMenu:!0}),
v.Notify(w,{sender:f})))}}}function g(a){return function(b){var d=q[a];if(d){var e=d.button,h=void 0!=b.item.label?b.item.label:b.text,k=e.GetText();c();h!=k&&(e.SetText(h),l&&l({sender:f,isSelect:!0,menuName:a,text:b.text,menuitem:d,item:b.item,index:b.index}))}else console.log("click without menu: "+a)}}var f,k,h,l,n,m,p,q,r,A,t,w,v;this.AddOpenListener=function(a){return v.AddListener(w,a)};this.GetIsOpen=function(){return void 0!=p};this.CloseIfOpen=function(){return c()};this.OnResize=function(){p&&
k.ApplyStyleProperties(p.menu,d(p.name))};this.GetItem=function(a){return q[a]};f=this;k=tf.GetStyles();w="open";v=new tf.events.MultiEventNotifier({eventNames:[w]});r=void 0!=a.buttonDim?a.buttonDim:"1rem";A=void 0!=a.buttonClasses?a.buttonClasses:!0;t=void 0!=a.buttonSelectedClasses?a.buttonSelectedClasses:!1;n=tf.js.GetIsNonEmptyArray(a.items)?a.items:[];h=tf.js.GetFunctionOrNull(a.onOpenMenu);l=tf.js.GetFunctionOrNull(a.onSelect);m=a.menuContainer;(function(){q={};for(var d in n){var c=a.items[d];
if(tf.js.GetIsValidObject(c)){var e=c.name;if(tf.js.GetIsNonEmptyString(e))if(void 0==q[e]){var f=c.items;if(tf.js.GetIsNonEmptyArray(f)){var h=void 0!=c.selIndex?c.selIndex:0;h>=f.length&&(h=0);h=void 0!=f[h].label?f[h].label:f[h].text;f=new tf.ui.QuickMenu({onClick:g(e),items:f});c=new tf.ui.TextBtn({style:A,label:h,dim:r,tooltip:tf.js.GetIsNonEmptyString(c.toolTip)?c.toolTip:h,onClick:b(e)});q[e]={name:e,menu:f,button:c,isCurrent:!1}}}else console.log("duplicate menu name: "+e)}}})()};
tf.ui.Select=function(a){function c(a,b){var d=a.settings.value,c=b.settings.value;return(d>c)-(d<c)}var e,d,b;this.AddOrSetOption=function(c){if(tf.js.GetIsValidObject(c)&&tf.js.GetIsNonEmptyString(c.value)){var e,k=b[c.value];void 0==k&&(k=b[c.value]={option:new tf.dom.Option({cssClass:a.optionsCSSClass})},e=!0);k.settings=c;e&&d.AddContent(k.option);k.option.GetHTMLElement().innerHTML=tf.js.GetNonEmptyString(c.innerHTML,"");k.option.GetHTMLElement().value=c.value}};this.GetCurrentOption=function(){return e.GetOption(e.GetHTMLElement().value)};
this.SetCurrentOption=function(a){e.GetOption(a)&&(e.GetHTMLElement().value=a)};this.GetOption=function(a){return b[a]};this.DelOption=function(a){var c=e.GetOption(a);c&&(delete b[a],d.RemoveContent(c.option))};this.Clear=function(){b={};d.ClearContent()};this.Sort=function(a){(a=tf.js.GetFunctionOrNull(a))||(a=c);var d=tf.js.ObjectToArray(b);d.sort(a);var k=!1;a=0;for(var h in b){var k=b[h],l=d[a++];if(k=k.settings.value!=l.settings.value)break}if(k){a=e.GetCurrentOption();e.Clear();for(h in d)e.AddOrSetOption(d[h].settings);
e.SetCurrentOption(a)}};e=this;b={};d=new tf.dom.Select({cssClass:a.cssClass});tf.dom.Insertable.call(e,{domObj:e,domElement:d.GetHTMLElement()});tf.js.GetFunctionOrNull(a.onChange)&&d.SetOnChange(a.onChange)};tf.js.InheritFrom(tf.ui.Select,tf.dom.Insertable);
tf.dom.RangeInput=function(a){var c=null;this.GetInput=function(){return GetHTMLElement()};c=this;(function(){var e=document.createElement("input");a=tf.js.GetValidObjectFrom(a);var d=tf.js.GetNonEmptyString(a.tooltip,""),b=tf.js.GetNonEmptyString(a.value,""),g=a.cssClass;e.type="range";tf.dom.Element.call(c,{id:a.id,domObj:c,domElement:e,cssClass:g,tooltip:d,value:b})})()};tf.js.InheritFrom(tf.dom.RangeInput,tf.dom.Element);
tf.helpers.DocCookies={getItem:function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(a,c,e,d,b,g){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var f="";if(e)switch(e.constructor){case Number:f=Infinity===e?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+e;break;case String:f="; expires="+e;break;case Date:f="; expires="+
e.toUTCString()}document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(c)+f+(b?"; domain="+b:"")+(d?"; path="+d:"")+(g?"; secure":"");return!0},removeItem:function(a,c,e){if(!tf.helpers.DocCookies.hasItem(a))return!1;document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(e?"; domain="+e:"")+(c?"; path="+c:"");return!0},hasItem:function(a){return a?(new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie):!1},keys:function(){for(var a=
document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),c=a.length,e=0;e<c;e++)a[e]=decodeURIComponent(a[e]);return a}};
tf.services.TranslateRoutingInstruction=function(a){var c={};a=""+(parseInt(a,10)&63);c["0"]="No turn";c["1"]="Straight";c["2"]="Slight right turn";c["3"]="Right turn ";c["4"]="Sharp right turn";c["5"]="U-Turn";c["6"]="Sharp left turn";c["7"]="Left turn";c["8"]="Slight left turn";c["9"]="Reach via location";c["10"]="Head on";c["11"]="Enter round about";c["12"]="Leave round about";c["13"]="Stay in round about";c["14"]="Start at end of street";c["15"]="Enter against allowed direction";c["16"]="Leave against allowed direction";
return c[a]};
tf.services.BaseJSONService=function(a){function c(){g.call(f,k);k=null}function e(a){k=a.data;h&&(k=h(k));k&&(k.requestProps=a.requestProps);setTimeout(c,0)}var d,b,g,f,k,h,l;this.GetIsInProgress=function(){return!!b&&b.GetIsInProgress()};this.Cancel=function(){b&&(b.Cancel(),b=null,l=!0)};this.WasCancelled=function(){return l};d=this;(function(){l=!1;a=tf.js.GetValidObjectFrom(a);tf.js.GetIsNonEmptyString(a.serviceURL)&&(g=tf.js.GetFunctionOrNull(a.callBack))&&(h=tf.js.GetFunctionOrNull(a.filterData),f=
a.optionalScope,a.skipRemoteService?(k={failed:!0,requestProps:a.requestProps},setTimeout(function(){c()},0)):a.useAjax?b=new tf.ajax.GetRequest({requestProps:a.requestProps,url:a.serviceURL,useRedirect:a.useRedirect,autoSend:!0,optionalScope:d,onDataLoaded:e}):(b=new tf.ajax.JSONGet,b.Request(a.serviceURL,e,d,a.requestProps,a.useRedirect,a.overrideMimeType,a.JSONDecode)))})()};
tf.services.Geocoder=function(a){function c(a){var d={pointCoords:[0,0],geocoderAccuracy:0};a&&a.responseText&&(a=tf.helpers.XMLString2Object(a.responseText),tf.js.GetIsValidObject(d)&&(tf.js.GetIsNonEmptyString(a.GeocoderErrorMsg)?d.errorMsg=a.GeocoderErrorMsg:(d.pointCoords=[tf.js.GetLongitudeFrom(a.Longitude),tf.js.GetLongitudeFrom(a.Latitude)],d.geocoderAccuracy=parseInt(a.GeocoderLevel,10))));return d}var e,d;this.GetSettings=function(){return tf.js.ShallowMerge(d)};e=this;(function(){d=tf.js.ShallowMerge(a);
if(tf.js.GetFunctionOrNull(d.callBack)){var b=encodeURI(tf.js.GetNonEmptyString(d.address));d.serviceURL="http://vn4.cs.fiu.edu/cgi-bin/geocoder.cgi?street="+b+"&filetype=.xml";d.overrideMimeType="text/xml";d.JSONDecode=c;tf.services.BaseJSONService.call(e,d)}})()};tf.js.InheritFrom(tf.services.Geocoder,tf.services.BaseJSONService);
tf.services.TFReverseGeocoder=function(a){function c(b){b=b?tf.js.GetNonEmptyString(unescape(b.responseText),void 0):void 0;return{pointCoords:a.pointCoords,HTML:b}}function e(a){var b={success:!1,sender:d};tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(a.address)&&(b.success=!0,b=tf.js.ShallowMerge(b,a));return b}var d,b;this.GetSettings=function(){return tf.js.ShallowMerge(b)};d=this;(function(){b=tf.js.ShallowMerge(a);if(tf.js.GetFunctionOrNull(b.callBack)){var g="http://vn4.cs.fiu.edu/cgi-bin/reversegeocoder.cgi?Lat="+
a.pointCoords[1]+"&Long="+a.pointCoords[0];void 0!=a.resolution&&(g+="&Res="+a.resolution);var f=!!a.getJSON;tf.js.GetIsNonEmptyString(a.vidParam)&&(g+="&vid="+a.vidParam);if(tf.js.GetIsNonEmptyString(a.passThrough)){var k=a.passThrough;"&"!=k.charAt(0)&&(k="&"+k);g+=k}f&&(g+="&filetype=.json");b.serviceURL=g;f?b.filterData=e:(b.overrideMimeType="text/html",b.JSONDecode=c);tf.services.BaseJSONService.call(d,b)}})()};tf.js.InheritFrom(tf.services.TFReverseGeocoder,tf.services.BaseJSONService);
tf.services.ReverseGeocoder=function(a){function c(a){var d={success:!1,sender:e};tf.js.GetIsValidObject(a)&&tf.js.GetIsArrayWithMinLength(a=a.features,1)&&tf.js.GetIsValidObject(a=a[0].properties)&&(d.success=!0,d.pointCoords=[tf.js.GetLongitudeFrom(a.lon),tf.js.GetLatitudeFrom(a.lat)],d.address=a.ADDR,d.city=a.CITY,d.stdAddress=a.STD_ADDR,d.stdCity=a.STD_CITY,d.stdState=a.STD_STATE,d.stdZip=a.STD_ZIP,d.stdZipPlus=a.STD_PLUS);return d}var e,d;this.GetSettings=function(){return tf.js.ShallowMerge(d)};
e=this;(function(){d=tf.js.ShallowMerge(a);if(tf.js.GetFunctionOrNull(d.callBack)&&tf.js.GetIsArrayWithMinLength(d.pointCoords,2)){var b=tf.js.GetLongitudeFrom(d.pointCoords[0]),g=tf.js.GetLatitudeFrom(d.pointCoords[1]);d.serviceURL="http://vn4.cs.fiu.edu/cgi-bin/arquery.cgi?&tfaction=shortdisplayflash&numfind=1&category=firstamerican_points_2017&filetype=.json&lat="+g+"&lon="+b;d.filterData=c;tf.services.BaseJSONService.call(e,d)}})()};tf.js.InheritFrom(tf.services.ReverseGeocoder,tf.services.BaseJSONService);
tf.services.GetDirectionModeFrom=function(a,c,e){a=tf.js.GetNonEmptyString(a,c);switch(a=a.toLowerCase()){case tf.consts.routingServiceModeFoot:case tf.consts.routingServiceModeBicycle:case tf.consts.routingServiceModeCar:break;case tf.consts.routingServiceModeBus:e||(a=c);break;default:a=c}return a};
tf.services.Routing=function(a){function c(a){if(tf.js.GetIsValidObject(a)&&(0==a.status||200==a.status))if(tf.js.GetIsArrayWithMinLength(a.mapped_coordinate,2)){var b=a.mapped_coordinate,d=b[0];b[0]=b[1];b[1]=d;a.mapped_coordinate=b}else a.status=400,a.status_message="Invalid route";return a}function e(a){if(tf.js.GetIsValidObject(a)){if(0!==a.status&&200!==a.status||!tf.js.GetLooksLikeLineStringCoords(a.route_geometry))a.route_geometry=[];else{var b=a.route_geometry,c;for(c in b){var e=b[c],f=e[0];
e[0]=e[1];e[1]=f}e=a.via_indices;if(tf.js.GetIsArrayWithMinLength(e,2)&&(f=e.length,e[f-1]==b.length))for(c=1;c<f;++c)--e[c]}a.sender=d}else a={sender:d};return a}var d,b,g,f;this.GetSettings=function(){return tf.js.ShallowMerge(b)};d=this;(function(){var k=!1;b=tf.js.GetValidObjectFrom(a);void 0===b.level&&(b.level=14);g=tf.js.GetNonEmptyString(a.serverURL,null);var h="";void 0!==b.level&&(h="&z="+tf.js.GetLevelFrom(b.level));f=!g;if(b.locateOnly||b.nearestOnly){var l=b.coords;if(tf.js.GetIsArrayWithMinLength(l,
2)){var k=tf.services.GetDirectionModeFrom(b.mode,tf.consts.routingServiceModeFoot,!1),n=b.locateOnly?"/locate?":"/nearest?",m="loc="+l[1]+","+l[0];b.serviceURL=f?tf.consts.RoutingServiceURL+k+n+m:g+n+m+h;b.filterData=c;k=!0}}else if(l=b.lineStringCoords,tf.js.GetLooksLikeLineStringCoords(l)){k=tf.services.GetDirectionModeFrom(b.mode,tf.consts.routingServiceModeFoot,!1);switch(k=k.toLowerCase()){case tf.consts.routingServiceModeFoot:case tf.consts.routingServiceModeBicycle:case tf.consts.routingServiceModeCar:break;
default:k=tf.consts.routingServiceModeCar}var m="",n=l.length,p="",q="";tf.js.GetIsFalseNotUndefined(b.findAlternatives)&&(p="&alt=false");b.instructions&&(q="&instructions=true");25<n&&(n=25);for(var r=0;r<n;++r)var A=l[r],m=m+("&loc="+A[1]+","+A[0]);b.serviceURL=f?tf.consts.RoutingServiceURL+k+"/viaroute?compression=false"+m+p+q:g+"/viaroute?compression=false"+m+p+h+q;b.filterData=e;k=!0}b.skipRemoteService=!k;tf.services.BaseJSONService.call(d,b)})()};tf.js.InheritFrom(tf.services.Routing,tf.services.BaseJSONService);
tf.services.RasterSourceList=function(a){var c,e;this.GetSettings=function(){return tf.js.ShallowMerge(e)};c=this;(function(){e=tf.js.ShallowMerge(a);var d=tf.js.GetLevelFrom(e.level),b;void 0!==e.pointCoordinates?(b=tf.js.GetMapCoordsFrom(e.pointCoordinates),b=[b[0],b[1],b[0],b[1]]):b=tf.js.GetMapExtentFrom(e.extent);e.serviceURL="http://131.94.133.184/TileService/rsourcelist.aspx?projection=bing&z="+d+"&bbox="+b[1]+","+b[2]+","+b[3]+","+b[0];tf.services.BaseJSONService.call(c,e)})()};
tf.js.InheritFrom(tf.services.RasterSourceList,tf.services.BaseJSONService);
tf.services.RasterMosaic=function(a){function c(){setTimeout(e,50)}function e(){d.call(b,f);f=null}var d,b,g,f;this.GetSettings=function(){return tf.js.ShallowMerge(g)};(function(){g=tf.js.ShallowMerge(a);if(d=tf.js.GetFunctionOrNull(g.callBack)){b=g.optionalScope;var e=tf.js.GetLevelFrom(g.level),h=tf.js.GetMapCoordsFrom(g.leftTop),l=tf.js.GetMapExtentFrom(g.extent),n=tf.js.GetIsArrayWithMinLength(a.dim,2)?a.dim:[16,16],m=tf.js.GetNonEmptyString(g.source),p=tf.js.GetNonEmptyString(g.date);void 0!==
g.level&&void 0!==g.leftTop?g.serviceURL="http://131.94.133.184/TileService/rmosaic.aspx?projection=bing&z="+e+"&left="+h[0]+"&top="+h[1]+"&width="+n[0]+"&height="+n[1]:(e=tf.units.TM2OL([l[0],l[3]]),l=tf.units.TM2OL([l[2],l[1]]),g.serviceURL="http://131.94.133.184/TileService/rmosaic.aspx?projection=bing&bbox="+e[0]+","+e[1]+","+l[0]+","+l[1]+"&width="+n[0]+"&height="+n[1]);m&&(g.serviceURL+="&source="+m);p&&(g.serviceURL+="&date="+p);f=new tf.dom.Img({src:g.serviceURL,onLoad:c,crossOrigin:!0})}})()};
tf.services.Uber=function(a){function c(a,b){if(tf.js.GetFunctionOrNull(b)){var c={Authorization:"Token "+d};(new tf.ajax.JSONGet).Request("https://api.uber.com/"+g+a,function(a){b(a?a.data:void 0)},e,void 0,!1,void 0,void 0,void 0,c)}}var e,d,b,g,f;this.GetPriceEstimate=function(a,b,d,e){b="start_latitude="+b[1]+"&start_longitude="+b[0]+"&end_latitude="+d[1]+"&end_longitude="+d[0];void 0!=e&&(b+="&seat_count="+e);return c("/estimates/price?"+b,a)};this.GetTimeEstimate=function(a,b){return c("/estimates/time?"+
("start_latitude="+b[1]+"&start_longitude="+b[0]),a)};this.GetProducts=function(a,b){return c("/products?"+("latitude="+b[1]+"&longitude="+b[0]),a)};this.SetPickup=function(a,b,d,c,e,f){return setPickup(a,b,d,c,e,f)};this.MakeSetPickupUrl=function(a,d,c,e,g){a=f+"?client_id="+b+"&action=setPickup&pickup[latitude]="+a[1]+"&pickup[longitude]="+a[0]+"&pickup[formatted_address]="+d+"&dropoff[latitude]="+c[1]+"&dropoff[longitude]="+c[0]+"&dropoff[formatted_address]="+e;void 0!=g&&(a+="&product_id="+g);
return a};e=this;a=tf.js.GetValidObjectFrom(a);g=tf.js.GetNonEmptyString(a.uperApiVersion,"v1.2");d=tf.js.GetNonEmptyString(a.serverToken,"");b=tf.js.GetNonEmptyString(a.clientId,"");f=a.useDeepLink?"uber://":"https://m.uber.com/ul/"};
tf.services.MDTServiceAPI=function(a){function c(a,b,d){a=A+a;void 0!=b&&(a+="&RouteID="+b);void 0!=d&&(a+="&Dir="+d);return a}function e(a,d){tf.js.GetFunctionOrNull(d)&&(++g,new tf.ajax.GetRequest({onDataLoaded:function(a){--g;0>g&&console.log("MDTServiceAPI has negative number of pending requests: "+g);var b;a=a.httpRequest;200==a.status&&a.responseXML&&(b=tf.helpers.XML2Object(a.responseXML.documentElement));d(b)},optionalScope:b,url:a,autoSend:!0,useRedirect:!0}))}function d(a,b){return e(f+
a,b)}var b,g,f,k,h,l,n,m,p,q,r,A;this.GetHasRequestsPending=function(){return 0<g};this.GetBuses=function(a){return d(r,a)};this.GetBusRoutes=function(a){return d(k,a)};this.GetDirectionsForRouteId=function(a,b){return d(void 0!=a?h+a:h,b)};this.GetShapeIdsForRouteIdAndDirection=function(a,b,c){return d(l+a+"&Dir="+b,c)};this.GetShapeForShapeId=function(a,b){return d(n+a,b)};this.GetRouteServices=function(a){return d(m,a)};this.GetBusRouteStops=function(a,b,c){return d(p+a+"&Dir="+b,c)};this.GetBusTrackerURL=
function(a,b,d){return f+c(a,b,d)};this.GetBusTracker=function(a,b,e,f){return d(c(a,b,e),f)};this.GetBusSchedules=function(a,b,c,e,f,h){a=q+a+"&Service="+b+"&Dir="+c+"&StopID="+e;void 0!=f&&(a+="&Sequence="+f);return d(a,h)};b=this;g=0;f="http://www.miamidade.gov/transit/WebServices/";r="Buses";k="BusRoutes/";h="BusRouteDirections/?RouteID=";p="BusRouteStops/?RouteID=";n="BusRouteShape/?ShapeID=";m="BusRouteService";q="BusSchedules/?RouteID=";A="BusTracker/?StopID=";l="BusRouteShapesByRoute/?RouteID="};
tf.services.CRUDClient=function(a){function c(c,n,m,p,q,r){if(d&&void 0!==d[n]&&tf.js.GetFunctionOrNull(c)){var A=tf.js.GetNonEmptyString(q,h);q=k?k({sender:e}):f;var t=tf.js.GetIsNonEmptyArray(m)?m:void 0;m=void 0==t?m:void 0;var w=tf.js.GetIsNonEmptyArray(p)?p:void 0;p=void 0==w?p:void 0;if(n==d.put)if(void 0!=p)m=p.id;else{if(tf.js.GetIsNonEmptyArray(w))for(var t=[],v=0,u=w.length;v<u;++v)t.push(w[v].id)}else if(n==d.del)if(void 0==m&&void 0!=p)m=p.id,p=void 0;else{if(void 0==t&&void 0!=w){t=[];
for(v in w)t.push(w[v].id);w=void 0}}else n==d.listTables?A=m=t=p=w=void 0:n==d.rename_table&&(m=t=p=w=void 0);void 0!=p&&(p=JSON.stringify(p));if(void 0!=w)for(v in w)w[v]=JSON.stringify(w[v]);r={authForm:a.authForm,crudContent:{verb:n,tableName:A,newTableName:r,id:m,ids:t,value:p,values:w}};v=b[n];v.ajax&&v.ajax.Cancel();++v.counter>g&&(v.counter=1);c={counter:v.counter,then:c,sender:e,verbName:n,verbData:v,crudRecord:r};v.ajax=(new tf.ajax.JSONGet).Request(q,function(a){var b=a?a.requestProps:
void 0;if(b&&b.counter==b.verbData.counter){var d=!1,c="",e=a&&a.data&&a.data.OK?a.data:void 0,f=[];if(void 0!=e)if(d=!0,c=a.data.message,e.value)a=JSON.parse(e.value),e.id&&(a.id=e.id),f.push(a);else if(tf.js.GetIsNonEmptyArray(e.values))for(var h=e.values.length,k=tf.js.GetIsNonEmptyArray(e.ids)?e.ids:void 0,g=0;g<h;++g)a=JSON.parse(e.values[g]),k&&(a.id=k[g]),f.push(a);b.then({sender:b.sender,data:f,ok:d,message:c})}},e,c,!1,void 0,void 0,JSON.stringify(r))}}var e=this;if(!(e instanceof tf.services.CRUDClient))return new tf.services.CRUDClient(a);
var d,b,g,f,k,h;this.ListTables=function(a){c(a,d.list_tables,void 0,void 0,void 0)};this.RenameTable=function(a,b,e){c(a,d.rename_table,void 0,void 0,b,e)};this.Post=function(a,b,e){c(a,d.post,void 0,b,e)};this.Get=function(a,b,e){c(a,d.get,b,void 0,e)};this.Put=function(a,b,e){c(a,d.put,void 0,b,e)};this.Del=function(a,b,e,f){c(a,d.del,b,e,f)};(function(){if(a){d={post:"post",get:"get",put:"put",del:"del",list_tables:"list_tables",rename_table:"rename_table"};b={};g=1E3;for(var c in d)b[d[c]]={counter:0,
ajax:null};void 0!==a.serverURL?tf.js.GetIsNonEmptyString(a.serverURL)?f=a.serverURL:tf.js.GetFunctionOrNull(a.serverURL)&&(k=a.serverURL):f=tf.js.GetNonEmptyString(a.serverURL,"http://131.94.133.212/v1/CRUD/");h=tf.js.GetNonEmptyString(a.tableName,"_crud_test")}})()};tf.services.TestCrudClient=function(a){if(!(this instanceof testCrudClient))return new testCrudClient(a);tf.services.CRUDClient({serverURL:function(){return"http://192.168.0.105:8080/v1/CRUD/"},tableName:"_utma_stops3"})};
tf.ajax.GetRequest=function(a){function c(){if(!n&&q){try{g.open(A?"POST":"GET",f,!0);if(g.setRequestHeader&&(void 0!=w&&g.setRequestHeader("Content-type",w),v))for(var a in v){var b=v[a];b&&g.setRequestHeader(a,b)}g.onreadystatechange=d;g.send(t)}catch(c){q=!1}(n=q)||e(void 0,h)}}function e(d,c){if(k)try{k.call(a.optionalScope,{sender:b,httpRequest:d,requestProps:c})}catch(e){console.log("exception during AJAX notification: "+e)}}function d(){m||4!=g.readyState||(e(g,h),p=!0,g=null)}var b,g,f,k,
h,l,n,m,p,q,r,A,t,w,v;this.Send=function(){return c()};this.Cancel=function(){n&&!m&&!p&&g&&(g.abort(),g=null,m=!0)};this.WasCancelled=function(){return m};this.GetIsValid=function(){return q};this.WasSent=function(){return n};this.GetIsInProgress=function(){return n&&!m&&!p};this.WasReceived=function(){return p};b=this;(function(){n=m=p=!1;k=tf.js.GetFunctionOrNull(a.onDataLoaded);f=tf.js.GetNonEmptyString(a.url,null);if(q=!!f&&!!k){a.useRedirect&&(f=tf.platform.GetURL()+"RedirectStream.aspx?URL="+
escape(f));r=tf.js.GetNonEmptyString(a.overrideMimeType,"text/xml");h=a.requestProps;l=!!a.autoSend;A=!!a.usePost;t=a.postParams?a.postParams:null;w=a.contentType;v=a.requestHeaders;if(window.XMLHttpRequest)try{g=new XMLHttpRequest({mozSystem:!0}),g.overrideMimeType&&r&&g.overrideMimeType(r)}catch(b){g=null}else if(window.ActiveXObject)try{g=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{g=new ActiveXObject("Microsoft.XMLHTTP")}catch(E){g=null}}q=!!g;l&&(q?c():setTimeout(function(){e(void 0,h)},
10))}})()};
tf.ajax.JSONGet=function(){function a(a){e=null;var f=a.requestProps,k=f.JSONDecode,h;a=a.httpRequest;if(200<=a.status&&300>a.status||304===a.status)k?h=k(a):(h=a.responseText)&&(h=tf.js.JSONParse(h));d&&d.call(b,{sender:c,data:h,requestProps:f.clientProps})}var c,e,d,b;this.Request=function(g,f,k,h,l,n,m,p,q){tf.js.GetFunctionOrNull(g)&&(g=g());if(tf.js.GetNonEmptyString(g)){n=tf.js.GetNonEmptyString(n,"application/json");m=tf.js.GetFunctionOrNull(m);d=tf.js.GetFunctionOrNull(f);b=k;e&&(e.Cancel(),
e=null);var r,A;void 0!=p&&(r=!0,A="application/json; charset=utf-8");e=new tf.ajax.GetRequest({optionalScope:c,url:g,onDataLoaded:a,requestProps:{clientProps:h,JSONDecode:m},contentType:A,usePost:r,postParams:p,requestHeaders:q,overrideMimeType:n,useRedirect:l,autoSend:!0})}};this.GetIsInProgress=function(){return!!e&&e.GetIsInProgress()};this.Cancel=function(){e&&(e.Cancel(),e=null)};c=this};
tf.ajax.PeriodicJSONGet=function(a){function c(){if(f)try{f.call(r,{sender:g,data:p}),p=null}catch(a){console.log("exception during Periodic notification")}}function e(a){a.requestProps==q?(l=h=new Date,p=a.data,1E4<q&&(q=0),c(),b(),v&&(n=setTimeout(d,w))):D&&D.LogIfTest("PeriodicJSONGet: skipping stale response: "+a.requestProps+" last requested "+q)}function d(){m.Request(A,e,g,q=++q,t,void 0,u,B,E)}function b(){n&&(clearTimeout(n),n=null)}var g,f,k,h,l,n,m,p,q,r,A,t,w,v,u,B,E,D;this.GetLastRefreshTime=
function(){return l};this.GetIsRefreshing=function(){return!!m&&m.GetIsInProgress()};this.OnDelete=function(){k=!0;m&&m.Cancel();b();f=null};this.ChangeCallBack=function(a){k||(f=tf.js.GetFunctionOrNull(a))};this.RefreshNow=function(){return d()};this.Cancel=function(){m&&m.Cancel()};this.RefreshFromData=function(a){p=a;c()};g=this;D=tf.GetDebug();u=a.JSONDecode;B=a.postParams;E=a.requestHeaders;r=a.optionalScope;A=a.url;t=tf.js.GetBoolFromValue(a.useRedirect,!1);v=tf.js.GetBoolFromValue(a.autoRefresh,
!0);q=0;m=new tf.ajax.JSONGet;k=!1;(f=tf.js.GetFunctionOrNull(a.onRefresh))&&A&&(w=tf.js.GetFloatNumberInRange(a.refreshMillis,1E3,864E5,5E3),b(),v&&(n=setTimeout(d,w)),h&&(h=new Date))};
tf.styles.CSSStyleCreator=function(a){function c(b,d){var e;if(b=tf.dom.GetHTMLElementFrom(b))for(var f in d)if(d.hasOwnProperty(f)&&"styleName"!=f)if("inherits"==f){if("object"===typeof(e=d[f]))if(e.length)for(var h in e)e.hasOwnProperty(h)&&c(b,e[h]);else c(b,e)}else switch(f){case "tf-shadow":e=d[f];tf.js.GetIsArrayWithMinLength(e,4)&&c(b,a.GetSubStyles().CreateShadowStyle(e[0],e[1],e[2],e[3]));break;default:b.style[f]=d[f]}}function e(b,d){"string"!==typeof d&&(d="");var c,f;for(f in b)if(b.hasOwnProperty(f)&&
"styleName"!=f)if("inherits"==f){if("object"===typeof(c=b[f]))if(c.length)for(var h in c)c.hasOwnProperty(h)&&(d=e(c[h],d));else d=e(c,d)}else switch(f){case "tf-shadow":c=b[f];tf.js.GetIsArrayWithMinLength(c,4)&&(d=e(a.GetSubStyles().CreateShadowStyle(c[0],c[1],c[2],c[3]),d));break;default:c=b[f],f=tf.js.UnCamelize(f),d+=f+" : "+c+"; "}return d}function d(a){tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyString(a.styleName)&&g(a.styleName,e(a,""))}function b(a){var b=null;if(a)try{var d=typeof a.media,
b="string"==d?a.rules:"object"==d?a.cssRules:null;!b&&a.sheet&&a.sheet.cssRules&&(b=a.sheet.cssRules)}catch(c){b=null}return b}function g(a,b){if("string"===typeof a&&0<a.length&&"string"===typeof b&&0<b.length){var d=a.toLowerCase(),c=h[d];if(c)try{c.style.cssText=b}catch(e){}else if(n)try{var f=n.length;"function"===typeof l.insertRule?l.insertRule(a+"{"+b+"}",f):l.addRule(a,b);h[d]=n[f]}catch(k){}}}var f,k,h,l,n;this.CreateStyle=function(a){return d(a)};this.CreateStyles=function(a){if(tf.js.GetIsValidObject(a))for(var b in a)d(a[b])};
this.CreateRawStyle=function(a,b){return g(a,b)};this.ApplyStyleProperties=function(a,b){return c(a,b)};this.LogStyles=function(){var a=document.styleSheets;if(0<(a?a.length:0)){var d="",c;for(c in a)if(a.hasOwnProperty(c)){var e=a[c];if(!e.disabled){var e=b(e),f;for(f in e)e.hasOwnProperty(f)&&(d+=e[f].cssText)}}tf.GetDebug().SaveAsTextFile("stylesheets",d)}};f=(k=document.getElementsByTagName("head"))&&0<k.length;(function(){var a=document.styleSheets,d=a?a.length:0;h=[];if(0<d)for(var c in a)if(a.hasOwnProperty(c)&&
(d=a[c],!d.disabled))try{var e=b(d);if(e)for(var f in e)if(e.hasOwnProperty(f)){var k=e[f];k.selectorText&&(h[k.selectorText.toLowerCase()]=k)}}catch(g){}})();(function(){var a,d;d=a=null;var c=document.styleSheets,e=c?c.length:0;if(0<e)for(--e;0<=e&&!a;--e){var h=c[e];try{if(!h.disabled){var g=h.media,w=typeof g,v="string"==w?g:"object"==w?g.mediaText:null;if(""==v||-1!=v.indexOf("screen")||-1!=v.indexOf("all"))(d=b(a=h))||(a=null)}}catch(u){}}a||(d=a=null,f&&(c=document.createElement("style"))&&
(c.type="text/css",k[0].appendChild(c),void 0!=c.sheet?a=c.sheet:void 0!=c.styleSheet&&(a=c.styleSheet),a&&((d=b(a))||(a=null))));l=a;n=d})()};tf.styles.CreateCSSClasses=function(a){if(tf.js.GetIsValidObject(a)){var c=tf.GetStyles().GetStyleCreator(),e=[],d;for(d in a)e.push({styleName:"."+d,inherits:a[d]});c.CreateStyles(e)}};
tf.styles.AddRangeClasses=function(a){var c=a.className,e=a.cssClasses;e[c]={};e[c+" input[type=range]"]={"-webkit-appearance":"none",inherits:[a.rangeSettings]};e[c+" input[type=range]::-ms-tooltip"]={display:"none"};e[c+" input[type=range]:focus"]={outline:"none"};e[c+" input[type=range]::-ms-track"]={inherits:[a.trackSettings]};e[c+" input[type=range]::-moz-range-track"]={inherits:[a.trackSettings]};e[c+" input[type=range]::-webkit-slider-runnable-track"]={inherits:[a.trackSettings]};e[c+" input[type=range]::-moz-range-thumb"]=
{inherits:[a.thumbSettings]};e[c+" input[type=range]::-ms-thumb"]={inherits:[a.thumbSettings]};e[c+" input[type=range]::-webkit-slider-thumb"]={inherits:[a.thumbSettings],"-webkit-appearance":"none",marginTop:2-(a.thumbHeightInt+a.thumbBorderInt)/2+"px"}};
tf.dom.StyleSheet=function(a){function c(a,b){"string"!==typeof b&&(b="");var d,e;for(e in a)if(a.hasOwnProperty(e)&&"styleName"!=e)if("inherits"==e){if("object"===typeof(d=a[e]))if(d.length)for(var f in d)d.hasOwnProperty(f)&&(b=c(d[f],b));else b=c(d,b)}else switch(e){case "tf-shadow":break;default:d=a[e];for(var k="",g="string"===typeof e?e.length:0,A=0;A<g;++A)var t=e[A],w=t.toLowerCase(),k=k+(t==w?t:"-"+w);e=k;b+=e+" : "+d+"; "}return b}var e,d,b,g,f,k;this.GetAllRules=function(){return e};this.GetIsActive=
function(){return void 0!=b};this.AddStyles=function(a){if(void 0!=a){void 0==a.length&&(a=[a]);for(var b=a.length,n=0;n<b;++n){var m=a[n];if(void 0!=m&&void 0!=m.styleName){var p=m.styleName,m=c(m),q=p,r=m,A=!1,t=e[q];if(t){try{t.style.cssText=r,A=!0,e[q]=r}catch(w){A=!1}e[q]=g[k]}if(!A&&g){k=f.length;try{d?g.insertRule(p+"{"+m+"}",k):g.addRule(p,m),e[p]=m}catch(v){}}}}}};d=!1;e={};(function(){var c=a.document.getElementsByTagName("head");if(void 0!=c&&0<c.length){b=a.document.createElement("style");
b.type="text/css";c[0].appendChild(b);if(g=void 0!=b.sheet?b.sheet:void 0!=b.styleSheet?b.styleSheet:void 0){var e;if(g)try{var k=typeof g.media;e="string"==k?g.rules:"object"==k?g.cssRules:null;!e&&g.sheet&&g.sheet.cssRules&&(e=g.sheet.cssRules)}catch(m){e=void 0}(f=e)||(g=void 0)}void 0!=g&&((d="function"==typeof g.insertRule)||"function"!=typeof g.addRule&&(g=void 0));void 0==g&&(b=void 0)}})()};
tf.styles.GetDefaultAPIStyleSpecifications=function(){return{fontFamily:"Arial,Verdana,Geneva,Lucida,Arial,Helvetica,sans-serif",markerFontFamily:"Arial,Verdana,Geneva,Lucida,Arial,Helvetica,sans-serif",inputFormBkColor:"#fff",inputFormBorderRadiusPxNumber:6,mapZoomInBorderRadius:"2px 2px 0 0",mapZoomOutBorderRadius:"0 0 2px 2px",mapPopupTextButtonTextColor:"#fff",mapPopupTextButtonBkColor:"#456DA7",textInputBackgroundColor:"#fff",borderSeparatorLineSpecs:"1px solid",textShadow:"1px 1px 1px #eee",
darkTextShadow:"1px 1px 1px #333",textShadowSelRadioCheck:"1px 2px 2px #ddd",dLayerSpanBackgroundColor:"#ffd",overviewMapWidthPxNumber:200,overviewMapHeightPxNumber:200,overviewMapBorderWidthPxNumberNumber:2,overviewMapBoxBorder:"2px dotted rgba(255,255,255,1.0)",mapButtonDimEmNumber:2.25,mapButtonMarginEmNumber:.33,mapButtonSpacingEmNumber:.75,mapScaleLineBkColor:"rgba(255,255,255,0.7)",mapScaleLineBorderRadiusPxNumber:4,mapScaleLinePaddingPxNumber:2,mapScaleLineBorder:"1px solid #00618b",mapScaleLineFontSizeEmNumber:.9,
mapScaleLineMarginPxNumber:1,mapScaleLineFontColor:"#00618b",mapControlFontWeight:"700",mapSubLegendBkColor:"#e4f4ff",tfLogoBorderRadius:"10%",tfLogoWidth:"8em",tfLogoHeight:"8em",tfLogoOpacity:"0.8",tfLogoBkColor:"rgba(255,255,255,0.3)",tfLogoBorder:"1px solid rgba(128,128,128,0.3)",mapControlLineHeightEmNumber:.4,mapControlTextColor:"#00618b",maxHeightLogoImageEmNumber:4.5,maxWidthLogoImageEmNumber:12,imageThumbWidthEmNumber:8,infoPopupContentFontSizeEmNumber:1.2,locationPopupContentFontSizeEmNumber:1,
mapControlFontSizeEmNumber:1.75,popupContentFontSizeEmNumber:1.5,topFontSizePXNumber:12,markerFontSizePXNumber:14,buttonBorderRadiusPxNumber:3,buttonMarginTopBottomPxNumber:2,buttonMarginLeftRightPxNumber:6,textButtonPaddingTopBottomPxNumber:2,textButtonPaddingLeftRightPxNumber:5,paddingPxNumber:4,popupContainerPaddingPxNumber:8,popupCaptionBorderRadiusPXNumber:5,popupContentPaddingPXNumber:5,popupContentBorderRadiusPXNumber:10,svgButtonBorderRadiusPercentNumber:20,lightTextColor:"#fff",darkTextColor:"#07375f",
disabledTextColor:"#a4a4a4",borderLightColor:"#BFBFBF",borderDarkColor:"#07375f",defaultButtonBk:"#456DA7",defaultButtonFill:"#fff",buttonShapedLinkBkColor:"#456DA7",buttonShapedLinkTextColor:"#fff",buttonShapedLinkTextShadow:"1px 1px 1px #333",buttonShapedLinkHoverBkColor:"#0869bf",buttonShapedLinkHoverTextColor:"#fdfff0",buttonShapedLinkTextShadowHover:"1px 1px 1px #999",buttonShapedLinkMarginPxNumber:2,mapControlBkColor:"rgba(244,244,254,.75)",mapControlHoverBkColor:"rgba(244,244,254,0.9)",mapControlButtonHoverBkColor:"rgba(255,255,255,1)",
mapControlButtonBkColor:"rgba(244,244,254,.6)",popupContentBkColor:"rgb(219, 232, 241)",containerDarkBackgroundColor:"#07375f",containerDarkSelBackgroundColor:"rgb(25,182,0)",hcfLayoutContainerBkColor:"#07375f",popupCaptionBackgroundColor:"#eeeeee",separatorBackgroundColor:"#FF8800",buttonLightBkg:"#456DA7",buttonLightFill:"#fff",buttonDarkBkg:"#fff",buttonDarkFill:"#456DA7",lightTextDivBtnColor:"#fff",darkTextDivBtnColor:"#07375f",imgFramePaddingBorderWidthEmNumber:.15,imgFrameBorder:"0.15em solid #07375f",
verticalSeparatorWidthEMNumber:.85,horizontalSeparatorHeightEMNumber:.85}};
tf.styles.GetGraphiteAPIStyleSpecifications=function(){return tf.js.ShallowMerge(tf.styles.GetDefaultAPIStyleSpecifications(),{separatorBackgroundColor:"rgba(0,107,133, 0.8)",inputFormBkColor:"rgba(128,128,128,0.5)",mapPopupTextButtonTextColor:"rgba(255,255,255,1)",mapPopupTextButtonBkColor:"rgba(0,0,0,0.7)",mapSubLegendBkColor:"rgba(0,0,0,0.5)",buttonShapedLinkBkColor:"rgba(0,0,0,0.5)",buttonShapedLinkTextColor:"rgba(255,255,255,1)",buttonShapedLinkHoverBkColor:"#fff",buttonShapedLinkMarginPxNumber:1,
buttonShapedLinkHoverTextColor:"rgba(0,0,0,1)",topFontSizePXNumber:12,darkTextColor:"#eef",paddingPxNumber:"6",popupCaptionBorderRadiusPXNumber:16,popupContentBkColor:"rgba(192, 192, 192, 0.6)",popupCaptionBackgroundColor:"rgba(210, 210, 210, 0.6)",mapControlButtonBkColor:"rgba(192, 192, 192, 0.7)",mapControlButtonHoverBkColor:"rgba(244, 244, 244, 0.7)",buttonDarkFill:"rgba(0, 0, 0, 0.7)",dLayerSpanBackgroundColor:"rgba(32, 32, 32, 1)",textShadow:"1px 1px 1px #000",darkTextShadow:"1px 1px 1px #fff",
textShadowSelRadioCheck:"1px 1px 1px #333",borderSeparatorLineSpecs:"1px solid",textInputBackgroundColor:"#000",mapZoomInBorderRadius:"5px 5px 0 0",mapZoomOutBorderRadius:"0 0 5px 5px",mapControlFontWeight:"700",mapScaleLineBkColor:"rgba(255,255,255,0.5)",mapScaleLineBorderRadiusPxNumber:4,mapScaleLinePaddingPxNumber:2,mapScaleLineBorder:"1px solid #07375f",mapScaleLineFontSizeEmNumber:.9,mapScaleLineMarginPxNumber:4,mapScaleLineFontColor:"rgba(0, 0, 0, 0.7)",tfLogoBorderRadius:"10%",tfLogoWidth:"8em",
tfLogoHeight:"8em",tfLogoOpacity:.8,tfLogoBkColor:"rgba(255,255,255,0.3)",tfLogoBorder:"1px solid rgba(128,128,128,0.3)",mapControlLineHeightEmNumber:0,mapControlTextColor:"rgba(0, 0, 0, 1)",overviewMapWidthPxNumber:300,overviewMapHeightPxNumber:200,overviewMapBorderWidthPxNumberNumber:1,overviewMapBoxBorder:"2px dotted red"})};
tf.styles.SubStyles=function(a,c){function e(a,d){return{inherits:[a?b.mapButtonLeftMarginStyle:b.mapButtonRightMarginStyle],top:(a?h:l)+d*(g+2*k)+"em"}}function d(a,b,d,c){a=a+"px "+b+"px "+d+"px "+c;b="drop-shadow("+a+")";return{"-moz-box-shadow":a,"-webkit-filter":b,filter:b}}var b,g,f,k,h,l,n,m,p,q,r,A,t,w,v,u,B,E,D,F,C,G,H,I,J,K,N,Q,M,R,O,T,U,S,Z,X,da,L,W,ca,ea,ba,fa,qa,pa,ua,aa,oa,Da,ra,Ha,ma,ia,ja,V,ha,na;this.GetStyles=function(){return a};this.CreateShadowStyle=function(a,b,c,e){return d(a,
b,c,e)};this.CreateSvgGlyphStyles=function(a,d,c,e){return{style:{inherits:[b.svgGlyphStyleBase,b.cursorPointerStyle],backgroundColor:d,fill:a},hoverStyle:{backgroundColor:e,fill:c}}};this.CreateTextDivBtnStyles=function(a,d,c,e){return{style:{inherits:[b.textButtonStyleBase],backgroundColor:d,color:a},hoverStyle:{backgroundColor:e,color:c}}};this.bodyStyle=this.popupCaptionStyle=this.mapTFLogoControlStyle=this.mapOverviewMapBoxStyle=this.mapOverviewMapNotCollapsedStyle=this.mapOverviewMapButtonCollapsedStyle=
this.mapOverviewMapButtonNotCollapsedStyle=this.mapOverviewMapMapStyle=this.mapOverviewMapButtonStyle=this.mapOverviewMapStyle=this.mapControlButtonMozFocusInnerStyle=this.mapControlButtonFocusHoverStyle=this.mapControlButtonStyle=this.mapControlButtonWidthHeightStyle=this.mapControlButtonTextColorStyle=this.mapControlButtonLineHeightStyle=this.mapControlHoverStyle=this.mapControlStyle=this.mapControlButtonBkColorStyle=this.mapControlButtonHoverBkColorStyle=this.mapControlHoverBkColorStyle=this.mapControlBkColorStyle=
this.mapScaleLineInnerStyle=this.mapScaleLineStyle=this.mapButtonTextSpanStyle=this.mapCompassStyle=this.popupContentBkColorStyle=this.mapRotateHiddenStyle=this.mapRotateStyle=this.mapUserLocationButtonStyle=this.mapLocationButtonStyle=this.transitionOpacityToInvisibleStyle=this.transitionOpacityToVisibleStyle=this.mapZoomSliderStyle=this.mapZoomOutBorderRadiusStyle=this.mapZoomInBorderRadiusStyle=this.mapViewPortUnSelectableStyle=this.mapFullScreenButtonStyle=this.mapSourceButtonStyle=this.mapDownloadButtonStyle=
this.mapMeasureButtonStyle=this.mapTypeButtonStyle=this.mapLayersButtonStyle=this.mapZoomStyle=this.mapAddressButtonStyle=this.mapButtonRightMarginStyle=this.mapButtonLeftMarginStyle=this.inputFormStyle=this.listContentStyle=this.topBottomSeparatorStyle=this.bottomContainerStyle=this.rightSideContainerStyle=this.leftRightSideSeparatorStyle=this.floatLeftSideContainerStyle=this.leftSideContainerStyle=this.unPaddedInlineBlockDivStyle=this.unPaddedBlockDivStyle=this.paddedInlineBlockDivWithBorderSeparatorStyle=
this.paddedBlockDivWithBorderSeparatorStyle=this.paddedInlineBlockDivStyle=this.paddedBlockDivStyle=this.textDivBtnDarkStyleHover=this.textDivBtnDarkStyle=this.textDivBtnLightStyleHover=this.textDivBtnLightStyle=this.textButtonStyleBase=this.divSvgGlyphIconStyle=this.divSvgGlyphBtnStyle=this.buttonDivAllMarginsStyle=this.buttonDivLeftRightMarginsStyle=this.buttonDivMarginRightStyle=this.buttonDivMarginLeftStyle=this.buttonDivTopBotMarginsStyle=this.buttonDivMarginBotStyle=this.buttonDivMarginTopStyle=
this.divSvgGlyphStyle=this.svgGlyphDarkStyleHover=this.svgGlyphDarkStyle=this.mapSvgGlyphInPopupHoverStyle=this.mapSvgGlyphInPopupStyle=this.mapSvgGlyphInButtonStyle=this.svgGlyphDarkNoHoverStyle=this.svgGlyphLightStyleHover=this.svgGlyphLightStyle=this.svgGlyphLightNoHoverStyle=this.svgGlyphStyleBase=this.buttonStyleBase=this.imgForInfoWindowStyle=this.divWithImgBkStyle=this.divWithImgBkkSizeStyle=this.imgDefaultFrameStyle=this.imgFullWidthHeightStyle=this.imgLogoStyle=this.logoMaxWidthHeightStyle=
this.imgStyleBase=this.mapMeasureOverlayDivStyle=this.checkCheckAndLabelSelStyleBefore=this.checkCheckAndLabelStyleBefore=this.checkCheckAndLabelCheckedStyle=this.checkCheckStyle=this.checkLabelStyle=this.radioRadioAndLabelSelStyleBefore=this.radioRadioAndLabelStyleBefore=this.radioRadioAndLabelCheckedStyle=this.radioRadioStyle=this.radioLabelStyle=this.radioCheckLabelCheckedStyle=this.radioCheckRemoveDefaultStyle=this.radioCheckLabelStyle=this.radioCheckWithDimStyle=this.radioCheckStyle=this.inputTextStyle=
this.inputFormBkStyle=this.inputTextPlaceholderStyle=this.dLayerInfoSpanStyle=this.dLayerInfoLinkHoverStyle=this.dLayerInfoLinkStyle=this.dLayerInfoImgStyle=this.dLayerInfoStyle=this.buttonShapedLinkHoverStyle=this.buttonShapedLinkStyle=this.hcfLayoutContentStyle=this.hcfLayoutFooterStyle=this.hcfLayoutHeaderStyle=this.hcfLayoutStyle=this.appContainerBaseStyle=this.spanCursorPointerStyle=this.spanStyle=this.popupContentStyle=this.popupContainerStyle=this.leftBorderSeparatorDarkStyle=this.leftBorderSeparatorLightStyle=
this.rightBorderSeparatorDarkStyle=this.rightBorderSeparatorLightStyle=this.bottomBorderSeparatorDarkStyle=this.bottomBorderSeparatorLightStyle=this.topSeparatorLightStyle=this.mapToolBarContainerStyle=this.popupMapToolBarBaseStyle=this.mapSubContainerStyle=this.mapContainerStyle=this.appContainerStyle=this.buttonBorderRadiusStyle=this.defaultButtonBkStyle=this.disabledTextColorStyle=this.lightTextColorStyle=this.darkTextColorStyle=this.horizontalSeparatorHeightStyle=this.verticalSeparatorWidthStyle=
this.noBorderMarginPaddingStyle=this.divIconCursorStyle=this.popupCaptionBackgroundColorStyle=this.hcfLayoutContainerBkColorStyle=this.rightSideContainerBkColorStyle=this.separatorBkColorStyle=this.paddingLeftRightStyle=this.paddingStyle=this.defaultRightPaddingRadioCheckStyle=this.defaultWidthHeightRadioCheckStyle=this.textShadowSelRadioCheckStyle=this.horShadowStyle=this.seShadowStyle=this.darkTextShadowStyle=this.textShadowStyle=this.popupContentBorderRadiusStyle=this.popupContentPaddingStyle=
this.popupCaptionBorderRadiusStyle=this.snapRightBotStyle=this.snapLeftBotStyle=this.snapRightTopStyle=this.snapLeftTopStyle=this.snapCenterStyle=this.snapCenterVerStyle=this.snapCenterHorStyle=this.snapBotStyle=this.snapTopStyle=this.snapRightStyle=this.snapLeftStyle=this.noTextDecorationStyle=this.notDraggableStyle=this.noSelectStyle=this.borderNoneStyle=this.noBorderRadiusStyle=this.textAlignLeftStyle=this.textAlignCenterStyle=this.inheritVerticalAlignStyle=this.middleVerticalAlignStyle=this.overflowYScrollStyle=
this.overflowAutoStyle=this.overflowHiddenStyle=this.noneDisplayStyle=this.blockStyle=this.inlineBlockStyle=this.inheritWidthHeightStyle=this.autoWidthFullHeightStyle=this.fullWidthAutoHeightStyle=this.fullWidthHeightStyle=this.autoWidthAutoHeightStyle=this.autoHeightStyle=this.autoWidthStyle=this.inheritHeightStyle=this.inheritWidthStyle=this.fullHeightStyle=this.fullWidthStyle=this.noOutlineStyle=this.willChangeTransformStyle=this.cursorDefaultStyle=this.cursorPointerStyle=this.allPointerEventsStyle=
this.noPointerEventsStyle=this.textInputBackgroundStyle=this.whiteBackgroundStyle=this.transparentBackgroundStyle=this.positionRelativeStyle=this.positionAbsoluteStyle=this.noPaddingStyle=this.noMarginStyle=this.noBorderSpacingStyle=this.noBorderStyle=this.opacityOneStyle=this.opacityZeroStyle=this.visibilityVisibleStyle=this.visibilityHiddenStyle=this.defaultFontSizeInheritStyle=this.defaultFontAndTopSizeStyle=this.defaultCheckUnCheckedStyle=this.defaultCheckCheckedStyle=this.defaultRadioUnCheckedStyle=
this.defaultRadioCheckedStyle=this.fontSizeInheritStyle=this.defaultFontStyle=this.topFontSizeStyle=this.floatNoneStyle=this.floatRightStyle=this.floatLeftStyle=this.fasterOpacityVisibilityTransitionStyle=this.defaultOpacityVisibilityTransitionStyle=this.opacityVisibilityShowStyle=this.opacityVisibilityHideStyle=this.margin1PXStyle=this.locationPopupContentFontSizeEmNumber=this.infoPopupContentFontSizeEmNumber=this.addressBarFontSize=this.popupContentBkColor=this.popupContentFontSizeEmNumber=this.mapControlFontSizeEmNumber=
null;b=this;(function(){var a=tf.styles.GetDefaultAPIStyleSpecifications();tf.js.GetIsValidObject(c)&&(a=tf.js.ShallowMerge(a,c));Q=a.borderSeparatorLineSpecs;M=a.textInputBackgroundColor;ma=a.mapPopupTextButtonTextColor;ia=a.mapPopupTextButtonBkColor;T=a.mapScaleLineBkColor;U=a.mapScaleLineBorderRadiusPxNumber;S=a.mapScaleLinePaddingPxNumber;Z=a.mapScaleLineBorder;X=a.mapScaleLineFontSizeEmNumber;da=a.mapScaleLineMarginPxNumber;L=a.mapScaleLineFontColor;W=a.mapControlFontWeight;b.mapSubLegendBkColor=
a.mapSubLegendBkColor;ca=a.tfLogoBorderRadius;ea=a.tfLogoWidth;ba=a.tfLogoHeight;fa=a.tfLogoOpacity;qa=a.tfLogoBkColor;pa=a.tfLogoBorder;ua=a.mapControlLineHeightEmNumber;aa=a.mapControlTextColor;oa=a.overviewMapWidthPxNumber;Da=a.overviewMapHeightPxNumber;ra=a.overviewMapBorderWidthPxNumberNumber;Ha=a.overviewMapBoxBorder;R=a.mapZoomInBorderRadius;O=a.mapZoomOutBorderRadius;I=a.dLayerSpanBackgroundColor;J=a.textShadow;K=a.darkTextShadow;N=a.textShadowSelRadioCheck;g=a.mapButtonDimEmNumber;f=a.mapButtonMarginEmNumber;
k=a.mapButtonSpacingEmNumber;n=a.maxHeightLogoImageEmNumber;m=a.maxWidthLogoImageEmNumber;b.mapButtonDimEmNumber=g;b.mapButtonMarginEmNumber=f;b.mapControlBkColor=a.mapControlBkColor;b.mapControlHoverBkColor=a.mapControlHoverBkColor;b.mapControlButtonHoverBkColor=a.mapControlButtonHoverBkColor;b.mapControlButtonBkColor=a.mapControlButtonBkColor;v=a.buttonMarginTopBottomPxNumber;u=a.buttonMarginLeftRightPxNumber;w=a.buttonBorderRadiusPxNumber;A=a.textButtonPaddingTopBottomPxNumber;t=a.textButtonPaddingLeftRightPxNumber;
b.lightTextColor=a.lightTextColor;b.darkTextColor=a.darkTextColor;b.disabledTextColor=a.disabledTextColor;b.borderLightColor=a.borderLightColor;b.defaultButtonBk=a.defaultButtonBk;b.defaultButtonFill=a.defaultButtonFill;b.buttonShapedLinkBkColor=a.buttonShapedLinkBkColor;b.buttonShapedLinkTextColor=a.buttonShapedLinkTextColor;b.buttonShapedLinkHoverBkColor=a.buttonShapedLinkHoverBkColor;b.buttonShapedLinkHoverTextColor=a.buttonShapedLinkHoverTextColor;ja=a.buttonShapedLinkTextShadow;V=a.buttonShapedLinkTextShadowHover;
ha=a.buttonShapedLinkMarginPxNumber;B=a.svgButtonBorderRadiusPercentNumber;E=a.verticalSeparatorWidthEMNumber;D=a.horizontalSeparatorHeightEMNumber;F=a.paddingPxNumber;b.popupContainerPaddingPxNumber=a.popupContainerPaddingPxNumber;C=a.popupCaptionBorderRadiusPXNumber;G=a.popupContentPaddingPXNumber;H=a.popupContentBorderRadiusPXNumber;b.textButtonHeightDelta=2*A;b.topFontSizePXNumber=a.topFontSizePXNumber;b.markerFontSizePXNumber=a.markerFontSizePXNumber;b.imageThumbWidthEmNumber=a.imageThumbWidthEmNumber;
b.imageThumbSquareHeightEmNumber=b.imageThumbWidthEmNumber;b.imageThumbRectHeightEmNumber=9*b.imageThumbWidthEmNumber/16;b.popupContentBkColor=a.popupContentBkColor;b.mapControlFontSizeEmNumber=a.mapControlFontSizeEmNumber;b.popupContentFontSizeEmNumber=a.popupContentFontSizeEmNumber;b.infoPopupContentFontSizeEmNumber=a.infoPopupContentFontSizeEmNumber;b.locationPopupContentFontSizeEmNumber=a.locationPopupContentFontSizeEmNumber;b.fontFamily=a.fontFamily;b.markerFontFamily=a.markerFontFamily;b.containerDarkBackgroundColor=
a.containerDarkBackgroundColor;b.containerDarkSelBackgroundColor=a.containerDarkSelBackgroundColor;b.hcfLayoutContainerBkColor=a.hcfLayoutContainerBkColor;b.popupCaptionBackgroundColor=a.popupCaptionBackgroundColor;b.separatorBackgroundColor=a.separatorBackgroundColor;b.buttonLightBkg=a.buttonLightBkg;b.buttonLightFill=a.buttonLightFill;b.buttonDarkBkg=a.buttonDarkBkg;b.buttonDarkFill=a.buttonDarkFill;b.lightTextDivBtnColor=a.lightTextDivBtnColor;b.darkTextDivBtnColor=a.darkTextDivBtnColor;b.imgFramePaddingBorderWidthEmNumber=
a.imgFramePaddingBorderWidthEmNumber;b.imgFrameBorder=a.imgFrameBorder;b.inputFormBkColor=a.inputFormBkColor;na=a.inputFormBorderRadiusPxNumber;p=Q+" "+b.borderLightColor;q=Q+" "+b.borderDarkColor;r=Q+" "+b.defaultButtonBk;b.margin1PXStyle={margin:"1px"};b.defaultOpacityVisibilityTransitionStyle={transition:"opacity .15s ease-in-out, visibility 0.15s ease-in-out, margin-top 0s 1s"};b.fasterOpacityVisibilityTransitionStyle={transition:"opacity .10s ease-in-out, visibility .10s ease-in-out, margin-top 0s 1s"};
b.floatLeftStyle={"float":"left"};b.floatRightStyle={"float":"right"};b.floatNoneStyle={"float":"none"};b.defaultRadioCheckedStyle={content:"'\\25cf'"};b.defaultRadioUnCheckedStyle={content:"'\\25cb'"};b.defaultCheckCheckedStyle={content:"'\\2611'"};b.defaultCheckUnCheckedStyle={content:"'\\2610'"};b.topFontSizeStyle={fontSize:b.topFontSizePXNumber+"px"};b.defaultFontStyle={fontFamily:b.fontFamily};b.fontSizeInheritStyle={fontSize:"inherit"};b.defaultFontAndTopSizeStyle={inherits:[b.defaultFontStyle,
b.topFontSizeStyle]};b.defaultFontSizeInheritStyle={inherits:[b.defaultFontStyle,b.fontSizeInheritStyle]};b.visibilityHiddenStyle={visibility:"hidden"};b.visibilityVisibleStyle={visibility:"visible"};b.opacityZeroStyle={opacity:"0"};b.opacityOneStyle={opacity:"1"};b.opacityVisibilityHideStyle={inherits:[b.opacityZeroStyle,b.visibilityHiddenStyle],marginTop:"-10000px"};b.opacityVisibilityShowStyle={inherits:[b.opacityOneStyle,b.visibilityVisibleStyle],marginTop:"auto"};b.noBorderStyle={border:"0px"};
b.noBorderSpacingStyle={borderSpacing:"0px"};b.noMarginStyle={margin:"0px"};b.noPaddingStyle={padding:"0px"};b.positionAbsoluteStyle={position:"absolute"};b.positionRelativeStyle={position:"relative"};b.transparentBackgroundStyle={backgroundColor:"rgba(0,0,0,0.0)"};b.whiteBackgroundStyle={backgroundColor:"#fff"};b.textInputBackgroundStyle={background:M};b.noPointerEventsStyle={pointerEvents:"none"};b.allPointerEventsStyle={pointerEvents:"all"};b.cursorPointerStyle={cursor:"pointer"};b.cursorDefaultStyle=
{cursor:"default"};b.willChangeTransformStyle={willChange:"transform"};b.noOutlineStyle={outline:0};b.fullWidthStyle={width:"100%"};b.fullHeightStyle={height:"100%"};b.inheritWidthStyle={width:"inherit"};b.inheritHeightStyle={height:"inherit"};b.autoWidthStyle={width:"auto"};b.autoHeightStyle={height:"auto"};b.autoWidthAutoHeightStyle={inherits:[b.autoWidthStyle,b.autoHeightStyle]};b.fullWidthHeightStyle={inherits:[b.fullWidthStyle,b.fullHeightStyle]};b.fullWidthAutoHeightStyle={inherits:[b.fullWidthStyle,
b.autoHeightStyle]};b.autoWidthFullHeightStyle={inherits:[b.autoWidthStyle,b.fullHeightStyle]};b.inheritWidthHeightStyle={inherits:[b.inheritWidthStyle,b.inheritHeightStyle]};b.inlineBlockStyle={display:"inline-block"};b.blockStyle={display:"block"};b.noneDisplayStyle={display:"none"};b.overflowHiddenStyle={overflow:"hidden"};b.overflowAutoStyle={overflow:"auto"};b.overflowYScrollStyle={overflowY:"scroll"};b.middleVerticalAlignStyle={verticalAlign:"middle"};b.inheritVerticalAlignStyle={verticalAlign:"inherit"};
b.textAlignCenterStyle={textAlign:"center"};b.textAlignLeftStyle={textAlign:"left"};b.noBorderRadiusStyle={borderRadius:"0px"};b.borderNoneStyle={border:"none"};b.noSelectStyle={"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","-webkit-tap-highlight-color":"transparent"};b.notDraggableStyle={draggable:"false"};b.noTextDecorationStyle={textDecoration:"none"};b.snapLeftStyle={left:"0px"};b.snapRightStyle=
{right:"0px"};b.snapTopStyle={top:"0px"};b.snapBotStyle={bottom:"0px"};b.snapCenterHorStyle={left:"50%",transform:"translate(-50%, 0)"};b.snapCenterVerStyle={top:"50%",transform:"translate(0, -50%)"};b.snapCenterStyle={left:"50%",top:"50%",transform:"translate(-50%, -50%)"};b.snapLeftTopStyle={inherits:[b.snapLeftStyle,b.snapTopStyle]};b.snapRightTopStyle={inherits:[b.snapRightStyle,b.snapTopStyle]};b.snapLeftBotStyle={inherits:[b.snapLeftStyle,b.snapBotStyle]};b.snapRightBotStyle={inherits:[b.snapRightStyle,
b.snapBotStyle]};b.mapViewPortUnSelectableStyle={inherits:[b.noSelectStyle]};b.mapZoomSliderStyle={inherits:[b.transparentBackgroundStyle,b.opacityZeroStyle,b.visibilityHiddenStyle],top:"-100em"};b.divWithImgBkkSizeStyle={backgroundSize:"100% 100%"};b.popupCaptionBorderRadiusStyle={borderRadius:C+"px"};b.popupContentPaddingStyle={padding:G+"px"};b.popupContentBorderRadiusStyle={borderRadius:H+"px"};b.textShadowStyle={textShadow:J};b.darkTextShadowStyle={textShadow:K};b.seShadowStyle=d(3,3,3,"rgba(0,0,0,0.6)");
b.horShadowStyle=d(0,1,4,"rgba(0,0,0,0.6)");b.textShadowSelRadioCheckStyle={textShadow:N};b.defaultWidthHeightRadioCheckStyle={width:"1em",height:"1em"};b.defaultRightPaddingRadioCheckStyle={paddingRight:"0.2em"};b.paddingStyle={padding:F+"px"};b.paddingLeftRightStyle={paddingLeft:F+"px",paddingRight:F+"px"};b.separatorBkColorStyle={backgroundColor:b.separatorBackgroundColor};b.rightSideContainerBkColorStyle={backgroundColor:b.containerDarkBackgroundColor};b.hcfLayoutContainerBkColorStyle={backgroundColor:b.hcfLayoutContainerBkColor};
b.popupCaptionBackgroundColorStyle={backgroundColor:b.popupCaptionBackgroundColor};b.divIconCursorStyle={inherits:b.cursorDefaultStyle};b.noBorderMarginPaddingStyle={inherits:[b.noBorderStyle,b.noBorderSpacingStyle,b.noMarginStyle,b.noPaddingStyle]};b.verticalSeparatorWidthStyle={width:E+"em"};b.horizontalSeparatorHeightStyle={height:D+"em"};b.darkTextColorStyle={color:b.darkTextColor};b.lightTextColorStyle={color:b.lightTextColor};b.disabledTextColorStyle={color:b.disabledTextColor};b.defaultButtonBkStyle=
{backgroundColor:b.defaultButtonBk};b.buttonBorderRadiusStyle={borderRadius:w+"px"};b.appContainerStyle={inherits:[b.fullWidthHeightStyle,b.blockStyle,b.overflowHiddenStyle,b.defaultFontAndTopSizeStyle,b.noSelectStyle,b.positionRelativeStyle],lineHeight:"initial"};b.mapContainerStyle={inherits:[b.fullWidthHeightStyle,b.blockStyle,b.overflowHiddenStyle,b.noSelectStyle,b.middleVerticalAlignStyle,b.defaultFontAndTopSizeStyle,b.positionRelativeStyle],borderRadius:"inherit",lineHeight:"initial"};b.mapSubContainerStyle=
{inherits:[b.fullWidthHeightStyle,b.blockStyle,b.overflowHiddenStyle,b.noSelectStyle,b.middleVerticalAlignStyle,b.fontSizeInheritStyle,b.positionRelativeStyle],borderRadius:"inherit",lineHeight:"initial"};b.popupMapToolBarBaseStyle={inherits:[b.noBorderMarginPaddingStyle,b.blockStyle,b.positionAbsoluteStyle,b.noSelectStyle,b.darkTextColorStyle,b.defaultFontStyle]};b.mapToolBarContainerStyle={inherits:[b.popupMapToolBarBaseStyle,b.fasterOpacityVisibilityTransitionStyle,b.middleVerticalAlignStyle,b.popupCaptionBackgroundColorStyle,
b.seShadowStyle,b.popupCaptionBorderRadiusStyle]};b.topSeparatorLightStyle={borderTop:p};b.bottomBorderSeparatorLightStyle={borderBottom:p};b.rightBorderSeparatorLightStyle={borderRight:p};b.leftBorderSeparatorLightStyle={borderLeft:p};b.topBorderSeparatorDarkStyle={borderTop:q};b.bottomBorderSeparatorDarkStyle={borderBottom:q};b.rightBorderSeparatorDarkStyle={borderRight:q};b.leftBorderSeparatorDarkStyle={borderLeft:q};b.popupContainerStyle={inherits:[b.popupMapToolBarBaseStyle,b.defaultOpacityVisibilityTransitionStyle,
b.overflowHiddenStyle,b.textAlignLeftStyle,b.transparentBackgroundStyle,b.seShadowStyle,b.noPointerEventsStyle],padding:b.popupContainerPaddingPxNumber+"px"};b.popupContentStyle={inherits:[b.noBorderMarginPaddingStyle,b.blockStyle,b.popupContentBkColorStyle,b.borderLightStyle,b.popupContentBorderRadiusStyle,b.popupContentPaddingStyle,b.textAlignLeftStyle,b.allPointerEventsStyle]};b.spanStyle={inherits:[b.noBorderMarginPaddingStyle,b.middleVerticalAlignStyle,b.transparentBackgroundStyle,b.cursorDefaultStyle]};
b.spanCursorPointerStyle={inherits:[b.spanStyle,b.cursorPointerStyle]};b.appContainerBaseStyle={inherits:[b.unPaddedBlockDivStyle,b.lightTextColor,b.hcfLayoutContainerBkColorStyle,b.overflowHiddenStyle]};b.hcfLayoutStyle={inherits:[b.appContainerBaseStyle,b.fullHeightStyle]};b.hcfLayoutHeaderStyle={inherits:[b.appContainerBaseStyle,b.textAlignCenterStyle,b.bottomBorderSeparatorLightStyle],top:"0em"};b.hcfLayoutFooterStyle={inherits:[b.appContainerBaseStyle,b.textAlignCenterStyle,b.topSeparatorLightStyle],
bottom:"0em"};b.hcfLayoutContentStyle={inherits:[b.appContainerBaseStyle,b.overflowYScrollStyle]};b.inputTextPlaceholderStyle={inherits:[b.defaultFontSizeInheritStyle,b.disabledTextColorStyle]};b.inputTextStyle={inherits:[b.noBorderMarginPaddingStyle,b.noOutlineStyle,b.defaultFontSizeInheritStyle,b.darkTextColorStyle,b.seShadowStyle,b.textShadowStyle,b.textInputBackgroundStyle,b.paddingLeftRightStyle]};b.radioCheckStyle={inherits:[b.noBorderMarginPaddingStyle,b.middleVerticalAlignStyle]};b.radioCheckWithDimStyle=
{inherits:[b.radioCheckStyle,b.defaultRightPaddingRadioCheckStyle]};b.radioCheckLabelStyle={inherits:[b.radioCheckStyle,b.blockStyle,b.cursorPointerStyle,b.textAlignLeftStyle,b.floatNoneStyle]};b.radioCheckRemoveDefaultStyle={inherits:[b.radioCheckStyle,b.positionAbsoluteStyle,b.opacityZeroStyle,b.visibilityHiddenStyle]};b.radioCheckLabelCheckedStyle={inherits:[b.radioCheckStyle,b.textShadowSelRadioCheckStyle]};b.radioLabelStyle={inherits:[b.radioCheckLabelStyle]};b.radioRadioStyle={inherits:[b.radioCheckRemoveDefaultStyle]};
b.radioRadioAndLabelCheckedStyle={inherits:[b.radioCheckLabelCheckedStyle]};b.radioRadioAndLabelStyleBefore={inherits:[b.radioCheckWithDimStyle,b.defaultRadioUnCheckedStyle]};b.radioRadioAndLabelSelStyleBefore={inherits:[b.radioCheckWithDimStyle,b.defaultRadioCheckedStyle]};b.checkLabelStyle={inherits:[b.radioCheckLabelStyle]};b.checkCheckStyle={inherits:[b.radioCheckRemoveDefaultStyle]};b.checkCheckAndLabelCheckedStyle={inherits:[b.radioCheckLabelCheckedStyle]};b.checkCheckAndLabelStyleBefore={inherits:[b.radioCheckWithDimStyle,
b.defaultCheckUnCheckedStyle]};b.checkCheckAndLabelSelStyleBefore={inherits:[b.radioCheckWithDimStyle,b.defaultCheckCheckedStyle]};b.mapMeasureOverlayDivStyle={inherits:[b.blockStyle,b.cursorDefaultStyle,b.noBorderMarginPaddingStyle,b.paddingStyle,b.textAlignCenterStyle,b.middleVerticalAlignStyle,b.noPointerEventsStyle,b.noSelectStyle],fontSize:"1.2em",color:"#128",borderRadius:"0.5em",border:"1px solid #3e3e3e",backgroundColor:"rgba(255, 255, 255, 0.6)",textShadow:"2px 3px 3px #ddd"};b.imgStyleBase=
{inherits:[b.noBorderMarginPaddingStyle,b.notDraggableStyle,b.noSelectStyle]};b.logoMaxWidthHeightStyle={minWidth:m/2+"em",maxWidth:m+"em",maxHeight:n+"em"};b.imgLogoStyle={inherits:[b.imgStyleBase,b.inheritHeightStyle,b.autoWidthStyle,b.noPointerEventsStyle,b.logoMaxWidthHeightStyle,b.middleVerticalAlignStyle]};b.imgFullWidthHeightStyle={inherits:[b.imgStyleBase,b.fullWidthHeightStyle]};b.imgDefaultFrameStyle={inherits:[b.whiteBackgroundStyle],border:b.imgFrameBorder,margin:b.imgFramePaddingBorderWidthEmNumber+
"em",color:"#FFFFFF"};b.divWithImgBkStyle={inherits:[b.noBorderMarginPaddingStyle,b.imgDefaultFrameStyle,b.inheritVerticalAlignStyle,b.divWithImgBkkSizeStyle,b.inlineBlockStyle,b.middleVerticalAlignStyle],width:b.imageThumbWidthEmNumber+"em"};b.imgForInfoWindowStyle={inherits:[b.imgDefaultFrameStyle],align:"center",padding:"0px",height:"12em",width:"auto"};b.buttonStyleBase={inherits:[b.noBorderMarginPaddingStyle,b.middleVerticalAlignStyle,b.textAlignCenterStyle,b.buttonBorderRadiusStyle,b.cursorPointerStyle]};
b.svgGlyphStyleBase={inherits:[b.buttonStyleBase,b.blockStyle,b.transparentBackgroundStyle],stroke:"#000",strokeWidth:"0%",strokeLinejoin:"round",borderRadius:B+"%"};b.svgGlyphLightNoHoverStyle={inherits:[b.svgGlyphStyleBase,b.divIconCursorStyle],fill:b.buttonLightFill};b.svgGlyphLightStyle={inherits:[b.svgGlyphLightNoHoverStyle,b.cursorPointerStyle],backgroundColor:b.buttonLightBkg};b.svgGlyphLightStyleHover={backgroundColor:b.buttonLightFill,fill:b.buttonLightBkg};b.svgGlyphDarkNoHoverStyle={inherits:[b.svgGlyphStyleBase,
b.divIconCursorStyle],fill:b.buttonDarkFill};b.mapSvgGlyphInButtonStyle={inherits:[b.svgGlyphStyleBase,b.divIconCursorStyle],fill:aa};b.mapSvgGlyphInPopupStyle={inherits:[b.svgGlyphStyleBase,b.divIconCursorStyle],fill:aa};b.mapSvgGlyphInPopupHoverStyle={inherits:[b.svgGlyphStyleBase,b.divIconCursorStyle],backgroundColor:aa,fill:b.mapControlButtonHoverBkColor};b.svgGlyphDarkStyle={inherits:[b.svgGlyphDarkNoHoverStyle,b.cursorPointerStyle]};b.svgGlyphDarkStyleHover={backgroundColor:b.buttonDarkFill,
fill:b.buttonDarkBkg};b.divSvgGlyphStyle={inherits:[b.noBorderMarginPaddingStyle,b.inlineBlockStyle,b.middleVerticalAlignStyle]};b.buttonDivMarginTopStyle={marginTop:v+"px"};b.buttonDivMarginBotStyle={marginBottom:v+"px"};b.buttonDivTopBotMarginsStyle={inherits:[b.buttonDivMarginTopStyle,b.buttonDivMarginBotStyle]};b.buttonDivMarginLeftStyle={marginLeft:u+"px"};b.buttonDivMarginRightStyle={marginRight:u+"px"};b.buttonDivLeftRightMarginsStyle={inherits:[b.buttonDivMarginLeftStyle,b.buttonDivMarginRightStyle]};
b.buttonDivAllMarginsStyle={inherits:[b.buttonDivTopBotMarginsStyle,b.buttonDivLeftRightMarginsStyle]};b.divSvgGlyphBtnStyle={inherits:[b.divSvgGlyphStyle]};b.divSvgGlyphIconStyle={inherits:[b.divSvgGlyphStyle,b.divIconCursorStyle]};b.textButtonStyleBase={inherits:[b.buttonStyleBase,b.inlineBlockStyle,b.autoWidthStyle,b.buttonBorderRadiusStyle],paddingTop:A+"px",paddingBottom:A+"px",paddingLeft:t+"px",paddingRight:t+"px"};b.textDivBtnLightStyle={inherits:b.textButtonStyleBase,color:b.lightTextDivBtnColor,
backgroundColor:b.buttonLightBkg,textShadow:ja};b.textDivBtnLightStyleHover={color:b.darkTextDivBtnColor,backgroundColor:b.buttonLightFill,textShadow:"none"};b.textDivBtnDarkStyle={inherits:b.textButtonStyleBase,color:b.darkTextDivBtnColor,backgroundColor:b.buttonDarkBkg};b.textDivBtnDarkStyleHover={color:b.lightTextDivBtnColor,backgroundColor:b.buttonDarkFill};b.mapTextBtnStyle={inherits:[b.textButtonStyleBase],color:ma,backgroundColor:ia,textShadow:ja};b.mapTextBtnStyleHover={inherits:[b.darkTextShadowStyle],
backgroundColor:ma,color:ia,textShadow:V};b.buttonShapedLinkStyle={inherits:[b.textButtonStyleBase,b.noTextDecorationStyle],borderTop:p,borderLeft:p,borderBottom:r,borderRight:r,color:b.buttonShapedLinkTextColor,backgroundColor:b.buttonShapedLinkBkColor,textShadow:ja,margin:ha+"px"};b.buttonShapedLinkHoverStyle={borderTop:r,borderLeft:r,borderBottom:p,borderRight:p,color:b.buttonShapedLinkHoverTextColor,backgroundColor:b.buttonShapedLinkHoverBkColor,textShadow:V};b.dLayerInfoStyle={inherits:[b.noBorderMarginPaddingStyle,
b.inlineBlockStyle,b.textShadowStyle],maxWidth:"17em"};b.dLayerInfoImgStyle={inherits:[b.fullWidthAutoHeightStyle,b.middleVerticalAlignStyle]};b.dLayerInfoLinkStyle={inherits:[b.buttonShapedLinkStyle]};b.dLayerInfoLinkHoverStyle={inherits:[b.buttonShapedLinkHoverStyle]};b.dLayerInfoSpanStyle={inherits:[b.blockStyle,b.textShadowStyle],backgroundColor:I,margin:"0.15em"};b.paddedBlockDivStyle={inherits:[b.noBorderMarginPaddingStyle,b.paddingStyle,b.blockStyle]};b.paddedInlineBlockDivStyle={inherits:[b.noBorderMarginPaddingStyle,
b.paddingStyle,b.inlineBlockStyle]};b.paddedBlockDivWithBorderSeparatorStyle={inherits:[b.paddedBlockDivStyle,b.bottomBorderSeparatorLightStyle]};b.paddedInlineBlockDivWithBorderSeparatorStyle={inherits:[b.paddedInlineBlockDivStyle,b.rightBorderSeparatorLightStyle]};b.unPaddedBlockDivStyle={inherits:[b.noBorderMarginPaddingStyle,b.blockStyle]};b.unPaddedInlineBlockDivStyle={inherits:[b.noBorderMarginPaddingStyle,b.inlineBlockStyle]};b.leftSideContainerStyle={inherits:[b.unPaddedBlockDivStyle,b.autoWidthFullHeightStyle,
b.overflowHiddenStyle]};b.floatLeftSideContainerStyle={inherits:[b.unPaddedBlockDivStyle,b.autoWidthFullHeightStyle,b.overflowHiddenStyle,b.floatLeftStyle]};b.leftRightSideSeparatorStyle={inherits:[b.unPaddedBlockDivStyle,b.fullHeightStyle,b.overflowHiddenStyle,b.separatorBkColorStyle,b.middleVerticalAlignStyle,b.textAlignCenterStyle,b.floatRightStyle,b.verticalSeparatorWidthStyle,b.positionRelativeStyle,b.leftBorderSeparatorLightStyle,b.rightBorderSeparatorDarkStyle]};b.rightSideContainerStyle={inherits:[b.unPaddedBlockDivStyle,
b.fullHeightStyle,b.overflowHiddenStyle,b.floatRightStyle,b.rightSideContainerBkColorStyle,b.lightTextColorStyle]};b.bottomContainerStyle={inherits:[b.unPaddedBlockDivStyle,b.fullWidthStyle,b.overflowHiddenStyle,b.whiteBackgroundStyle]};b.topBottomSeparatorStyle={inherits:[b.unPaddedBlockDivStyle,b.fullWidthStyle,b.overflowHiddenStyle,b.separatorBkColorStyle,b.middleVerticalAlignStyle,b.textAlignCenterStyle,b.horizontalSeparatorHeightStyle]};b.listContentStyle={inherits:[b.unPaddedBlockDivStyle,b.bottomBorderSeparatorLightStyle,
b.hcfLayoutContainerBkColorStyle]};b.inputFormBkStyle={backgroundColor:b.inputFormBkColor};b.inputFormStyle={inherits:[b.unPaddedBlockDivStyle,b.inputFormBkStyle,b.darkTextColorStyle,b.textAlignCenterStyle],borderRadius:na+"px"};a=tf.platform.GetURL();b.fontFaceStyleContentStr="font-family: 'SourceSansPro-Regular';src: url('"+a+"fonts/SourceSansPro-Regular.eot');src: local('?'), url('"+a+"fonts/SourceSansPro-Regular.woff') format('woff'), url('"+a+"fonts/SourceSansPro-Regular.ttf') format('truetype'), url('"+
a+"fonts/SourceSansPro-Regular.svg') format('svg');font-weight: normal;font-style: normal;";b.transitionOpacityToVisibleStyle={transition:"opacity .25s linear,visibility 0s linear"};b.transitionOpacityToInvisibleStyle={transition:"opacity .25s linear,visibility 0s linear .25s"};b.mapZoomInBorderRadiusStyle={borderRadius:R};b.mapZoomOutBorderRadiusStyle={borderRadius:O};var Y=f,a=Y+g+2*k;l=f;h=a+2*g+3*k;b.addressBarFontSize=g/2+.2+"em";var P=g+"em",wa=f+"em";b.mapButtonLeftMarginStyle={left:wa};b.mapButtonRightMarginStyle=
{right:wa};b.mapAddressButtonStyle={inherits:[b.mapButtonLeftMarginStyle],top:Y+"em"};b.mapZoomStyle={inherits:[b.mapButtonLeftMarginStyle],top:a+"em",zIndex:1};b.mapLayersButtonStyle=e(!0,0);b.mapTypeButtonStyle=e(!0,1);b.mapMeasureButtonStyle=e(!0,2);b.mapDownloadButtonStyle=e(!0,3);b.mapSourceButtonStyle=e(!0,4);b.mapFullScreenButtonStyle=e(!1,0);b.mapLocationButtonStyle=e(!1,1);b.mapUserLocationButtonStyle=e(!1,2);b.mapRotateStyle={inherits:[b.transitionOpacityToVisibleStyle,b.mapButtonRightMarginStyle],
top:l+3*(g+2*k)+"em"};b.mapRotateHiddenStyle={inherits:[b.opacityZeroStyle,b.visibilityHiddenStyle,b.transitionOpacityToInvisibleStyle]};b.mapLocationButtonTopEmNumber=l+1*(g+2*k);var Y={fontSize:b.mapControlFontSizeEmNumber+"em"},Ma={fontWeight:W};b.mapScaleLineStyle={inherits:[b.mapButtonLeftMarginStyle],background:T,borderRadius:U+"px",bottom:wa,padding:S+"px",position:"absolute",zIndex:1,cursor:"pointer"};b.mapScaleLineInnerStyle={inherits:[Ma],border:Z,borderTop:"none",color:L,fontSize:X+"em",
textAlign:"center",margin:da+"px",willChange:"contents,width"};b.mapControlButtonWidthHeightStyle={width:P,height:P};b.mapOverviewMapStyle={inherits:[b.mapButtonRightMarginStyle],bottom:wa,zIndex:1};b.mapTFLogoControlStyle={inherits:[b.positionAbsoluteStyle,b.noPointerEventsStyle],borderRadius:ca,top:2*f+a+"em",left:3*f+2*g+"em",width:ba,height:ea,opacity:fa,backgroundColor:qa,border:pa};b.mapCompassStyle={inherits:[b.blockStyle,b.willChangeTransformStyle,Y,Ma]};b.mapButtonTextSpanStyle={inherits:[b.blockStyle,
Y,Ma,b.cursorPointerStyle]};b.mapControlBkColorStyle={backgroundColor:b.mapControlBkColor};b.mapControlHoverBkColorStyle={backgroundColor:b.mapControlBkColor};b.mapControlButtonHoverBkColorStyle={backgroundColor:b.mapControlButtonHoverBkColor};b.mapControlButtonBkColorStyle={backgroundColor:b.mapControlButtonBkColor};b.mapControlButtonLineHeightStyle={lineHeight:ua+"em"};b.mapControlButtonTextColorStyle={color:aa};b.mapControlStyle={inherits:[b.horShadowStyle,b.positionAbsoluteStyle,b.mapControlBkColorStyle,
b.cursorPointerStyle],borderRadius:"3px",padding:"1px"};b.mapControlHoverStyle={inherits:[b.mapControlHoverBkColorStyle]};b.mapControlButtonFocusHoverStyle={inherits:[b.noTextDecorationStyle,b.mapControlButtonHoverBkColorStyle]};b.mapControlButtonStyle={inherits:[b.noPaddingStyle,b.blockStyle,b.noTextDecorationStyle,b.borderNoneStyle,b.textAlignCenterStyle,b.mapControlButtonBkColorStyle,b.mapControlButtonWidthHeightStyle,Ma,b.margin1PXStyle,b.noBorderRadiusStyle,b.mapControlButtonLineHeightStyle,
b.mapControlButtonTextColorStyle]};b.mapControlButtonMozFocusInnerStyle={inherits:[b.borderNoneStyle,b.noPaddingStyle]};a=ra+"px";b.mapOverviewMapButtonStyle={inherits:[b.mapControlButtonStyle]};b.mapOverviewMapMapStyle={margin:a,width:oa+"px",height:Da+"px"};b.mapOverviewMapButtonNotCollapsedStyle={inherits:[b.positionAbsoluteStyle],bottom:a,left:a};b.mapOverviewMapButtonCollapsedStyle={inherits:[b.noneDisplayStyle]};b.mapOverviewMapNotCollapsedStyle={inherits:[b.seShadowStyle],backgroundColor:b.mapControlBkColor};
b.mapOverviewMapBoxStyle={border:Ha};b.popupContentBkColorStyle={backgroundColor:b.popupContentBkColor};b.popupCaptionStyle={inherits:[b.inlineBlockStyle,b.noBorderMarginPaddingStyle,b.popupCaptionBackgroundColorStyle,b.seShadowStyle,b.bottomBorderSeparatorLightStyle,b.rightBorderSeparatorLightStyle,b.textShadowStyle,b.cursorDefaultStyle,b.darkTextColorStyle,b.positionRelativeStyle,b.popupCaptionBorderRadiusStyle,b.allPointerEventsStyle],fontSize:b.mapControlFontSizeEmNumber+"em"};b.bodyStyle={inherits:[b.noBorderMarginPaddingStyle,
b.fullWidthHeightStyle,b.whiteBackgroundStyle,b.defaultFontStyle,b.topFontSizeStyle]}})()};
tf.styles.Styles=function(a){var c,e,d,b,g;this.GetStyleCreator=function(){return e};this.GetSubStyles=function(){return d};this.GetHiddenCanvas=function(){return b};this.CreateSvgGlyphClasses=function(a,b,c,g){var n="tf-glyph-svg-"+tf.GetGlobalCounter().GetNext();a=d.CreateSvgGlyphStyles(a,b,c,g);e.CreateStyles([{styleName:"svg."+n,inherits:a.style},{styleName:"svg."+n+":hover",inherits:a.hoverStyle}]);return n};this.CreateTextDivBtnClasses=function(a,b,c,g,n,m){var p="tf-btn-div-"+tf.GetGlobalCounter().GetNext();
a=d.CreateTextDivBtnStyles(a,b,c,g);n=[{styleName:"div."+p,inherits:tf.js.ShallowMerge(n,a.style)},{styleName:"div."+p+":hover",inherits:tf.js.ShallowMerge(m,a.hoverStyle)}];e.CreateStyles(n);return p};this.RotateByDegree=function(a,b){var d=c.GetSupportedTransformProperty();d&&(a=tf.dom.GetHTMLElementFrom(a))&&(a.style[d]=c.GetRotateByDegreeTransformStr(b))};this.GetSupportedTransformProperty=function(){return g};this.GetRotateByDegreeTransformStr=function(a){return"rotate("+(tf.js.GetFloatNumberInRange(a,
-3600,3600,0)+"deg")+")"};this.ChangeOpacityVisibilityClass=function(a,b){if(a=tf.dom.GetHTMLElementFrom(a)){var d,e;b?(d=c.opacityVisibilityShowClass,e=c.opacityVisibilityHideClass):(e=c.opacityVisibilityShowClass,d=c.opacityVisibilityHideClass);tf.dom.ReplaceCSSClass(a,e,d)}};this.ApplyStyleProperties=function(a,b){e.ApplyStyleProperties(a,b);return a};this.AddBorderBottom=function(a,b){return c.ApplyStyleProperties(a,b?d.bottomBorderSeparatorLightStyle:d.bottomBorderSeparatorDarkStyle)};this.AddBorderTop=
function(a,b){return c.ApplyStyleProperties(a,b?d.topSeparatorLightStyle:d.topBorderSeparatorDarkStyle)};this.GetButtonBGColor=function(a){return a?d.defaultButtonBk:d.defaultButtonFill};this.GetBorderSeparatorClassName=function(a){return a?this.rightBorderSeparatorLightClass:this.bottomBorderSeparatorLightClass};this.GetPaddedDivClassNames=function(a,b){var d="",d=a?this.paddedInlineBlockDivClass:this.paddedBlockDivClass;b&&(d+=" "+c.GetBorderSeparatorClassName(a));return d};this.GetUnPaddedDivClassNames=
function(a,b){var d="",d=a?this.unPaddedInlineBlockDivClass:this.unPaddedBlockDivClass;b&&(d+=" "+c.GetBorderSeparatorClassName(a));return d};this.GetUnicodeDoubleHorArrow=function(){return"\u2194"};this.GetUnicodeXClose=function(){return"\u00d7"};this.GetRadioItemClasses=function(){return c.radioClass+" "+c.radioLabelClass};this.GetCheckItemClasses=function(){return c.checkClass+" "+c.checkLabelClass};this.ApplyPositionRelativeStyle=function(a){return c.ApplyStyleProperties(a,d.positionRelativeStyle)};
this.ApplyPositionAbsoluteStyle=function(a){return c.ApplyStyleProperties(a,d.positionAbsoluteStyle)};this.ApplyDivWithImgBkStyle=function(a){return c.ApplyStyleProperties(a,d.divWithImgBkStyle)};this.ApplyTextColorStyle=function(a,b){return c.ApplyStyleProperties(a,b?d.darkTextColorStyle:d.lightTextColorStyle)};this.ApplyMiddleVerticalAlignStyle=function(a){return c.ApplyStyleProperties(a,d.middleVerticalAlignStyle)};this.ApplyTextAlignCenterStyle=function(a){return c.ApplyStyleProperties(a,d.textAlignCenterStyle)};
this.ApplyFloatStyle=function(a,b){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),b?d.floatLeftStyle:d.floatRightStyle);return a};this.AddDefaultOpacityTransitionStyle=function(a){return c.ApplyStyleProperties(a,d.defaultOpacityVisibilityTransitionStyle)};this.AddDefaultShadowStyle=function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.seShadowStyle);return a};this.AddHorShadowStyle=function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.horShadowStyle);return a};this.AddButtonDivMargins=
function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.buttonDivAllMarginsStyle);return a};this.AddButtonDivTopBottMargins=function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.buttonDivTopBotMarginsStyle);return a};this.AddButtonDivLeftRightMargins=function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.buttonDivLeftRightMarginsStyle);return a};this.AddButtonDivLeftMargin=function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.buttonDivMarginLeftStyle);
return a};this.AddButtonDivRightMargin=function(a){e.ApplyStyleProperties(tf.dom.GetHTMLElementFrom(a),d.buttonDivMarginRightStyle);return a};this.ApplySnapToCenterStyle=function(a){if(a){var b=a.GetHTMLElement?tf.dom.GetHTMLElementFrom(a):a;b&&e.ApplyStyleProperties(b,d.snapCenterStyle)}return a};this.ApplySnapStyle=function(a,b){var c=tf.dom.GetHTMLElementFrom(a);if(c){var g,n,m;switch(b.horPos){case tf.consts.positioningLeft:g=d.snapLeftStyle;break;case tf.consts.positioningRight:g=d.snapRightStyle}switch(b.verPos){case tf.consts.positioningTop:n=
d.snapTopStyle;break;case tf.consts.positioningBottom:n=d.snapBotStyle}g||(n?g=d.snapCenterHorStyle:m=d.snapCenterStyle);n||(n=d.snapCenterVerStyle);m?e.ApplyStyleProperties(c,m):(e.ApplyStyleProperties(c,g),e.ApplyStyleProperties(c,n))}return a};this.CloseXButtonForPopup=function(a,b,c,g){c&&(c=d.mapControlFontSizeEmNumber+"em");!g&&(g="Close");a=new tf.ui.SvgGlyphBtn({style:a,glyph:tf.styles.SvgGlyphCloseXName,onClick:b,tooltip:g,dim:c});b=a.GetHTMLElement();e.ApplyStyleProperties(b,d.buttonDivMarginLeftStyle);
return a};this.CreateImageFullWidthHeight=function(a){return new tf.dom.Img({src:a,cssClass:tf.GetStyles().imgFullWidthHeightClass})};this.CreateListContentItem=function(a){var b=tf.GetStyles();return b.ApplyTextColorStyle(b.ApplyMiddleVerticalAlignStyle(new tf.dom.Div({cssClass:b.paddedInlineBlockDivClass})),a)};this.CreateListContentItemWithImgBk=function(a,b){var d=tf.GetStyles(),e=d.GetSubStyles(),d=d.ApplyDivWithImgBkStyle(c.CreateListContentItem(!1)),g=d.GetHTMLElement();g.style.height=(b?e.imageThumbRectHeightEmNumber:
e.imageThumbSquareHeightEmNumber)+"em";g.style.backgroundImage="url('"+a+"')";return d};this.AddBodyStyle=function(){e.CreateStyle({styleName:"body",inherits:d.bodyStyle})};this.appContainerClass="tf-div-app";this.mapContainerClass="tf-div-map-container";this.mapSubContainerClass="tf-div-map";this.leftSideContainerClass="tf-div-left";this.floatLeftSideContainerClass="tf-div-floatLeft";this.leftRightSideSeparatorClass="tf-div-leftright";this.rightSideContainerClass="tf-div-right";this.bottomContainerClass=
"tf-div-bot";this.topBottomSeparatorClass="tf-div-topbot";this.listContentClass="tf-div-listcnt";this.inputFormClass="tf-div-inputForm";this.paddedBlockDivClass="tf-div-block-padded";this.paddedInlineBlockDivClass="tf-div-inlineblock-padded";this.paddedBlockDivWithBorderSeparatorClass="tf-div-block-padded-bordersep";this.paddedInlineBlockDivWithBorderSeparatorClass="tf-div-inline-block-padded-bordersep";this.unPaddedBlockDivClass="tf-div-block-unpadded";this.unPaddedInlineBlockDivClass="tf-div-inlineblock-unpadded";
this.divWithImgBkClass="tf-div-imgbk";this.mapMeasureOverlayDivClass="tf-div-mapoverlay";this.imgLogoStyleClass="tf-img-logo";this.imgFullWidthHeightClass="tf-img-fullwh";this.imgForInfoWindowClass="tf-img-infow";this.svgGlyphLightNoHoverStyleClass="tf-glyph-svg-nohover-light";this.svgGlyphLightStyleClass="tf-glyph-svg-light";this.svgGlyphDarkNoHoverStyleClass="tf-glyph-svg-nohover-dark";this.svgGlyphDarkStyleClass="tf-glyph-svg-dark";this.divSvgGlyphBtnClass="tf-glyph-svg-svgglyphbtndiv";this.textDivBtnLightStyleClass=
"tf-btn-div-light";this.textDivBtnDarkStyleClass="tf-btn-div-dark";this.mapTextBtnClass="tf-btn-div-map";this.bottomBorderSeparatorLightClass="tf-border-botlight";this.bottomBorderSeparatorDarkClass="tf-border-botdark";this.rightBorderSeparatorLightClass="tf-border-rightlight";this.rightBorderSeparatorDarkClass="tf-border-rightdark";this.radioClass="tf-radio";this.radioLabelClass=this.radioClass+"-label";this.checkClass="tf-check";this.checkLabelClass=this.checkClass+"-label";this.popupCaptionClass=
"tf-div-popupcaption";this.popupContainerClass="tf-div-popupcontainer";this.popupContentClass="tf-div-popupcontent";this.mapToolBarContainerClass="tf-div-maptoolbarcontainer";this.spanClass="tf-span-span";this.spanCursorPointerClass="tf-span-spanCursorPointer";this.dLayerInfoClass="tf-div-dLayerInfo";this.hcfLayoutClass="tf-div-hcfpage";this.hcfLayoutHeaderClass="tf-div-hcfhrd";this.hcfLayoutFooterClass="tf-div-hcfftr";this.hcfLayoutContentClass="tf-div-hcfcnt";this.buttonShapedLinkClass="tf-link-buttonshape";
this.inputTextClass="tf-input-input";this.mapTFLogoControlClass="tf-map-tflogo";this.mapAddressButtonClass="tf-map-addressbtn";this.mapLayersButtonClass="tf-map-layersbtn";this.mapTypeButtonClass="tf-map-typebtn";this.mapMeasureButtonClass="tf-map-measurebtn";this.mapDownloadButtonClass="tf-map-downloadbtn";this.mapSourceButtonClass="tf-map-sourcebtn";this.mapLocationButtonClass="tf-map-centerbtn";this.mapUserLocationButtonClass="tf-map-userlocbtn";this.mapFullScreenButtonClass="tf-map-fullscreenbtn";
this.opacityVisibilityShowClass="tf-u-show";this.opacityVisibilityHideClass="tf-u-hide";this.mapSvgGlyphInButtonClass="tf-map-svgglyphinbutton";c=this;e=new tf.styles.CSSStyleCreator(c);d=new tf.styles.SubStyles(c,a);(function(){b=document.createElement("canvas");var a=b.style;a.display="none";a.width="10em";a.height="10em";a.zIndex=-100})();g=function(a){var b=null;if(tf.js.GetIsValidObject(a)){var d=document.documentElement.style,c;for(c in a){var e=a[c];if(e in d){b=e;break}}}return b}(["transform",
"MozTransform","WebkitTransform","msTransform","OTransform"]);(function(){var a=[],b;for(b in a){var d=a[b];d.styleName&&e.CreateRawStyle(d.selector,d.style)}})();e.CreateStyles([{styleName:"."+c.appContainerClass,inherits:d.appContainerStyle},{styleName:"."+c.mapContainerClass,inherits:d.mapContainerStyle},{styleName:"."+c.mapSubContainerClass,inherits:d.mapSubContainerStyle},{styleName:"."+c.leftSideContainerClass,inherits:d.leftSideContainerStyle},{styleName:"."+c.floatLeftSideContainerClass,inherits:d.floatLeftSideContainerStyle},
{styleName:"."+c.leftRightSideSeparatorClass,inherits:d.leftRightSideSeparatorStyle},{styleName:"."+c.rightSideContainerClass,inherits:d.rightSideContainerStyle},{styleName:"."+c.bottomContainerClass,inherits:d.bottomContainerStyle},{styleName:"."+c.topBottomSeparatorClass,inherits:d.topBottomSeparatorStyle},{styleName:"."+c.listContentClass,inherits:d.listContentStyle},{styleName:"."+c.inputFormClass,inherits:d.inputFormStyle},{styleName:"."+c.popupContainerClass,inherits:d.popupContainerStyle},
{styleName:"."+c.popupContentClass,inherits:d.popupContentStyle},{styleName:"."+c.mapToolBarContainerClass,inherits:d.mapToolBarContainerStyle},{styleName:"."+c.paddedBlockDivClass,inherits:d.paddedBlockDivStyle},{styleName:"."+c.paddedInlineBlockDivClass,inherits:d.paddedInlineBlockDivStyle},{styleName:"."+c.paddedBlockDivWithBorderSeparatorClass,inherits:d.paddedBlockDivWithBorderSeparatorStyle},{styleName:"."+c.paddedInlineBlockDivWithBorderSeparatorClass,inherits:d.paddedInlineBlockDivWithBorderSeparatorStyle},
{styleName:"."+c.unPaddedBlockDivClass,inherits:d.unPaddedBlockDivStyle},{styleName:"."+c.unPaddedInlineBlockDivClass,inherits:d.unPaddedInlineBlockDivStyle},{styleName:"."+c.divWithImgBkClass,inherits:d.divWithImgBkStyle},{styleName:"."+c.inputTextClass+":-moz-placeholder",inherits:d.inputTextPlaceholderStyle},{styleName:"."+c.inputTextClass+"::-moz-placeholder",inherits:d.inputTextPlaceholderStyle},{styleName:"."+c.inputTextClass+":-ms-input-placeholder",inherits:d.inputTextPlaceholderStyle},{styleName:"."+
c.inputTextClass+"::-webkit-input-placeholder",inherits:d.inputTextPlaceholderStyle},{styleName:"."+c.inputTextClass+"::-ms-clear",inherits:d.noneDisplayStyle},{styleName:"."+c.inputTextClass+", ."+c.inputTextClass+" input, ."+c.inputTextClass+" input:focus",inherits:d.inputTextStyle},{styleName:"."+c.radioLabelClass+" label",inherits:d.radioLabelStyle},{styleName:"."+c.radioClass+' input[type="radio"]',inherits:d.radioRadioStyle},{styleName:"."+c.radioClass+' input[type="radio"]:checked + label',
inherits:d.radioRadioAndLabelCheckedStyle},{styleName:"."+c.radioClass+' input[type="radio"], .'+c.radioLabelClass+" label::before",inherits:d.radioRadioAndLabelStyleBefore},{styleName:"."+c.radioClass+' input[type="radio"]:checked + label::before',inherits:d.radioRadioAndLabelSelStyleBefore},{styleName:"."+c.checkLabelClass+" label",inherits:d.checkLabelStyle},{styleName:"."+c.checkClass+' input[type="checkbox"]',inherits:d.checkCheckStyle},{styleName:"."+c.checkClass+' input[type="checkbox"]:checked + label',
inherits:d.checkCheckAndLabelCheckedStyle},{styleName:"."+c.checkClass+' input[type="checkbox"], .'+c.checkLabelClass+" label::before",inherits:d.checkCheckAndLabelStyleBefore},{styleName:"."+c.checkClass+' input[type="checkbox"]:checked + label::before',inherits:d.checkCheckAndLabelSelStyleBefore},{styleName:"."+c.mapMeasureOverlayDivClass,inherits:d.mapMeasureOverlayDivStyle},{styleName:"."+c.hcfLayoutClass,inherits:d.hcfLayoutStyle},{styleName:"."+c.hcfLayoutHeaderClass,inherits:d.hcfLayoutHeaderStyle},
{styleName:"."+c.hcfLayoutFooterClass,inherits:d.hcfLayoutFooterStyle},{styleName:"."+c.hcfLayoutContentClass,inherits:d.hcfLayoutContentStyle},{styleName:"."+c.popupCaptionClass,inherits:d.popupCaptionStyle},{styleName:"."+c.spanClass,inherits:d.spanStyle},{styleName:"."+c.spanCursorPointerClass,inherits:d.spanCursorPointerStyle},{styleName:"."+c.dLayerInfoClass,inherits:d.dLayerInfoStyle},{styleName:"."+c.dLayerInfoClass+" img",inherits:d.dLayerInfoImgStyle},{styleName:"."+c.dLayerInfoClass+" a",
inherits:d.dLayerInfoLinkStyle},{styleName:"."+c.dLayerInfoClass+" a:link",inherits:d.dLayerInfoLinkStyle},{styleName:"."+c.dLayerInfoClass+" a:visited",inherits:d.dLayerInfoLinkStyle},{styleName:"."+c.dLayerInfoClass+" a:hover",inherits:d.dLayerInfoLinkHoverStyle},{styleName:"."+c.dLayerInfoClass+" a:active",inherits:d.dLayerInfoLinkStyle},{styleName:"."+c.dLayerInfoClass+" span",inherits:d.dLayerInfoSpanStyle},{styleName:"a."+c.buttonShapedLinkClass,inherits:d.buttonShapedLinkStyle},{styleName:"a."+
c.buttonShapedLinkClass+":hover",inherits:d.buttonShapedLinkHoverStyle},{styleName:"img."+c.imgLogoStyleClass,inherits:d.imgLogoStyle},{styleName:"img."+c.imgFullWidthHeightClass,inherits:d.imgFullWidthHeightStyle},{styleName:"img."+c.imgForInfoWindowClass,inherits:d.imgForInfoWindowStyle},{styleName:"svg."+c.svgGlyphLightNoHoverStyleClass,inherits:d.svgGlyphLightNoHoverStyle},{styleName:"svg."+c.svgGlyphLightStyleClass,inherits:d.svgGlyphLightStyle},{styleName:"svg."+c.svgGlyphLightStyleClass+":hover",
inherits:d.svgGlyphLightStyleHover},{styleName:"svg."+c.svgGlyphDarkNoHoverStyleClass,inherits:d.svgGlyphDarkNoHoverStyle},{styleName:"svg."+c.svgGlyphDarkStyleClass,inherits:d.svgGlyphDarkStyle},{styleName:"svg."+c.svgGlyphDarkStyleClass+":hover",inherits:d.svgGlyphDarkStyleHover},{styleName:"svg."+c.mapSvgGlyphInPopupClass,inherits:d.mapSvgGlyphInPopupStyle},{styleName:"svg."+c.mapSvgGlyphInPopupClass+":hover",inherits:d.mapSvgGlyphInPopupHoverStyle},{styleName:"svg."+c.mapSvgGlyphInButtonClass,
inherits:d.mapSvgGlyphInButtonStyle},{styleName:"."+c.divSvgGlyphBtnClass,inherits:d.divSvgGlyphBtnStyle},{styleName:"div."+c.textDivBtnLightStyleClass,inherits:d.textDivBtnLightStyle},{styleName:"div."+c.textDivBtnLightStyleClass+":hover",inherits:d.textDivBtnLightStyleHover},{styleName:"div."+c.textDivBtnDarkStyleClass,inherits:d.textDivBtnDarkStyle},{styleName:"div."+c.textDivBtnDarkStyleClass+":hover",inherits:d.textDivBtnDarkStyleHover},{styleName:"div."+c.mapTextBtnClass,inherits:d.mapTextBtnStyle},
{styleName:"div."+c.mapTextBtnClass+":hover",inherits:d.mapTextBtnStyleHover},{styleName:"."+c.bottomBorderSeparatorLightClass,inherits:d.bottomBorderSeparatorLightStyle},{styleName:"."+c.bottomBorderSeparatorDarkClass,inherits:d.bottomBorderSeparatorDarkStyle},{styleName:"."+c.rightBorderSeparatorLightClass,inherits:d.rightBorderSeparatorLightStyle},{styleName:"."+c.rightBorderSeparatorDarkClass,inherits:d.rightBorderSeparatorDarkStyle},{styleName:"."+c.mapTFLogoControlClass,inherits:d.mapTFLogoControlStyle},
{styleName:"."+c.mapAddressButtonClass,inherits:d.mapAddressButtonStyle},{styleName:"."+c.mapLayersButtonClass,inherits:d.mapLayersButtonStyle},{styleName:"."+c.mapTypeButtonClass,inherits:d.mapTypeButtonStyle},{styleName:"."+c.mapMeasureButtonClass,inherits:d.mapMeasureButtonStyle},{styleName:"."+c.mapDownloadButtonClass,inherits:d.mapDownloadButtonStyle},{styleName:"."+c.mapSourceButtonClass,inherits:d.mapSourceButtonStyle},{styleName:"."+c.mapLocationButtonClass,inherits:d.mapLocationButtonStyle},
{styleName:"."+c.mapUserLocationButtonClass,inherits:d.mapUserLocationButtonStyle},{styleName:"."+c.mapFullScreenButtonClass,inherits:d.mapFullScreenButtonStyle},{styleName:".ol-viewport .ol-unselectable",inherits:d.mapViewPortUnSelectableStyle},{styleName:".ol-zoom",inherits:d.mapZoomStyle},{styleName:".ol-zoom .ol-zoom-in",inherits:d.mapZoomInBorderRadiusStyle},{styleName:".ol-zoom .ol-zoom-out",inherits:d.mapZoomOutBorderRadiusStyle},{styleName:".ol-zoomslider",inherits:d.mapZoomSliderStyle},{styleName:".ol-rotate",
inherits:d.mapRotateStyle},{styleName:".ol-rotate.ol-hidden",inherits:d.mapRotateHiddenStyle},{styleName:".ol-compass",inherits:d.mapCompassStyle},{styleName:".ol-scale-line",inherits:d.mapScaleLineStyle},{styleName:".ol-scale-line-inner",inherits:d.mapScaleLineInnerStyle},{styleName:".ol-control",inherits:d.mapControlStyle},{styleName:".ol-control:hover",inherits:d.mapControlHoverStyle},{styleName:".ol-control button:focus, .ol-control button:hover",inherits:d.mapControlButtonFocusHoverStyle},{styleName:".ol-control button",
inherits:d.mapControlButtonStyle},{styleName:".ol-control button::-moz-focus-inner",inherits:d.mapControlButtonMozFocusInnerStyle},{styleName:".ol-overviewmap",inherits:d.mapOverviewMapStyle},{styleName:".ol-overviewmap.ol-uncollapsible",inherits:d.mapOverviewMapUnCollapsibleStyle},{styleName:".ol-overviewmap .ol-overviewmap-map, .ol-overviewmap button",inherits:d.mapControlButtonStyle},{styleName:".ol-overviewmap .ol-overviewmap-map",inherits:d.mapOverviewMapMapStyle},{styleName:".ol-overviewmap:not(.ol-collapsed) button",
inherits:d.mapOverviewMapButtonNotCollapsedStyle},{styleName:".ol-overviewmap.ol-collapsed .ol-overviewmap-map, .ol-overviewmap.ol-uncollapsible button",inherits:d.mapOverviewMapButtonCollapsedStyle},{styleName:".ol-overviewmap:not(.ol-collapsed)",inherits:d.mapOverviewMapNotCollapsedStyle},{styleName:".ol-overviewmap-box",inherits:d.mapOverviewMapBoxStyle},{styleName:".ol-button-text-span",inherits:d.mapButtonTextSpanStyle},{styleName:"."+c.opacityVisibilityShowClass,inherits:d.opacityVisibilityShowStyle},
{styleName:"."+c.opacityVisibilityHideClass,inherits:d.opacityVisibilityHideStyle},{}])};tf.js.Counter=function(){var a=0;this.GetNext=function(){return++a}};
tf.Debug=function(){function a(a,d){var b=new Blob([d],{type:"text/plain"}),c=document.createElement("a");c.download=a;c.innerHTML="Download File";null!=window.webkitURL?c.href=window.webkitURL.createObjectURL(b):(c.href=window.URL.createObjectURL(b),c.onclick=function(a){document.body.removeChild(a.target)},c.style.display="none",document.body.appendChild(c));c.click()}var c;this.AddExtent=function(a,d,b){a=new tf.map.Feature({type:"linestring",coordinates:[[a[0],a[1]],[a[0],a[3]],[a[2],a[3]],[a[2],
a[1]],[a[0],a[1]]],style:{line:!0,line_color:void 0!==b?b:"#f00",line_width:5,zindex:10}});d.AddMapFeature(a)};this.LogIfTest=function(a){c&&console.log(a)};this.FileLog=function(e,d){c&&a(e,"var "+e+" = "+JSON.stringify(d))};this.SaveAsTextFile=function(c,d){return a(c,d)};this.DebugArguments=function(){for(var a in arguments)c&&console.log(a+": "+arguments[a])};c=tf.platform.GetIsTest()};
tf.js.KeyedItem=function(a){function c(a){var b=!1;g=new Date;tf.js.GetIsValidObject(a)&&(b=!f||!h||h({sender:d,itemData:f,itemDataSet:a}))&&(f=a);return b}function e(a,e){var h;b&&k&&b.GetKeyFromData(a)==k&&(e?h=c(a):(f=null,h=c(a),b.NotifyItemUpdated(d)));return h}var d,b,g,f,k,h;this.GetListName=function(){return b?b.GetName():""};this.GetList=function(){return b};this.GetKey=function(){return k};this.GetData=function(){return f};this.GetLastTimeUpdated=function(){return g};this.NotifyUpdated=
function(){b&&k&&b.NotifyItemUpdated(d)};this.Update=function(a){return e(a,!1)};this.OnDelete=function(){};this.privateUpdate=function(a){return e(a,!0)};d=this;a=tf.js.GetValidObjectFrom(a);b=tf.js.GetIsInstanceOf(a.list,tf.js.KeyedList)?a.list:null;k=a.key;h=tf.js.GetFunctionOrNull(a.needsUpdateItemData);c(a.itemData)};
tf.js.KeyedList=function(a){function c(a,b,d,c){a=F.Notify(a,{sender:q,eventName:a,items:b,keys:d});p(c);return a}function e(a,b,d){c(tf.consts.keyedListAddedItemsEvent,a,b,d?void 0:{added:!0,addedItems:a,addedKeys:b})}function d(a,b,d){c(tf.consts.keyedListUpdatedItemsEvent,a,b,d?void 0:{updated:!0,updatedItems:a,updatedKeys:b})}function b(a,b,d){c(tf.consts.keyedListDeletedItemsEvent,a,b,d?void 0:{deleted:!0,deletedItems:a,deletedKeys:b})}function g(a){return!!t[tf.js.MakeObjectKey(a)]}function f(a){return!!a&&
(I?a instanceof tf.js.KeyedList:a instanceof tf.js.KeyedItem)&&g(a.GetKey())}function k(a){return g(a)?t[tf.js.MakeObjectKey(a)]:null}function h(a,d,c){if(f(a)){var e=a.GetKey(),h=A(e);d&&b([a],[e],c);a.OnDelete();delete w[h];delete t[h];--v;return!0}return!1}function l(a,b){var d=null,c=G(a),f=!1;if(c&&!(f=!!(d=k(c)))&&(!C||C(a))){var d=I?new tf.js.KeyedList({key:c,getKeyFromItemData:H,needsUpdateItemData:D}):new tf.js.KeyedItem({list:q,key:c,itemData:a,needsUpdateItemData:D}),h=A(c);w[h]=c;t[h]=
d;++v;b&&e([d],[c])}return{isExisting:f,item:d,key:c}}function n(a){var c,f,g,k=[],m=[],n=[],w=[],A={};c={};var q={};r=new Date;if(a)for(g in a=tf.js.GetIsArray(a)?a:[a],a){var C=a[g],B=l(C,!1),D=B.item,H=B.key;B.isExisting?I?(D.AddItemDataToUpdateCache(C),A[H]||q[H]||(q[H]=D)):!D.privateUpdate(C)||A[H]||c[H]||(c[H]=H,n.push(D),w.push(H)):D&&(I&&D.AddItemDataToUpdateCache(C),A[H]=D,k.push(D),m.push(H))}if((A=0<k.length)&&I)for(g in k)k[g].UpdateFromItemDataCache();if(I)for(g in q)c=q[g],c.UpdateFromItemDataCache()&&
(w.push(g),n.push(c));q=0<n.length;u=v;if(E)f=[],g=[],a=!1;else{a=[];g=[];for(f in t)c=t[f],c.GetLastTimeUpdated()<r&&(a.push(c),g.push(c.GetKey()));c=!!a.length;f=a;if(a=c)u-=f.length}(c=A||q||a)&&p({added:A,addedItems:k,addedKeys:m,updated:q,updatedItems:n,updatedKeys:w,deleted:a,deletedItems:f,deletedKeys:g});A&&e(k,m,!0);q&&d(n,w,!0);if(a&&(k=f)){b(k,g,!0);for(var F in k)h(k[F],!1,!0)}return c}function m(){return null}function p(a){tf.js.GetIsValidObject(a)&&N.Notify(tf.js.ShallowMerge({added:!1,
updated:!1,deleted:!1},a,{sender:q}))}var q,r,A,t,w,v,u,B,E,D,F,C,G,H,I,J,K,N;this.GetName=function(){return B};this.GetIsListOfLists=function(){return I};this.GetKey=function(){return J};this.AddOrGetItem=function(a){return l(a,!0).item};this.RemoveItem=function(a,b,d){return h(a,!b,d)};this.RemoveItemByKey=function(a,b,d){b=!b;return(a=k(a))?h(a,b,d):!1};this.RemoveAllItems=function(a,b){var d=!a,c;for(c in t)h(t[c],d,b)};this.HasKey=function(a){return g(a)};this.GetItem=function(a){return k(a)};
this.GetItemCount=function(){return v};this.GetItemCountAfterUpdate=function(){return u};this.GetKeyedItemList=function(){return tf.js.ShallowMerge(t)};this.GetFirstKeyedItem=function(){var a=q.GetKeyedItemList(),b;for(b in a)return a[b]};this.GetKeyList=function(){return tf.js.ShallowMerge(w)};this.GetKeyFromData=function(a){return G(a)};this.GetLastTimeUpdated=function(){return r};this.UpdateFromNewData=function(a){return n(a)};this.AddAggregateListener=function(a){return N.Add(a)};this.AddListener=
function(a,b){return F.AddListener(a,b)};this.AddListeners=function(a){return F.AddListeners(a)};this.NotifyItemsAdded=function(a){tf.js.GetFunctionOrNull(a)&&0<v&&a({sender:q,eventName:tf.consts.keyedListAddedItemsEvent,items:t,keys:w})};this.NotifyItemsUpdatedByKeys=function(a){if(void 0!=a){var b=[],c=[],e;for(e in a){var f=a[e],h=k(f);h&&(b.push(h),c.push(f))}0<b.length&&d(b,c)}};this.NotifyItemsUpdated=function(a){if(0<v)if(void 0!=a){var b=[],c=[],e;for(e in a){var h=a[e];f(h)&&(b.push(h),c.push(h.GetKey()))}0<
b.length&&d(b,c)}else d(t,w)};this.NotifyItemUpdated=function(a){f(a)&&d([a],[a.GetKey()])};this.AddItemDataToUpdateCache=function(a){a&&(K||(K=[]),K.push(a))};this.UpdateFromItemDataCache=function(a){a=!1;K&&(a=n(K),K=null);return a};this.OnDelete=function(){c(tf.consts.keyedListDeleteEvent,t,w);for(var a in t)h(t[a],!1,!0);F.OnDelete()};q=this;N=new tf.events.EventNotifier({eventName:"agg"});F=new tf.events.MultiEventNotifier({eventNames:tf.consts.allKeyedListEventNames});A=tf.js.MakeObjectKey;
t={};w={};v=u=0;a=tf.js.GetValidObjectFrom(a);B=a.name;D=tf.js.GetFunctionOrNull(a.needsUpdateItemData);E=tf.js.GetBoolFromValue(a.keepNotUpdated,!1);C=tf.js.GetFunctionOrNull(a.filterAddItem);J=a.key;G=void 0;I=!1;if(H=a.getKeyFromItemData)"function"===typeof H?G=tf.js.GetFunctionOrNull(H):tf.js.GetIsNonEmptyArray(H)&&(G=tf.js.GetFunctionOrNull(H[0]),H=H.slice(1),(I=0<H.length)||(H=null));G||(G=m)};
tf.js.KeyedListsPeriodicRefresh=function(a){function c(){k&&k.RefreshNow()}function e(b){++r;n||k.Cancel();var d=!0;!b&&a.retryOnFail&&(d=!1,tf.GetDebug().LogIfTest("KeyedListsPeriodicRefresh: retrying JSON download"),setTimeout(c,1E3));if(d){b=a.preProcessServiceData(b);for(var e in l)l[e].UpdateFromNewData(b)}}function d(){m&&m({sender:f});q.Notify({sender:f})}function b(a){A||(e(a.data),d())}function g(a){A||(k.ChangeCallBack(b),e(a.data),p&&(a=p,p=null,a({sender:f})),d())}var f,k,h,l,n,m,p,q,
r,A;this.GetKeyedList=function(a){return h[a]};this.RefreshNow=function(){return c()};this.GetRefreshCount=function(){return r};this.GetIsRefreshing=function(){return k.GetIsRefreshing()};this.AddOnRefreshListener=function(a){return addListener(q,a)};this.OnDelete=function(){A=!0;k&&(k.OnDelete(),k=null);q&&q.OnDelete();q=null;for(var a in l)l[a].OnDelete();l=null;h={}};this.RefreshFromData=function(a){k&&k.RefreshFromData(a)};f=this;(function(){l=[];h={};if(a&&"object"===typeof a&&a.keyedLists&&
tf.js.GetIsArray(a.keyedLists)){A=!1;q=new tf.events.EventNotifier;m=tf.js.GetFunctionOrNull(a.refreshCallback);p=tf.js.GetFunctionOrNull(a.onCreated);for(var d in a.keyedLists){var c=a.keyedLists[d];c&&(c instanceof tf.js.KeyedList||(c=tf.js.GetIsValidObject(c)?new tf.js.KeyedList(c):null),c&&(l.push(c),h[c.GetName()]=c))}l.length&&(d=0<(n=tf.js.GetNonNegativeIntFrom(a.refreshMillis)),k=new tf.ajax.PeriodicJSONGet({url:a.serviceURL,refreshMillis:n?n:6E5,autoRefresh:d,onRefresh:g,optionalScope:f,
useRedirect:a.useRedirect,JSONDecode:a.JSONDecode,postParams:a.postParams,requestHeaders:a.requestHeaders}),tf.js.GetBoolFromValue(a.refreshOnCreate,!0)?k.RefreshNow():(k.ChangeCallBack(b),p&&(d=p,p=null,d({sender:f}))))}})()};tf.events.StopDOMEvent=function(a){!a&&window.event&&(a=window.event);a&&"object"===typeof a&&(void 0!==a.cancelBubble&&(a.cancelBubble=!0),null!=a.returnValue&&(a.returnValue=!1),a.preventDefault&&a.preventDefault(),null!=a.cancel&&(a.cancel=!0));return!1};
tf.events.DelayedCallBack=function(a,c,e){function d(){+new Date-h<g?l=setTimeout(d,g):(l=void 0,f.apply(k,n))}var b,g,f,k,h,l,n;this.DelayCallBack=function(){h=+new Date;n=arguments;void 0==l&&(l=setTimeout(d,g))};this.CancelCallBack=function(){void 0!=l&&(clearTimeout(l),l=void 0)};this.CallBackNow=function(){b.CancelCallBack();f.apply(k,n)};this.GetHasPendingCallBack=function(){return void 0!=l};this.ChangeDelay=function(a){g=a};b=this;g=a;f=c;k=e;h=+new Date(1,1,2E3,12,0,0);l=void 0;n=null};
tf.events.DOMEventListener=function(a){var c,e,d;this.OnDelete=function(){d&&(tf.events.DelDOMEventListener(c,e,d),d=null)};a=tf.js.GetValidObjectFrom(a);(d=tf.js.GetFunctionOrNull(a.callBack))&&tf.dom.GetDOMEventListenerFrom(a.target)&&tf.js.GetIsNonEmptyString(a.eventName)&&(e=a.eventName,c=a.target)};
tf.events.MultiDOMEventListener=function(a){function c(a){return function(c){!c&&window.event&&(c=window.event);p=a;m=c;c={sender:e,callBackSettings:h,event:c,eventName:a,target:b,domObj:d};l&&l.call(n,c);c=f.call(k,c);return void 0!=c?c:!0}}var e,d,b,g,f,k,h,l,n,m,p;this.GetDomObj=function(){return d};this.GetTarget=function(){return b};this.GetLastEvent=function(){return m};this.GetLastEventName=function(){return p};this.OnDelete=function(){if(g){for(var a in g)g[a].OnDelete();g=null}};this.ChangeCallBackSettings=
function(a){h=a};e=this;(function(){a=tf.js.GetValidObjectFrom(a);if(tf.dom.GetDOMEventListenerFrom(a.target)&&tf.js.GetIsValidObject(a.eventNames)&&(f=tf.js.GetFunctionOrNull(a.callBack))){k=a.optionalScope;d=a.domObj;b=a.target;h=a.callBackSettings;l=tf.js.GetFunctionOrNull(a.onPreNotify);n=a.preNotifyScope;g=[];for(var e in a.eventNames){var m=a.eventNames[e];tf.js.GetIsNonEmptyString(m)&&g.push(tf.events.AddDOMEventListener(b,m,c(m)))}}})()};
tf.events.DOMFullScreenChangeListener=function(a){function c(a){g.call(b,{sender:e,callBackSettings:f,event:a})}var e,d,b,g,f,k;this.GetIsFullScreen=function(){return tf.browser.GetIsFullScreen()};this.OnDelete=function(){if(k){for(var a in k)k[a].OnDelete();k=null}};e=this;(function(){a=tf.js.GetValidObjectFrom(a);if(tf.js.GetFunctionOrNull(a.callBack)){b=a.optionalScope;g=a.callBack;f=a.callBackSettings;d=new tf.events.DelayedCallBack(50,c,e);k=[];for(var h in tf.consts.allFullScreenEventNames)k.push(tf.events.AddDOMEventListener(document,
tf.consts.allFullScreenEventNames[h],d.DelayCallBack))}})()};tf.events.DOMClickListener=function(a){function c(a){}var e;e=this;(function(){a=tf.js.GetValidObjectFrom(a);var d=tf.js.ShallowMerge(a,{eventNames:[tf.consts.DOMEventNamesClick],onPreNotify:c,preNotifyScope:e});tf.events.MultiDOMEventListener.call(e,d)})()};tf.js.InheritFrom(tf.events.DOMClickListener,tf.events.MultiDOMEventListener);
tf.events.DOMChangeListener=function(a){function c(a){}var e;e=this;(function(){a=tf.js.GetValidObjectFrom(a);var d=tf.js.ShallowMerge(a,{eventNames:[tf.consts.DOMEventNamesChange],onPreNotify:c,preNotifyScope:e});tf.events.MultiDOMEventListener.call(e,d)})()};tf.js.InheritFrom(tf.events.DOMClickListener,tf.events.MultiDOMEventListener);
tf.events.DOMWheelListener=function(a){function c(a){var d=!1,c=a.event;switch(a.eventName){case tf.consts.DOMEventNamesDOMMouseScroll:d=0>c.detail;break;case tf.consts.DOMEventNamesMouseWheel:d=0<c.wheelDelta}a.isUp=d;tf.js.GetFunctionOrNull(c.preventDefault)&&c.preventDefault()}var e,d;e=this;(function(){a=tf.js.GetValidObjectFrom(a);d=tf.browser.GetBrowserType().isFireFox;var b=tf.js.ShallowMerge(a,{eventNames:d?[tf.consts.DOMEventNamesDOMMouseScroll]:[tf.consts.DOMEventNamesMouseWheel],onPreNotify:c,
preNotifyScope:e});tf.events.MultiDOMEventListener.call(e,b)})()};tf.js.InheritFrom(tf.events.DOMWheelListener,tf.events.MultiDOMEventListener);
tf.events.DOMHoverListener=function(a){function c(a){b=a.mouseCoords=tf.events.GetMouseEventCoords(a.event);switch(a.eventName){case tf.consts.DOMEventNamesMouseOver:d=a.isInHover=!0;break;case tf.consts.DOMEventNamesMouseOut:d=a.isInHover=!1}}var e,d,b;this.GetIsInHover=function(){return d};this.GetLastPos=function(){return b};e=this;(function(){d=!1;var b=tf.js.ShallowMerge(a,{eventNames:[tf.consts.DOMEventNamesMouseOver,tf.consts.DOMEventNamesMouseOut],onPreNotify:c,preNotifyScope:e});tf.events.MultiDOMEventListener.call(e,
b)})()};tf.js.InheritFrom(tf.events.DOMHoverListener,tf.events.MultiDOMEventListener);
tf.events.DOMMouseEnterLeaveListener=function(a){function c(a){b=a.mouseCoords=tf.events.GetMouseEventCoords(a.event);switch(a.eventName){case tf.consts.DOMEventNamesMouseEnter:d=a.isInHover=!0;break;case tf.consts.DOMEventNamesMouseLeave:d=a.isInHover=!1}}var e,d,b;this.GetIsInHover=function(){return d};this.GetLastPos=function(){return b};e=this;(function(){d=!1;var b=tf.js.ShallowMerge(a,{eventNames:[tf.consts.DOMEventNamesMouseEnter,tf.consts.DOMEventNamesMouseLeave],onPreNotify:c,preNotifyScope:e});
tf.events.MultiDOMEventListener.call(e,b)})()};tf.js.InheritFrom(tf.events.DOMMouseEnterLeaveListener,tf.events.MultiDOMEventListener);
tf.events.DOMFocusBlurListener=function(a){function c(a){switch(a.eventName){case tf.consts.DOMEventNamesFocus:d=a.hasFocus=!0;break;case tf.consts.DOMEventNamesBlur:d=a.hasFocus=!1}}var e,d;this.GetHasFocus=function(){return d};e=this;(function(){d=!1;var b=tf.js.ShallowMerge(a,{eventNames:[tf.consts.DOMEventNamesFocus,tf.consts.DOMEventNamesBlur],onPreNotify:c,preNotifyScope:e});tf.events.MultiDOMEventListener.call(e,b)})()};tf.js.InheritFrom(tf.events.DOMFocusBlurListener,tf.events.MultiDOMEventListener);
tf.events.DOMMouseListener=function(a){function c(a){g=a.mouseCoords=tf.events.GetMouseEventCoords(a.event);switch(a.eventName){case tf.consts.DOMEventNamesMouseOver:d=a.isInHover=!0;break;case tf.consts.DOMEventNamesMouseOut:d=a.isInHover=!1;break;case tf.consts.DOMEventNamesMouseDown:b=a.isInDrag=!0;break;case tf.consts.DOMEventNamesMouseUp:b=a.isInDrag=!1}}var e,d,b,g;this.GetIsInHover=function(){return d};this.GetIsInDrag=function(){return b};this.GetLastPos=function(){return g};e=this;(function(){b=
d=!1;g=[0,0];var f=tf.js.ShallowMerge(a,{eventNames:tf.consts.allMouseEventNames,onPreNotify:c,preNotifyScope:e});tf.events.MultiDOMEventListener.call(e,f)})()};tf.js.InheritFrom(tf.events.DOMMouseListener,tf.events.MultiDOMEventListener);
tf.events.DocMouseListener=function(){function a(){b&&(b=g=void 0,d.OnDelete())}function c(a){var d=!0;b&&(void 0===(d=b.call(g,a))?d=!0:d&&tf.events.StopDOMEvent(a.event));return d}var e,d,b,g;this.SetCapture=function(f,k,h){a();if(b=tf.js.GetFunctionOrNull(f))d=new tf.events.DOMMouseListener({target:document,callBack:c,optionalScope:e,callBackSettings:void 0}),g=k};this.ReleaseCapture=function(){return a()};this.GetIsCaptured=function(){return!!b};e=this};
tf.events.GetEventTarget=function(a){if(a){if(a.srcElement)return a.srcElement;if(a.originalTarget)return a.originalTarget}return null};tf.events.GetMouseEventCoords=function(a){if(tf.js.GetIsValidObject(a)){if(void 0!==a.offsetX)return[a.offsetX,a.offsetY];if(void 0!=a.layerX)return[a.layerX,a.layerY]}return[0,0]};
tf.events.AddDOMEventListener=function(a,c,e){var d=null;tf.js.GetFunctionOrNull(e)&&(a=tf.dom.GetDOMEventListenerFrom(a))&&tf.js.GetIsNonEmptyString(c)&&(a.addEventListener?a.addEventListener(c,e,!0):a.attachEvent?a.attachEvent("on"+c,e):a["on"+c]=e,d=new tf.events.DOMEventListener({target:a,eventName:c,callBack:e}));return d};
tf.events.DelDOMEventListener=function(a,c,e){tf.js.GetFunctionOrNull(e)&&(a=tf.dom.GetDOMEventListenerFrom(a))&&tf.js.GetIsNonEmptyString(c)&&(a.removeEventListener?a.removeEventListener(c,e,!0):a.detachEvent?a.detachEvent("on"+c,e):a["on"+c]=void 0)};tf.events.EventListener=function(a){var c,e,d;this.OnDelete=function(){if(e){var a=e;e=null;a(c)}};this.GetKey=function(){return d};c=this;a=tf.js.GetValidObjectFrom(a);d=a.key;e=tf.js.GetFunctionOrNull(a.deleteCallBack)};
tf.events.EventNotifier=function(a){function c(a){a&&a instanceof tf.events.EventListener&&(a=tf.js.MakeObjectKey(a.GetKey()),d[a]&&delete d[a],--g)}var e,d,b,g;this.GetEventName=function(){return e};this.Add=function(a){var e=null;tf.js.GetFunctionOrNull(a)&&(++g,++b,d[tf.js.MakeObjectKey(b)]={listener:e=new tf.events.EventListener({key:b,deleteCallBack:c}),callBackFunction:a});return e};this.Notify=function(){for(var a in d)try{d[a].callBackFunction.apply(void 0,arguments)}catch(b){console.log("exception during EventNotifier notification")}};
this.OnDelete=function(){for(var a in d)d[a].listener.OnDelete();d=[]};this.GetListenerCount=function(){return g};a=tf.js.GetValidObjectFrom(a);e=tf.js.GetNonEmptyString(a.eventName,"");d={};g=b=0};
tf.events.MultiEventNotifier=function(a){function c(a){a&&d[a]&&(d[a].OnDelete(),delete d[a])}function e(a){a&&(d[a]?tf.GetDebug().LogIfTest("tf.events.MultiEventNotifier: adding duplicate listener for event name: "+a):d[a]=new tf.events.EventNotifier({eventName:a}))}var d;this.AddListener=function(a,c){var e=null;a&&c&&d[a]&&(e=d[a].Add(c));return e};this.AddListeners=function(a){var c={};if(tf.js.GetIsValidObject(a))for(var e in a){var k=e?d[e]:null;if(k){var h=tf.js.GetFunctionOrNull(a[e]);h&&
(c[e]=k.Add(h))}}return c};this.Notify=function(a){a&&d[a]&&d[a].Notify.apply(null,Array.prototype.slice.call(arguments,1))};this.GetNotifier=function(a){return a?d[a]:null};this.AddNotifier=function(a){return e(a)};this.DelNotifier=function(a){return c(a)};this.OnDelete=function(){for(var a in d)c(a)};a=tf.js.GetValidObjectFrom(a);(function(a){d={};if(a&&"object"===typeof a)for(var c in a)e(a[c])})(a.eventNames)};
tf.events.DeleteListeners=function(a){if(tf.js.GetIsValidObject(a))for(var c in a){var e=a[c];tf.js.GetIsInstanceOf(e,tf.events.EventListener)&&(e.OnDelete(),delete a[c])}};tf.canvas.circle=function(a,c,e,d){tf.canvas.ellipse(a,c,e,d,d)};tf.canvas.ellipse=function(a,c,e,d,b){var g=d/2*.5522848,f=b/2*.5522848,k=c+d,h=e+b;d=c+d/2;b=e+b/2;a.moveTo(c,b);a.bezierCurveTo(c,b-f,d-g,e,d,e);a.bezierCurveTo(d+g,e,k,b-f,k,b);a.bezierCurveTo(k,b+f,d+g,h,d,h);a.bezierCurveTo(d-g,h,c,b+f,c,b)};
tf.canvas.StrokeFillRoundRect=function(a,c,e,d,b,g,f,k,h){k=tf.js.GetBoolFromValue(k,!1);if((f=tf.js.GetBoolFromValue(f,!1))||k)h||a.translate(.5,.5),g=tf.js.GetFloatNumberInRange(g,0,(d<b?d:b)/2),a.beginPath(),a.moveTo(c+g,e),a.lineTo(c+d-g,e),a.quadraticCurveTo(c+d,e,c+d,e+g),a.lineTo(c+d,e+b-g),a.quadraticCurveTo(c+d,e+b,c+d-g,e+b),a.lineTo(c+g,e+b),a.quadraticCurveTo(c,e+b,c,e+b-g),a.lineTo(c,e+g),a.quadraticCurveTo(c,e,c+g,e),a.closePath(),k&&a.stroke(),f&&a.fill()};
tf.canvas.StrokeFillBubbleLT=function(a,c,e,d,b,g,f){d=c+d;var k=e+b;a.moveTo(c+f,e);a.lineTo(c,e-g);a.lineTo(c+2*f,e);a.lineTo(d-f,e);a.quadraticCurveTo(d,e,d,e+f);a.lineTo(d,e+b-f);a.quadraticCurveTo(d,k,d-f,k);a.lineTo(c+f,k);a.quadraticCurveTo(c,k,c,k-f);a.lineTo(c,e+f);a.quadraticCurveTo(c,e,c+f,e)};
tf.canvas.StrokeFillBubbleLB=function(a,c,e,d,b,g,f){d=c+d;var k=e+b;a.moveTo(c+f,e);a.lineTo(d-f,e);a.quadraticCurveTo(d,e,d,e+f);a.lineTo(d,e+b-f);a.quadraticCurveTo(d,k,d-f,k);a.lineTo(c+2*f,k);a.lineTo(c,k+g);a.lineTo(c+f,k);a.quadraticCurveTo(c,k,c,k-f);a.lineTo(c,e+f);a.quadraticCurveTo(c,e,c+f,e)};
tf.canvas.StrokeFillBubbleRT=function(a,c,e,d,b,g,f){d=c+d;var k=e+b;a.moveTo(c+f,e);a.lineTo(d-2*f,e);a.lineTo(d,e-g);a.lineTo(d-f,e);a.quadraticCurveTo(d,e,d,e+f);a.lineTo(d,e+b-f);a.quadraticCurveTo(d,k,d-f,k);a.lineTo(c+f,k);a.quadraticCurveTo(c,k,c,k-f);a.lineTo(c,e+f);a.quadraticCurveTo(c,e,c+f,e)};
tf.canvas.StrokeFillBubbleRB=function(a,c,e,d,b,g,f){d=c+d;var k=e+b;a.moveTo(c+f,e);a.lineTo(d-f,e);a.quadraticCurveTo(d,e,d,e+f);a.lineTo(d,e+b-f);a.quadraticCurveTo(d,k,d-f,k);a.lineTo(d-f,k);a.lineTo(d,k+g);a.lineTo(d-2*f,k);a.lineTo(c+f,k);a.quadraticCurveTo(c,k,c,k-f);a.lineTo(c,e+f);a.quadraticCurveTo(c,e,c+f,e)};
tf.canvas.StrokeFillBubbleMidT=function(a,c,e,d,b,g,f){var k=c+d,h=e+b;a.moveTo(c+f,e);a.lineTo(c+d/2-f/2,e);a.lineTo(c+d/2,e-g);a.lineTo(c+d/2+f/2,e);a.lineTo(c+2*f,e);a.lineTo(k-f,e);a.quadraticCurveTo(k,e,k,e+f);a.lineTo(k,e+b-f);a.quadraticCurveTo(k,h,k-f,h);a.lineTo(c+f,h);a.quadraticCurveTo(c,h,c,h-f);a.lineTo(c,e+f);a.quadraticCurveTo(c,e,c+f,e)};
tf.canvas.StrokeFillBubbleMidB=function(a,c,e,d,b,g,f){var k=c+d,h=e+b;a.moveTo(c+f,e);a.lineTo(k-f,e);a.quadraticCurveTo(k,e,k,e+f);a.lineTo(k,e+b-f);a.quadraticCurveTo(k,h,k-f,h);a.lineTo(c+d/2+f/2,h);a.lineTo(c+d/2,h+g);a.lineTo(c+d/2-f/2,h);a.lineTo(c+f,h);a.quadraticCurveTo(c,h,c,h-f);a.lineTo(c,e+f);a.quadraticCurveTo(c,e,c+f,e)};
tf.canvas.StrokeFillBubbleMidR=function(a,c,e,d,b,g,f){d=c+d;var k=e+b;a.moveTo(c+f,e);a.lineTo(d-f,e);a.quadraticCurveTo(d,e,d,e+f);a.lineTo(d+g,e+b/2);a.lineTo(d,k-f);a.quadraticCurveTo(d,k,d-f,k);a.lineTo(c+f,k);a.quadraticCurveTo(c,k,c,k-f);a.lineTo(c,e+f);a.quadraticCurveTo(c,e,c+f,e)};
tf.canvas.StrokeFillBubbleMidL=function(a,c,e,d,b,g,f){d=c+d;var k=e+b;a.moveTo(c+f,e);a.lineTo(d-f,e);a.quadraticCurveTo(d,e,d,e+f);a.lineTo(d,e+b-f);a.quadraticCurveTo(d,k,d-f,k);a.lineTo(c+f,k);a.quadraticCurveTo(c,k,c,k-f);a.lineTo(c-g,e+b/2);a.lineTo(c,e+f);a.quadraticCurveTo(c,e,c+f,e)};
tf.canvas.DrawRoundRect=function(a,c){c=tf.js.ShallowMerge({width:10,height:10,radius:2,fill:!1,fill_color:"#fff",line:!1,line_color:"#000",line_width:1},c);var e=c.width,d=c.height,b=c.radius,g=!!c.fill,f=!!c.line,k=0;c.dontTranslate||a.translate(.5,.5);a.canvas.width=e;a.canvas.height=d;a.beginPath();a.clearRect(0,0,e,d);f&&(a.strokeStyle=c.line_color,a.lineWidth=k=c.line_width);g&&(a.fillStyle=c.fill_color);void 0!==c.line_dash&&a.setLineDash(c.line_dash);tf.canvas.StrokeFillRoundRect(a,k/2,k/
2,e-k,d-k,b,g,f,c.dontTranslate);a.closePath();return[.5,.5]};
tf.canvas.DrawTextMarkerImage=function(a,c){c=tf.js.GetValidObjectFrom(c);var e=tf.js.GetNonEmptyString(c.horpos,tf.consts.positioningCenter),d=tf.js.GetNonEmptyString(c.verpos,tf.consts.positioningTop),b,g,f,k=[.5,.5];switch(e.toLowerCase()){default:case tf.consts.positioningCenter:e=!0;b=!1;k[0]=.5;break;case tf.consts.positioningLeft:e=!1;b=!0;k[0]=1;break;case tf.consts.positioningRight:b=e=!1,k[0]=0}switch(d.toLowerCase()){case tf.consts.positioningCenter:f=!0;g=!1;k[1]=.5;break;case tf.consts.positioningTop:f=
!1;g=!0;k[1]=1;break;case tf.consts.positioningBottom:g=f=!1,k[1]=0}var d=tf.js.GetNonEmptyString(c.label,""),h=null!=c.line_color?c.line_color:"0xFFFFFF",l=null!=c.line_width?c.line_width:0,n=null!=c.font_color?c.font_color:"0x000000",m=null!=c.font_opacity?c.font_opacity:1,h=tf.js.GetRGBAColor(h,h,null!=c.line_opacity?c.line_opacity:.2),n=tf.js.GetRGBAColor(n,n,m),p=null!=c.border_line_color?c.border_line_color:"0x000000",m=null!=c.border_line_width?c.border_line_width:2,q=null!=c.fill_color?c.fill_color:
"0xffb27f",r=null!=c.fill_opacity?c.fill_opacity:1,p=tf.js.GetRGBAColor(p,p,null!=c.border_line_opacity?c.border_line_opacity:1),q=tf.js.GetRGBAColor(q,q,r),A=tf.GetStyles().GetSubStyles(),r=A.markerFontSizePXNumber,r=null!=c.font_height?tf.js.GetIntNumberInRange(c.font_height,8,20,r):r,A=A.markerFontFamily,A=r+"px "+("string"===typeof c.font&&c.font.length?c.font:A),t=c.arrow_length?c.arrow_length:12;a.font=A;a.strokeStyle=h;a.lineWidth=l;a.fillStyle=n;c.dontTranslate||a.translate(.5,.5);var w=a.measureText(d).width,
v,u,B;v=2+l/2-1+m/2;u=2+m/2;w=w+4+l+2*m;B=r+4+l+1+2*m;var E=w-m+1,D=B+t-m,F=m/2,C=m/2;b?g?g=tf.canvas.StrokeFillBubbleRB:f?(g=tf.canvas.StrokeFillBubbleMidR,E+=t,D-=t):(g=tf.canvas.StrokeFillBubbleRT,C+=t,u+=t):e?g?g=tf.canvas.StrokeFillBubbleMidB:f?(g=tf.canvas.StrokeFillRoundRect,D-=t):(g=tf.canvas.StrokeFillBubbleMidT,C+=t,u+=t):g?g=tf.canvas.StrokeFillBubbleLB:f?(g=tf.canvas.StrokeFillBubbleMidL,E+=t,D-=t,F+=t,v+=t):(g=tf.canvas.StrokeFillBubbleLT,C+=t,u+=t);b=tf.js.NumberClip(.35*(r+4),1,1E4);
a.canvas.width=E;a.canvas.height=D;a.font=A;a.lineCap="square";a.lineJoin="round";a.clearRect(0,0,E,D);a.strokeStyle=p;a.lineWidth=m;a.fillStyle=q;e&&f?tf.canvas.StrokeFillRoundRect(a,F,C,w-2*m,B-2*m,b,!0,!0,c.dontTranslate):(a.beginPath(),g(a,F,C,w-2*m,B-2*m,t,b,c.dontTranslate),a.closePath(),a.stroke(),a.fill());a.strokeStyle=h;a.lineWidth=l;a.textBaseline="top";tf.browser.GetBrowserType().isFireFox&&(u+=2);0<l&&a.strokeText(d,v,u);a.fillStyle=n;a.fillText(d,v,u);return k};
tf.canvas.CreateMemoryImage=function(a){a=tf.js.GetValidObjectFrom(a);var c=tf.js.GetFunctionOrNull(a.drawFunction),e;if(c){var d=document.createElement("canvas");e=d.getContext("2d");e=c(e,a.drawSettings)}return{image:d,anchor:e}};
tf.canvas.PaintSlider=function(a,c,e,d,b,g,f,k,h,l,n,m,p,q,r){a.width=c;a.height=e;a=a.getContext("2d");a.save();a.translate(.5,.5);a.canvas.width=c;a.canvas.height=e;a.beginPath();a.clearRect(0,0,c,e);a.closePath();a.beginPath();a.fillStyle=g;a.strokeStyle=f;a.lineWidth=2;tf.canvas.StrokeFillRoundRect(a,b/2,b/2,c-b,e-b,b,!0,!0);a.closePath();b=Math.round(c*p);a.beginPath();q?(l=Math.round(c*r),a.lineWidth=1,a.strokeStyle="#fff",a.fillStyle=m,a.fillRect(l-d+1,1,d+1,e-2)):(a.fillStyle=l,a.fillStyle=
n,a.fillRect(2,2,b,e-4));a.closePath();a.lineWidth=2;b=Math.round(c*p);a.beginPath();a.strokeStyle=k;a.fillStyle=h;a.fillRect(b-d+1,0,d+1,e);a.closePath();a.restore()};
tf.dom.Canvas=function(){var a=null,c=null,e=null,d=null,b=null;this.Repaint=function(){if(d){var g=c.clientWidth,f=c.clientHeight;c.width=g;c.height=f;e.save();d.call(b,a,e,g,f);e.restore()}};this.SetRepaint=function(a,c){d=tf.js.GetFunctionOrNull(a);b=c};a=this;(function(){var b=new tf.dom.Div({cssClass:tf.GetStyles().GetUnPaddedDivClassNames(!1,!0)});c=document.createElement("canvas");c.style.width="100%";c.style.height="100%";e=c.getContext("2d");b.AddContent(c);tf.dom.Insertable.call(a,{domObj:a,
domElement:b.GetHTMLElement()})})()};tf.js.InheritFrom(tf.dom.Canvas,tf.dom.Insertable);
tf.ui.CanvasSlider=function(a,c,e){function d(a,b){u=tf.js.GetFloatNumberInRange(a,0,1,.5);b&&g()}function b(a){if(a&&e){a=F;var b=C,d=G;N=D}else a=I,b=J,d=K,N=H;Q=a;M=b;R=d}function g(){q(v,w.clientWidth,w.clientHeight,A,2,M,R,Q,N,I,H,O,u,L&&!W&&e,E)}function f(a){a=a.mouseCoords?a.mouseCoords:tf.events.GetMouseEventCoords(a);var b=w?w.offsetWidth:0;0<b?(a[0]=tf.js.NumberClip(a[0],0,b),a=a[0]/b):a=0;W?a!=u&&(d(a,!0),U&&U.call(S,m,u)):a!=E&&(E=a);T&&T.call(S,m,E)}function k(a){W=!0;f(a)}function h(a){W=
!1;f(a)}function l(a){f(a)}function n(){if(L=da.GetIsInHover())W=!1;b(L);ca!=L&&(ca=L,g());var a=tf.events.GetMouseEventCoords(da.GetLastEvent()),d=w?w.offsetWidth:0,a=d?a[0]/d:0;a!=B&&(B=a,Z&&Z.call(X,m,B))}var m,p,q,r,A,t,w,v,u,B,E,D,F,C,G,H,I,J,K,N,Q,M,R,O,T,U,S,Z,X,da,L,W;this.GetIsInDrag=function(){return W};this.GetIsInHover=function(){return L};this.GetHover01=function(){return B};this.GetMouse01=function(){return E};this.SetOnClickListener=function(a,b){U="function"===typeof a?a:null;S=b};
this.SetOnHoverListener=function(a,b){Z="function"===typeof a?a:null;X=b};this.SetOnMouseMoveListener=function(a,b){T="function"===typeof a?a:null};this.Repaint=function(){g()};this.SetPos01=function(a){return d(a,!0)};this.GetPos01=function(){return u};this.SetColors=function(a,b,d,c){N=a;Q=b;M=d;R=c};this.SetMouseFillColor=function(a){O=a;g()};var ca=!1;m=this;(function(){p=tf.GetStyles();q=tf.canvas.PaintSlider;r=c?c:"0.8em";A=4;O=p.GetSubStyles().disabledTextColor;D="#FFF";F=p.GetButtonBGColor(!0);
C=p.GetButtonBGColor(!0);G="#333";H=p.GetButtonBGColor(!0);I=p.GetButtonBGColor(!0);J="#fff";K="#bfbfbf";N=H;Q=I;M=C;R=G;L=W=!1;tf.GetDocMouseListener();e=!!e;t=new tf.dom.Div({cssClass:p.unPaddedBlockDivClass});w=t.GetHTMLElement();v=document.createElement("canvas");v.style.width="100%";v.style.height="100%";w.style.height=r;w.style.width="1px";var f={mousemove:l,mouseup:h,mousedown:k},g;for(g in f)tf.events.AddDOMEventListener(w,g,f[g]);da=new tf.events.DOMHoverListener({target:w,callBack:n,optionalScope:m,
callBackSettings:null});d(a,!1);b(!1);t.AddContent(v);tf.dom.Insertable.call(m,{domObj:m,domElement:t})})()};tf.js.InheritFrom(tf.ui.CanvasSlider,tf.dom.Insertable);
tf.urlapi.CreateURLAPIMaps=function(a){function c(){function c(a,b){var d=b?"Switch to 2D view":"Switch to 3D view";a.SetText(b?"2D view":"3D view");a.ChangeToolTip(d)}var q=n?tf.urlapi.RemovePlugInPhotoFromLegend(d[tf.consts.paramNameLegendM]).legendStr:null,r=n?d[tf.consts.paramNameLegendH]:d[tf.consts.paramNameLegend],r=tf.urlapi.RemovePlugInPhotoFromLegend(r).legendStr,A=tf.js.GetFloatNumberInRange(d[tf.consts.paramNameMessageTimeout],tf.consts.minMessageTimeout,tf.consts.maxMessageTimeout,tf.consts.defaultMessageTimeout),
q={fullScreenContainer:a.fullScreenContainer,center:[k,f],mapType:d[tf.consts.paramNameType],mapAerialSource:d[tf.consts.paramNameSource],mapLayerSourceURL:d[tf.consts.mapLayerSourceName],mapEngine:l,panels:h,addressBarText:d[tf.consts.paramNameAddress],addressBarHelp:d[tf.consts.paramNameHelp],panOnClick:!0,goDBOnDoubleClick:!0,legendH:r,legendM:q,messageTimeout:A,vidParam:d[tf.consts.paramNameVid],passThroughString:d[tf.consts.paramNamePassThrough],level:d[tf.consts.paramNameLevel],resolution:d[tf.consts.paramNameRes],
linkTargetStr:m},r=[],A=[],t=[],w=[],v=[],u=b?tf.urlapi.GetDLayersInfoFromURLParameters(d):[],B=b?tf.js.GetIsNonEmptyArray(u):!1,E=d[tf.consts.paramNamePerspectiveMap],D,F=tf.js.GetFunctionOrNull(a.dLayersPreProcessServiceData),C;void 0!=E&&tf.js.GetIsValidObject(tf.webgl)&&void 0!==tf.webgl.PerspectiveMap&&(tf.webgl.GetWebGL().GetHasWebGL()?(D=tf.js.GetBoolFromValue(E),E=!0,C=tf.GetStyles()):E=D=!1);var G={position:"absolute",bottom:"0.5em",marginLeft:"50%",transform:"translate(-50%, 0)",zIndex:2},
H;for(H in a.mapContainers){var I=a.mapContainers[H];if(tf.dom.GetHTMLElementFrom(I)){q.container=I;var I=new tf.map.Map(q),J,K=E?function(a){return function(b,d){var c=w[a];c&&c.PreProcessServiceData(b,d);F&&F(b,d)}}(w.length):F,K=B?new tf.urlapi.DLayerList({dLayersInfo:u,map:I,preProcessDataItem:a.dLayersPreProcessDataItem,preProcessServiceData:K,nDLayerExtent:g,linkTargetStr:m}):void 0;r.push(I);if(E){J=new tf.webgl.PerspectiveMap({map:I,isVisible:D});t.push(J);var N=new tf.ui.TextBtn({style:C.mapTextBtnClass,
label:"",tooltip:"",dim:20}),Q=function(a,b){return function(){var d=!a.GetIsVisible();a.SetIsVisible(d);c(b,d)}}(J,N),M=function(a,b){return function(d){d=a.GetIsVisible();c(b,d)}}(J,N);J.AddListener(tf.consts.perspectiveMapVisibilityChangeEvent,M);N.SetOnClick(Q);c(N,D);C.ApplyStyleProperties(N,G);N.AppendTo(I.GetMapMapContainer());v.push(N)}K&&(A.push(K),E&&(I=new tf.webgl.PerspectiveDLayers({perspectiveMap:J}),w.push(I)))}}var R={parameters:d,maps:r,dLayers:A,perspectiveMaps:t,perspectiveDLayers:w,
perspectiveToggleButtons:v};setTimeout(function(){e.call(a.optionalScope,R)},10)}if(tf.js.GetIsValidObject(a)&&tf.js.GetIsValidObject(a.mapContainers)){var e=tf.js.GetFunctionOrNull(a.onCreated);if(e){var d=a.parameters;tf.js.GetIsValidObject(d)||(d=tf.js.GetIsString(d)?tf.urlapi.ParseURLAPIParameters(d):{});var b=tf.js.GetBoolFromValue(a.allowDLayers,!0),g=tf.js.GetIntNumberInRange(d[tf.consts.paramNameDLExtent],0,999,0),f=tf.js.GetLatitudeFrom(d[tf.consts.paramNameLat]),k=tf.js.GetLongitudeFrom(d[tf.consts.paramNameLon]);
d[tf.consts.paramNamePanels]||(d[tf.consts.paramNamePanels]=tf.consts.defaultPanels);d[tf.consts.paramNameTFLogo]=d[tf.consts.paramNameTFLogo]===tf.consts.tfLogoOffStr?!1:!0;var h=tf.js.GetNonEmptyString(d[tf.consts.paramNamePanels],""),l=tf.map.GetMapEngineFrom(d[tf.consts.paramNameFMap]);d[tf.consts.paramNameTFLogo]&&(h+=tf.consts.charSplitStrings+tf.consts.paramNameTFLogo);var n=l==tf.consts.mapnik2Engine;n?delete d[tf.consts.paramNameLegend]:delete d[tf.consts.paramNameLegendH];var m=d[tf.consts.paramLinkTargetStr];
tf.urlapi.LoadRemoteParameters(d,c)}}};tf.urlapi.RemovePlugInPhotoFromLegend=function(a){var c=!1,e=tf.js.GetNonEmptyString(a,"");if(a){a=unescape(a).split(";");for(var e="",d=0;d<a.length;d++)-1!=a[d].indexOf("plugin_photo")?c=!0:e+=a[d]+";";e=tf.js.ClipEndingChar(e,";")}return{requestedPlugInPhoto:c,legendStr:e}};
tf.urlapi.BreakUrlParamString=function(a){a=tf.js.GetNonEmptyString(a);var c,e,d;if(a){var b=["#","?"],g,f;for(f in b){var k=b[f];g=a;var h=g.split(k),l="",n="",m=void 0;(m=2==h.length)?(l=h[0],n=h[1]):(l=g,n="");if((g={leftSideStr:l,rightSideStr:n,didSplit:m}).didSplit){c=k;e=g.leftSideStr;d=g.rightSideStr;break}}g.didSplit||(c="?",e=a,d="")}else c="?",d=e="";return{tag:c,urlPart:e,paramsPart:d}};
tf.urlapi.ModifyURLParamString=function(a,c,e){a=tf.js.GetNonEmptyString(a);c=tf.js.GetNonEmptyString(c);e=tf.js.GetNonEmptyString(e);a=tf.urlapi.BreakUrlParamString(a);var d=a.paramsPart;c&&(0<d.length&&"&"!=d.charAt(0)&&(d="&"+d),d=c+d);e&&(d+=e);return a.urlPart+a.tag+d};
tf.urlapi.ParseURLParameters=function(a,c){var e=tf.js.GetIsValidObject(c)?c:{};if(tf.js.GetIsNonEmptyString(a)){var d=tf.urlapi.BreakUrlParamString(a).paramsPart.split("&"),b=d.length;if(b)for(var g=0;g<b;++g){var f=d[g].indexOf("=");if(-1!=f){var k=d[g].substring(0,f).toLowerCase(),f=d[g].substring(f+1,d[g].length);e[k]=unescape(f)}}}else tf.js.GetIsValidObject(a)&&(e=tf.js.ShallowMerge(e,a));return e};
tf.urlapi.ParseURLAPIParameters=function(a,c){var e={};e[tf.consts.paramNameLat]=tf.consts.defaultLatitude;e[tf.consts.paramNameLon]=tf.consts.defaultLongitude;e[tf.consts.paramNameRes]=void 0;e[tf.consts.paramNameLevel]=tf.consts.defaultLevel;e[tf.consts.paramNamePanels]=tf.consts.defaultPanels;e[tf.consts.paramNameLegend]=tf.consts.defaultLegend;e[tf.consts.paramNameLegendH]=tf.consts.defaultLegendH;e[tf.consts.paramNameLegendM]=tf.consts.defaultLegendM;e[tf.consts.paramNameAddress]=tf.consts.defaultAddress;
e[tf.consts.paramNameVid]=tf.consts.defaultVid;e[tf.consts.paramNamePassThrough]=tf.consts.defaultTFPassThrough;e[tf.consts.paramNameTFLogo]=tf.consts.defaultTFLogoOn?tf.consts.tfLogoOnStr:tf.consts.tfLogoOffStr;e[tf.consts.paramNameType]=tf.consts.typeNameHybrid;e[tf.consts.paramNameFMap]=tf.consts.defaultFMap;e[tf.consts.paramNameSource]=tf.consts.defaultSourceName;e[tf.consts.paramNameMessageTimeout]=tf.consts.defaultMessageTimeout;e[tf.consts.paramNameHelp]=tf.consts.defaultHelp;e[tf.consts.paramNameApps]=
tf.consts.defaultApps;e[tf.consts.paramLinkTargetStr]="_top";tf.js.GetIsValidObject(c)&&(e=tf.js.ShallowMerge(e,c));var e=tf.urlapi.ParseURLParameters(a,e),d=e[tf.consts.paramNameAddress],d="string"===typeof d?d.replace(/\+/g," "):"";e[tf.consts.paramNameAddress]=d;return e};
tf.urlapi.LoadRemoteParameters=function(a,c){function e(){g&&setTimeout(function(){g()},10)}function d(d,c){a[d]=c;1<b?--b:e()}var b=0;if(tf.js.GetIsValidObject(a)){var g=tf.js.GetFunctionOrNull(c),f=[tf.consts.paramNameLegend,tf.consts.paramNameLegendH,tf.consts.paramNameLegendM],k=f.length;if(k){for(var h in f)a[f[h]]&&++b;if(b)for(h=0;h<k;h++){var l=f[h],n=a[l];n&&new tf.urlapi.URLPartsLoader(l,n,d)}else e()}else e()}};
tf.urlapi.URLPartsLoader=function(a,c,e){function d(d){if(-1!=d.indexOf(tf.consts.urlPartsSeparatorStr))for(g=d.split(tf.consts.urlPartsSeparatorStr),f=0,d=1;d<g.length;d+=2)f++,new tf.ajax.GetRequest({url:g[d],onDataLoaded:b,requestProps:d,autoSend:!0,overrideMimeType:"text/plain",useRedirect:!1});else e.call(void 0,a,d)}function b(a){if(200==a.httpRequest.status){var b=unescape(a.httpRequest.responseText);g[a.requestProps]=b.replace(/[\r\n]/g,"");if(!--f){a="";for(b=0;b<g.length;b++)a+=g[b];d(a)}}}
var g,f;this.GetInitialParam=function(){return c};d(c)};
tf.urlapi.GetDLayersInfoFromURLParameters=function(a){function c(b,d){var c;if(c=a[tf.consts.paramNameDLLegend+b]){var h=a[tf.consts.paramNameDLData+b],l=a[tf.consts.paramNameDLField+b],n=tf.js.GetBoolFromValue(a[tf.consts.paramNameDLSelect+b],!0),m=a[tf.consts.paramNameDLColor+b];m||(m=",");var p=a["dLayerMarkerStyle"+b],q=a["dLayerMarkerHoverStyle"+b];tf.js.GetIsValidObject(q)||(q=p);e.push({markerStyle:p,markerHoverStyle:q,dLayerLegend:c,dLayerData:h,dLayerField:l,dLayerSelect:n,dLayerColors:m,
dLayerIndex:d});return!0}return!1}var e=[];if(tf.js.GetIsValidObject(a)){var d=0;c("",d)&&++d;c("0",d)&&++d;for(var b=1;c(b,d);++b)++d}return e};tf.urlapi.ParseSplitStringWithSeparators=function(a){return tf.js.ParseSplitStringWithSeparators(a,tf.consts.charSplitStrings)};tf.urlapi.AddStringWithSeparators=function(a,c){return tf.js.AddStringWithSeparators(a,c,tf.consts.charSplitStrings)};tf.urlapi.AddStringsWithSeparatorsIfAbsent=function(a,c){return tf.js.AddStringsWithSeparatorsIfAbsent(a,c,tf.consts.charSplitStrings)};
tf.ui.TableRow=function(a){function c(a){(a=(p=!!a)?r:q)?k.ApplyStyleProperties(n,a):n.style.backgroundColor=p?A:t}function e(a){var d=!1;a.target&&a.isInHover&&m&&(d=m.OnHoverIntoContent(b));return d}function d(a){a=!1;m&&(a=m.OnClickContent(b));return a}var b,g,f,k,h,l,n,m,p,q,r,A,t;this.GetKeyedItem=function(){return h};this.ShowOrHide=function(a){f!=!!a&&(f=!!a,n.style.display=f?g:"none")};this.IsShowing=function(){return f};this.GetTable=function(){return m};this.ClearContent=function(){l.ClearContent()};
this.ReplaceContent=function(a){this.ClearContent();this.AppendRow(a)};this.AddContent=function(a){tf.js.GetIsNonEmptyString(a)?n.innerHTML=a:tf.dom.AddContent(a,n)};this.EnsureVisible=function(){if(m)return m.EnsureVisible(b)};this.Select=function(a,d){m&&m.SelectRow(b,a,d)};this.GetIsSelected=function(){return p};this.privateGetHTMLElement=function(){return n};this.SetSelectedStyle=function(a){return c(a)};this.OnAddToContainer=function(a){a instanceof tf.ui.Table&&(m=a)};this.OnRemoveFromContainer=
function(){m=null};b=this;(function(){a=tf.js.GetValidObjectFrom(a);k=tf.GetStyles();h=a.keyedItem;var m=k.GetSubStyles();A=m.containerDarkSelBackgroundColor;t=m.containerDarkBackgroundColor;q=a.style;r=a.selectedStyle;l=new tf.dom.Div({cssClass:k.listContentClass});n=l.GetHTMLElement();g="block";new tf.events.DOMHoverListener({target:l,callBack:e,optionalScope:b,callBackSettings:null});new tf.events.DOMClickListener({target:l,callBack:d,optionalScope:b,callBackSettings:null});f=!0;p=!1;c(!1)})()};
tf.ui.Table=function(a){function c(a){if(a&&a instanceof tf.ui.TableRow&&a.GetTable()==g&&(a=a.privateGetHTMLElement())){var b=k.parentNode;b&&(b.scrollTop=a.offsetTop-b.offsetTop)}}function e(){p&&(p.SetSelectedStyle(!1),p=null)}function d(a,b){l&&l.call(h,{sender:g,selected:p,prevSelected:a,isClick:!!b,keyedTable:r})}function b(a,b,f,h){if(a&&a instanceof tf.ui.TableRow&&a.GetTable()==g){var k=p;a!=k&&(e(),p=a,p.SetSelectedStyle(!0));b&&c(a);f||d(k,h)}}var g,f,k,h,l,n,m,p,q,r;this.GetKeyedTable=
function(){return r};this.GetSelectOnHover=function(){return q};this.SetSelectOnHover=function(a){q=!!a};this.AppendRow=function(a){a&&a instanceof tf.ui.TableRow&&(a.OnAddToContainer(g),f.AddContent(a.privateGetHTMLElement()),n.push(a),++m)};this.InsertRowBefore=function(a,b){a&&a instanceof tf.ui.TableRow&&b&&b instanceof tf.ui.TableRow&&b.GetTable()==g&&(a.OnAddToContainer(g),f.InsertContentBefore(a.privateGetHTMLElement(),b),n.push(a),++m)};this.InsertRowAfter=function(a,b){a&&a instanceof tf.ui.TableRow&&
b&&b instanceof tf.ui.TableRow&&b.GetTable()==g&&(a.OnAddToContainer(g),f.InsertContentAfter(a.privateGetHTMLElement(),b),n.push(a),++m)};this.DelRow=function(a){if(a&&a instanceof tf.ui.TableRow&&a.GetTable()==g){var c=n.indexOf(a);k.removeChild(a.privateGetHTMLElement());a.OnRemoveFromContainer();-1!=c&&n.splice(c,1);--m;a==b&&(c=-1!=c&&0<m?c<m?c:c-1:-1,-1==c?(e(),d(a,!1)):b(n[c],!0,!1,!1))}};this.Clear=function(){m=n.length;for(var a=0;a<m;++a)n[a].OnRemoveFromContainer();n=[];f.ClearContent();
p=null;m=0};this.GetRow=function(a){return n&&0<m?n[a]:void 0};this.GetRowCount=function(){return m};this.SelectRow=function(a,d,c){return b(a,d,c)};this.GetSelectedRow=function(){return p};this.UnselectRow=function(){return e()};this.EnsureVisible=function(a){return c(a)};this.EnsureSelectedContentVisible=function(){return this.EnsureVisible(this.GetSelectedRow())};this.OnHoverIntoContent=function(a){q&&b(a,!1,!1,!1)};this.OnClickContent=function(a){b(a,!1,!1,!0);return!0};this.Sort=function(a){var b=
!0;if(tf.js.GetFunctionOrNull(a)){var d=n.length;if(0<d){var c=n.slice(0);n.sort(a);for(a=0;a<d&&b;++a)b=c[a]==n[a]}}if(!b&&k){d=(b=k.parentNode)?b.scrollTop:0;f.ClearContent();for(var e in n)f.AddContent(n[e].privateGetHTMLElement());b&&(b.scrollTop=d)}};g=this;(function(){var b=tf.GetStyles();n=[];m=0;p=null;l=tf.js.GetFunctionOrNull(a.onSelect);h=a.optionalScope;q=!!a.selectOnHover;f=new tf.dom.Div({cssClass:tf.GetStyles().unPaddedBlockDivClass});k=f.GetHTMLElement();r=a.keyedTable;tf.js.GetIsValidObject(a.style)&&
b.ApplyStyleProperties(k,a.style);tf.dom.Insertable.call(g,{domObj:g,domElement:k})})()};tf.js.InheritFrom(tf.ui.Table,tf.dom.Insertable);
tf.ui.KeyedTable=function(a){function c(){void 0!=t&&(w&&w({sender:h}),l.Sort(t),v&&v({sender:h}))}function e(b){b=b.items;for(var d in b){var e=b[d],f=tf.js.GetObjProperty(e,r),g;if(f)f.ClearContent();else{var k=f=new tf.ui.TableRow(tf.js.ShallowMerge(a.rowSettings,{keyedItem:e}));tf.js.SetObjProperty(e,r,k);k&&l.AppendRow(k)}p&&(k=p.call(q,{sender:h,keyedItem:e,properties:A}),tf.js.GetIsValidObject(k)&&(g=k.content));g?f.AddContent(g):f.privateGetHTMLElement().innerHTML=e.GetKey()}c()}function d(a,
b){m&&m.call(q,{sender:h,eventName:b,properties:A,keyedListNotification:a})}function b(a){e(a);d(a,tf.consts.keyedTableRowsAddedEvent)}function g(a){e(a);d(a,tf.consts.keyedTableRowsUpdatedEvent)}function f(a){var b=a.items,c;for(c in b){var e=b[c],f=tf.js.GetObjProperty(e,r);f&&(l.DelRow(f),tf.js.SetObjProperty(e,r,null))}d(a,tf.consts.keyedTableRowsDeletedEvent)}function k(a){tf.js.GetIsInstanceOf(a,tf.js.KeyedList)&&(l.Clear(),n=a,a={},a[tf.consts.keyedListDeleteEvent]=f,a[tf.consts.keyedListAddedItemsEvent]=
b,a[tf.consts.keyedListUpdatedItemsEvent]=g,a[tf.consts.keyedListDeletedItemsEvent]=f,n.AddListeners(a),n.NotifyItemsAdded(e))}var h,l,n,m,p,q,r,A,t,w,v;this.SetSort=function(a){t!=a&&(t=tf.js.GetFunctionOrNull(a))&&c()};this.GetTable=function(){return l};this.GetProperties=function(){return A};this.GetKeyedList=function(){return n};this.GetPropertyName=function(){return r};this.GetRowFromKeyedItem=function(a){return tf.js.GetObjProperty(a,r)};this.ScrollTo=function(a){(a=h.GetRowFromKeyedItem(a))&&
a.Select(!0,!0)};this.SetKeyedList=function(a){return k(a)};h=this;a=tf.js.GetValidObjectFrom(a);l=new tf.ui.Table(tf.js.ShallowMerge(a.tableSettings,{keyedTable:h}));p=tf.js.GetFunctionOrNull(a.getRowContent);w=tf.js.GetFunctionOrNull(a.onPreSort);v=tf.js.GetFunctionOrNull(a.onSorted);q=a.optionalScope;m=tf.js.GetFunctionOrNull(a.onContentChange);r=tf.js.GetNonEmptyString(a.propertyName,tf.consts.TableRowProperty);A=tf.js.GetIsValidObject(a.properties)?a.properties:{};k(a.keyedList);tf.dom.Insertable.call(h,
{domObj:h,domElement:l})};tf.js.InheritFrom(tf.ui.KeyedTable,tf.dom.Insertable);
tf.map.Map=function(a){function c(a,b,d){return b?pd.call(sa,a,b,d):a}function e(a){var b;a?(b=lc?lc(a):a.slice(0))||(b=a):b=[0,0];return b}function d(a){var b;a?(b=Eb?Eb(a):a.slice(0))||(b=a):b=[0,0];return b}function b(a){return tf.js.GetIsInstanceOf(a,tf.map.KeyedFeature)?f(a.GetLayerName()):null}function g(a){return tf.js.GetIsInstanceOf(a,tf.map.KeyedFeatureList)?f(a.GetLayerName()):null}function f(a){return Fb[a]}function k(a,b){Bc=a&&"string"==typeof a&&0<a.length?a:null;Gd=tf.js.GetFloatNumberInRange(b,
0,1,1);W()}function h(a,b){a&&(qd.push(a),a.SetZIndex(Cc++),a.SetOnClickTitle(function(){if(a.IsShowing()){var b=!0;a==cb?C(cb)&&(Yc?(mb(),a.ShowTitleColorInfo(!0)):Ta()):a==Ra?Ba():a==Na&&(b=!1);b&&a.IsShowing()&&l(a)}},b))}function l(a){if(a&&a.GetZIndex()<Cc-1){var b=qd.length,d=b+Cc;a.SetZIndex(d);Cc=d+1;if(d>re+b){for(a=0;a<b;a++)d=qd[a].GetZIndex()-Hd,qd[a].SetZIndex(d);Cc=Hd+b}}}function n(b){Gb=tf.dom.GetHTMLElementFrom(b);rd=new tf.dom.Div({cssClass:va.mapContainerClass});Id=new tf.dom.Div({cssClass:va.mapSubContainerClass});
sd=new tf.dom.Div({cssClass:va.GetUnPaddedDivClassNames(!1,!1)});Xa=sd.GetHTMLElement();Xa.style.backgroundColor="rgba(255, 0, 0, 0.6)";Sa=rd.GetHTMLElement();Jd=Id.GetHTMLElement();new tf.events.DOMMouseEnterLeaveListener({target:Gb,callBack:function(a){Gb==a.event.target&&(a.isInHover||Gb.contains(document.activeElement)||nb());return!0},optionalScope:ga,callBackSettings:null});Id.AppendTo(Sa);sd.AppendTo(Sa);Hd=Cc=201;if(!a.noNativeControls){b=2*mc.locationPopupContentFontSizeEmNumber;Dc=new tf.dom.Div({cssClass:va.dLayerInfoClass});
var d=Dc.GetHTMLElement().style;d.textAlign="center";d.display="inline";b=va.AddButtonDivRightMargin(new tf.ui.SvgGlyphBtn({style:va.mapSvgGlyphInPopupClass,glyph:tf.styles.SvgGlyphCloseXName,onClick:Oa,tooltip:tf.consts.mapLocationPopupHideTip,dim:b+"em"}));b.GetHTMLElement().style.display="inline-block";td=new tf.dom.Div({cssClass:va.unPaddedInlineBlockDivClass});td.AddContent(b);td.AddContent(Dc)}Gb&&rd.AppendTo(Gb)}function m(a){Va&&Va.UpdateLayerVisibilityFromMap()}function p(a,b){a&&(a.exportSetDeleteCmdCallBack=
b)}function q(a,b){var d=null,c=tf.js.ShallowMerge(a),e=!0,h=null;tf.js.GetIsNonEmptyString(c.name)&&((e=!f(h=c.name))||tf.GetDebug().LogIfTest("tf.map.Map: adding layer with duplicate name: "+h));e&&(c=tf.js.ShallowMerge(c,{map:ga,olMap:ka,notifyDelFeatures:ud,notifyVisibilityChange:m,setDeleteCmdCallBack:p}),d=b?new TLayer(c):void 0==c.overrideClass?new tf.map.FeatureLayer(c):new c.overrideClass(c),h&&(Fb[h]=d),d.GetIsHidden()?ae.push(d):(vd.push(d),Va&&Va.RefreshContent()));return d}function r(){var a=
tf.units.OL2TM(sa.getCenter());a.Longitude=a[0];a.Latitude=a[1];return a}function A(a,b){var c=d(v(a)),e=d(v(b)),f=c[0]-e[0],c=c[1]-e[1];return Math.sqrt(f*f+c*c)}function t(a){return A(r(),a)}function w(a){a=ka.getCoordinateFromPixel(a);return a=tf.js.GetIsArrayWithMinLength(a,2)?tf.units.OL2TM(a):[0,0]}function v(a){a=ka.getPixelFromCoordinate(tf.units.TM2OL(a));tf.js.GetIsArrayWithMinLength(a,2)||(a=[0,0]);return a}function u(){var a=Sa.clientWidth,b=Sa.clientHeight;if(be!=a||ce!=b)ka.setSize([be=
a,ce=b]),ka.updateSize()}function B(a,b){if(tf.js.GetIsNonEmptyString(a)){var d=a.toLowerCase(),c=ya[d];c||ua(d);if(c&&!!b!=c.isOn)if(c.isOn=!c.isOn){if(c.control)switch(ka.addControl(c.control),d){case tf.consts.panelNameOverview:de||(ee=0,ma());break;case tf.consts.panelNameAddress:void 0!==Kd&&1!=Kd||J();break;case tf.consts.panelNameMapLocation:Hb&&Hb.SetListenToMoveEnd(Rb),void 0!==Ld&&1!=Ld||xa()}}else switch(ka.removeControl(c.control),d){case tf.consts.panelNameAddress:Kd=C(eb);H(eb);break;
case tf.consts.panelNameMapLocation:Ld=Na?Na.IsShowing():!1,Ja(),Hb&&Hb.SetListenToMoveEnd(!1)}}}function E(a){var b=!1;tf.js.GetIsNonEmptyString(a)&&(a=ya[a.toLowerCase()])&&(b=a.isOn);return b}function D(a){if(tf.js.GetIsNonEmptyString(a)){a=a.split(tf.consts.charSplitStrings);for(var b=a.length,d=[],c=tf.consts.allPanelNames,e=c.length,f=!0,h=!0,g=!0,k=!0,l=!0,m=0;m<b;++m){var p=a[m].toLowerCase();if(p==tf.consts.panelNameNoAddress)f=!1;else if(p==tf.consts.panelNameNoMapLocation)h=!1;else if(p==
tf.consts.panelNameNoMapRotate)k=!1;else if(p==tf.consts.panelNameNoMapScale)g=!1;else if(p==tf.consts.panelNameNoUserLocation)l=!1;else for(var n=0;n<e;++n)if(c[n]==p){d[n]=!0;B(p,!0);break}}for(n=0;n<e;++n)d[n]||B(c[n],!1);B(tf.consts.panelNameAddress,f);B(tf.consts.panelNameMapLocation,h);B(tf.consts.panelNameMapRotate,k);B(tf.consts.panelNameMapScale,g);B(tf.consts.panelNameUserLocation,l)}}function F(a,b){var d=tf.js.GetNonEmptyString(a,""),c=tf.js.GetNonEmptyString(b,""),d=new tf.map.aux.LegendDecoder(d),
c=Zc?new tf.map.aux.LegendDecoder(c):null;fb&&(fb.SetLegend(d,c),Va&&Va.RefreshContent())}function C(a){return!!a&&a.IsShowing()}function G(a){a&&(M(),a&&(M(),a.Show(!0)))}function H(a){a&&a.Show(!1)}function I(){G(nc)}function J(){G(eb)}function K(){0<vd.length?G(Va):Q()}function N(){G(oc)}function Q(){fb&&fb.GetHasLegend()&&G(fb)}function M(){H(nc);H(Va);H(oc);H(fb)}function R(a){ja(a,!1)}function O(a){ia(a,!1)}function T(){Ga()}function U(){}function S(){Ta()}function Z(){return fb?fb.GetHasLegend():
!1}function X(a){var b=Bc,b=b.replace("{x}",a[1].toString()),b=b.replace("{y}",(-a[2]-1).toString());return b=b.replace("{z}",a[0].toString())}function da(a,b,d){b=void 0;Bc?b=X(a):(d=xb==tf.consts.typeNameHybrid,b=["163","167","170","246"],a=".cs.fiu.edu/cache_mapnik/Default.aspx?TargetImageType=png&style=BT&Composite="+(d?Md:Nd)+("&projType=merc&type="+(d?"HYBRID":"MAP")+"&x="+a[1]+"&y="+(-a[2]-1)+"&z="+a[0]),Sb==b.length&&(Sb=0),b="http://terranode-"+b[Sb++]+a);return b}function L(a,b,d){b=void 0;
Bc?b=X(a):(b=xb==tf.consts.typeNameHybrid,d="&layers="+(b?Od:Pd),a="&x="+a[1]+"&y="+(-a[2]-1)+"&z="+a[0],Sb>=yb.length&&(Sb=0),b="http://131.94.133."+yb[Sb++]+("/TileService/"+(b?"vmix":"vector")+".aspx?projection=bing&styleset=")+(b?"hybrid":"map")+d+a);return b}function W(){if($c){var a=xb==tf.consts.typeNameHybrid;Bc&&(Ec.setOpacity(a?Gd:1),Fc.setOpacity(a?1-Gd:1))}}function ca(){Ec&&($c=new ol.source.XYZ({tileUrlFunction:Qd,crossOrigin:"anonymous"}),Ec.setSource($c))}function ea(){Bc||ca()}function ba(a,
b){Zc?(Od=fb.GetHasLegendH()?a:tf.js.GetNonEmptyString(a,"osm_water,osm_buildings,osm_roads,osm_road_names,osm_place_names"),Pd=fb.GetHasLegendM()?b:tf.js.GetNonEmptyString(b,"osm_land,osm_landuse,osm_water,osm_buildings,osm_roads,osm_road_names,osm_place_names")):(Md=a,Nd=b);W()}function fa(){ad=!ad;qa();Ia(tf.consts.mapToggleScaleUnitEvent)}function qa(){bd&&bd.setUnits(ad?"us":"metric")}function pa(){var b=tf.dom.GetHTMLElementFrom(a.scaleElemTarget);b||(b=Xa);bd=new ol.control.ScaleLine({target:b});
ya[tf.consts.panelNameMapScale]={control:bd,isOn:!1};bd.element.addEventListener("click",function(){fa()});qa()}function ua(a){var b;switch(a){case tf.consts.panelNameAddress:b=new tf.map.ui.CustomControl(ga,va.mapAddressButtonClass,"A",J,{tipLabel:tf.consts.addressBarName,imageLabel:new tf.ui.SvgGlyphBtn({style:va.mapSvgGlyphInButtonClass,glyph:tf.styles.SvgGlyphMagnifyingLensName,dim:gc,noChangeOnHover:!0}),target:Xa});break;case tf.consts.panelNameZoom:b=new ol.control.Zoom({zoomInLabel:tf.map.ui.CreateMapButtonTextSpan("+"),
zoomOutLabel:tf.map.ui.CreateMapButtonTextSpan("-"),target:Xa});break;case tf.consts.panelNameLayers:b=new tf.map.ui.CustomControl(ga,va.mapLayersButtonClass,"L",K,{tipLabel:tf.consts.mapLayersName,imageLabel:new tf.ui.SvgGlyphBtn({style:va.mapSvgGlyphInButtonClass,glyph:tf.styles.SvgGlyphMapLayersName,dim:gc,noChangeOnHover:!0}),target:Xa});break;case tf.consts.panelNameType:b=new tf.map.ui.CustomControl(ga,va.mapTypeButtonClass,"T",I,{tipLabel:tf.consts.mapTypesName,imageLabel:new tf.ui.SvgGlyphBtn({style:va.mapSvgGlyphInButtonClass,
glyph:tf.styles.SvgGlyphEarthName,dim:gc,noChangeOnHover:!0}),target:Xa});break;case tf.consts.panelNameMeasure:b=new tf.map.ui.CustomControl(ga,va.mapMeasureButtonClass,"M",Ya,{tipLabel:tf.consts.mapMeasureName,imageLabel:new tf.ui.SvgGlyphBtn({style:va.mapSvgGlyphInButtonClass,glyph:tf.styles.SvgGlyphMeasuringTapeName,dim:gc,noChangeOnHover:!0}),target:Xa})}void 0!=b&&(ya[a]={control:b,isOn:!1})}function aa(b,d){if(b){var c=[tf.consts.panelNameAddress,tf.consts.panelNameZoom,tf.consts.panelNameLayers,
tf.consts.panelNameType,tf.consts.panelNameMeasure],e;for(e in c)ua(c[e]);ya[tf.consts.panelNameDownload]={control:new tf.map.ui.CustomControl(ga,va.mapDownloadButtonClass,"D",cd,{tipLabel:tf.consts.mapDownloadName,imageLabel:new tf.ui.SvgGlyphBtn({style:va.mapSvgGlyphInButtonClass,glyph:tf.styles.SvgGlyphDownloadName,dim:gc,noChangeOnHover:!0}),target:Xa}),isOn:!1};ya[tf.consts.panelNameSource]={control:new tf.map.ui.CustomControl(ga,va.mapSourceButtonClass,"S",N,{tipLabel:tf.consts.mapSourcesName,
target:Xa}),isOn:!1};ya[tf.consts.panelNameFullscreen]={control:new tf.map.ui.CustomControl(ga,va.mapFullScreenButtonClass,va.GetUnicodeDoubleHorArrow(),pc,{tipLabel:tf.consts.fullScreenToolTipNormal,target:Xa}),isOn:!1};ya[tf.consts.panelNameMapLocation]={control:new tf.map.ui.CustomControl(ga,va.mapLocationButtonClass,"C",Ca,{tipLabel:Rb?tf.consts.mapLocationHideTip:tf.consts.mapLocationShowTip,imageLabel:new tf.ui.SvgGlyphBtn({style:va.mapSvgGlyphInButtonClass,glyph:tf.styles.SvgGlyphBullsEye2Name,
dim:gc,noChangeOnHover:!0}),target:Xa}),isOn:!1};navigator.geolocation&&(ya[tf.consts.panelNameUserLocation]={control:new tf.map.ui.CustomControl(ga,va.mapUserLocationButtonClass,"U",Ma,{tipLabel:tf.consts.centerToUserLocationTip,imageLabel:new tf.ui.SvgGlyphBtn({style:va.mapSvgGlyphInButtonClass,glyph:tf.styles.SvgGlyphUserLocationName,dim:gc,noChangeOnHover:!0}),target:Xa}),isOn:!1});var c=[],f=yb.length;for(e=0;e<f;++e)c.push("http://131.94.133."+yb[e]+"/TileService/rmix.aspx?projection=bing&x={x}&y={y}&z={z}");
Rd=new ol.control.OverviewMap({layers:[new ol.layer.Tile({source:new ol.source.XYZ({urls:c,crossOrigin:"anonymous"})})],className:"ol-overviewmap",collapseLabel:tf.map.ui.CreateMapButtonTextSpan("\u00bb"),label:tf.map.ui.CreateMapButtonTextSpan("\u00ab"),collapsed:!0,target:Xa});ya[tf.consts.panelNameOverview]={control:Rd,isOn:!1};Sd=new ol.control.Rotate({autoHide:!1,label:tf.map.ui.CreateMapButtonTextSpan("\u21e7"),tipLabel:"Reset Map Rotation",resetNorth:function(){0==sa.getRotation()?Ua("- Hold down SHIFT & ALT then Click & Drag to rotate<br/>- On touch screens, use two fingers to rotate "):
0!=sa.getRotation()&&oa(0)},target:Xa});Sd.element.style.zIndex=1;ya[tf.consts.panelNameMapRotate]={control:Sd,isOn:!1}}e={target:Xa};(c=tf.js.GetIsNonEmptyString(a.logoSVGHTML))?e.innerHTML=a.logoSVGHTML:e.imageLabel=tf.platform.GetPoweredByTerraFlyLogo();ya[tf.consts.panelNameTFLogo]={control:new tf.map.ui.CustomLogo(ga,va.mapTFLogoControlClass,e),isOn:!1};c&&(ya[tf.consts.panelNameTFLogo].control.GetHTMLElement().style.padding="4px");d||pa()}function oa(a,b){var d=sa.getRotation();d!=a&&(void 0==
b&&(b=se),wd?(ka.beforeRender(ol.animation.rotate({rotation:d,duration:b,easing:ol.easing.easeOut})),Tb(a)):sa.animate({rotation:a,duration:b,easing:ol.easing.easeOut},function(b){b||Tb(a)}))}function Da(){return vd}function ra(){var a=Gb?Gb:Sa;fb=Zc?new tf.map.ui.Mapnik2Popup(Sa,ga,ba,ea,ya[tf.consts.panelNameLayers].control,void 0):new tf.map.ui.Mapnik1Popup(Sa,ga,ba,ea,ya[tf.consts.panelNameLayers].control,void 0);Va=new tf.map.ui.LayersPopup(Sa,ga,Z,ya[tf.consts.panelNameLayers].control,Q,Da);
eb=new tf.map.ui.AddressBar(a,ga,ya[tf.consts.panelNameAddress].control);nc=new tf.map.ui.TypesPopup(Sa,ga,O,ya[tf.consts.panelNameType].control);oc=new tf.map.ui.SourcesPopup(Sa,ga,R,ya[tf.consts.panelNameSource].control);Na=new tf.map.ui.LocationPopup(Sa);Na.SetOnClose(U,ga);Na.SetZIndex(99);Ra=new tf.map.ui.InfoPopup(Sa);Ra.SetOnClose(T,ga);h(Ra,ga);cb=new tf.map.ui.MessagePopup(a);cb.SetOnClose(S,ga);h(cb,ga)}function Ha(a){var b=Rd.getOverviewMap(),d=tf.events.GetEventTarget(a.event),c=tf.events.GetMouseEventCoords(a.event);
d&&c&&(a=c[0],c=c[1],d!=qc&&(d==Gc?(a+=Td.offsetLeft,c+=Td.offsetTop):(a+=d.offsetLeft,c+=d.offsetTop)),b=tf.units.OL2TM(b.getCoordinateFromPixel([a,c])),ha(b))}function ma(){console.log("hookOverviewMapClick try");qc=document.getElementsByClassName("ol-overviewmap-map");0<qc.length?(de=!0,qc=qc[0],Gc=document.getElementsByClassName("ol-overviewmap-box"),0<Gc.length&&(qc.style.cursor="pointer",Gc=Gc[0],Td=Gc.parentNode,new tf.events.DOMClickListener({target:qc,callBack:Ha,optionalScope:ga,callBackSettings:void 0}))):
10>++ee?setTimeout(ma,1E3):console.log("hookOverviewMapClick failed")}function ia(a,b){var d=tf.js.GetNonEmptyString(a,tf.consts.defaultSourceName),d=d.toLowerCase(),c=xb;if(!xb||xb!=d){var e=!1,f=!1;switch(d){default:case tf.consts.typeNameHybrid:e=f=!0;xb=tf.consts.typeNameHybrid;break;case tf.consts.typeNameMap:f=!0;xb=tf.consts.typeNameMap;break;case tf.consts.typeNameAerial:e=!0,xb=tf.consts.typeNameAerial}Fc.setVisible(e);Ec.setVisible(f);b&&nc&&nc.UpdateModeFromMap();ca();W();Ia(tf.consts.mapTypeChangeEvent,
{oldType:c,newType:xb})}}function ja(a,b){var d=tf.js.GetNonEmptyString(a,tf.consts.defaultSourceName);Hc&&Hc==d||(Hc=d,b&&oc&&oc.UpdateSourceFromMap(),Fc&&(xd=new ol.source.XYZ({tileUrlFunction:V,crossOrigin:"anonymous"}),Fc.setSource(xd)))}function V(a,b,d){b=void 0;b="/TileService/rmix.aspx?projection=bing&source="+Hc;a="&x="+a[1]+"&y="+(-a[2]-1)+"&z="+a[0];Sb>=yb.length&&(Sb=0);return b="http://131.94.133."+yb[Sb++]+b+a}function ha(a){tf.js.GetIsArrayWithMinLength(a,2)&&(a=tf.units.TM2OL(a),sa.setCenter(a))}
function na(a,b){ha(a);Y(b)}function za(a){a=tf.js.GetFloatNumber(a,tf.units.GetResolutionByLevel(tf.consts.defaultLevel));a!=ob&&(sa.setResolution(a),ob=sa.getResolution(),Ub=!0,a=tf.units.GetLevelByResolution(ob),Za||dd.DelayCallBack(),a!=gb&&(gb=a,Za||ed.DelayCallBack()))}function Y(a){a=tf.js.GetLevelFrom(a);a!=gb&&(gb=a,sa.setZoom(a),ob=sa.getResolution(),Ub=Vb=!0,Za||(dd.DelayCallBack(),ed.DelayCallBack()))}function P(a){a=tf.js.GetValidObjectFrom(a);var b=a.extent,d=tf.js.GetLevelFrom(a.minLevel),
c=tf.js.GetLevelFrom(a.maxLevel);if(d>c)var e=d,d=c,c=e;var e=gb,f=sa.getCenter();e<d&&(e=d);e>c&&(e=c);var h;tf.js.GetIsArrayWithLength(b,4)?(h=b.slice(0),b=ol.extent.applyTransform(b,ol.proj.getTransform(tf.consts.tmSystem,tf.consts.olSystem))):b=void 0;a={enableRotation:void 0!==a.enableRotation?!!a.enableRotation:!0,maxZoom:c,minZoom:d,center:f,zoom:e,extent:b};b=new ol.View(a);ka.setView(sa=b);pd=sa.constrainResolution;wa();a.extent=h;Ia(tf.consts.mapViewSettingsChangedEvent,a)}function wa(){sa.on("change:resolution",
function(a){a=tf.units.GetLevelByResolution(ob=sa.getResolution());Ub=!0;Vb=a!=gb;gb=a;Za||(dd.DelayCallBack(),Vb&&ed.DelayCallBack())},ga);sa.on("change:rotation",function(a){Za||fe.DelayCallBack()},ga)}function Ma(){return pb(!0,!0)}function pb(a,b){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){var d=a.coords.latitude;a=a.coords.longitude;b&&ha([a,d]);Ic.SetPointCoords([a,d]);fd.SetPointCoords([a,d]);fd.ChangeStyle(tf.js.ShallowMerge(ge,{label:"User at: ( "+d.toFixed(6)+
","+a.toFixed(6)+" )"}));yd||(gd.AddMapFeature(Ic),yd=!0)},ta)}function ta(a){}function Pa(a){sa=new ol.View({maxZoom:tf.consts.maxLevel});var b=ol.control.defaults({attribution:!1,rotate:!1,zoom:!1});hd=new ol.interaction.defaults({altShiftDragRotate:a,pinchRotate:a,doubleClickZoom:!1});Ud=new ol.Collection;Ud.extend(hd.getArray());ka=new ol.Map({loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,renderer:"canvas",target:Jd,view:sa,controls:b,interactions:hd});wd=!!tf.js.GetFunctionOrNull(ka.beforeRender);
pd=sa.constrainResolution;$c=new ol.source.XYZ({tileUrlFunction:Qd,crossOrigin:"anonymous"});xd=new ol.source.XYZ({tileUrlFunction:V,crossOrigin:"anonymous"});Fc=new ol.layer.Tile({source:xd});Ec=new ol.layer.Tile({source:$c});ka.addLayer(Fc);ka.addLayer(Ec);Jc=new ol.source.Vector;Vd=new ol.layer.Vector({source:Jc,zIndex:1E4});Vd.setVisible(!0);ka.addLayer(Vd);gd=q({isVisible:!0,isHidden:!0,color:"#fff",zIndex:9999},!1);a=new tf.map.FeatureGeom({type:"point",coordinates:[tf.consts.defaultLongitude,
tf.consts.defaultLatitude]});var b=[{circle:!0,circle_radius:18,fill:!0,fill_color:"#ebebeb",fill_alpha:60,zindex:2,snaptopixel:!1},{circle:!0,circle_radius:14,fill:!1,fill_color:"#abf",line:!0,line_color:"#00a",line_width:1,zindex:3,snaptopixel:!1},{circle:!0,circle_radius:8,fill:!0,fill_color:"#f84",line:!0,line_color:"#00f",line_width:1,zindex:4,snaptopixel:!1}],d=[tf.js.ShallowMerge(b[0],{fill_color:"#fbfbfb"}),tf.js.ShallowMerge(b[1],{line_width:2}),{circle:!0,circle_radius:8,fill:!0,fill_color:"#f84",
line:!0,line_color:"#00f",line_width:1,zindex:4,snaptopixel:!1}];Ic=new tf.map.Feature({geom:a,style:b,hoverStyle:d});fd=new tf.map.Feature({geom:a,style:ge});Ic.SetOnHoverInOutListener(Ea)}function Ea(){Ic.GetIsInHover()?gd.AddMapFeature(fd):gd.DelMapFeature(fd)}function Fa(a){return[new ol.style.Style({image:new ol.style.Icon({crossOrigin:"",src:a?te:ue,anchor:[.5,.05]})})]}function Ba(){Wb&&(rc=!rc,Wb.setStyle(rc?ve:he),Ra.ShowTitleColorInfo(rc))}function Ga(){Ra&&Ra.IsShowing()&&(Wb&&(Jc.removeFeature(Wb),
Wb=null),Ra.ShowTitleColorInfo(!1),Ra.Show(!1),rc=!1)}function db(a,b,d){if(Ra&&!rc&&b){Wb&&(Jc.removeFeature(Wb),Wb=null);var c=he,e=Kc,f=tf.js.GetLatitudeFrom(d[1]);d=tf.js.GetLongitudeFrom(d[0]);f=(new ol.geom.Point([d,f])).transform(tf.consts.tmSystem,tf.consts.olSystem);e=new ol.Feature({geometry:f,markerName:e});e.setStyle(c);Jc.addFeature(e);Wb=e;Ra.SetTitle(a);Ra.SetContent(b);l(Ra);Ra.Show(!0)}}function Wa(){Hb&&Hb.SetListenToMoveEnd(Rb);Rb?(xa(),ya[tf.consts.panelNameMapLocation].control.ChangeToolTip(tf.consts.mapLocationHideTip)):
(Ja(),ya[tf.consts.panelNameMapLocation].control.ChangeToolTip(tf.consts.mapLocationShowTip))}function Ca(){Rb=!Rb;Wa()}function Oa(){Na&&Na.IsShowing()?Ja():xa()}function Ja(){Na&&Na.IsShowing()&&Na.Show(!1)}function xa(){Na&&Na.Show(!0)}function hb(a,b,d){Na.ShowTitleColorInfo(!!d);Na.SetTitle("string"==typeof a&&0<a.length?a:"Location");Dc.ClearContent();"string"===typeof b?Dc.GetHTMLElement().innerHTML=b:Dc.AddContent(b);Na.SetContent(td);Rb&&(Na&&Na.IsShowing()||xa())}function qb(a){Wd="number"==
typeof a&&0<=a?a:ie}function Ua(a){if(cb&&!je){mb();cb.SetContent(a);cb.ShowTitleColorInfo(!1);l(cb);if(a=cb)M(),a.Show(!0);Wd&&(Yc=setTimeout(Ta,1E3*Wd))}}function Ta(){C(cb)&&(mb(),H(cb),je=!1)}function mb(){Yc&&(clearInterval(Yc),Yc=null)}function Qa(a){void 0!=id?(a=void 0!=a?a:sa.getResolution(),Zc?(Od=tf.js.GetLegendCompositesStrs(id,a).m2,Pd=tf.js.GetLegendCompositesStrs(ke,a).m2):(Md=tf.js.GetLegendCompositesStrs(id,a).m1H,Nd=tf.js.GetLegendCompositesStrs(id,a).m1M),W()):fb&&Ub&&fb.OnResolutionChange(ob)}
function wb(){Qa();Ia(tf.consts.mapMoveEndEvent,rb(zb,Ab));zd=Vb=!1}function ib(){return{level:gb,resolution:ob}}function $a(){Qa();Ia(tf.consts.mapResolutionChangeEvent,ib());Ub=!1}function Ib(){Ia(tf.consts.mapRotationChangeEvent,{rotation_rad:sa.getRotation(),rotation_deg:tf.units.RadiansToDegrees(sa.getRotation())})}function sb(){Ia(tf.consts.mapLevelChangeEvent,ib());Vb=!1}function lb(a){if(a=tf.js.GetFunctionOrNull(a)){var b=tb(tf.js.ShallowMerge(rb(zb,Ab),ib()));setTimeout(function(){a(b)},
1)}}function ub(a,b,d,c,e){a=tf.js.GetLevelFrom(a);var f=Math.abs(gb-a);if(0!=f){d=tf.js.GetFloatNumberInRange(d,le,me,tf.consts.defaultMapAnimatedDurationPerLevelMillis);var h=f*d;0>=h&&(h=10);sc(function(d){var f;0==d.step?(f={duration:h,resolution:tf.units.GetResolutionByLevel(a),notifyListeners:!!c},tf.js.GetFunctionOrNull(e)&&(f.easing=e)):(lb(b),b=null);return f},ga)}else lb(b)}function ab(a,b,d,c,e){if(0==t(a))ha(a),lb(b);else{var f=tf.js.GetLatitudeFrom(a[1]),h=tf.js.GetLongitudeFrom(a[0]);
d=tf.js.GetFloatNumberInRange(d,le,me,tf.consts.defaultMapAnimatedCenterDurationMillis);r();sc(function(a){var g;0==a.step?(g={duration:d,center:[h,f],notifyListeners:!!c},tf.js.GetFunctionOrNull(e)&&(g.easing=e)):b&&(lb(b),b=null);return g},ga)}}function Jb(a){ne="string"===typeof a&&0<a.length?a:null}function Kb(a){tc=tf.js.GetNonEmptyString(a,null);tf.js.GetIsNonEmptyString(tc)&&"&"!=tc.charAt(0)&&(tc="&"+tc)}function uc(a,b,d,c){null!=Hb&&Hb.IsListeningToMoveEnd()?null!=Xb&&Xb.DidMove()||Hb.TryShowGeocode(a,
b,d,c):tf.js.GetIsNonEmptyString(d)&&Ua(d)}function Bb(a){var b=!0;Xb&&(Xb.Cancel(),b=Xb.WasCancelled()||Xb.HasCompleted())&&(Xb=null);b&&tf.js.GetIsNonEmptyString(a)&&(Xb=new tf.map.aux.GeoCodeFlyer(ga,uc,a),new tf.services.Geocoder({address:a,callBack:function(a){var b=a?a.pointCoords:[0,0];Xb.DelayCallBack(b[1],b[0],a.errormsg,a.geocoderlevel)}}));return b}function hc(a){ab(a.eventCoords)}function jb(a){(a=!!a)!=(null!=jd)&&(a?jd=Yb.AddListener(tf.consts.mapClickEvent,hc):(jd.OnDelete(),jd=null))}
function Cb(a){eb&&("string"!==typeof a&&(a=""),eb.SetAddressBarHelp(a))}function kd(a){eb&&("string"!==typeof a&&(a=""),eb.SetAddressBarText(a))}function Tb(a){sa.setRotation(tf.js.GetFloatNumber(a,0))}function Ad(){var a=bb.GetMapExtent();bb.GetBoxExtent();if(a){if(a){var b=tc;b||(b="");a="http://vn4.cs.fiu.edu/cgi-bin/tfrectdisp.cgi?"+b+"&dt=51306.25&X1l="+a[0]+"&Y1l="+a[3]+"&X2l="+a[2]+"&Y2l="+a[1]+"&Source=best_available&Res="+sa.getResolution()+"&Overlay=wcity";window.open(a,"_blank")}vc()}else Ua("<p/>First: Click/Touch to select a rectangular area.<p/>Then: Press the button to download.")}
function vc(){bb&&bb.Cancel()}function ld(){md&&md.Show(!1)}function cd(){md||(md=new tf.map.ui.DownloadBar(Sa,ga,ya[tf.consts.panelNameDownload].control,vc,Ad,ga));md.Show(!0);var a=ld;M();bb&&bb.Start("box",a)}function Lb(){ic&&ic.Show(!1)}function Zb(){vc();Ya()}function Ya(){ic||(ic=new tf.map.ui.MeasureBar(Sa,ga,ya[tf.consts.panelNameMeasure].control,vc,Zb,ga));ic.Show(!0);var a=ic.GetIsMeasuringDistances()?"lines":"poly",b=Lb;M();bb&&bb.Start(a,b)}function $b(b){var d;tf.js.GetIsNonEmptyString(a.mapCenterSVG)?
(ac=new tf.dom.Div({cssClass:va.GetUnPaddedDivClassNames(!1,!1)}),d=ac.GetHTMLElement(),d.innerHTML=a.mapCenterSVG,d.style.width=d.style.height="16rem",d.style.fill="white"):(ac=new tf.ui.SvgGlyphBtn({style:!0,glyph:tf.styles.SvgGlyphBullsEye2Name,dim:"16rem",noChangeOnHover:!0}),d=ac.GetHTMLElement());va.ApplySnapToCenterStyle(d);Sa.appendChild(d);d.style.display=b?"block":"none";d.style.pointerEvents="none";d.style.position="absolute";d.style.opacity="0.30";va.AddHorShadowStyle(ac);va.AddDefaultOpacityTransitionStyle(ac);
d.style.zIndex=6}function bc(){var a=ya[tf.consts.panelNameFullscreen];a&&(tf.browser.GetIsFullScreen()?a.control.ChangeTitle(va.GetUnicodeXClose(),tf.consts.fullScreenToolTipFull):a.control.ChangeTitle(va.GetUnicodeDoubleHorArrow(),tf.consts.fullScreenToolTipNormal));Ia(tf.consts.mapFullScreenEvent);u()}function pc(){tf.browser.GetIsFullScreen()?tf.browser.ExitFullScreen():ga.FullScreen()}function nd(){return ol.extent.applyTransform(sa.calculateExtent(ka.getSize()),ol.proj.getTransform(tf.consts.olSystem,
tf.consts.tmSystem))}function Mb(a){var b=nd(),d=tf.js.GetLatitudeFrom(a[1]);a=tf.js.GetLongitudeFrom(a[0]);return b[1]<=d&&b[3]>=d&&b[0]<=a&&b[2]>=a}function cc(a){return"ol-unselectable"==a.originalEvent.target.className}function nb(){var a=r();Lc(null,a[0],a[1])}function ud(a){if(a)if(a instanceof ol.Feature){var b=a.getProperties().mapFeature;b===Nb&&nb()}else if("object"===typeof a)for(var d in a)if(b=a[d],b instanceof ol.Feature&&(b=b.getProperties().mapFeature,b===Nb)){nb();break}}function Ob(a){return a?
{featureCluster:a}:void 0}function Lc(a,b,d,c){if(a!=Nb){if(Nb){var e=tb(tf.js.ShallowMerge(Db(Nb,b,d,void 0),{nextKeyedFeature:la(a),nextFeature:a,isInHover:!1}));Nb.onHoverInOut(e);kb(tf.consts.mapFeatureHoverInOutEvent,e);Nb=null}a&&(b=tb(tf.js.ShallowMerge(Db(a,b,d,c),{prevKeyedFeature:la(Nb),prevFeature:Nb,isInHover:!0})),a.onHoverInOut(b),kb(tf.consts.mapFeatureHoverInOutEvent,b));Nb=a}}function dc(a,b){var d=a.getGeometry().getExtent(),d=tf.units.OL2TM([d[0],d[1]]),c;if(b&&1<b.length){c=[];
for(var e=0,f=b.length;e<f;++e){var h=b[e].getProperties().mapFeature;h&&c.push(h)}}return{clusterFeatures:c,clusterCoords:d}}function Pb(a){if(cc(a)){var b=!1,d=[],c=e(a.pixel),f;Bd=!0;Mc||ka.forEachFeatureAtPixel(c,function(a,c){if(a){var e=a.get("features");e&&(f=dc(a,e),a=e[0]);if(a){var e=a.getProperties(),h=e.mapFeature;if(h)return d.push(h),!0;if(e.markerName==Kc)return b=!0}}});if(!b){var h={mapEvent:a},g=tf.units.OL2TM(a.coordinate),k=w(c),l=k[1],k=k[0],m=Mc;if(!m){for(var p=d.length;0<p;){var n=
tf.js.ShallowMerge(tb(Db(d[0],l,k,f)),h);kb(tf.consts.mapFeatureMouseDragEvent,n);break}0==p&&(m=Mc=!0)}m&&Ia(tf.consts.mapMouseDragEvent,tf.js.ShallowMerge(tf.js.ShallowMerge(Ob(f),ec(rb(l,k,g),c,a.pixel)),h))}}}function vb(a){if(cc(a)){var b=!1,d=[],c=e(a.pixel),f;ka.forEachFeatureAtPixel(c,function(a,c){if(a){var e=a.get("features");e&&(f=dc(a,e),a=e[0]);if(a){var e=a.getProperties(),h=e.mapFeature;if(h)return d.push(h),!0;if(e.markerName==Kc)return b=!0}}});if(!b){var h={mapEvent:a},g=d.length,
k=tf.units.OL2TM(a.coordinate),l=w(c),m=l[1],l=l[0],p=!1,n;for(n in d){p=d[n];n=tf.js.ShallowMerge(tb(Db(p,m,l,f)),h);Lc(p,m,l,f);(p=p.onMouseMove(n))||kb(tf.consts.mapFeatureMouseMoveEvent,n);break}0==g&&Lc(null,m,l,f);h.nMapFeatures=g;Ia(tf.consts.mapMouseMoveEvent,tf.js.ShallowMerge(tf.js.ShallowMerge(Ob(f),ec(rb(m,l,k),c,a.pixel)),h))}}}function Nc(a){if(cc(a)&&(!bb||!bb.GetIsInteracting())){var b=e(a.pixel),d=tf.units.OL2TM(a.coordinate),c=w(b),f=c[1],c=c[0],h=!1,g=[],k;ka.forEachFeatureAtPixel(b,
function(a,b){var d=a.get("features");d&&(k=dc(a,d),a=d[0]);if(a&&(d=a.getProperties())){var c=d.mapFeature;if(c)g.push(c);else if(d.markerName==Kc)return h=!0,Ba(),!0}},ga);if(!h){var l={mapEvent:a},m=g.length,p=!1,n=Ob(k),t;for(t in g){p=g[t];t=tf.js.ShallowMerge(tb(Db(p,f,c,k)),l);(p=p.onClick(t))||kb(tf.consts.mapFeatureInstantClickEvent,t);break}0==m&&Ia(tf.consts.mapInstantClickEvent,tf.js.ShallowMerge(tf.js.ShallowMerge(n,ec(rb(f,c,d),b,a.pixel),l)))}}}function Oc(a){if(cc(a)&&(!bb||!bb.GetIsInteracting())){var b=
e(a.pixel),d=tf.units.OL2TM(a.coordinate),c=w(b),f=c[1],c=c[0],h=!1,g=[],k;ka.forEachFeatureAtPixel(b,function(a,b){var d=a.get("features");d&&(k=dc(a,d),a=d[0]);if(a&&(d=a.getProperties())){var c=d.mapFeature;if(c)g.push(c);else if(d.markerName==Kc)return h=!0,Ba(),!0}},ga);if(!h){var l={mapEvent:a},m=g.length,p=!1,n=Ob(k),t;for(t in g){p=g[t];t=tf.js.ShallowMerge(tb(Db(p,f,c,k)),l);(p=p.onClick(t))||kb(tf.consts.mapFeatureClickEvent,t);break}0==m&&Ia(tf.consts.mapClickEvent,tf.js.ShallowMerge(tf.js.ShallowMerge(n,
ec(rb(f,c,d),b,a.pixel),l)))}}}function La(a){if(cc(a)&&(!bb||!bb.GetIsInteracting())){var b=e(a.pixel),d=tf.units.OL2TM(a.coordinate),c=w(b),f=c[1],h=c[0],g=!1,k=[],l;ka.forEachFeatureAtPixel(b,function(a,b){var d=a.get("features");d&&(l=dc(a,d),a=d[0]);if(a&&(d=a.getProperties())){var c=d.mapFeature;if(c)k.push(c);else if(d.markerName==Kc)return g=!0,Ba(),!0}},ga);if(!g){var m={mapEvent:a},p=k.length,n=!1,t;for(t in k){n=k[t];t=tf.js.ShallowMerge(tb(Db(n,f,h,l)),m);(n=n.onDoubleClick(t))||kb(tf.consts.mapFeatureDblClickEvent,
t);break}0==p&&(Cd?wc&&wc.GoDBByCoords(c):Ia(tf.consts.mapDblClickEvent,tf.js.ShallowMerge(tf.js.ShallowMerge(Ob(l),ec(rb(f,h,d),b,a.pixel))),m))}}}function xc(a){var b=r();a=b.Latitude;b=b.Longitude;zb!=a&&Ab!=b&&(zb=a,Ab=b);Za||Ia(tf.consts.mapMoveStartEvent,rb(zb,Ab))}function jc(a){var b=r();a=b.Latitude;b=b.Longitude;zb!=a&&Ab!=b&&(zb=a,Ab=b);Za||(a=sa.getResolution(),ob!=a&&(ob=a,dd.DelayCallBack(),a=gb,gb!=a&&(gb=a,ed.DelayCallBack())),oe.DelayCallBack())}function la(a){return a&&tf.js.GetFunctionOrNull(a.GetKeyedFeature)?
a.GetKeyedFeature():null}function tb(a){return tf.js.ShallowMerge(a,pe)}function kb(a,b){b.sender!==ga&&tf.GetDebug().LogIfTest("map: notify without sender");Yb.Notify(a,tf.js.ShallowMerge(b,{eventName:a}))}function Ia(a,b){return kb(a,tb(b))}function rb(a,b,d){a=[b,a];void 0==d&&(d=a);return{eventCoords:a,actualEventCoords:d}}function ec(a,b,d){return tf.js.ShallowMerge(a,{pixelCoords:b,actualPixelCoords:d})}function Qb(a){var b;(b=a&&tf.js.GetFunctionOrNull(a.GetMapFeature)?a.GetMapFeature():null)||
(b=a);return{keyedFeature:la(b),mapFeature:b,styleName:b.getStyleName()}}function Db(a,b,d,c){return tf.js.ShallowMerge(Qb(a),rb(b,d),Ob(c))}function Pc(){Vb&&sb();Ub&&$a();zd&&wb()}function Dd(a,b){if(Za){if(b.time<=Ka.start+Ka.duration){if(b.time>=Ka.start){var d=Ka.easing,d=1-d((b.time-Ka.start)/Ka.duration);if(Ka.sourceCenter){var c=Ka.sourceCenter[1]-Ka.endCenter[1];b.viewState.center[0]=Ka.endCenter[0]+d*(Ka.sourceCenter[0]-Ka.endCenter[0]);b.viewState.center[1]=Ka.endCenter[1]+d*c;var e=tf.units.OL2TM(b.viewState.center),
c=e[0],e=e[1];zd=c!=Ab||e!=zb;zb=e;Ab=c}void 0!==Ka.sourceRes&&(e=tf.units.GetLevelByResolution(b.viewState.resolution=c=Ka.endRes+d*(Ka.sourceRes-Ka.endRes)),Ub=c!=ob,Vb=e!=gb,gb=e,ob=c);void 0!==Ka.sourceRotation&&(c=tf.units.GetShortestArcBetweenAngles(Ka.endRotation,Ka.sourceRotation),b.viewState.rotation=Ka.endRotation+d*c);Ka.notifyListeners?Pc():(Ub||Vb)&&Qa()}}else Aa();Za?ka&&ka.render():Pc()}else e=tf.units.OL2TM(b.viewState.center),zb=e[1],Ab=e[0],ob=b.viewState.resolution;return Za}function yc(){return od?
od.call(qe,{sender:ga,step:Xd++}):null}function zc(){Za&&(od&&(Xd=-1,yc(),od=null),Za=!1,ka&&ka.render())}function Aa(){if(Za){var a=yc();if(tf.js.GetIsValidObject(a)){var b=void 0!==a.center?tf.js.GetMapCoordsFrom(a.center):void 0,d=void 0!==a.resolution?a.resolution:void 0,c=void 0!==a.rotation?a.rotation:void 0,e=void 0!==a.duration?a.duration:1E3,f=void 0!==a.notifyListeners?!!a.notifyListeners:!1,a=tf.js.GetFunctionOrNull(a.easing)?a.easing:tf.units.EaseInAndOut,h=void 0!==b?tf.units.TM2OL(b):
void 0;Ka={notifyListeners:f,sourceRes:void 0!==d?sa.getResolution():void 0,sourceCenter:void 0!==b?sa.getCenter():void 0,sourceRotation:void 0!==c?sa.getRotation():void 0,endRes:d,endCenter:h,endRotation:void 0!==c?c:void 0,duration:e,easing:a,start:Date.now()};wd?(void 0!=b&&ha(b),void 0!==d&&za(d),void 0!==c&&Tb(c)):sa.animate({rotation:c,center:h,resolution:d,duration:e,easing:a},function(a){a||(void 0!=b&&ha(b),void 0!==d&&za(d),void 0!==c&&Tb(c));zc()})}else zc()}}function sc(a,b){var d=Za;
zc();if(od=tf.js.GetFunctionOrNull(a))wd&&(d||ka.beforeRender(Dd)),Xd=0,qe=b,Za=!0,Aa()}function Qc(){Ed=!0}function Rc(a){if(a instanceof tf.map.Feature&&Fd){var b=a.getAPIStyle(),d;for(d in b)Fd.drawFeature(a.getAPIFeature(),b[d])}}function Ac(a,b,d,c){Fd=b.vectorContext;Ed=!1;Ia(a,{showFeatureImmediately:Rc,continueAnimation:Qc,canvas:b.context.canvas});a==tf.consts.mapPostComposeEvent&&Ia(tf.consts.mapPostPostComposeEvent,{showFeatureImmediately:Rc,continueAnimation:Qc,canvas:b.context.canvas});
Fd=void 0;Ed&&(c?c.render():ka&&ka.render());Ed=!1}function Sc(a,b,d){id=a;ke=b;ea();Qa(d)}function Tc(){if(Mc||Bd)Mc=Bd=!1,Ia(tf.consts.mapEndDragEvent)}function Uc(){var a;ka.getInteractions().forEach(function(b){b instanceof ol.interaction.DragPan&&(a=b)},this);return a}var va,mc,Vc=null,kc=null,Wc,Fb,yb=["184","186","188","190"],Yb=null,lc,Eb,fc,od,qe,Xd,Za,Ka,pd;this.ActualToVirtualPixelCoords=function(a){return e(a)};this.VirtualToActualPixelCoords=function(a){return d(a)};this.SetDecodedLegends=
function(a,b){return Sc(a,b,void 0)};this.SetIsUSScaleUnits=function(a){ad!=!!a&&fa()};this.GetIsUSScaleUnits=function(){return ad};this.SetFractionalZoomInteraction=function(a){sa.constrainResolution=a?c:pd};this.RemoveDragPan=function(){var a=Uc();a&&(a.setActive(!1),sa.cancelAnimations(),sa.setHint?sa.setHint(ol.ViewHint.INTERACTING,-1):tf.js.GetIsArrayWithMinLength(sa.o,2)&&0<sa.o[1]&&--sa.o[1],ka.getInteractions().remove(a))};this.AddDragPan=function(){var a=Uc();a&&a.setActive(!0);a||(ka.addInteraction(new ol.interaction.DragPan({kinetic:new ol.Kinetic(-.005,
.05,100),map:ka})),sa.cancelAnimations())};this.GetCanvas=function(){return kc};this.GetPixelSize=function(){var a=fc?fc():void 0;return a?a:ga.GetActualPixelSize()};this.SetActualToVirtualPixelTranslateCallBacks=function(a,b,d){lc=tf.js.GetFunctionOrNull(a);(Eb=tf.js.GetFunctionOrNull(b))||(Eb=a);fc=tf.js.GetFunctionOrNull(d)};this.SetTarget=function(a){ka.setTarget(a)};this.RestoreTarget=function(){ka.setTarget(Jd)};this.getAPIMap=function(){return ka};this.getAPIView=function(){return sa};this.GetControlContainer=
function(){return Xa};this.CreateMapWithSameLayers=function(a){var b;tf.dom.GetHTMLElementFrom(a)&&(a={container:a,center:r(),panels:"noaddress+nomaplocation+nouserlocation+nomapscale",panOnClick:!1,goDBOnDoubleClick:!1,resolution:sa.getResolution()},b=new tf.map.Map(a),b.SetHasInteractions(!1),b.ShowMapCenter(!1),b.getAPIMap().setLayerGroup(ka.getLayerGroup()));return b};this.GetID=function(){return Vc};this.GetMapContainer=function(){return Gb};this.GetMapMapContainer=function(){return rd};this.GetMapControlContainer=
function(){return sd};this.GetMapEngine=function(){return Yd};this.ShowUserLocation=function(){return pb(!1,!1)};this.HideUserLocation=function(){yd&&(gd.DelMapFeature(Ic),yd=!1)};this.CenterToUserLocation=function(){return pb()};this.Render=function(){return ka?ka.render():!1};this.SetTFPassThroughString=function(a){Kb(a)};this.GetTFPassThroughString=function(){return tc};this.SetVIDParamStr=function(a){Jb(a)};this.GetVIDParamStr=function(){return ne};this.SetAddressBarText=function(a){return kd(a)};
this.GetAddressBarText=function(){return eb?eb.GetAddressBarText():""};this.SetAddressBarHelp=function(a){return Cb(a)};this.GoDBByAddress=function(a){wc&&wc.GoDBByAddress(a)};this.GoDBByCoords=function(a){wc&&wc.GoDBByCoords(a)};this.GoDBByCenterCoords=function(){goDBByCenterCoords()};this.SetGoDBOnDoubleClick=function(a){Cd=!!a};this.GetGoDBOnDoubleClick=function(){return Cd};this.SetUsePanOnClick=function(a){jb(a)};this.IsUsingPanOnClick=function(){return null!=jd};this.AnimatedSetRotation=function(a,
b){return oa(a,b)};this.AnimatedResetRotation=function(){0!=sa.getRotation()&&oa(0)};this.SetRotationDeg=function(a){return Tb(tf.units.DegreesToRadians(a))};this.GetRotationDeg=function(a){return tf.units.RadiansToDegrees(sa.getRotation())};this.SetRotationRad=function(a){return Tb(a)};this.GetRotationRad=function(a){return sa.getRotation()};this.PixelToMapCoords=function(a){return w(e(a))};this.ActualPixelToMapCoords=function(a){return w(a)};this.MapToPixelCoords=function(a){return d(v(a))};this.ActualMapToPixelCoords=
function(a){return v(a)};this.GetPixelDistance=function(a,b){return A(a,b)};this.GetPixelDistanceFromCenter=function(a){return t(a)};this.IsSamePixelAsCenter=function(a){return 0==t(a)};this.GetAreMapCoordsVisible=function(a){return Mb(a)};this.SetCenter=function(a){ha(a)};this.SetCenterAndLevel=function(a,b){na(a,b)};this.GetCenter=function(){return r()};this.SetLevel=function(a){Y(a)};this.GetLevel=function(){return gb};this.SetResolution=function(a){za(a)};this.GetResolution=function(){return sa.getResolution()};
this.AnimatedSetLevel=function(a,b,d,c,e){return ub(a,b,d,c,e)};this.AnimatedSetCenter=function(a,b,d,c,e){ab(a,b,d,c,e)};this.AnimatedSetCenterIfDestVisible=function(a,b){Mb(a)?ab(a,b,null,!1):ha(a)};this.GetIsAnimating=function(){return Za};this.StartAnimation=function(a,b){return sc(a,b)};this.EndAnimation=function(){return zc()};this.FlyToAddress=function(a){return Bb(a)};this.GetVisibleExtent=function(){return nd()};this.SetVisibleExtent=function(a){var b;b=tf.js.GetMapExtentFrom(a);if(b[0]!=
b[2]&&b[1]!=b[3]){a=ga.GetPixelSize();var d=a[0],c=a[1];if(0<d&&0<c){a=b[0]+(b[2]-b[0])/2;var e=b[1]+(b[3]-b[1])/2,f=new tf.map.FeatureGeom({type:"linestring",coordinates:[[b[0],e],[b[2],e]]}),h=f.GetLength(),f=new tf.map.FeatureGeom({type:"linestring",coordinates:[[a,b[1]],[a,b[3]]]});b=f.GetLength();d=h/d;c=b/c;za(d>c?d:c);ha([a,e])}}};this.RemoveLayer=function(a){if(tf.js.GetIsMapFeatureLayer(a)){var b=a.GetIsHidden(),d=b?ae:vd,c=d.indexOf(a);if(-1!=c){var e=a.GetName();tf.js.GetIsNonEmptyString(e)&&
delete Fb[e];a.RemoveAllFeatures();a.exportSetDeleteCmdCallBack.call(a);d.splice(c,1);b||Va&&Va.RefreshContent()}}};this.AddFeatureLayer=function(a){return q(a,!1)};this.OnResize=function(){return u()};this.GetActualPixelSize=function(){return ka?ka.getSize():Sa?[Sa.clientWidth,Sa.clientHeight]:[0,0]};this.PanByPixelOffset=function(a){if(tf.js.GetIsArrayWithMinLength(a,2)){var b=tf.js.GetFloatNumber(a[0],0);a=tf.js.GetFloatNumber(a[1],0);if(0!=b||0!=a){var c=r(),c=d(v(c));c.X+=b;c.Y+=a;b=w(e([c.X,
c.Y]));ha(b)}}};this.AddListener=function(a,b){return Yb.AddListener(a,b)};this.AddListeners=function(a){return Yb.AddListeners(a)};this.ShowMapCenter=function(a){ac&&Zd!=(a=!!a)&&(tf.dom.GetHTMLElementFrom(ac).style.display=(Zd=a)?"block":"none")};this.GetMapCenterElem=function(){return ac};this.IsShowingMapCenter=function(){return Zd};this.GetLayersPopup=function(){return Va};this.ShowLayerList=function(a){C(Va)!=!!a&&(C(Va)?H(Va):K())};this.GetIsShowingLayerList=function(){return C(Va)};this.ShowPanels=
function(a){return D(a)};this.ShowPanel=function(a,b){return B(a,b)};this.GetPanelElement=function(a){var b;tf.js.GetIsNonEmptyString(a)&&(a=a.toLowerCase(),b=(a=ya[a])?a.control:void 0);return b};this.IsPanelShowing=function(a){return E(a)};this.SetFullScreenButtonVisibility=function(a){B(tf.consts.panelNameFullscreen,a)};this.SetLogoVisibility=function(a){return B(tf.consts.panelNameTFLogo,!!a)};this.FullScreen=function(){Gb&&(tf.browser.GetIsFullScreen()||(tf.dom.GetHTMLElementFrom(a.fullScreenContainer)?
tf.browser.RequestFullScreen(a.fullScreenContainer):tf.browser.RequestFullScreen(document.body)))};this.ToggleMapFullScreen=function(){return pc()};this.SetMapType=function(a){ia(a,!0)};this.GetMapType=function(){return xb};this.SetSource=function(a){ja(a,!0)};this.GetSource=function(){return Hc};this.SetLegend=function(a,b){F(a,b)};this.GetHasInteractions=function(){return Xc};this.SetHasInteractions=function(a){a=!!a;a!=Xc&&(a?Xc||(hd.extend(Ud.getArray()),$d&&B(tf.consts.panelNameZoom,!0),bb&&
bb.Restore(),$d=!1,Xc=!0):Xc&&(hd.clear(),($d=!!ya[tf.consts.panelNameZoom]&&ya[tf.consts.panelNameZoom].isOn)&&B(tf.consts.panelNameZoom,!1),Xc=!1))};this.ShowAddressBar=function(){J()};this.HideAddressBar=function(){H(eb)};this.ToggleAddressBar=function(){var a=eb;C(a)?H(a):G(a)};this.IsShowingAddressBar=function(){return C(eb)};this.ShowMessage=function(a){Ua(a)};this.HideMessage=function(){Ta()};this.ToggleMessage=function(){C(cb)?Ta():Ua()};this.IsShowingMessage=function(){return C(cb)};this.SetMessageTimeout=
function(a){qb(a)};this.HideOpenControlPopups=function(){M()};this.HideOpenPopups=function(){Ga();Ja();Ta();M()};this.IsShowingInfoPopup=function(){return Ra?Ra.IsShowing():!1};this.ToggleInfoPopup=function(){Ra&&Ra.IsShowing()?Ga():db()};this.HideInfoPopup=function(){Ga()};this.ShowInfoPopup=function(a,b,d){db(a,b,d)};this.IsInfoPopupPinned=function(){return rc};this.ToggleInfoPopupPin=function(){Ba()};this.StartDownloadInteraction=function(){return cd()};this.CancelDownloadInteraction=function(){return ld()};
this.StartMeasureInteraction=function(){return Ya()};this.CancelMeasureInteraction=function(){return Lb()};this.SetOverviewMapCollapsed=function(a){ya[tf.consts.panelNameOverview]&&ya[tf.consts.panelNameOverview].isOn&&ya[tf.consts.panelNameOverview].control.setCollapsed(!!a)};this.IsOverviewMapCollapsed=function(){return!!ya[tf.consts.panelNameOverview]&&ya[tf.consts.panelNameOverview].isOn&&ya[tf.consts.panelNameOverview].control.getCollapsed()};this.SetView=function(a){return P(a)};this.SetMapLayerSource=
function(a,b){return k(a,b)};this.ShowAllKeyedFeatures=function(a,b,d){if(a instanceof tf.map.KeyedFeatureList){var c=g(a);if(c)if(b){b=a.GetKeyedList().GetKeyedItemList();for(var e in b)c.AddKeyedFeature(a.GetFeature(b[e].GetKey()),d,!0);c.AddWithheldFeatures()}else c.RemoveAllFeatures()}};this.ShowSomeKeyedFeatures=function(a,b,d,c){if(a instanceof tf.map.KeyedFeatureList&&"object"===typeof b){var e=g(a);if(e){var f=a.GetKeyedList();d=!!d;for(var h in b){var k=f.GetItem(b[h]);k&&(k=a.GetFeature(k.GetKey()),
d?e.AddKeyedFeature(k,c,!0):e.DelKeyedFeature(k,!0))}d?e.AddWithheldFeatures():e.DelWithheldFeatures()}}};this.ShowKeyedFeature=function(a,b,d){return showKeyedFeature(feature,b,d)};this.GetIsShowingKeyedFeature=function(a){var d=b(a);return d?d.ContainsKeyedFeature(a):!1};this.GetLayerForKeyedFeature=function(a){return b(a)};this.GetLayerForKeyedFeatureList=function(a){return g(a)};this.GetLayerByName=function(a){return Fb[a]};this.deprecatedAddLegacyLayer=function(a){return q(a,!0)};this.renderNow=
function(){return ka?ka.renderSync():!1};this.addHTMLOverlay=function(a){a&&a instanceof tf.map.HTMLOverlay&&ka.addOverlay(a.getAPIOverlay())};this.removeHTMLOverlay=function(a){a&&a instanceof tf.map.HTMLOverlay&&ka.removeOverlay(a.getAPIOverlay())};this.addHTMLControl=function(a){a&&a instanceof tf.map.HTMLControl&&ka.addControl(a.getAPIControl())};this.removeHTMLControl=function(a){a&&a instanceof tf.map.HTMLControl&&ka.removeControl(a.getAPIControl())};var Bc=null,Gd=1,Zc=null,Kc="Info",ga=null,
gc,fb=null,Va=null,nc=null,oc=null,Ra=null,Na=null,cb=null,eb=null,md=null,ic=null,qd=[],pe,ka=null,sa=null,Fc=null,Ec=null,$c=null,xd=null,Yd=null,xb=null,Hc=null,vd=[],ae=[],ob=0,gb=-1,zb=-999,Ab=-999;va=tf.GetStyles();var Gb=null,rd=null,Id=null,Sa=null,Jd=null,sd,Xa,re=500,Zd=!0,ac=null,Cc=0,Hd=0,Jc=null,Vd=null,gd=null,Ic=null,fd=null,Wb=null,be,ce,Kd=void 0,Ld=!1,ya=[],Md="",Nd="",Sb=0,Od="osm_water,osm_buildings,osm_roads,osm_road_names,osm_place_names",Pd="osm_land,osm_landuse,osm_water,osm_buildings,osm_roads,osm_road_names,osm_place_names",
Qd=null,Rd=null,bd=null,Sd=null,se=250,ad=!1,wd,qc=null,Gc=null,Td=null,ee=0,de=!1,ge={marker:!0,label:".",zindex:1,border_color:"#00f",border_width:2,marker_color:"#000",font_color:"#fff",font_height:16},yd=!1,hd,Ud,bb,oe,ed,dd,fe,Vb,Ub,zd,te=tf.platform.MakePlatformPath("image/pin260pinned.png"),ue=tf.platform.MakePlatformPath("image/pin260.png"),ve=Fa(!0),he=Fa(!1),rc=!1,Rb,td=null,Dc=null,je=!1,Yc=null,ie=5,Wd=ie,le=100,me=9999999999,Xc=!0,$d=!1,ne=null,tc=null,Hb=null,wc=null,Xb=null,jd=null,
Cd=!0,Nb=null;this.onMoveEnd=function(a){return jc(a)};this.GetInstantCenter=function(){return[Ab,zb]};this.GetInstantResolution=function(){return ob};var Fd,Ed;this.onComposeEvent=function(a,b,d){return Ac(a,b,!1,d)};var id,ke,Mc,Bd,ga=this;(function(){va=tf.GetStyles();mc=va.GetSubStyles();Za=Rb=!1;Hc="best_available";void 0!==a.messageTimeout&&qb(a.messageTimeout);tf.js.GetIsNonEmptyString(a.vidParam)&&Jb(a.vidParam);tf.js.GetIsNonEmptyString(a.passThroughString)&&Kb(a.passThroughString);Vb=Ub=
zd=!1;gc=mc.mapButtonDimEmNumber+"em";pe={sender:ga};Fb={};a=tf.js.GetValidObjectFrom(a);Wc=tf.js.GetIsNonEmptyString(a.linkTargetStr)?a.linkTargetStr:"_top";Vc=tf.GetGlobalCounter().GetNext()+"";Yb=new tf.events.MultiEventNotifier({eventNames:tf.consts.allMapEventNames});Yd=tf.map.GetMapEngineFrom(a.mapEngine);Qd=(Zc=Yd!==tf.consts.mapnikEngine)?L:da;tf.js.GetIsNonEmptyString(a.mapLayerSourceURL)&&k(a.mapLayerSourceURL,a.mapLayerSourceHybridModeOpacity);n(a.container);Sa.style.backgroundImage="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wAAAIDen//TAAAAfUlEQVRYhe2UsQ3AIAwETcYJ+w9BRQNZhI7mU0VCiBYuhV1Z/gKJO31IucjM7I7RVvPUajvza3k9Oa1LrUspF3376rYrt9MPzntoXRp/ZDfzOf+PAxQCXMLgPUAjwCX0HsAR4BJ6D+AIcAm9B3AEuITeAzgCXELvARwBLuELoBEJ6ZpdtuYAAAAASUVORK5CYII=')";
oe=new tf.events.DelayedCallBack(300,wb,ga);ed=new tf.events.DelayedCallBack(300,sb,ga);dd=new tf.events.DelayedCallBack(300,$a,ga);fe=new tf.events.DelayedCallBack(100,Ib,ga);new tf.events.DOMFullScreenChangeListener({callBack:bc,optionalScope:ga});ja(a.mapAerialSource);var b=void 0!=a.canRotate?!!a.canRotate:!0,d=!1,c,e;void 0!==a.resolution?c=tf.js.GetFloatNumber(a.resolution,tf.units.GetResolutionByLevel(tf.consts.defaultLevel)):(e=tf.js.GetLevelFrom(a.level),c=tf.units.GetResolutionByLevel(e));
(d=void 0!=a.decodedLegendH)&&Sc(a.decodedLegendH,a.decodedLegendM,c);Pa(b);ia(a.mapType);aa(!a.noNativeControls,a.noScaleLine);a.noNativePopups||ra();var f=tf.js.GetMapCoordsFrom(a.center),b=tf.js.GetLongitudeFrom(f[0]),f=tf.js.GetLatitudeFrom(f[1]);void 0!=e?na([b,f],e):(ha([b,f]),za(c));$b(tf.js.GetBoolFromValue(a.showMapCenter,!0));a.noNativeControls||(bb=new tf.map.aux.MapDrawInteraction(ga,ka,Jc));ka.on("click",Nc,ga);ka.on("moveend",jc,ga);ka.on("movestart",xc,ga);ka.on("pointermove",vb,ga);
ka.on("pointerdrag",Pb,ga);ka.on("singleclick",Oc,ga);ka.on("dblclick",La,ga);ka.on("change:size",function(a){eb&&eb.OnContainerResize();ic&&ic.OnContainerResize();fb&&fb.OnContainerResize();Ra&&Ra.OnContainerResize();Va&&Va.OnContainerResize();oc&&oc.OnContainerResize();nc&&nc.OnContainerResize();Na&&Na.OnContainerResize();cb&&cb.OnContainerResize();Ia(tf.consts.mapResizedEvent)},ga);ka.on("precompose",function(a){kc=a.context.canvas;Ac(tf.consts.mapPreComposeEvent,a,!0)},ga);ka.on("postcompose",
function(a){kc=a.context.canvas;Ac(tf.consts.mapPostComposeEvent,a,!0)},ga);ka.on("postrender",function(a){Ia(tf.consts.mapPostRenderEvent,{event:a,canvas:kc})},ga);tf.js.GetIsValidObject(a.viewSettings)?P(a.viewSettings):wa();a.noNativeControls||(wc=new tf.map.aux.GoDBPage({map:ga,linkTargetStr:Wc}));ya[tf.consts.panelNameOverview]&&ya[tf.consts.panelNameOverview].isOn&&setTimeout(ma,500);tf.js.GetIsNonEmptyString(a.addressBarText)&&kd(a.addressBarText);tf.js.GetIsNonEmptyString(a.addressBarHelp)&&
Cb(a.addressBarHelp);tf.js.GetIsNonEmptyString(a.panels)?D(a.panels):(a.noNativeControls||B(tf.consts.panelNameMapRotate,!0),B(tf.consts.panelNameMapScale,!0));a.noNativeControls||(Hb=new tf.map.aux.RevGeocoder(ga,hb,Na),E(tf.consts.panelNameMapLocation)&&(Rb=!0),Wa());tf.js.GetIsBoolean(a.panOnClick)&&jb(a.panOnClick);tf.js.GetIsBoolean(a.goDBOnDoubleClick)&&(Cd=!!a.goDBOnDoubleClick);d||tf.js.GetIsNonEmptyString(a.legendH)&&setTimeout(function(){F(a.legendH,a.legendM)},500);Mc=Bd=!1;new tf.events.DOMClickListener({target:document,
callBack:Tc,optionalScope:ga,callBackSettings:null});tf.events.AddDOMEventListener(document,tf.consts.DOMEventNamesTouchEnd,Tc)})()};
tf.map.PolyCode=function(){function a(a){return Math.floor(Math.abs(a)+.5)*Math.sign(a)}function c(b,d,c){b=a(b*c);d=a(d*c);c=b-d<<1;0>b-d&&(c=~c);for(b="";32<=c;)b+=String.fromCharCode((32|c&31)+63),c>>>=5;return b+=String.fromCharCode(c+63)}function e(a){for(var d=[],c=0;c<a.length;c++)d.push(a[c].slice().reverse());return d}var d;this.ClipPrecision=function(a){return tf.js.GetIntNumberInRange(a,0,7,5)};this.Flipped=function(a){return a&&void 0!=a.length?e(a):void 0};this.EncodeValues=function(a,
e){var f=a?a.length:0;if(!f)return"";for(var k=a[0],h=Math.pow(10,d.ClipPrecision(e)),l=c(k,0,h),n=1;n<f;n++)var m=a[n],l=l+c(m,k,h),k=m;return l};this.DecodeValues=function(a,c){var e,k,h=[],l=a.length;if(0<l)for(var n=Math.pow(10,d.ClipPrecision(c)),m=k=0;k<l;){e=a;for(var p=k,q=void 0,r=k=0,A=!1;void 0==q||32<=q;)q=e.charCodeAt(p)-63,++p,k|=(q&31)<<r,r+=5,A=k&1;e=p;k=A?~(k>>>1):k>>>1;m+=k;k=e;h.push(1!=n?m/n:m)}return h};this.DecodeLevels=function(a){var d=[];if(tf.js.GetIsNonEmptyString(a))for(var c=
0;c<a.length;++c)d.push(a.charCodeAt(c)-63);return d};this.FromGeoJSONLineString=function(a,c){return a&&a.type&&a.type.length&&"linestring"==a.type.toLowerCase()?d.EncodeLineString(e(a.coordinates),c):void 0};this.EncodeLineString=function(a,e){if(!a.length)return"";for(var f=Math.pow(10,d.ClipPrecision(e)),k=c(a[0][0],0,f)+c(a[0][1],0,f),h=1;h<a.length;h++)var l=a[h],n=a[h-1],k=k+c(l[0],n[0],f),k=k+c(l[1],n[1],f);return k};this.ToGeoJSONLineString=function(a,c){var f=d.DecodeLineString(a,c);return{type:"LineString",
coordinates:e(f)}};this.DecodeLineString=function(a,c){for(var e=0,k=0,h=0,l=[],n=0,m=0,p=null,q,r=Math.pow(10,d.ClipPrecision(c));e<a.length;){n=m=0;do p=a.charCodeAt(e++)-63,m|=(p&31)<<n,n+=5;while(32<=p);q=m&1?~(m>>>1):m>>>1;n=m=0;do p=a.charCodeAt(e++)-63,m|=(p&31)<<n,n+=5;while(32<=p);n=m&1?~(m>>>1):m>>>1;k+=q;h+=n;l.push([k/r,h/r])}return l};this.FromGeoJSONMultiLineString=function(a,c){return a&&a.type&&a.type.length&&"multilinestring"==a.type.toLowerCase()?d.EncodeMultiLineString(e(a.coordinates),
c):void 0};this.EncodeMultiLineString=function(a,c){var f=[],k;for(k in a){var h=a[k].slice();f.push(d.EncodeLineString(e(h),c))}return f};this.ToGeoJSONMultiLineString=function(a,c){return{type:"MultiLineString",coordinates:d.DecodeMultiLineString(a,c)}};this.DecodeMultiLineString=function(a,c){var f=[],k;for(k in a)f.push(e(d.DecodeLineString(a[k],c)));return f};this.ToGeoJSONMultiLineStringNoFlip=function(a,c){return{type:"MultiLineString",coordinates:d.DecodeMultiLineStringNoFlip(a,c)}};this.DecodeMultiLineStringNoFlip=
function(a,c){var e=[],k;for(k in a)e.push(d.DecodeLineString(a[k],c));return e};d=this};tf.map.ui.CreateMapButtonTextSpan=function(a){var c=document.createElement("span");c.className="ol-button-text-span";c.innerHTML=tf.js.GetNonEmptyString(a)?a:"";return c};
tf.map.ui.CustomControl=function(a,c,e,d,b){this.GetHTMLElement=function(){return k};this.GetButton=function(){return f};this.ChangeTitle=function(a,b){f&&(f.innerHTML=a,f.title=b)};this.ChangeToolTip=function(a){f&&(f.title=a)};var g=tf.js.GetValidObjectFrom(b);a=g.tipLabel?g.tipLabel:"";var g=g.imageLabel?g.imageLabel:null,f=document.createElement("button"),k=document.createElement("div");f.title=a;g?g.AppendTo(f):f.appendChild(tf.map.ui.CreateMapButtonTextSpan(e));d&&new tf.events.DOMClickListener({target:f,
callBack:d,optionalScope:void 0,callBackSettings:void 0});"string"!==typeof c&&(c="");k.style.zIndex=1;k.className=c+" ol-unselectable ol-control";k.appendChild(f);ol.control.Control.call(this,{target:b.target,hover:!1,highlightOnly:!1,element:k})};tf.js.InheritFrom(tf.map.ui.CustomControl,ol.control.Control);
tf.map.ui.CustomLogo=function(a,c,e){this.GetHTMLElement=function(){return d};e=tf.js.GetValidObjectFrom(e);a=e.imageLabel?e.imageLabel:null;var d=document.createElement("div");e=e.innerHTML;"string"!==typeof c&&(c="");d.className=c+" ol-unselectable";a&&a.AppendTo(d);void 0!=e&&(d.innerHTML=e);ol.control.Control.call(this,{hover:!1,highlightOnly:!1,element:d})};tf.js.InheritFrom(tf.map.ui.CustomLogo,ol.control.Control);
tf.map.FeatureLayer=function(a){function c(){A&&A.call(m,this);var a=tf.consts.mapFeatureLayerVisibilityChangeEvent;T.Notify(a,tf.js.ShallowMerge({isVisible:w},{sender:n,eventName:a}))}function e(a){a=tf.js.GetFloatNumberInRange(a,0,1,1);E!=a&&(E=a,C&&C.setOpacity(E))}function d(a){a=tf.js.GetFloatNumber(a,0);B!=a&&(B=a,C&&C.setZIndex(B))}function b(a,b){if(a||a instanceof tf.map.Feature){var d=a.getAPIFeature();b?G.push(d):D.addFeature(d)}}function g(a,b){if(a instanceof tf.map.Feature||void 0!==
a&&tf.js.GetFunctionOrNull(a.getAPIFeature)){var d=a.getAPIFeature();b?H.push(d):(t&&t(d),D.removeFeature(d))}}function f(){C&&(p.removeLayer(C),C=null)}function k(a,b){var d=a.get("features"),c=d.length,e=null;1==c&&(d=d[0].getProperties(),null!=d&&(d=d.mapFeature)&&(e=d.getAPIStyle()));e||(e=I[c],e||(M?(R?(R=tf.js.ShallowMerge(R,{label:c.toString()}),tf.js.GetIsArray(M)?(e=M.slice(0),e.push(R)):e=void 0==M.style&&void 0==M.hoverStyle?[M,R]:[M.style,R],e=tf.map.GetOrCreateFeatureStyle(e)):e=tf.map.GetOrCreateFeatureStyle(M),
e=e.getAPIStyle()):e=[new ol.style.Style({zindex:100,text:new ol.style.Text({text:c.toString(),font:J,fill:new ol.style.Fill({color:"#000"})})})],I[c]=e));return e}function h(){var a=!C;D=new ol.source.Vector;N?("string"===typeof O&&0<O.length||(O=null),F=new ol.source.Cluster({distance:Q,source:D}),a?C=new ol.layer.Vector({source:F,visible:w,style:k,zIndex:B,opacity:E,updateWhileAnimating:!0,updateWhileInteracting:!0}):(C.setStyle(k),C.setSource(F))):a?C=new ol.layer.Vector({source:D,visible:w,zIndex:B,
opacity:E,updateWhileAnimating:!0,updateWhileInteracting:!0}):C.setSource(D);a&&p.addLayer(C)}function l(a,b){var d=tf.js.GetMinMaxLevelsFrom(a,b);a=d.minLevel;b=d.maxLevel;var d=tf.units.GetResolutionByLevel(a),c=tf.units.GetResolutionByLevel(b);C.setMinResolution(d);C.setMaxResolution(c)}var n,m,p,q,r,A,t,w,v,u,B,E,D,F,C,G,H,I,J,K,N,Q,M,R,O,T;this.GetUsesClusters=function(){return N};this.SetUseClusters=function(a){N!=(a=!!a)&&(N=a,a=D.getFeatures(),h(),D.addFeatures(a))};this.AddListener=function(a,
b){return T.AddListener(a,b)};this.GetMap=function(){return m};this.GetName=function(){return q};this.GetDesc=function(){return r};this.ChangeDescription=function(a){tf.js.GetIsString(a)&&a!=r&&(r=a,c())};this.GetIsHidden=function(){return v};this.SetOpacity=function(a){return e(a)};this.GetOpacity=function(){return C.getOpacity()};this.SetZIndex=function(a){return d(a)};this.GetZIndex=function(){return B};this.SetMinMaxLevels=function(a,b){return l(a,b)};this.SetIsForcedInvisible=function(a){u!=
(a=tf.js.GetBoolFromValue(a))&&(u=a,C&&C.setVisible(w&&!u))};this.GetIsForcedInvisible=function(){return u};this.SetVisible=function(a){w!=(a=tf.js.GetBoolFromValue(a))&&(w=a,C&&C.setVisible(w&&!u),c())};this.GetIsVisible=function(){return w};this.ToggleIsVisible=function(){return n.SetVisible(!w)};this.AddWithheldFeatures=function(){G.length&&D.addFeatures(G);G=[]};this.DelWithheldFeatures=function(){if(H.length){t&&t(H);for(var a in H)D.removeFeature(H[a])}H=[]};this.AddKeyedFeature=function(a,
d,c){if(a instanceof tf.map.KeyedFeature){var e=a.GetFeatureKey();if(!K[e]){var f=a.GetMapFeature(d);f&&(K[e]={keyedFeature:a,styleName:d,mapFeature:f},b(f,c))}}};this.ContainsKeyedFeature=function(a){return a instanceof tf.map.KeyedFeature&&void 0!==K[a.GetFeatureKey()]};this.DelKeyedFeature=function(a,b){if(a instanceof tf.map.KeyedFeature){var d=a.GetFeatureKey(),c=K[d];c&&(c=c.mapFeature,delete K[d],g(c,b))}};this.AddMapFeature=function(a,d){return b(a,d)};this.DelMapFeature=function(a,b){return g(a,
b)};this.ContainsMapFeature=function(a){return!!D&&tf.js.GetIsInstanceOf(a,tf.map.Feature)&&!!D.getFeatureById(a.getAPIFeature().getId())};this.RemoveAllFeatures=function(){t&&t(D.getFeatures());K={};h()};this.SetClusterFeatureDistance=function(a){N&&F&&a!=Q&&F.setDistance(Q=a)};this.SetClusterStyle=function(a){N&&(I={},M=a,F.forEachFeature(function(a){(a=a.getProperties().mapFeature)&&a.RefreshStyle()}))};n=this;B=0;E=1;G=[];H=[];I={};K={};u=!1;T=new tf.events.MultiEventNotifier({eventNames:tf.consts.allMapFeatureLayerEventNames});
J=tf.GetStyles().GetSubStyles().markerFontFamily;q=tf.js.GetNonEmptyString(a.name,"");r=tf.js.GetNonEmptyString(a.description,"");w=tf.js.GetBoolFromValue(a.isVisible,!0);v=tf.js.GetBoolFromValue(a.isHidden,!1);void 0!==a.zIndex&&d(a.zIndex);void 0!==a.opacity&&e(a.opacity);m=tf.js.GetMapFrom(a.map);p=a.olMap;t=tf.js.GetFunctionOrNull(a.notifyDelFeatures);A=tf.js.GetFunctionOrNull(a.notifyVisibilityChange);N=tf.js.GetBoolFromValue(a.useClusters,!1);Q=tf.js.GetIntNumberInRange(a.clusterFeatureDistance,
5,1E3,24);M=tf.js.GetIsValidObject(a.clusterStyle)?a.clusterStyle:null;R=tf.js.GetIsValidObject(a.clusterLabelStyle)?a.clusterLabelStyle:null;tf.js.GetFunctionOrNull(a.setDeleteCmdCallBack)&&a.setDeleteCmdCallBack.call(m,n,f);h();tf.js.GetIsValidObject(a.minMaxLevels)&&l(a.minMaxLevels.minLevel,a.minMaxLevels.maxLevel)};tf.map.nextFeatureId=0;
tf.map.Feature=function(a){function c(){f=B&&v||u?h:k;b()}function e(a){var b=null;a instanceof tf.map.FeatureStyle?b=a.getAPIStyle():"function"===typeof a&&(a=tf.map.GetOrCreateFeatureStyle(a(m?m:g,g)),b=a instanceof tf.map.FeatureStyle?a.getAPIStyle():null);return b}function d(){n&&n.setGeometry(l.getAPIGeom())}function b(){n&&n.setStyle(e(f))}var g,f,k,h,l,n,m,p,q,r,A,t,w,v,u,B,E;this.GetSettings=function(){return a};this.SetStyles=function(a,b){tf.js.GetIsInstanceOf(a,tf.map.FeatureStyle)&&tf.js.GetIsInstanceOf(b,
tf.map.FeatureStyle)&&(k=a,h=b,g.RefreshStyle())};this.SetGeom=function(a){return!tf.js.GetIsInstanceOf(a,tf.map.FeatureGeom)||l&&l.GetType()!=a.GetType()?!1:(l=a,d(),!0)};this.GetGeom=function(){return l};this.GetStyle=function(){return f};this.RefreshGeom=function(){return d()};this.RefreshStyle=function(){return b()};this.ChangeStyle=function(a){a instanceof tf.map.FeatureStyle?(f=a,b()):f instanceof tf.map.FeatureStyle&&(f.UpdateAttributesFrom(a),b())};this.GetIsPoint=function(){return l?l.GetIsPoint():
!1};this.SetPointCoords=function(a){return l&&l.SetPointCoords(a)?(d(),!0):!1};this.GetPointCoords=function(){return g.GetIsPoint()?l.GetPointCoords():g.GetMidExtentCoords()};this.GetMidExtentCoords=function(){return tf.js.GetMidExtentCoord(g.GetExtent())};this.GetExtent=function(){return l?l.GetExtent():void 0};this.GetClosestPoint=function(a){return l?l.GetClosestPoint(a):void 0};this.SetOnHoverInOutListener=function(a){w=tf.js.GetFunctionOrNull(a)};this.SetOnMouseMoveListener=function(a){r=tf.js.GetFunctionOrNull(a)};
this.SetOnClickListener=function(a){A=tf.js.GetFunctionOrNull(a)};this.SetOnDoubleClickListener=function(a){t=tf.js.GetFunctionOrNull(a)};this.GetIsInHover=function(){return v};this.GetIsAlwaysInHover=function(){return u};this.SetIsAlwaysInHover=function(a){u!=(a=!!a)&&(u=a,c())};this.GetIsDisplayingInHover=function(){return v||u};this.GetProcessInHover=function(){return B};this.SetProcessInHover=function(a){B!=(a=!!a)&&(B=a,c())};this.GetKeyedFeature=function(){return m};this.GetMapFeatureWithNamedStyles=
function(){return p};this.onHoverInOut=function(a){v=a.isInHover;h&&c();w&&w(a)};this.onMouseMove=function(a){r&&r(a)};this.onClick=function(a){A&&A(a)};this.onDoubleClick=function(a){t&&t(a)};this.getAPIFeature=function(){return n};this.getAPIStyle=function(){return e(f)};this.getStyleName=function(){return q};g=this;u=v=!1;B=!0;E=++tf.map.nextFeatureId;m=a.keyedFeature;p=a.mapFeatureWithNamedStyles instanceof tf.map.FeatureWithNamedStyles?a.mapFeatureWithNamedStyles:null;k=f=tf.map.GetOrCreateFeatureStyle(a.style);
h=a.hoverStyle?tf.map.GetOrCreateFeatureStyle(a.hoverStyle):null;l=a.geom instanceof tf.map.FeatureGeom?a.geom:new tf.map.FeatureGeom({type:a.type,coordinates:a.coordinates});q=tf.js.GetNonEmptyString(a.styleName,"");n=new ol.Feature({mapFeature:g});n.setId(E);d();b()};
tf.map.FeatureWithNamedStyles=function(a){function c(a){a&&tf.js.GetIsNonEmptyString(a)&&f[a]||(a=tf.consts.defaultMapFeatureStyleName);return f[a]}function e(a,b){var d=c(b);d&&d.SetIsAlwaysInHover(a)}function d(a){return(a=c(a))?a.RefreshStyle():!1}var b,g,f,k;this.GetGeom=function(){return k};this.SetGeom=function(a){if(tf.js.GetIsInstanceOf(a,tf.map.FeatureGeom)&&(!k||k.GetType()==a.GetType())){k=a;for(var b in f)f[b].SetGeom(a);return!0}return!1};this.GetExtent=function(){return k?k.GetExtent():
void 0};this.GetMapFeature=function(a){return c(a)};this.GetStyle=function(a){a=c(a);return(a?a.GetStyle():null).GetStyle()};this.RefreshStyle=function(a){var b=!1;if(tf.js.GetIsArray(a))for(var c in a)b=d(a[c])||b;else if(void 0==a)for(c in f)b=d(c)||b;else b=d(a);return b};this.RefreshGeom=function(){for(var a in f)f[a].RefreshGeom()};this.SetIsAlwaysInHover=function(a,b){if(tf.js.GetIsArray(b))for(var d in b)e(a,b[d]);else if(void 0==b)for(d in f)e(a,d);else e(a,b)};this.GetIsPoint=function(){return k?
k.GetIsPoint():!1};this.SetPointCoords=function(a){if(k&&k.SetPointCoords(a))for(var b in f)f[b].RefreshGeom()};this.GetPointCoords=function(){return k?k.GetPointCoords():[0,0]};this.GetClosestPoint=function(a){return k?k.GetClosestPoint(a):void 0};this.GetKeyedFeature=function(){return g};this.getAPIFeature=function(a){return c(a).getAPIFeature()};this.getAPIStyle=function(a){return c(a).getAPIStyle()};b=this;(function(){g=a.keyedFeature instanceof tf.map.KeyedFeature?a.keyedFeature:null;k=a.geom instanceof
tf.map.FeatureGeom?a.geom:new tf.map.FeatureGeom({type:a.type,coordinates:a.coordinates});var d=tf.js.ShallowMerge(a,{geom:k,mapFeatureWithNamedStyles:b});a=tf.js.GetValidObjectFrom(a);var c=tf.js.GetValidObjectFrom(a.styleSettings);if(tf.js.GetIsValidObject(c.styles)){var e=null,c=c.styles;f={};for(var m in c){var p=c[m];"object"===typeof p&&(d.style=tf.map.GetOrCreateFeatureStyle(p.style),d.hoverStyle=tf.map.GetOrCreateFeatureStyle(p.hoverStyle),d.styleName=m,p=new tf.map.Feature(d),f[m]=p,e||(e=
p))}e?void 0===f[tf.consts.defaultMapFeatureStyleName]&&(f[tf.consts.defaultMapFeatureStyleName]=e):f=null}else d.style=c.style,d.hoverStyle=c.hoverStyle;f||(d.styleName=tf.consts.defaultMapFeatureStyleName,f={},f[tf.consts.defaultMapFeatureStyleName]=new tf.map.Feature(d))})()};tf.map.GetOrCreateFeatureStyle=function(a){var c,e;a&&(a instanceof tf.map.FeatureStyle||tf.js.GetFunctionOrNull(a)?c=a:tf.js.GetIsValidObject(a)&&(e=a));c||(c=new tf.map.FeatureStyle(e));return c};
tf.map.FeatureSubStyle=function(a){function c(){return new ol.style.Stroke({color:tf.js.GetRGBAColor(P.line_color,P.line_color,P.line_opacity),width:P.line_width,lineDash:P.line_dash,lineCap:P.line_cap,lineJoin:P.line_join})}function e(){return new ol.style.Fill({color:tf.js.GetRGBAColor(P.fill_color,P.fill_color,P.fill_opacity)})}function d(a,b,d,f){b&&(a.opacity=P.opacity,a.snapToPixel=P.snaptopixel);P.rotate_with_map&&(a.rotateWithView=!0);a.rotation=P.rotation_rad;d&&(a.scale=P.scale);f&&(P.line&&
(a.stroke=c()),P.fill&&(a.fill=e()));return a}function b(a,b){return-1==(a=tf.js.GetFloatNumber(a,-1))?b:tf.js.GetFloatNumberInRange(a/100,0,1,b)}function g(){var a={};if(P.marker){var a={},b="string"===typeof P.label?P.label:"";if(0<b.length&&"."!=b.charAt(0)){var b=tf.canvas.CreateMemoryImage({drawFunction:tf.canvas.DrawTextMarkerImage,drawSettings:{label:P.label?P.label:"",font_height:P.font_height,font:P.font,arrow_length:P.marker_arrowlength,line_color:P.line_color,line_opacity:P.line_opacity,
line_width:P.line_width,font_color:P.font_color,font_opacity:P.font_opacity,border_line_color:P.border_color,border_line_opacity:P.border_opacity,border_line_width:P.border_width,fill_color:P.marker_color,fill_opacity:P.marker_opacity,horpos:P.marker_horpos,verpos:P.marker_verpos}}),f=null;try{f=new ol.style.Icon({opacity:P.opacity,rotation:P.rotation_rad,scale:P.scale,img:b.image,imgSize:[b.image.width,b.image.height],anchor:b.anchor})}catch(h){f=null}a.image=f}else a.image=new ol.style.RegularShape({opacity:P.opacity,
rotation:P.rotation_rad,radius1:P.font_height,radius2:P.font_height/2,stroke:new ol.style.Stroke({color:tf.js.GetRGBAColor(P.border_color,P.border_color,P.border_opacity),width:P.border_width}),fill:new ol.style.Fill({color:tf.js.GetRGBAColor(P.marker_color,P.marker_color,P.marker_opacity)}),points:5})}else P.icon?a.image=new ol.style.Icon(d({crossOrigin:"",src:P.icon_url,anchor:P.icon_anchor,img:P.icon_img,imgSize:P.icon_size,offset:P.icon_offset},!0,!0,!1)):P.circle?a.image=new ol.style.Circle(d({radius:P.circle_radius},
!0,!1,!0)):P.shape?a.image=new ol.style.RegularShape(d({radius:P.shape_radius,radius1:P.shape_radius1,radius2:P.shape_radius2,points:P.shape_points},!0,!1,!0)):P.round_rect?(b=a,f=tf.canvas.CreateMemoryImage({canvas:null,drawFunction:tf.canvas.DrawRoundRect,drawSettings:{width:P.round_rect_width,height:P.round_rect_height,radius:P.round_rect_radius,fill:P.fill,fill_color:tf.js.GetRGBAColor(P.fill_color,P.fill_color,P.fill_opacity),line:P.line,line_color:tf.js.GetRGBAColor(P.line_color,P.line_color,
P.line_opacity),line_width:P.line_width,line_dash:P.line_dash}}),f=new ol.style.Icon(d({img:f.image,imgSize:[f.image.width,f.image.height],anchor:P.icon_anchor},!0,!0,!1)),b.image=f):P.text?a.text=new ol.style.Text(d({text:P.label?P.label:"",font:P.font,offsetX:P.text_offsetx,offsetY:P.text_offsety,textAlign:P.text_align,textBaseline:P.text_baseline},!1,!1,!0)):(P.line&&(a.stroke=c()),P.fill&&(a.fill=e()));a.zIndex=P.zindex;wa=new ol.style.Style(a)}function f(a){var b=!1;"string"===typeof a&&(a=a.length?
tf.js.ParseLegacyFormatString(a):null);if(a&&"object"===typeof a){for(var d in a){var c=d,e=a[d],f=!1;if(c&&"string"===typeof c&&c.length){var h=Y[c.toLowerCase()];"function"===typeof h&&(h=h(e,P[c]),za&&(za.LogIfTest("requested ["+c+"] = "+e),za.LogIfTest("+assigned ["+c+"] = "+h)),f=!0,P[c]=h)}f&&(b=!0)}b&&g()}return b}function k(a,b){var d=b;if(a)if("string"===typeof a){var c=a.split(",");if(2==c.length){for(var e in c)d=b?b[e]:void 0,c[e]=tf.js.GetFloatNumber(c[e],d);d=c}}else if("object"===typeof a&&
2==a.length){for(e in a)d=b?b[e]:void 0,a[e]=tf.js.GetFloatNumber(a[e],d);d=a}return d}function h(a,b){return void 0===a||null==a?void 0:Math.abs(tf.js.GetFloatNumber(a,b))}function l(a,b){return a?tf.js.GetNonEmptyString(a,b):void 0}function n(a,d){return b(a,d)}function m(a,b){return tf.js.GetHexColorStr(a,b)}function p(a,b){return tf.js.GetNonNegativeIntFrom(a,b)}function q(a,b){return tf.js.GetBoolFromValue(a,b)}function r(a,b){return h(a,b)}function A(a,b){return tf.js.GetBoolFromValue(a,b)}
function t(a,d){return b(a,d)}function w(a,b){return tf.js.GetHexColorStr(a,b)}function v(a,d){return b(a,d)}function u(a,b){return tf.js.GetHexColorStr(a,b)}function B(a,b){return tf.js.GetIntNumberInRange(a,8,120,b)}function E(a,b){return tf.js.GetNonEmptyString(a,b)}function D(a,b){return tf.js.GetBoolFromValue(a,b)}function F(a,b){return k(a,b)}function C(a,b){return k(a,b)}function G(a,b){return k(a,b)}function H(a,b){var d=a;(d=tf.dom.GetHTMLElementFrom(d))||(d=b);return d}function I(a,b){return tf.js.GetNonEmptyString(a,
b)}function J(a,b){return tf.js.GetNonEmptyString(a,b)}function K(a,b){return tf.js.GetNonEmptyString(a,b)}function N(a,b){return tf.js.GetNonEmptyString(a,b)}function Q(a,b){return tf.js.GetBoolFromValue(a,b)}function M(a,d){return b(a,d)}function R(a,b){return tf.js.GetHexColorStr(a,b)}function O(a,b){return void 0==a?b:a}function T(a,b){return tf.js.GetFloatNumber(a,b)}function U(a,b){return tf.js.GetBoolFromValue(a,b)}function S(a,d){return b(a,d)}function Z(a,b){return tf.js.GetFloatNumber(a,
b)}function X(a,b){return tf.js.GetHexColorStr(a,b)}function da(a,b){return tf.js.GetFloatNumberInRange(a,0,1,b)}function L(a,b){return tf.js.GetBoolFromValue(a,b)}function W(a,b){return tf.js.GetFloatNumber(a,b)}function ca(a,b){return void 0!==a?tf.js.GetFloatNumber(a,b):a}function ea(a,b){return tf.js.GetBoolFromValue(a,b)}function ba(a,b){return h(a,b)}function fa(a,b){return h(a,b)}function qa(a,b){return h(a,b)}function pa(a,b){return tf.js.GetNonNegativeIntFrom(a,b)}function ua(a,b){return tf.js.GetBoolFromValue(a,
b)}function aa(a,b){return tf.js.GetBoolFromValue(a,b)}function oa(a,b){return tf.js.GetFloatNumber(a,b)}function Da(a,b){return tf.js.GetFloatNumber(a,b)}function ra(a,b){return tf.js.GetFloatNumber(a,b)}function Ha(a,b){return tf.js.GetBoolFromValue(a,b)}function ma(a,b){return l(a,b)}function ia(a,b){return l(a,b)}function ja(a,b){return l(a,b)}function V(a,b){return l(a,b)}function ha(a,b){return tf.js.GetFloatNumber(a,b)}function na(a,b){return tf.js.GetNonNegativeIntFrom(a,b)}var za,Y,P,wa;
this.UpdateAttributesFrom=function(a){return f(a)};this.GetAPISubStyle=function(){return wa};(function(){var b=tf.GetStyles().GetSubStyles();a=tf.js.GetValidObjectFrom(a);Y={border_alpha:n,border_color:m,border_opacity:n,border_width:p,circle:q,circle_radius:r,fill:A,fill_alpha:t,fill_color:w,fill_opacity:t,font_alpha:v,font_color:u,font_opacity:v,font_height:B,font:E,icon:D,icon_anchor:F,icon_offset:C,icon_img:H,icon_size:G,icon_url:I,label:J,marker:U,marker_alpha:S,marker_arrowlength:Z,marker_color:X,
marker_opacity:S,marker_horpos:ma,marker_verpos:ia,opacity:da,line:Q,line_alpha:M,line_cap:K,line_color:R,line_dash:O,line_join:N,line_opacity:M,line_width:T,rotate_with_map:L,rotation_rad:W,round_rect:aa,round_rect_width:oa,round_rect_height:Da,round_rect_radius:ra,scale:ca,shape:ea,shape_radius:ba,shape_radius1:fa,shape_radius2:qa,shape_points:pa,snaptopixel:ua,text:Ha,text_align:ja,text_baseline:V,text_offsetx:ha,text_offsety:ha,zindex:na};P=tf.js.ShallowMerge({border_opacity:1,border_color:"#000",
border_width:2,circle:!1,circle_radius:20,fill:!1,fill_opacity:1,fill_color:"#fff",font_opacity:1,font_color:b.darkTextColor,font_height:b.markerFontSizePXNumber,font:b.markerFontFamily,icon:!1,icon_anchor:[.5,.5],icon_img:void 0,icon_offset:[0,0],icon_url:void 0,icon_size:void 0,label:"",line:!1,line_opacity:1,line_cap:"round",line_join:"round",line_color:"#000",line_dash:[20,0],line_width:1,marker:!1,marker_opacity:1,marker_arrowlength:12,marker_color:"#3399FF",marker_horpos:tf.consts.positioningCenter,
marker_verpos:tf.consts.positioningTop,opacity:1,rotate_with_map:!1,rotation_rad:0,round_rect:!1,round_rect_width:10,round_rect_height:10,round_rect_radius:0,scale:1,shape:!1,shape_radius:void 0,shape_radius1:void 0,shape_radius2:void 0,shape_points:4,snaptopixel:!0,text:!1,text_offsetx:0,text_offsety:0,text_align:void 0,text_baseline:void 0,zindex:1});f(a);g()})()};
tf.map.FeatureStyle=function(a){function c(){var a=[],d;for(d in g)a.push(g[d].GetAPISubStyle());b=a}function e(a){return a instanceof tf.map.FeatureSubStyle?a:new tf.map.FeatureSubStyle(a)}var d,b,g;this.GetCount=function(){return g?g.length:0};this.Get=function(a){return 0<=a&&a<d.GetCount()?g[a]:null};this.UpdateAttributesFrom=function(a){var b=!1;if(a)if(tf.js.GetIsNonEmptyArray(a))for(var d=g.length<a.length?g.length:a.length,e=0;e<d;e++)g[e].UpdateAttributesFrom(a[i])&&(b=!0);else b=g[0].UpdateAttributesFrom(a);
b&&c();return b};this.getAPIStyle=function(){return b};d=this;(function(){g=[];if(tf.js.GetIsNonEmptyArray(a)){var b=a.length;g.push(e(a[0]));for(var d=1;d<b;d++)g.push(e(a[d]))}g.length||g.push(e(a));c()})()};
tf.map.FeatureGeom=function(a){function c(){p=!0;return new ol.geom.Point(l)}function e(){return new ol.geom.Polygon(l)}function d(){return new ol.geom.MultiLineString(l)}function b(){return new ol.geom.LineString(l)}function g(){return new ol.geom.MultiPoint(l)}function f(){return new ol.geom.MultiPolygon(l)}function k(){q=null;if(q=n())q.transform(tf.consts.tmSystem,tf.consts.olSystem),void 0!==r&&(q=q.simplify(r))}var h,l,n,m,p,q,r;this.GetType=function(){return m};this.GetIsPoint=function(){return p};
this.SetPointCoords=function(a){return p?(a=tf.js.GetMapCoordsFrom(a),l[0]=a[0],l[1]=a[1],k(),!0):!1};this.GetPointCoords=function(){return p?l:[0,0]};this.GetCoordinates=function(){return l};this.GetExtent=function(){var a=[0,0,0,0];q&&(a=ol.extent.applyTransform(q.getExtent(),ol.proj.getTransform(tf.consts.olSystem,tf.consts.tmSystem)));return a};this.GetClosestPoint=function(a){var b;q&&tf.js.GetIsArrayWithMinLength(a,2)&&(b=a.slice(0),b=tf.units.TM2OL(b),b=q.getClosestPoint(b))&&(b=tf.units.OL2TM(b));
return b};this.GetLength=function(){var a=0;h.GetIsPoint()||(a=tf.units.GetTotalHaversineDistanceInMeters("polygon"==m?l[0]:l));return a};this.GetArea=function(){var a=0;h.GetIsPoint()||(a="polygon"==m,a=tf.js.CalcPolyAreaInSquareMeters(a?l[0]:l,a));return a};this.GetContainsCoords=function(a){return"polygon"==m?q.intersectsCoordinate(tf.units.TM2OL(a)):!1};this.getAPIGeom=function(){return q};h=this;(function(){var h={point:c,polygon:e,linestring:b,multilinestring:d,multipoint:g,multipolygon:f};
tf.js.GetIsValidObject(a)||(a={type:"point",coordinates:[0,0]});m=a.type;tf.js.GetIsNonEmptyString(m)&&void 0!==h[m=m.toLowerCase()]&&tf.js.GetIsNonEmptyArray(a.coordinates)||(m="point",a.coordinates=[0,0]);n=h[m];l=(p="point"===m)?tf.js.GetIsArrayWithMinLength(a.coordinates,2)?a.coordinates.slice(0):[0,0]:a.coordinates.slice(0);r=a.simplifyTolerance;tf.js.GetIsNonEmptyArray(l)&&k()})()};
tf.map.PostComposeAnimator=function(a){function c(){f.Render()}function e(){b&&(b.OnDelete(),b=null,setTimeout(c,10))}function d(a){if(void 0!==g){var b=(new Date).getTime()-g;b>k?e():(h(a.sender,a.showFeatureImmediately,tf.js.GetFloatNumberInRange(b/k,0,1,1)),a.continueAnimation())}}var b,g,f,k,h;this.Start=function(){void 0===g&&f&&(g=(new Date).getTime(),c())};this.Stop=function(){return e()};this.IsAnimating=function(){return void 0!==g&&!b};f=tf.js.GetMapFrom(a.map);tf.js.GetIsMap(f)&&(h=tf.js.GetFunctionOrNull(a.animationFunction))?
(k=tf.js.GetFloatNumberInRange(a.duration,1E3,1E4,100),b=f.AddListener(tf.consts.mapPostComposeEvent,d)):h=f=null};
tf.map.GeometriesStyleAnimator=function(a){function c(a){var b=4+16*Math.pow(a,.5),d=1-Math.pow(a,3);return{circle:!0,circle_radius:b,snapToPixel:!1,line:!0,line_width:2-a,line_color:tf.js.GetRandomHexColorStr(),line_alpha:100*d}}function e(a,c,e){a=b(e);for(var g in d)e=new tf.map.Feature({geom:d[g],style:a}),c(e)}var d,b,g;this.Start=function(){g&&g.Start()};this.Stop=function(){g&&g.Stop()};this.IsAnimating=function(){return g?g.IsAnimating():!1};(b=tf.js.GetFunctionOrNull(a.getStyle))||(b=c);
(d=a.geometries)&&"object"===typeof d&&(g=new tf.map.PostComposeAnimator({map:a.map,duration:a.duration,animationFunction:e}))};
tf.map.PointsStyleAnimator=function(a){a=tf.js.GetValidObjectFrom(a);var c=a.maps,e=a.pointProviders;if(tf.js.GetIsValidObject(c)&&tf.js.GetIsValidObject(e)){var d=[],b,g;for(g in e){var f=e[g];if(tf.js.GetIsValidObject(f)){var k;tf.js.GetFunctionOrNull(f.GetPointCoords)?k=f.GetPointCoords():tf.js.GetIsArrayWithMinLength(f,2)&&(k=f);k&&d.push(k)}}d.length&&(b=new tf.map.FeatureGeom({type:"multipoint",coordinates:d}));if(e=b){var d=[],h;for(h in c)(b=tf.js.GetMapFrom(c[h]))&&d.push(new tf.map.GeometriesStyleAnimator({map:b,
geometries:[e],getStyle:a.getStyle,duration:a.duration}));if(0<d.length)for(h in d)d[h].Start()}}};
tf.math.Vector3=function(a){function c(a,b,c){tf.js.GetIsValidObject(a)&&(tf.js.GetIsArrayWithMinLength(a,3)?(c=a[2],b=a[1],a=a[0]):(c=a.z,b=a.y,a=a.x));e[0]=tf.js.GetFloatNumber(a,0);e[1]=tf.js.GetFloatNumber(b,0);e[2]=tf.js.GetFloatNumber(c,0)}var e;this.length=function(){return 3};this.Update=function(a,b,e){return c(a,b,e)};this.GetSettings=function(){return{x:e[0],y:e[1],z:e[2]}};this.GetAsJSArray=function(){return[x,y,z]};this.GetAsFloat32Array=function(){return new Float32Array(e.GetAsJSArray())};
this.CopyFrom=function(a){e[0]=a[0];e[1]=a[1];e[2]=a[2];a&&(e[0]=a[0],e[1]=a[1],e[2]=a[2]);return e};this.CopyTo=function(a){a&&(a[0]=e[0],a[1]=e[1],a[2]=e[2]);return a};this.GetMagnitude=function(){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]};this.GetLength=function(){return Math.sqrt(e.GetMagnitude())};this.Normalize=function(){var a=e.GetMagnitude();0!=a&&1!=a&&e.MultByScalar(1/Math.sqrt(a));return e};this.MultByScalar=function(a){"number"==typeof a&&1!=a&&(e[0]*=a,e[1]*=a,e[2]*=a);return e};this.MultByMatrix=
function(a){if(a){var b=e[0],c=e[1],f=e[2];a=a.getMatrix();var k=a.m44+b*a.m14+c*a.m24+f*a.m34;e[0]=a.m41+b*a.m11+c*a.m21+f*a.m31;e[1]=a.m42+b*a.m12+c*a.m22+f*a.m32;e[2]=a.m43+b*a.m13+c*a.m23+f*a.m33;1!=k&&0!=k&&(k=1/k,e[0]*=k,e[1]*=k,e[2]*=k)}return e};this.MultDirectionByMatrix=function(a){if(a){var b=e[0],c=e[1],f=e[2];a=a.getMatrix();e[0]=b*a.m11+c*a.m21+f*a.m31;e[1]=b*a.m12+c*a.m22+f*a.m32;e[2]=b*a.m13+c*a.m23+f*a.m33}return e};this.Dot=function(a){return a?e[0]*a[0]+e[1]*a[1]+e[2]*a[2]:0};this.Cross=
function(a){var b=e[1]*a[2]-e[2]*a[1],c=-e[0]*a[2]+e[2]*a[0];e[2]=e[0]*a[1]-e[1]*a[0];e[0]=b;e[1]=c;return e};this.CrossRight=function(a){var b=a[1]*e[2]-a[2]*e[1],c=-a[0]*e[2]+a[2]*e[0];e[2]=a[0]*e[1]-a[1]*e[0];e[0]=b;e[1]=c;return e};this.Add=function(a){a&&(e[0]+=a[0],e[1]+=a[1],e[2]+=a[2]);return e};this.Sub=function(a){a&&(e[0]-=a[0],e[1]-=a[1],e[2]-=a[2]);return e};e=this;a=tf.js.GetValidObjectFrom(a);a.vector?e.CopyFrom(a.vector):c(a)};
tf.math.GetDeterminant2x2=function(a,c,e,d){return a*d-c*e};tf.math.GetDeterminant3x3=function(a,c,e,d,b,g,f,k,h){return a*tf.math.GetDeterminant2x2(b,g,k,h)-d*tf.math.GetDeterminant2x2(c,e,k,h)+f*tf.math.GetDeterminant2x2(c,e,b,g)};tf.math.GetDeterminant4x4=function(a,c,e,d,b,g,f,k,h,l,n,m,p,q,r,A){return a*tf.math.GetDeterminant3x3(g,l,q,f,n,r,k,m,A)-c*tf.math.GetDeterminant3x3(b,h,p,f,n,r,k,m,A)+e*tf.math.GetDeterminant3x3(b,h,p,g,l,q,k,m,A)-d*tf.math.GetDeterminant3x3(b,h,p,g,l,q,f,n,r)};
tf.math.GetCSSMatrixInfo=function(){void 0==tf.math.hasCSSMatrix&&((tf.math.hasCSSMatrix="WebKitCSSMatrix"in window&&"media"in window&&window.media.matchMedium("(-webkit-transform-3d)")||"styleMedia"in window&&window.styleMedia.matchMedium("(-webkit-transform-3d)"))?tf.math.hasCSSMatrixCopy="copy"in WebKitCSSMatrix.prototype:tf.math.hasCSSMatrixCopy=!1);return{hasCSSMatrix:tf.math.hasCSSMatrix,hasCSSMatrixCopy:tf.math.hasCSSMatrixCopy}};
tf.math.Matrix4=function(a){function c(a){a instanceof tf.math.Matrix4?(a=a.getMatrix(),h.m11=a.m11,h.m12=a.m12,h.m13=a.m13,h.m14=a.m14,h.m21=a.m21,h.m22=a.m22,h.m23=a.m23,h.m24=a.m24,h.m31=a.m31,h.m32=a.m32,h.m33=a.m33,h.m34=a.m34,h.m41=a.m41,h.m42=a.m42,h.m43=a.m43,h.m44=a.m44):tf.js.GetIsArrayWithMinLength(a,16)&&(h.m11=a[0],h.m21=a[1],h.m31=a[2],h.m41=a[3],h.m12=a[4],h.m22=a[5],h.m32=a[6],h.m42=a[7],h.m13=a[8],h.m23=a[9],h.m33=a[10],h.m43=a[11],h.m14=a[12],h.m24=a[13],h.m34=a[14],h.m44=a[15]);
return k}function e(){return[h.m11,h.m12,h.m13,h.m14,h.m21,h.m22,h.m23,h.m24,h.m31,h.m32,h.m33,h.m34,h.m41,h.m42,h.m43,h.m44]}function d(){h.m11=1;h.m12=0;h.m13=0;h.m14=0;h.m21=0;h.m22=1;h.m23=0;h.m24=0;h.m31=0;h.m32=0;h.m33=1;h.m34=0;h.m41=0;h.m42=0;h.m43=0;h.m44=1;return k}function b(){var a=h.m11,b=h.m12,c=h.m13,d=h.m14,e=h.m21,f=h.m22,g=h.m23,t=h.m24,w=h.m31,v=h.m32,u=h.m33,B=h.m34,E=h.m41,D=h.m42,F=h.m43,C=h.m44;h.m11=tf.math.GetDeterminant3x3(f,v,D,g,u,F,t,B,C);h.m21=-tf.math.GetDeterminant3x3(e,
w,E,g,u,F,t,B,C);h.m31=tf.math.GetDeterminant3x3(e,w,E,f,v,D,t,B,C);h.m41=-tf.math.GetDeterminant3x3(e,w,E,f,v,D,g,u,F);h.m12=-tf.math.GetDeterminant3x3(b,v,D,c,u,F,d,B,C);h.m22=tf.math.GetDeterminant3x3(a,w,E,c,u,F,d,B,C);h.m32=-tf.math.GetDeterminant3x3(a,w,E,b,v,D,d,B,C);h.m42=tf.math.GetDeterminant3x3(a,w,E,b,v,D,c,u,F);h.m13=tf.math.GetDeterminant3x3(b,f,D,c,g,F,d,t,C);h.m23=-tf.math.GetDeterminant3x3(a,e,E,c,g,F,d,t,C);h.m33=tf.math.GetDeterminant3x3(a,e,E,b,f,D,d,t,C);h.m43=-tf.math.GetDeterminant3x3(a,
e,E,b,f,D,c,g,F);h.m14=-tf.math.GetDeterminant3x3(b,f,v,c,g,u,d,t,B);h.m24=tf.math.GetDeterminant3x3(a,e,w,c,g,u,d,t,B);h.m34=-tf.math.GetDeterminant3x3(a,e,w,b,f,v,d,t,B);h.m44=tf.math.GetDeterminant3x3(a,e,w,b,f,v,c,g,u);return k}function g(a){"number"==typeof a&&1!=a&&(h.m11*=a,h.m12*=a,h.m13*=a,h.m14*=a,h.m21*=a,h.m22*=a,h.m23*=a,h.m24*=a,h.m31*=a,h.m32*=a,h.m33*=a,h.m34*=a,h.m41*=a,h.m42*=a,h.m43*=a,h.m44*=a);return k}function f(){return tf.math.GetDeterminant4x4(h.m11,h.m12,h.m13,h.m14,h.m21,
h.m22,h.m23,h.m24,h.m31,h.m32,h.m33,h.m34,h.m41,h.m42,h.m43,h.m44)}var k,h;this.GetInStaticFloat32Array=function(){void 0==tf.math.Matrix4.staticFloat32Array&&(tf.math.Matrix4.staticFloat32Array=new Float32Array(16));tf.math.hasCSSMatrixCopy?h.copy(tf.math.Matrix4.staticFloat32Array):(void 0==tf.math.Matrix4.staticJSArray&&(tf.math.Matrix4.staticJSArray=Array(16)),tf.math.Matrix4.staticJSArray[0]=h.m11,tf.math.Matrix4.staticJSArray[1]=h.m12,tf.math.Matrix4.staticJSArray[2]=h.m13,tf.math.Matrix4.staticJSArray[3]=
h.m14,tf.math.Matrix4.staticJSArray[4]=h.m21,tf.math.Matrix4.staticJSArray[5]=h.m22,tf.math.Matrix4.staticJSArray[6]=h.m23,tf.math.Matrix4.staticJSArray[7]=h.m24,tf.math.Matrix4.staticJSArray[8]=h.m31,tf.math.Matrix4.staticJSArray[9]=h.m32,tf.math.Matrix4.staticJSArray[10]=h.m33,tf.math.Matrix4.staticJSArray[11]=h.m34,tf.math.Matrix4.staticJSArray[12]=h.m41,tf.math.Matrix4.staticJSArray[13]=h.m42,tf.math.Matrix4.staticJSArray[14]=h.m43,tf.math.Matrix4.staticJSArray[15]=h.m44,tf.math.Matrix4.staticFloat32Array.set(tf.math.Matrix4.staticJSArray));
return tf.math.Matrix4.staticFloat32Array};this.GetAsJSArray=function(){return e()};this.GetAsFloat32Array=function(){var a;tf.math.hasCSSMatrix?(a=new Float32Array(16),h.copy(a)):a=new Float32Array(e());return a};this.CopyTo=function(a){a instanceof tf.math.Matrix4&&a.CopyFrom(k);return k};this.CopyFrom=function(a){return c(a)};this.ToIdentity=function(){return d()};this.ToTransposed=function(){var a=h.m12;h.m12=h.m21;h.m21=a;a=h.m13;h.m13=h.m31;h.m31=a;a=h.m14;h.m14=h.m41;h.m41=a;a=h.m23;h.m23=
h.m32;h.m32=a;a=h.m24;h.m24=h.m42;h.m42=a;a=h.m34;h.m34=h.m43;h.m43=a;return k};this.ToInverse=function(){if(tf.math.hasCSSMatrix)try{h=h.inverse()}catch(a){}else{var c=f();1E-8<=Math.abs(c)&&(b(),g(1/c))}return k};this.ToAdjoint=function(){return b};this.MultByMatrix=function(a){if(a instanceof tf.math.Matrix4)if(a=a.getMatrix(),tf.math.hasCSSMatrix)h=h.multiply(a);else{var b=a.m11*h.m12+a.m12*h.m22+a.m13*h.m32+a.m14*h.m42,c=a.m11*h.m13+a.m12*h.m23+a.m13*h.m33+a.m14*h.m43,d=a.m11*h.m14+a.m12*h.m24+
a.m13*h.m34+a.m14*h.m44,e=a.m21*h.m11+a.m22*h.m21+a.m23*h.m31+a.m24*h.m41,f=a.m21*h.m12+a.m22*h.m22+a.m23*h.m32+a.m24*h.m42,g=a.m21*h.m13+a.m22*h.m23+a.m23*h.m33+a.m24*h.m43,t=a.m21*h.m14+a.m22*h.m24+a.m23*h.m34+a.m24*h.m44,w=a.m31*h.m11+a.m32*h.m21+a.m33*h.m31+a.m34*h.m41,v=a.m31*h.m12+a.m32*h.m22+a.m33*h.m32+a.m34*h.m42,u=a.m31*h.m13+a.m32*h.m23+a.m33*h.m33+a.m34*h.m43,B=a.m31*h.m14+a.m32*h.m24+a.m33*h.m34+a.m34*h.m44,E=a.m41*h.m11+a.m42*h.m21+a.m43*h.m31+a.m44*h.m41,D=a.m41*h.m12+a.m42*h.m22+a.m43*
h.m32+a.m44*h.m42,F=a.m41*h.m13+a.m42*h.m23+a.m43*h.m33+a.m44*h.m43,C=a.m41*h.m14+a.m42*h.m24+a.m43*h.m34+a.m44*h.m44;h.m11=a.m11*h.m11+a.m12*h.m21+a.m13*h.m31+a.m14*h.m41;h.m12=b;h.m13=c;h.m14=d;h.m21=e;h.m22=f;h.m23=g;h.m24=t;h.m31=w;h.m32=v;h.m33=u;h.m34=B;h.m41=E;h.m42=D;h.m43=F;h.m44=C}return k};this.MultByScalar=function(a){return g(a)};this.GetDeterminant=function(){return f()};this.getMatrix=function(){return h};this.setMatrix=function(a){a&&(h=a)};k=this;a=tf.js.GetValidObjectFrom(a);tf.math.GetCSSMatrixInfo();
h=tf.math.hasCSSMatrix?new WebKitCSSMatrix:{};a.matrix instanceof tf.math.Matrix4||tf.js.GetIsArrayWithMinLength(a.matrix,16)?c(a.matrix):a.noInit||d()};
tf.math.ScaleMatrix4=function(a){function c(a,c,h){var l;tf.js.GetIsValidObject(a)&&((l=a instanceof tf.math.Matrix4)?e.CopyFrom(a):(h=a.sz,c=a.sy,a=a.sx));l||(l=e.getMatrix(),l.m11=d=tf.js.GetFloatNumber(a,1),l.m22=b=tf.js.GetFloatNumber(c,1),l.m33=g=tf.js.GetFloatNumber(h,1));return e}var e,d,b,g;this.SetScale=function(a,b,d){return c(a,b,d)};this.GetScale=function(){return{sx:d,sy:b,sz:g}};e=this;tf.math.Matrix4.call(e);c(a=tf.js.GetValidObjectFrom(a))};tf.js.InheritFrom(tf.math.ScaleMatrix4,tf.math.Matrix4);
tf.math.RotateMatrix4=function(a){function c(a,c,l,n){var m;tf.js.GetIsValidObject(a)&&((m=a instanceof tf.math.Matrix4)?e.CopyFrom(a):(n=a.axisz,l=a.axisy,c=a.axisx,a=a.angle));if(!m&&(m=e.getMatrix(),e.ToIdentity(),d=tf.js.GetFloatNumber(a,0),b=tf.js.GetFloatNumber(c,0),g=tf.js.GetFloatNumber(l,0),f=tf.js.GetFloatNumber(n,0),0!=d&&(0!=b||0!=g||0!=f)))if(tf.math.hasCSSMatrix)e.setMatrix(m.rotateAxisAngle(b,g,f,180*d/Math.PI));else{d/=2;a=Math.sin(d);c=Math.cos(d);l=a*a;n=b;var p=g,q=f,r=Math.sqrt(n*
n+p*p+q*q);0==r?(p=n=0,q=1):1!=r&&(n/=r,p/=r,q/=r);if(1==n&&0==p&&0==q)m.m11=1,m.m12=m.m13=m.m21=m.m31=0,m.m22=1-2*l,m.m23=2*a*c,m.m32=-2*a*c,m.m33=1-2*l;else if(0==n&&1==p&&0==q)m.m11=1-2*l,m.m12=m.m21=m.m23=m.m32=0,m.m13=-2*a*c,m.m22=1,m.m31=2*a*c,m.m33=1-2*l;else if(0==n&&0==p&&1==q)m.m11=1-2*l,m.m12=2*a*c,m.m13=m.m23=m.m31=m.m32=0,m.m21=-2*a*c,m.m22=1-2*l,m.m33=1;else{var r=n*n,A=p*p,t=q*q;m.m11=1-2*(A+t)*l;m.m12=2*(n*p*l+q*a*c);m.m13=2*(n*q*l-p*a*c);m.m21=2*(p*n*l-q*a*c);m.m22=1-2*(t+r)*l;m.m23=
2*(p*q*l+n*a*c);m.m31=2*(q*n*l+p*a*c);m.m32=2*(q*p*l-n*a*c);m.m33=1-2*(r+A)*l}m.m14=m.m24=m.m34=m.m41=m.m42=m.m43=0;m.m44=1}return e}var e,d,b,g,f;this.SetRotateAngleAxis=function(a,b,d,e){return c(a,b,d,e)};this.GetRotate=function(){return{angle:d,axisx:b,axisy:g,axisz:f}};e=this;tf.math.Matrix4.call(e,{noInit:!0});c(a=tf.js.GetValidObjectFrom(a))};tf.js.InheritFrom(tf.math.RotateMatrix4,tf.math.Matrix4);
tf.math.TranslateMatrix4=function(a){function c(a,c,h){var l;tf.js.GetIsValidObject(a)&&((l=a instanceof tf.math.Matrix4)?e.CopyFrom(a):(h=a.tz,c=a.ty,a=a.tx));l||(l=e.getMatrix(),l.m41=d=tf.js.GetFloatNumber(a,0),l.m42=b=tf.js.GetFloatNumber(c,0),l.m43=g=tf.js.GetFloatNumber(h,0));return e}var e,d,b,g;this.SetTranslate=function(a,b,d){return c(a,b,d)};this.GetTranslate=function(){return{tx:d,ty:b,tz:g}};e=this;tf.math.Matrix4.call(e);c(a=tf.js.GetValidObjectFrom(a))};
tf.js.InheritFrom(tf.math.TranslateMatrix4,tf.math.Matrix4);
tf.math.WorldMatrix4=function(a){function c(a){var c;tf.js.GetIsValidObject(a)&&!(c=tf.js.GetIsValidObject(a.matrix))&&(tf.js.GetIsValidObject(a.scale)&&(void 0===d?d=new tf.math.ScaleMatrix4(a.scale):d.SetScale(a.scale)),tf.js.GetIsValidObject(a.rotate)&&(void 0===b?b=new tf.math.RotateMatrix4(a.rotate):b.SetRotateAngleAxis(a.rotate)),tf.js.GetIsValidObject(a.translate)&&(void 0===g?g=new tf.math.TranslateMatrix4(a.translate):g.SetTranslate(a.translate)));c?e.CopyFrom(a.matrix):(e.ToIdentity(),void 0!==
g&&e.MultByMatrix(g),void 0!==b&&e.MultByMatrix(b),void 0!==d&&e.MultByMatrix(d));return e}var e,d,b,g;this.UpdateWorld=function(a){return c(a)};this.GetScale=function(){return d};this.GetTranslate=function(){return g};this.GetRotate=function(){return b};e=this;tf.math.Matrix4.call(e,{noInit:!0});c(tf.js.GetValidObjectFrom(a))};tf.js.InheritFrom(tf.math.WorldMatrix4,tf.math.Matrix4);
tf.math.ViewMatrix4=function(a){function c(a){a=tf.js.GetValidObjectFrom(a);b=tf.js.GetIsArrayWithMinLength(a.vFrom,3)?a.vFrom:[0,0,1];g=void 0!==a.vTo?a.vTo:[0,0,0];f=void 0!==a.vUp?a.vUp:[0,1,0];a=b[0];var c=b[1],p=b[2],q=f[0],r=f[1],A=f[2],t=a-g[0],w=c-g[1],v=p-g[2],u=Math.sqrt(t*t+w*w+v*v);0!=u&&1!=u&&(u=1/u,t*=u,w*=u,v*=u);k=[t,w,v];u=Math.sqrt(q*q+r*r+A*A);0!=u&&1!=u&&(u=1/u,q*=u,r*=u,A*=u);var B=r*v-A*w,E=A*t-q*v,D=q*w-r*t,u=Math.sqrt(B*B+E*E+D*D);0!=u&&1!=u&&(u=1/u,B*=u,E*=u,D*=u);l=[B,E,
D];q=w*D-v*E;r=v*B-t*D;A=t*E-w*B;u=Math.sqrt(q*q+r*r+A*A);0!=u&&1!=u&&(u=1/u,q*=u,r*=u,A*=u);h=[q,r,A];u=d.getMatrix();u.m14=u.m24=u.m34=0;u.m44=1;u.m11=B;u.m12=E;u.m13=D;u.m21=q;u.m22=r;u.m23=A;u.m31=t;u.m32=w;u.m33=v;u.m41=a;u.m42=c;u.m43=p;e.CopyFrom(d);e.ToInverse();return e}var e,d,b,g,f,k,h,l;this.GetInverse=function(){return d};this.UpdateView=function(a){return c(a)};this.GetView=function(){return{vFrom:b,vTo:g,vUp:f,vUnitTo:k,vUnitUp:h,vUnitRight:l}};e=this;(function(){var b={noInit:!0};
d=new tf.math.Matrix4(b);tf.math.Matrix4.call(e,b);c(a)})()};tf.js.InheritFrom(tf.math.ViewMatrix4,tf.math.Matrix4);
tf.math.FrustumMatrix4=function(a){function c(a){a=tf.js.GetValidObjectFrom(a);d=tf.js.GetFloatNumber(a.left,-1);b=tf.js.GetFloatNumber(a.right,1);g=tf.js.GetFloatNumber(a.bottom,-1);f=tf.js.GetFloatNumber(a.top,1);k=tf.js.GetFloatNumber(a.near,1);h=tf.js.GetFloatNumber(a.far,1E3);a=k+k;var c=b-d,q=0==c?1:1/c,r=f-g,A=0==r?1:1/r,t=k-h,t=0==t?1:1/t,w=e.getMatrix();l=c/2;n=r/2;w.m12=w.m13=w.m14=w.m21=w.m23=w.m24=w.m41=w.m42=w.m44=0;w.m34=-1;w.m11=a*q;w.m22=a*A;w.m31=(b+d)*q;w.m32=(f+g)*A;w.m33=(h+k)*
t;w.m43=h*a*t;return e}var e,d,b,g,f,k,h,l,n;this.UpdateFrustum=function(a){return c(a)};this.GetFrustum=function(){return{left:d,right:b,top:f,bottom:g,near:k,far:h,halfWidth:l,halfHeight:n}};e=this;tf.math.Matrix4.call(e,{noInit:!0});tf.js.GetIsValidObject(a)&&a.noInit||c(a)};tf.js.InheritFrom(tf.math.FrustumMatrix4,tf.math.Matrix4);
tf.math.PerspectiveFOVMatrix4=function(a){function c(a){k=tf.js.GetFloatNumberInRange(a,1E-7,99999999,1);h=Math.tan(f/2);a=h*b;var c=-a;d.UpdateFrustum({left:k*c,right:k*a,top:a,bottom:c,near:b,far:g});return d}function e(a){a=tf.js.GetValidObjectFrom(a);b=tf.js.GetFloatNumberInRange(a.near,1E-4,9999999,1);g=tf.js.GetFloatNumberInRange(a.far,1E-4,9999999,1);f=tf.js.GetFloatNumberInRange(a.fovy,Math.PI/64,2*Math.PI,Math.PI/6);return c(a.aspect)}var d,b,g,f,k,h;this.UpdatePerspective=function(a){return e(a)};
this.UpdateAspect=function(a){return c(a)};this.GetPerspective=function(){return{fovy:f,aspect:k,tangent:h,frustum:d.GetFrustum()}};d=this;tf.math.FrustumMatrix4.call(d,{noInit:!0});e(a)};tf.js.InheritFrom(tf.math.PerspectiveFOVMatrix4,tf.math.FrustumMatrix4);
tf.math.OrthoMatrix4=function(a){function c(a){a=tf.js.GetValidObjectFrom(a);var b=tf.js.GetFloatNumber(a.left,-1),c=tf.js.GetFloatNumber(a.right,1),f=tf.js.GetFloatNumber(a.bottom,-1),k=tf.js.GetFloatNumber(a.top,1),h=tf.js.GetFloatNumber(a.near,1);a=tf.js.GetFloatNumber(a.far,1E3);var l=(b+c)/(b-c),n=(k+f)/(k-f),m=(a+h)/(a-h),p=e.getMatrix();p.m12=p.m13=p.m14=p.m21=p.m23=p.m24=p.m31=p.m32=p.m34=0;p.m44=1;p.m11=2/(b-c);p.m22=2/(k-f);p.m33=-2/(a-h);p.m41=l;p.m42=n;p.m43=m}var e;this.UpdateOrtho=function(a){return c(a)};
e=this;tf.math.Matrix4.call(e,{noInit:!0});tf.js.GetIsValidObject(a)&&a.noInit||c(a)};tf.js.InheritFrom(tf.math.OrthoMatrix4,tf.math.Matrix4);tf.math.Plane=function(a){var c,e;this.Update=function(d){a=tf.js.GetValidObjectFrom(d);c=new tf.math.Vector3({vector:a.normal});c.Normalize();e=-c.Dot(a.point)};this.GetDistanceTo=function(a){return e+c.Dot(a)};this.Update(a)};
tf.math.ViewFrustum=function(a){function c(){return void 0==d}function e(){if(!c()){var a=d.GetPerspective(),e=a.frustum,m=b.GetView();C=a.tangent;G=a.aspect;F=e.near;D=e.far;p.CopyFrom(m.vFrom);q.CopyFrom(m.vUnitRight);r.CopyFrom(m.vUnitUp);A.CopyFrom(m.vUnitTo);B=e.halfWidth;E=e.halfHeight;t.CopyFrom(p);v.CopyFrom(A);v.MultByScalar(-F);t.Add(v);w.CopyFrom(p);v.CopyFrom(A);v.MultByScalar(-D);w.Add(v);v.CopyFrom(A);f.Update({normal:v,point:w});v.MultByScalar(-1);g.Update({normal:v,point:t});v.CopyFrom(r);
v.MultByScalar(E);v.Add(t);u.CopyFrom(v);u.Sub(p);u.Normalize();u.Cross(q);l.Update({normal:u,point:v});v.CopyFrom(r);v.MultByScalar(-E);v.Add(t);u.CopyFrom(v);u.Sub(p);u.Normalize();u.CrossRight(q);n.Update({normal:u,point:v});v.CopyFrom(q);v.MultByScalar(-B);v.Add(t);u.CopyFrom(v);u.Sub(p);u.Normalize();u.Cross(r);k.Update({normal:u,point:v});v.CopyFrom(q);v.MultByScalar(B);v.Add(t);u.CopyFrom(v);u.Sub(p);u.Normalize();u.CrossRight(r);h.Update({normal:u,point:v})}}var d,b,g,f,k,h,l,n,m,p,q,r,A,
t,w,v,u,B,E,D,F,C,G;this.GetSphereIsVisible=function(a,b){var d={isVisible:!0,intersects:0};if(!c())for(var e=0;6>e;++e){var f=m[e].GetDistanceTo(a);if(f<-b){d.isVisible=!1;break}else f<b&&++d.intersects}return d};this.GetIsPointVisible=function(a){if(!c()){var b;v.CopyFrom(a);v.Sub(p);b=-v.Dot(A);if(b>D||b<F)return!1;a=v.Dot(r);b*=C;if(a>b||a<-b)return!1;a=v.Dot(q);b*=G;if(a>b||a<-b)return!1}return!0};this.GetIsPointVisibleByPlanes=function(a){if(!c())for(var b=0;6>b;++b)if(0>m[b].GetDistanceTo(a))return!1;
return!0};this.OnUpdate=function(){return e()};this.OnDelete=function(){c()||(d=b=g=f=k=h=l=n=m=void 0)};this.IsDeleted=function(){return c()};tf.js.GetIsValidObject(a)&&tf.js.GetIsInstanceOf(a.view,tf.math.ViewMatrix4)&&tf.js.GetIsInstanceOf(a.perspective,tf.math.PerspectiveFOVMatrix4)&&(b=a.view,d=a.perspective,g=new tf.math.Plane,f=new tf.math.Plane,k=new tf.math.Plane,h=new tf.math.Plane,l=new tf.math.Plane,n=new tf.math.Plane,m=[l,n,k,h,g,f],q=new tf.math.Vector3,r=new tf.math.Vector3,A=new tf.math.Vector3,
p=new tf.math.Vector3,v=new tf.math.Vector3,u=new tf.math.Vector3,t=new tf.math.Vector3,w=new tf.math.Vector3,e())};tf.webgl={};tf.g_WebGL=null;tf.webgl.GetWebGL=function(){tf.g_WebGL||(tf.g_WebGL=new tf.webgl.WebGL);return tf.g_WebGL};
tf.webgl.WebGL=function(a){function c(){var a=["experimental-webgl","webgl","webkit-3d","moz-webgl"],b=document.createElement("canvas"),c;for(c in a)try{var d=a[c],l=b.getContext(d);if(l&&tf.js.GetFunctionOrNull(l.getParameter)){e=d;break}}catch(n){}}var e,d,b;this.RequestAnimFrame=function(a,b){return tf.js.GetFunctionOrNull(a)?d(a,b):void 0};this.CancelAnimFrame=function(a){return void 0!==a?b(a):void 0};this.GetHasWebGL=function(){return void 0!==e};this.GetContextName=function(){return e};(function(){d=
window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){return window.setTimeout(a,1E3/60)};b=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout;window.WebGLRenderingContext&&c()})()};
tf.webgl.Context=function(a){function c(){return void 0==m}function e(a,b){var d=c()?void 0:new a(u);void 0===d||b||M.push(d);return d}function d(a){(a=e(a,!0))&&R.push(a);return a}function b(){if(!c()&&!Z){Z=document.createElement("canvas");Z.width=Z.height=1;var a=Z.getContext("2d");a.beginPath();a.clearRect(-1,-1,2,2);a.closePath()}return Z}function g(){!c&&n&&void 0!==A&&(n.CancelAnimFrame(A),A=void 0)}function f(a){a.preventDefault();Q=!0;g();a=function(a){a.OnLostDevice()};U.ForEach(a);T.ForEach(a);
O.ForEach(a);for(var b in M)M[b].OnLostDevice();for(b in R)R[b].OnLostDevice();w&&w({sender:l})}function k(){Q=!1;h();var a=function(a){a.OnRestoredDevice()};U.ForEach(a);T.ForEach(a);O.ForEach(a);for(var b in M)M[b].OnRestoredDevice();for(b in R)R[b].OnRestoredDevice();v&&v({sender:l})}function h(){m=p.getContext(n.GetContextName(),a.optionalAttributes);Q=m.isContextLost();K=m.getExtension("WEBGL_lose_context");m.getExtension("OES_element_index_uint");m.getExtension("OES_standard_derivatives")}var l,
n,m,p,q,r,A,t,w,v,u,B,E,D,F,C,G,H,I,J,K,N,Q,M,R,O,T,U,S,Z,X;this.RegisterTexture2=function(a){return O.Add(a)};this.UnRegisterTexture2=function(a){return O.Del(a)};this.RegisterBuffer=function(a){return T.Add(a)};this.UnRegisterBuffer=function(a){return T.Del(a)};this.RegisterFrameBuffer=function(a){return U.Add(a)};this.UnRegisterFrameBuffer=function(a){return U.Del(a)};this.RegisterForPick=function(a){return S.Add(a)};this.UnRegisterForPick=function(a){return S.Del(a)};this.GetPickObject=function(a){return S.Get(a)};
this.IsContextLost=function(){return Q};this.LoseContext=function(){c()||K&&K.loseContext()};this.RestoreContext=function(){c()||K&&K.restoreContext()};this.IsDeleted=function(){return c()};this.OnDelete=function(){if(!c()){q&&q.OnDelete();r&&r.OnDelete();if(R)for(var a in R)R[a].OnDelete();X&&X.OnDelete();N&&N.OnDelete();S&&S.Empty();O&&O.Empty();T&&T.Empty();U&&U.Empty();S=O=T=U=N=X=R=q=r=m=void 0}};this.GetOnePixelTransparentCanvas=function(){return b()};this.GetOnePixelTransparentTexture=function(){c()||
X||(X=new tf.webgl.Texture2({context:l,img:b(),flipVerticalBool:!1}));return X};this.GetFourColorTexture=function(){if(!N){var a;if(!c()){a=document.createElement("canvas");var b=a.getContext("2d");a.width=a.height=2;b.beginPath();b.fillStyle="#f00";b.fillRect(0,0,1,1);b.fillStyle="#0f0";b.fillRect(1,0,1,1);b.fillStyle="#00f";b.fillRect(0,1,1,1);b.fillStyle="#ff0";b.fillRect(1,1,1,1);b.closePath();a=new tf.webgl.Texture2({context:l,img:a,flipVerticalBool:!0})}N=a}return N};this.GetMaterialFS=function(){H||
(H=e(tf.webgl.MaterialFS));return H};this.GetMaterialVS=function(){I||(I=e(tf.webgl.MaterialVS));return I};this.GetMaterialProgram=function(){J||(J=d(tf.webgl.MaterialProgram));return J};this.GetTextureColorFS=function(){B||(B=e(tf.webgl.TextureColorFS));return B};this.GetTextureColorVS=function(){E||(E=e(tf.webgl.TextureColorVS));return E};this.GetTextureColorProgram=function(){D||(D=d(tf.webgl.TextureColorProgram));return D};this.GetTextureColorPickFS=function(){F||(F=e(tf.webgl.TextureColorPickFS));
return F};this.GetTextureColorPickVS=function(){C||(C=e(tf.webgl.TextureColorPickVS));return C};this.GetTextureColorPickProgram=function(){G||(G=d(tf.webgl.TextureColorPickProgram));return G};this.GetContext=function(){return m};this.GetCanvas=function(){return p};this.RequestAnimFrame=function(){c()||(g(),A=n?n.RequestAnimFrame(t,p):void 0)};this.CancelAnimFrame=function(){return g()};l=this;a=tf.js.GetValidObjectFrom(a);if(n=tf.webgl.GetWebGL())n.GetHasWebGL()?(M=[],R=[],S=new tf.js.Collection,
O=new tf.js.Collection({type:tf.webgl.Texture2}),T=new tf.js.Collection({type:tf.webgl.ArrayBuffer}),U=new tf.js.Collection({type:tf.webgl.FrameBuffer}),u={context:l,debug:!0},t=tf.js.GetFunctionOrNull(a.onFrame),w=tf.js.GetFunctionOrNull(a.onLost),v=tf.js.GetFunctionOrNull(a.onRestored),p=document.createElement("canvas"),q=new tf.events.AddDOMEventListener(p,"webglcontextlost",f),r=new tf.events.AddDOMEventListener(p,"webglcontextrestored",k),h()):n=void 0};
tf.webgl.Material=function(a){function c(a,b,c){b&&a.uniform3f(b,c[0],c[1],c[2])}function e(a,b){var c;void 0!==a?tf.js.GetIsArrayWithMinLength(a,3)?c=tf.js.GetFunctionOrNull(a.slice)?a.slice(0):[a[0],a[1],a[2]]:tf.js.GetIsValidObject(a)&&(a[0]=tf.js.GetFloatNumberInRange(a.r,0,1,b[0]),a[1]=tf.js.GetFloatNumberInRange(a.r,0,1,b[1]),a[2]=tf.js.GetFloatNumberInRange(a.r,0,1,b[2])):c=b;return c}this.GetSettings=function(){return a};this.SetUniforms=function(d,b){tf.js.GetIsValidObject(b)&&d&&(b.opacityShininessLoc&&
d.uniform4f(b.opacityShininessLoc,a.opacityF,a.shininessF,0,0),c(d,b.ambientColor3Loc,a.ambientColor3),c(d,b.diffuseColor3Loc,a.diffuseColor3),c(d,b.emissiveColor3Loc,a.emissiveColor3),c(d,b.specularColor3Loc,a.specularColor3))};a=tf.js.GetValidObjectFrom(a);a.name=tf.js.GetNonEmptyString(a.name,"unnamed");a.opacityF=tf.js.GetFloatNumberInRange(a.opacity,0,1,1);a.shininessF=tf.js.GetFloatNumberInRange(a.shininess,0,1,1);a.ambientColor3=e(a.ambient,[1,1,1]);a.diffuseColor3=e(a.diffuse,[0,0,0]);a.emissiveColor3=
e(a.emissive,[0,0,0]);a.specularColor3=e(a.specular,[1,1,1]);a.texFile=tf.js.GetNonEmptyString(a.texFile);delete a.opacity;delete a.shininess;delete a.ambient;delete a.diffuse;delete a.emissive;delete a.specular};
tf.webgl.ArrayBuffer=function(a){function c(){return void 0==g}function e(){c()||(f=g.GetContext().createBuffer(),d(a.data))}function d(a){if(!c()&&void 0!==f){var b=g.GetContext(),d=n?b.STREAM_DRAW:b.STATIC_DRAW;b.bindBuffer(l,f);b.bufferData(l,a,d);b.bindBuffer(l,null)}}var b,g,f,k,h,l,n,m,p,q,r,A,t,w;this.OnLostDevice=function(){if(!c()&&void 0!=f){var a=g.GetContext();a&&(a.deleteBuffer(f),f=void 0)}};this.OnRestoredDevice=function(){return e()};this.GetContext=function(){return g};this.GetCtx=
function(){return g?g.GetContext():void 0};this.GetLength=function(){return h};this.GetCount=function(){return m};this.GetType=function(){return l};this.IsIndices=function(){return n};this.GetBuffer=function(){return f};this.Bind=function(a){if(!c()&&void 0!==f){var b=g.GetContext();n?b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,f):0<=a&&(b.enableVertexAttribArray(a),b.bindBuffer(b.ARRAY_BUFFER,f),b.vertexAttribPointer(a,p,q,r,A,t))}};this.Update=function(a){return d(a)};this.GetData=function(){return k};
this.OnDelete=function(){c()||(g.UnRegisterBuffer(w),w=l=g=f=void 0,m=h=0,n=!1)};this.IsDeleted=function(){return c()};b=this;(function(){a=tf.js.GetValidObjectFrom(a);h=0;if(tf.js.GetIsNonEmptyArray(a.data)&&tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()){g=a.context;k=a.data;h=k.length;n=!!a.isIndices;p=void 0!==a.glSize?tf.js.GetIntNumberInRange(a.glSize,1,999999999,1):1;r=void 0!==a.normalized?!!a.normalized:!1;A=void 0!==a.stride?tf.js.GetIntNumberInRange(a.stride,
0,999999999,0):0;t=void 0!==a.offset?tf.js.GetIntNumberInRange(a.offset,0,999999999,0):0;var c=g.GetContext();l=n?c.ELEMENT_ARRAY_BUFFER:c.ARRAY_BUFFER;n?m=h:(q=void 0!==a.glType?a.glType:c.FLOAT,m=Math.floor(h/p));w=g.RegisterBuffer(b);e()}})()};
tf.webgl.PosBuffer=function(a){a=tf.js.GetValidObjectFrom(a);tf.js.GetIsNonEmptyArray(a.data)&&(a.glSize=3,0!=a.data.length%a.glSize&&tf.GetDebug().LogIfTest("tf.webgl.PosBuffer: Data length not multiple of "+a.glSize),a.isIndices=!1,tf.webgl.ArrayBuffer.call(this,a))};tf.js.InheritFrom(tf.webgl.PosBuffer,tf.webgl.ArrayBuffer);
tf.webgl.NorBuffer=function(a){a=tf.js.GetValidObjectFrom(a);tf.js.GetIsNonEmptyArray(a.data)&&(a.glSize=3,0!=a.data.length%a.glSize&&tf.GetDebug().LogIfTest("tf.webgl.NorBuffer: Data length not multiple of "+a.glSize),a.isIndices=!1,tf.webgl.ArrayBuffer.call(this,a))};tf.js.InheritFrom(tf.webgl.NorBuffer,tf.webgl.ArrayBuffer);
tf.webgl.Tex2DBuffer=function(a){a=tf.js.GetValidObjectFrom(a);tf.js.GetIsNonEmptyArray(a.data)&&(a.glSize=2,0!=a.data.length%a.glSize&&tf.GetDebug().LogIfTest("tf.webgl.Tex2DBuffer: Data length not multiple of "+a.glSize),a.isIndices=!1,tf.webgl.ArrayBuffer.call(this,a))};tf.js.InheritFrom(tf.webgl.Tex2DBuffer,tf.webgl.ArrayBuffer);
tf.webgl.IndexBuffer=function(a){var c,e;this.Draw=function(a){if(!c.IsDeleted()){var b=c.GetCtx();b&&b.drawElements(a?b.LINES:b.TRIANGLES,c.GetLength(),e,0)}};c=this;(function(){a=tf.js.GetValidObjectFrom(a);if(tf.js.GetIsNonEmptyArray(a.data)&&(a.isIndices=!0,tf.webgl.ArrayBuffer.call(c,a),!c.IsDeleted())){var d=c.GetCtx();e=a.is8?d.UNSIGNED_BYTE:a.is16?d.UNSIGNED_SHORT:a.is32?d.UNSIGNED_INT:d.UNSIGNED_BYTE}})()};tf.js.InheritFrom(tf.webgl.IndexBuffer,tf.webgl.ArrayBuffer);
tf.webgl.MergeBuffers=function(a){function c(a,b,c,d,e,f,h){var g=e.GetPos(),k=e.GetIndices(),m=e.GetNor(),p=e.GetTex2D(),l=g.GetLength();e=k.GetLength();for(var g=g.GetData(),k=k.GetData(),n=m?m.GetData():void 0,m=0;m<l;++m){var w=f+m;a[w]=g[m];b[w]=n?n[m]:1}if(c)for(a=Math.floor(2*l/3),b=p?p.GetData():void 0,m=0;m<a;++m)w=f+m,c[w]=b?b[m]:0;c=f/3;for(m=0;m<e;++m)d[h+m]=k[m]+c}function e(a,b,c){var d=0,e=0,h=void 0;if(tf.js.GetIsInstanceOf(a,tf.webgl.VertexBuffer)&&!a.IsDeleted()){var g=a.GetPos(),
m=a.GetIndices();if(g&&m){var p=a.GetContext();if(void 0==c||c==p)h=p,d=g.GetLength(),e=m.GetLength(),b.push(a),f||(f=!!a.GetNor()),k||(k=!!a.GetTex2D())}}return{nVertices:d,nIndices:e,context:h}}var d;if(tf.js.GetIsValidObject(a)){var b=0,g=0,f,k,h,l=[],n;for(n in a){var m=e(a[n],l,h);0<m.nVertices&&(b+=m.nVertices,g+=m.nIndices,h=m.context)}if(l.length){var p=new Float32Array(b);a=b/3;d=256>a;var m=65536>a,q=!m,g=d?new Uint8Array(g):m?new Uint16Array(g):new Uint32Array(g),r=f?new Float32Array(b):
void 0,b=k?new Float32Array(Math.floor(2*b/3)):void 0,A=0,t=0;for(n in l){var w=l[n];c(p,r,b,g,w,A,t);A+=w.GetPos().GetLength();t+=w.GetIndices().GetLength()}l=new tf.webgl.PosBuffer({context:h,data:p});d=new tf.webgl.IndexBuffer({context:h,data:g,is8:d,is16:m,is32:q});var m=r?new tf.webgl.NorBuffer({context:h,data:r}):void 0,q=b?new tf.webgl.Tex2DBuffer({context:h,data:b}):void 0,v;for(n in g)r=g[n],(0>r||r>=a)&&console.log("invalid index"),r==a-1&&(v=!0);v||console.log("no last index");d=new tf.webgl.VertexBuffer({cullFrontFace:!1,
context:h,pos:l,nor:m,tex2d:q,indices:d})}}return d};
tf.webgl.VertexBuffer=function(a){var c,e,d,b,g,f;this.OnLostDevice=function(){void 0!=c&&(d&&d.OnLostDevice(),b&&b.OnLostDevice(),g&&g.OnLostDevice(),f&&f.OnLostDevice(),e=void 0)};this.OnRestoredDevice=function(){void 0!=c&&(d&&d.OnRestoredDevice(),b&&b.OnRestoredDevice(),g&&g.OnRestoredDevice(),f&&f.OnRestoredDevice(),e=c.GetContext())};this.GetContext=function(){return c};this.GetPos=function(){return d};this.GetNor=function(){return b};this.GetTex2D=function(){return g};this.GetIndices=function(){return f};
this.BindBuffers=function(a,c,l){void 0!=e&&(0<=a&&(d?d.Bind(a):e.disableVertexAttribArray(a)),0<=c&&(b?b.Bind(c):e.disableVertexAttribArray(c)),0<=l&&(g?g.Bind(l):e.disableVertexAttribArray(l)),f&&f.Bind())};this.Draw=function(a){void 0==c||f.Draw(a)};this.OnDelete=function(a){void 0!=c&&(a&&(d&&d.OnDelete(),b&&b.OnDelete(),g&&g.OnDelete(),f&&f.OnDelete()),d=b=g=f=e=c=void 0)};this.IsDeleted=function(){return void 0==c};(function(){a=tf.js.GetValidObjectFrom(a);if(tf.js.GetIsInstanceOf(a.context,
tf.webgl.Context)&&a.context.GetContext()&&(void 0==a.pos||tf.js.GetIsInstanceOf(a.pos,tf.webgl.PosBuffer))&&(void 0==a.nor||tf.js.GetIsInstanceOf(a.nor,tf.webgl.NorBuffer))&&(void 0==a.tex2d||tf.js.GetIsInstanceOf(a.tex2d,tf.webgl.Tex2DBuffer))&&(void 0==a.indices||tf.js.GetIsInstanceOf(a.indices,tf.webgl.IndexBuffer))){c=a.context;e=c.GetContext();d=a.pos;b=a.nor;g=a.tex2d;if(d){var k=d.GetLength();b&&b.GetLength()!=k&&tf.GetDebug().LogIfTest("inconsistent number of pos / nor");g&&3*g.GetLength()/
2!=k&&tf.GetDebug().LogIfTest("inconsistent number of pos / tex2d")}f=a.indices}})()};
tf.webgl.MatTex2VertCombo=function(a){function c(){return void 0==k}function e(){if(!c){for(var a in k)k[a].OnDelete();k=[]}}function d(a){if(!c())if(tf.js.GetIsInstanceOf(a,tf.webgl.VertexBuffer))k.push(a);else if(tf.js.GetIsNonEmptyArray(a))for(var b in a)d(a[b])}var b,g,f,k;this.Render=function(a,d,e,m,p,q){if(!c()){b&&b.SetUniforms(a,q);var r=g?1:0,A=f?1:0;r&&g.Bind();A&&f.Bind();q.hasTextureLoc&&a.uniform1i(q.hasTextureLoc,r);q.hasNormalTextureLoc&&a.uniform1i(q.hasNormalTextureLoc,A);for(var t in k)a=
k[t],a.BindBuffers(d,e,m),a.Draw(p.useLines)}};this.GetVertCount=function(){return c()?0:k.length};this.MergeBuffers=function(){if(!c()&&1<k.length){var a=tf.webgl.MergeBuffers(k);a&&(e(),k=[a])}};this.AddVertexBuffer=function(a){return d(a)};this.OnDelete=function(a,d){c()||(a&&(g&&g.OnDelete(),f&&f.OnDelete()),d&&e(),b=g=f=k=void 0)};this.IsDeleted=function(){return c()};tf.js.GetIsValidObject(a)&&(tf.js.GetIsInstanceOf(a.material,tf.webgl.Material)&&(b=a.material),tf.js.GetIsInstanceOf(a.texture2,
tf.webgl.Texture2)&&(g=a.texture2),tf.js.GetIsInstanceOf(a.normalsTexture2,tf.webgl.Texture2)&&(f=a.normalsTexture2),k=[],d(a.vertices))};
tf.webgl.MatTex2VertComboList=function(a){function c(){return void 0==b}function e(a){if(!c())if(tf.js.GetIsInstanceOf(a,tf.webgl.MatTex2VertCombo))b.push(a);else if(tf.js.GetIsNonEmptyArray(a))for(var d in a)e(a[d])}function d(){if(!c())for(var a=b.length,d=0;d<a;++d)b[d].MergeBuffers()}var b;this.Render=function(a,d,e,h,l,n){if(!c())for(var m in b)b[m].Render(a,d,e,h,l,n)};this.Add=function(a){return e(a)};this.GetCount=function(){return c()?0:b.length};this.MergeBuffers=function(){return d()};
this.OnDelete=function(a,d,e){if(!c()){if(a)for(var h in b)b[h].OnDelete(d,e);b=void 0}};this.IsDeleted=function(){return c()};b=[];tf.js.GetIsValidObject(a)&&(e(a.combos),a.mergeBuffers&&d())};
tf.webgl.QuadXY=function(a){a=tf.js.GetValidObjectFrom(a);var c=new Float32Array([.5,.5,0,-.5,.5,0,-.5,-.5,0,.5,-.5,0]),e=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1]),d=new Float32Array([1,1,0,1,0,0,1,0]),b=new Uint8Array([0,1,2,0,2,3]);tf.webgl.VertexBuffer.call(this,{context:a.context,pos:new tf.webgl.PosBuffer({context:a.context,data:c}),nor:new tf.webgl.NorBuffer({context:a.context,data:e}),tex2d:new tf.webgl.Tex2DBuffer({context:a.context,data:d}),indices:new tf.webgl.IndexBuffer({context:a.context,
data:b,is8:!0})})};tf.js.InheritFrom(tf.webgl.QuadXY,tf.webgl.VertexBuffer);
tf.webgl.Box=function(a){a=tf.js.GetValidObjectFrom(a);var c=new Float32Array([.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5]),e=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,
0,0,-1]),d=new Float32Array([1,1,0,1,0,0,1,0,0,1,0,0,1,0,1,1,1,0,1,1,0,1,0,0,1,1,0,1,0,0,1,0,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1]),b=new Uint8Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]);tf.webgl.VertexBuffer.call(this,{context:a.context,pos:new tf.webgl.PosBuffer({context:a.context,data:c}),nor:new tf.webgl.NorBuffer({context:a.context,data:e}),tex2d:new tf.webgl.Tex2DBuffer({context:a.context,data:d}),indices:new tf.webgl.IndexBuffer({context:a.context,
data:b,is8:!0})})};tf.js.InheritFrom(tf.webgl.Box,tf.webgl.VertexBuffer);
tf.webgl.Sphere=function(a){a=tf.js.GetValidObjectFrom(a);var c,e,d;c=tf.js.GetFloatNumberInRange(a.radius,1E-5,9999999,.5);e=tf.js.GetIntNumberInRange(a.nVer,3,100,10);d=tf.js.GetIntNumberInRange(a.nHor,3,100,10);for(var b=[],g=[],f=[],k=[],h=0;h<=e;++h)for(var l=0;l<=d;++l){var n=h*Math.PI/e,m=2*l*Math.PI/d,p=Math.sin(n),q=Math.sin(m),n=Math.cos(n),m=Math.cos(m)*p,p=q*p,q=1-l/d,r=h/e;g.push(m);g.push(n);g.push(p);f.push(q);f.push(r);b.push(c*m);b.push(c*n);b.push(c*p)}for(h=0;h<e;++h)for(l=0;l<
d;++l)c=h*(d+1)+l,m=c+d+1,k.push(c),k.push(c+1),k.push(m),k.push(m),k.push(c+1),k.push(m+1);tf.webgl.VertexBuffer.call(this,{context:a.context,pos:new tf.webgl.PosBuffer({context:a.context,data:new Float32Array(b)}),nor:new tf.webgl.NorBuffer({context:a.context,data:new Float32Array(g)}),tex2d:new tf.webgl.Tex2DBuffer({context:a.context,data:new Float32Array(f)}),indices:new tf.webgl.IndexBuffer({context:a.context,data:new Uint16Array(k),is16:!0})})};tf.js.InheritFrom(tf.webgl.Sphere,tf.webgl.VertexBuffer);
tf.webgl.UVPrimitiveGenerator=function(a){var c;if(tf.js.GetIsValidObject(a)&&tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()){var e;if(e=tf.js.GetFunctionOrNull(a.getUVVertex)){c=a.context;var d=void 0!==a.nHor?tf.js.GetIntNumberInRange(a.nHor,1,99999,10):10,b=void 0!==a.nVer?tf.js.GetIntNumberInRange(a.nVer,1,99999,10):10;a=!!a.fillCW;for(var g=b+1,f=d+1,k=g*f,h=3*k,l=2*d*b*3,n=255<l,m=new Float32Array(h),h=new Float32Array(h),k=new Float32Array(2*k),l=n?new Uint16Array(l):
new Uint8Array(l),p=0,q=0,r=0,A=new tf.math.Vector3,t=0;t<g;++t)for(var w=t/b,v=0;v<f;++v){var u=v/d,B=e({col:v,row:t,nCols:f,nRows:g,u:u,v:w});m[p+0]=B.pos.x;m[p+1]=B.pos.y;m[p+2]=B.pos.z;A.Update(B.nor);A.Normalize();h[p++]=A[0];h[p++]=A[1];h[p++]=A[2];k[q++]=u;k[q++]=w}for(e=0;e<b;++e)for(g=0;g<d;++g)f=e*(d+1)+g,p=f+d+1,a?(l[r++]=f,l[r++]=f+1,l[r++]=p,l[r++]=p,l[r++]=f+1,l[r++]=p+1):(l[r++]=f,l[r++]=p,l[r++]=f+1,l[r++]=p,l[r++]=p+1,l[r++]=f+1);c=new tf.webgl.VertexBuffer({context:c,pos:new tf.webgl.PosBuffer({context:c,
data:m}),nor:new tf.webgl.NorBuffer({context:c,data:h}),tex2d:new tf.webgl.Tex2DBuffer({context:c,data:k}),indices:new tf.webgl.IndexBuffer({context:c,data:l,is16:n})})}}return c};
tf.webgl.UVSphere=function(a){function c(a){var c=Math.PI*a.v,e=2*Math.PI*(1-a.u);a=Math.sin(e);var k=Math.cos(e),e=Math.sin(c),c=Math.cos(c),k=k*e;a*=e;return{pos:{x:k*d,y:c*d,z:a*d},nor:{x:k,y:c,z:a}}}var e,d;tf.js.GetIsValidObject(a)&&(d=tf.js.GetFloatNumberInRange(a.radius,1E-6,9999999,.5),e=new tf.webgl.UVPrimitiveGenerator({context:a.context,isClosed:!1,nHor:a.nHor,nVer:a.nVer,fillCW:a.fillCW,getUVVertex:c}));return e};
tf.webgl.Texture2=function(a){function c(){return void 0==f}function e(){c()||((k=f.GetContext())&&(h=k.createTexture()),d())}function d(){c()||void 0===h||void 0===l||(k.activeTexture(k.TEXTURE0+p),k.bindTexture(k.TEXTURE_2D,h),k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,!!n),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,
k.LINEAR),k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,k.UNSIGNED_BYTE,l),a.mipMaps&&k.generateMipmap(k.TEXTURE_2D),k.bindTexture(k.TEXTURE_2D,null))}function b(a,b){l=tf.js.GetIsValidObject(a)?a:void 0;n=tf.js.GetBoolFromValue(b,!0)}var g,f,k,h,l,n,m,p;this.GetTexture=function(){return h};this.Bind=function(){c()||void 0===h||(k.activeTexture(k.TEXTURE0+p),k.bindTexture(k.TEXTURE_2D,h),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE),
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR))};this.UpdateFromImage=function(a,c){b(a,c);d()};this.OnLostDevice=function(){c()||(k=h=void 0)};this.OnRestoredDevice=function(){return e()};this.OnDelete=function(){c()||(f.UnRegisterTexture2(m),m=f=h=l=void 0)};this.IsDeleted=function(){return c()};g=this;(function(){a=tf.js.GetValidObjectFrom(a);tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()&&(f=a.context,
k=f.GetContext(),m=f.RegisterTexture2(g),p=tf.js.GetIntNumberInRange(a.unit,0,1E3,0),tf.js.GetIsNonEmptyString(a.url)?(b(f.GetOnePixelTransparentCanvas(),a.flipVerticalBool),e(),new tf.dom.Img({crossOrigin:!0,src:a.url,onLoad:function(a){a.GetIsValid()&&(b(a.GetImg(),n),e())}})):(b(a.img,a.flipVerticalBool),e()))})()};
tf.webgl.SceneObject=function(a){var c,e,d,b,g,f,k,h,l,n,m,p,q,r,A,t,w,v,u,B;this.SetRenderMatrix=function(a){B=a};this.GetRenderMatrix=function(a){return B};this.OnPreRender=function(a){if(void 0!=e&&(B=void 0,m)){var b=a.parentObjectToSceneMatrix;n&&n(c);v.CopyFrom(b);v.MultByMatrix(f);if(d){var k=new tf.math.Vector3([0,0,0]);k.MultByMatrix(v);k=a.frustum.GetIsPointVisible(k);a.toRender.push({sceneObject:c,objectToSceneMatrix:v,frustumVisible:k})}if(p){for(var g in h)a.parentObjectToSceneMatrix=
v,h[g].OnPreRender(a);a.parentObjectToSceneMatrix=b}}};this.SeUsesNonUniformScaling=function(a){t=!!a};this.GetUsesNonUniformScaling=function(){return t};this.SetUseDepth=function(a){A=!!a};this.GetUseDepth=function(){return A};this.GetPickColor=function(){return w};this.SetPickColor=function(a){w=a};this.GetIsVisible=function(){return m};this.SetIsVisible=function(a){return m=!!a};this.GetAreSubObjectsVisible=function(){return p};this.SetAreSubObjectsVisible=function(a){return p=!!a};this.GetAttributes=
function(){return b};this.GetComboList=function(){return u};this.GetObjectToSceneMatrix=function(){return f};this.RenderSelf=function(a){if(void 0!=e&&m){var c=e.GetContext(),f=a.scene,n=a.useProgram,v=a.isForPick;!d||v&&!w||(q?(c.enable(c.CULL_FACE),r?c.cullFace(c.FRONT):c.cullFace(c.BACK)):c.disable(c.CULL_FACE),A?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),void 0==n&&(n=d),n.Render({usesNonUniformScaling:t||a.usesNonUniformScaling,comboList:u,attributes:b,texture:g,material:l,scene:f,objectToSceneMatrix:B,
useLines:a.useLines||k,pickColor:w}));if(p&&a.renderSubObjects){c=a.usesNonUniformScaling;a.usesNonUniformScaling|=t;for(var H in h)h[H].RenderSelf(a);a.usesNonUniformScaling=c}}};this.AddSubObject=function(a){!c.IsDeleted()&&tf.js.GetIsInstanceOf(a,tf.webgl.SceneObject)&&h.push(a)};this.DelSubObject=function(a){if(!c.IsDeleted()&&tf.js.GetIsInstanceOf(a,tf.webgl.SceneObject)){var b=h.find(a);-1!=b&&a.splice(b,1)}};this.GetSubObjects=function(){return h};this.DelAllSubObjects=function(){c.IsDeleted()||
(h=[])};this.SetOnPreRender=function(a){n=tf.js.GetFunctionOrNull(a)};this.OnDelete=function(a,c,k){if(void 0!=e){if(a)for(var m in h)h[m].OnDelete(a,c,k);c&&(b&&b.OnDelete(k),g&&g.OnDelete());B=v=h=d=b=l=g=f=e=void 0}};this.IsDeleted=function(){return void 0==e};c=this;a=tf.js.GetValidObjectFrom(a);tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()&&(f=new tf.math.WorldMatrix4(a),v=new tf.math.WorldMatrix4,e=a.context,h=[],m=!tf.js.GetIsFalseNotUndefined(a.isVisible),p=!tf.js.GetIsFalseNotUndefined(a.subObjectsAreVisible),
tf.js.GetIsInstanceOf(a.program,tf.webgl.Program)&&(q=void 0!==a.cullFace?!!a.cullFace:!0,r=void 0!==a.cullFrontFace?!!a.cullFrontFace:!1,k=!!a.useLines,A=!tf.js.GetIsFalseNotUndefined(a.useDepth),t=!!a.usesNonUniformScaling,d=a.program,u=tf.js.GetIsInstanceOf(a.comboList,tf.webgl.MatTex2VertComboList)?a.comboList:void 0,b=tf.js.GetIsInstanceOf(a.attributes,tf.webgl.VertexBuffer)?a.attributes:void 0,g=tf.js.GetIsInstanceOf(a.texture,tf.webgl.Texture2)?a.texture:void 0,l=a.material,n=tf.js.GetFunctionOrNull(a.onPreRender)))};
tf.webgl.Scene=function(a){function c(){return void 0==f}function e(a){function b(a,c){tf.js.GetIsInstanceOf(a,tf.webgl.SceneObject)&&(k.renderSubObjects=!!c,a.RenderSelf(k))}if(!c()){w=void 0;t.CopyFrom(q);t.MultByMatrix(p);var d=f.GetContext();d.viewport(0,0,a.viewportWidth,a.viewportHeight);a.frameBuffer?d.bindFramebuffer(d.FRAMEBUFFER,a.frameBuffer):d.bindFramebuffer(d.FRAMEBUFFER,null);d.depthRange(0,1);d.depthFunc(d.LEQUAL);d.clearDepth(n);d.enable(d.BLEND);d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA);
var e=void 0!==a.clearColor?a.clearColor:h;d.clearColor(e[0],e[1],e[2],e[3]);d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT);d.frontFace(d.CCW);var k={scene:g,renderSubObjects:!1,parentObjectToSceneMatrix:m,useProgram:a.useProgram,isForPick:a.isForPick},d=0,l;for(l in v){var e=v[l],r=e.sceneObject;e.frustumVisible&&(++d,r.SetRenderMatrix(e.objectToSceneMatrix),r.RenderSelf(k))}if(tf.js.GetFunctionOrNull(a.onPostCompose))a.onPostCompose({sender:g,renderImmediate:b})}}function d(a){r=tf.js.GetIsArrayWithLength(a,
3)?a.slice(0):[0,0,1]}function b(a,b,c){return tf.js.GetIsArrayWithLength(a,b)?a.slice(0):c}var g,f,k,h,l,n,m,p,q,r,A,t,w,v,u;this.OnPreRender=function(){if(!c()){v=[];u.OnUpdate();var a={frustum:u,parentObjectToSceneMatrix:m,toRender:v},b;for(b in k)k[b].OnPreRender(a)}};this.GetLastProgram=function(){return w};this.SetLastProgram=function(a){return w=a};this.RenderOn=function(a){return e(a)};this.GetViewProj=function(){return t};this.GetWorld=function(){return m};this.GetView=function(){return p};
this.GetPerspective=function(){return q};this.SetClearColor=function(a){h=b(a,4,[0,0,.5,1])};this.GetClearColor=function(){return h.slice(0)};this.SetAmbientColor=function(a){l=b(a,3,[0,0,0])};this.GetAmbientColor=function(){return l.slice(0)};this.GetLightDir=function(){return r};this.SetLightDir=function(a){return d(a)};this.SetLightColor=function(a){A=b(a,3,[0,0,0])};this.GetLightColor=function(){return A.slice(0)};this.AddObject=function(a){c()||tf.js.GetIsValidObject(a)&&tf.js.GetFunctionOrNull(a.RenderSelf)&&
k.push(a)};this.DelObject=function(a){!c()&&tf.js.GetIsValidObject(a)&&(a=k.indexOf(a),-1!=a&&k.splice(a,1))};this.ClearObjects=function(){c()||(k=[])};this.OnDelete=function(){f=void 0;k=null};this.IsDeleted=function(){return c()};g=this;a=tf.js.GetValidObjectFrom(a);tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()&&(f=a.context,f.GetCanvas(),t=new tf.math.Matrix4({noInit:!0}),m=new tf.math.WorldMatrix4(a.world),p=new tf.math.ViewMatrix4(a.view),q=new tf.math.PerspectiveFOVMatrix4(a.perspective),
u=new tf.math.ViewFrustum({perspective:q,view:p}),n="number"==typeof a.clearDepth?a.clearDepth:1,h=b(a.clearColor,4,[0,0,.5,1]),l=b(a.ambientColor,3,[0,0,0]),d(a.lightDir),A=b(a.lightColor,3,[0,0,0]),c()||(k=[]))};
tf.webgl.SceneContainer=function(a){function c(){if(void 0!=n){if(m.clientWidth!=m.width||m.clientHeight!=m.height)m.width=m.clientWidth,m.height=m.clientHeight,q=0<m.clientWidth?m.clientHeight/m.clientWidth:1,p.GetPerspective().UpdateAspect(1/q);E&&E({sender:k});p.OnPreRender();var a={onPostCompose:D,viewportWidth:m.width,viewportHeight:m.height,isForPick:!1,frameBuffer:void 0,clearColor:void 0,useProgram:void 0};p.RenderOn(a);u&&0==t%w&&(a.viewportWidth=a.viewportHeight=v,a.isForPick=!0,a.frameBuffer=
u.GetFrameBuffer(),a.clearColor=[0,0,0,0],a.useProgram=l.GetTextureColorPickProgram(),p.RenderOn(a));t++}}function e(){l&&l.RestoreContext()}function d(){c();l.RequestAnimFrame()}function b(){n=void 0;setTimeout(e,1E3)}function g(){n=l.GetContext();c()}function f(){var a=30*Math.PI/180;Math.sin(a);a=1*Math.cos(a);p=new tf.webgl.Scene({context:l,clearColor:[0,0,0,1],clearDepth:1,ambientColor:[1,1,1],lightDir:[0,1,0],lightColor:[.75,.75,.75],view:{vFrom:[a,a,0],vTo:[0,0,0],vUp:[0,1,0]},perspective:{fovy:30*
Math.PI/180,near:1,far:1E3}})}var k,h,l,n,m,p,q,r,A,t,w,v,u,B,E,D;this.GetObjectFromPixel=function(a){var b;void 0!=n&&u&&tf.js.GetIsArrayWithMinLength(a,2)&&(n.bindFramebuffer(n.FRAMEBUFFER,u.GetFrameBuffer()),n.readPixels(a[0],a[1],1,1,n.RGBA,n.UNSIGNED_BYTE,B),n.bindFramebuffer(n.FRAMEBUFFER,null),b=l.GetPickObject(tf.webgl.DecodeColorIntoInt(B)));return b};this.OnFrame=function(){return d()};this.GetContext=function(){return l};this.GetScene=function(){return p};this.GetAspect=function(){return q};
this.OnDelete=function(){void 0!=l&&(A&&m&&A.removeChild(m),p&&p.OnDelete(),u&&u.OnDelete(),l&&l.OnDelete(),A=r=m=n=l=p=u=void 0)};this.IsDeleted=function(){return void 0==l};k=this;tf.js.GetIsValidObject(a)&&tf.dom.GetHTMLElementFrom(a.container)&&(h=tf.GetStyles(),h.GetSubStyles(),q=1,r=a.container,A=r.GetHTMLElement(),E=tf.js.GetFunctionOrNull(a.onFrame),D=tf.js.GetFunctionOrNull(a.onPostCompose),tf.webgl.GetWebGL().GetHasWebGL()?(l=new tf.webgl.Context({optionalAttributes:{antialias:!0},onFrame:d,
onLost:b,onRestored:g}),m=l.GetCanvas(),n=l.GetContext(),B=new Uint8Array(4),t=0,a.noPickFrameBuffer||(w=10,v=512,u=new tf.webgl.FrameBuffer({context:l,width:v,height:v})),f(),h.ApplyStyleProperties(m,{backgroundColor:"rgba(0,0,0,1)",width:"100%",height:"100%",position:"relative",display:"block"}),A.appendChild(m)):A.innerHTML="<h3>WebGL not available</h3>")};
tf.webgl.FrameBuffer=function(a){function c(){if(void 0!=e){var c=e.GetContext();d=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,d);d.width="number"==typeof a.width?a.width:512;d.height="number"==typeof a.height?a.height:512;b=new tf.webgl.Texture2({context:e});var f=b.GetTexture();c.bindTexture(c.TEXTURE_2D,f);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_NEAREST);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,d.width,d.height,
0,c.RGBA,c.UNSIGNED_BYTE,null);g=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,g);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,d.width,d.height);c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,f,0);c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,g);c.bindTexture(c.TEXTURE_2D,null);c.bindRenderbuffer(c.RENDERBUFFER,null);c.bindFramebuffer(c.FRAMEBUFFER,null)}}var e,d,b,g,f;this.OnLostDevice=function(){void 0!=e&&(d=void 0,b.OnDelete(),
b=void 0)};this.OnRestoredDevice=function(){return c()};this.GetFrameBuffer=function(){return d};this.GetTexture=function(){return b};this.OnDelete=function(){void 0!=e&&(e.UnRegisterFrameBuffer(f),b&&b.OnDelete(),f=e=void 0)};this.IsDeleted=function(){return void 0==e};a=tf.js.GetValidObjectFrom(a);tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()&&(e=a.context,f=e.RegisterFrameBuffer(this),c())};
tf.webgl.Shader=function(a){function c(){if(void 0!=d){if(d&&b){var a=d.GetContext();a&&a.deleteShader(b)}g=d=b=void 0}}function e(){if(void 0!=d){var e=d.GetContext();if(e){var k=tf.js.GetNonEmptyString(a.text);if(k){g=tf.js.GetNonEmptyString(a.type);var h;if(void 0!==g)switch(g=g.toLowerCase()[0]){case "f":h=e.FRAGMENT_SHADER;break;case "v":h=e.VERTEX_SHADER;break;default:g=void 0}void 0!==h&&(b=e.createShader(h),e.shaderSource(b,k),e.compileShader(b),e.getShaderParameter(b,e.COMPILE_STATUS)||e.isContextLost()||
(a.debug&&(e=e.getShaderInfoLog(b),tf.GetDebug().LogIfTest("*** Error compiling shader: "+e)),c()))}}}}var d,b,g;this.OnLostDevice=function(){void 0==d||(b=void 0)};this.OnRestoredDevice=function(){return e()};this.GetShader=function(){return b};this.GetShaderType=function(){return g};this.IsDeleted=function(){return void 0==d};this.OnDelete=function(){return c()};a=tf.js.GetValidObjectFrom(a);tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()&&(d=a.context,e())};
tf.webgl.Program=function(a){function c(){return void 0!=f&&void 0!==g}function e(){void 0!=f&&(g&&k&&k.deleteProgram(g),f=k=g=h=l=void 0)}function d(){if(void 0!=f)if(k=f.GetContext(),g=k.createProgram(),k.attachShader(g,h.GetShader()),k.attachShader(g,l.GetShader()),k.linkProgram(g),k.getProgramParameter(g,k.LINK_STATUS)||k.isContextLost())tf.js.GetFunctionOrNull(a.init)&&a.init(k);else{if(a.debug){var b=k.getProgramInfoLog(g);tf.GetDebug().LogIfTest("Error in program linking: "+b)}e()}}var b,g,
f,k,h,l,n;this.GetProgram=function(){return g};this.OnLostDevice=function(){void 0!=f&&(g=k=void 0)};this.OnRestoredDevice=function(){return d()};this.Render=function(a){if(c()&&tf.js.GetIsValidObject(a)){if(a.isNewProgram=a.scene.GetLastProgram()!=b)k.useProgram(g),a.scene.SetLastProgram(b);n(a)}};this.GetUniformLocation=function(a){return c()&&tf.js.GetIsNonEmptyString(a)?k.getUniformLocation(g,a):void 0};this.GetAttribLocation=function(a){return c()&&tf.js.GetIsNonEmptyString(a)?k.getAttribLocation(g,
a):void 0};this.OnDelete=function(){return e()};this.IsDeleted=function(){return void 0==f};this.IsOperational=function(){return c()};b=this;a=tf.js.GetValidObjectFrom(a);tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()&&tf.js.GetIsInstanceOf(a.vshader,tf.webgl.Shader)&&"v"==a.vshader.GetShaderType()&&tf.js.GetIsInstanceOf(a.fshader,tf.webgl.Shader)&&"f"==a.fshader.GetShaderType()&&(n=tf.js.GetFunctionOrNull(a.render))&&(f=a.context,h=a.vshader,l=a.fshader,d())};
tf.webgl.EncodeIntIntoColor=function(a){var c=a%256;a>>=8;var e=a%256;a>>=8;c=[1-c/255,1-e/255,1-a%256/255];c.rgb={r:c[0],g:c[1],b:c[2],value:a};return c};tf.webgl.DecodeColorIntoInt=function(a){return a[3]?255-a[0]+256*(255-a[1])+32768*(255-a[2]):0};tf.webgl.GetTextureColorVSText=function(){return"uniform mat4 uModelMatrix;\nuniform mat4 uViewProjMatrix;\nattribute vec3 aPosition;\nattribute vec3 aTexCoord;\nvarying vec2 vTexCoord;\nvoid main()\n{\ngl_Position = uViewProjMatrix * uModelMatrix * vec4(aPosition, 1.0);\nvTexCoord = aTexCoord.st;\n}"};
tf.webgl.GetTextureColorFSText=function(){return"precision mediump float;\nuniform sampler2D diffuseTex;\nvarying vec2 vTexCoord;\nvoid main()\n{\nvec4 color = texture2D(diffuseTex, vTexCoord);\nif (color.a == 0.0) discard;\nelse gl_FragColor = color;\n}"};tf.webgl.GetTextureColorPickVSText=function(){return"uniform mat4 uModelMatrix;\nuniform mat4 uViewProjMatrix;\nattribute vec3 aPosition;\nattribute vec3 aTexCoord;\nvarying vec2 vTexCoord;\nvoid main()\n{\ngl_Position = uViewProjMatrix * uModelMatrix * vec4(aPosition, 1.0);\nvTexCoord = aTexCoord.st;\n}"};
tf.webgl.GetTextureColorPickFSText=function(){return"precision mediump float;\nuniform sampler2D diffuseTex;\nvarying vec2 vTexCoord;\nuniform vec3 uPickColor;\nvoid main()\n{\nvec4 color = texture2D(diffuseTex, vTexCoord);\nif (color.a == 0.0) discard;\nelse gl_FragColor = vec4(uPickColor, 1);\n}"};tf.webgl.TextureColorVS=function(a){a=tf.js.GetValidObjectFrom(a);tf.webgl.Shader.call(this,{debug:a.debug,context:a.context,type:"v",text:tf.webgl.GetTextureColorVSText()})};
tf.js.InheritFrom(tf.webgl.TextureColorVS,tf.webgl.Shader);tf.webgl.TextureColorFS=function(a){a=tf.js.GetValidObjectFrom(a);tf.webgl.Shader.call(this,{debug:a.debug,context:a.context,type:"f",text:tf.webgl.GetTextureColorFSText()})};tf.js.InheritFrom(tf.webgl.TextureColorFS,tf.webgl.Shader);
tf.webgl.TextureColorProgram=function(a){var c;c=this;(function(){a=tf.js.GetValidObjectFrom(a);if(tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()){var e=a.context,d,b,g,f,k;tf.webgl.Program.call(c,{debug:a.debug,context:e,vshader:e.GetTextureColorVS(),fshader:e.GetTextureColorFS(),init:function(a){d=c.GetAttribLocation("aPosition");b=c.GetAttribLocation("aTexCoord");g=c.GetUniformLocation("diffuseTex");f=c.GetUniformLocation("uModelMatrix");k=c.GetUniformLocation("uViewProjMatrix")},
render:function(a){var c=e.GetContext(),n=a.scene;a.isNewProgram&&(g&&c.uniform1i(g,0),c.uniformMatrix4fv(k,!1,n.GetViewProj().GetInStaticFloat32Array()));c.uniformMatrix4fv(f,!1,a.objectToSceneMatrix.GetInStaticFloat32Array());a.attributes.BindBuffers(d,void 0,b);a.texture.Bind();a.attributes.Draw(a.useLines)}})}})()};tf.js.InheritFrom(tf.webgl.TextureColorProgram,tf.webgl.Program);
tf.webgl.TextureColorPickVS=function(a){a=tf.js.GetValidObjectFrom(a);tf.webgl.Shader.call(this,{debug:a.debug,context:a.context,type:"v",text:tf.webgl.GetTextureColorPickVSText()})};tf.js.InheritFrom(tf.webgl.TextureColorPickVS,tf.webgl.Shader);tf.webgl.TextureColorPickFS=function(a){a=tf.js.GetValidObjectFrom(a);tf.webgl.Shader.call(this,{debug:a.debug,context:a.context,type:"f",text:tf.webgl.GetTextureColorPickFSText()})};tf.js.InheritFrom(tf.webgl.TextureColorPickFS,tf.webgl.Shader);
tf.webgl.TextureColorPickProgram=function(a){var c;c=this;(function(){a=tf.js.GetValidObjectFrom(a);if(tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()){var e=a.context,d,b,g,f,k,h;tf.webgl.Program.call(c,{debug:a.debug,context:e,vshader:e.GetTextureColorPickVS(),fshader:e.GetTextureColorPickFS(),init:function(a){d=c.GetAttribLocation("aPosition");b=c.GetAttribLocation("aTexCoord");g=c.GetUniformLocation("diffuseTex");f=c.GetUniformLocation("uModelMatrix");k=c.GetUniformLocation("uViewProjMatrix");
h=c.GetUniformLocation("uPickColor")},render:function(a){var c=e.GetContext(),m=a.scene;a.isNewProgram&&(g&&c.uniform1i(g,0),c.uniformMatrix4fv(k,!1,m.GetViewProj().GetInStaticFloat32Array()));h&&(m=a.pickColor,c.uniform3f(h,m[0],m[1],m[2]));c.uniformMatrix4fv(f,!1,a.objectToSceneMatrix.GetInStaticFloat32Array());a.attributes.BindBuffers(d,void 0,b);a.texture.Bind();a.attributes.Draw(a.useLines)}})}})()};tf.js.InheritFrom(tf.webgl.TextureColorPickProgram,tf.webgl.Program);
tf.webgl.MaterialVS=function(a){a=tf.js.GetValidObjectFrom(a);tf.webgl.Shader.call(this,{debug:a.debug,context:a.context,type:"v",text:tf.webgl.GetMaterialVSText()})};tf.js.InheritFrom(tf.webgl.MaterialVS,tf.webgl.Shader);tf.webgl.MaterialFS=function(a){a=tf.js.GetValidObjectFrom(a);tf.webgl.Shader.call(this,{debug:a.debug,context:a.context,type:"f",text:tf.webgl.GetMaterialFSText()})};tf.js.InheritFrom(tf.webgl.MaterialFS,tf.webgl.Shader);
tf.webgl.MaterialProgram=function(a){var c;c=this;(function(){a=tf.js.GetValidObjectFrom(a);if(tf.js.GetIsInstanceOf(a.context,tf.webgl.Context)&&a.context.GetContext()){var e=a.context,d,b,g,f,k,h,l,n,m,p,q,r,A,t,w,v,u,B,E,D,F;tf.webgl.Program.call(c,{debug:a.debug,context:e,vshader:e.GetMaterialVS(),fshader:e.GetMaterialFS(),init:function(a){d=c.GetAttribLocation("aPosition");b=c.GetAttribLocation("aNormal");g=c.GetAttribLocation("aTexCoord");v=c.GetUniformLocation("uCameraPos");u=c.GetUniformLocation("uLightDir");
B=c.GetUniformLocation("uLightColor");w=c.GetUniformLocation("uAmbientLight");l=c.GetUniformLocation("hasTexture");n=c.GetUniformLocation("hasNormalTexture");D=c.GetUniformLocation("diffuseTex");F=c.GetUniformLocation("normalTex");E={hasTextureLoc:l,hasNormalTextureLoc:n,ambientColor3Loc:c.GetUniformLocation("uAmbientColor"),diffuseColor3Loc:c.GetUniformLocation("uDiffuseColor"),emissiveColor3Loc:c.GetUniformLocation("uEmissiveColor"),specularColor3Loc:c.GetUniformLocation("uSpecularColor"),opacityShininessLoc:c.GetUniformLocation("uOpacityShininess")};
m=c.GetUniformLocation("uModelMatrix");p=c.GetUniformLocation("uNormalMatrix");q=c.GetUniformLocation("uViewProjMatrix");r=c.GetUniformLocation("uProjMatrix");A=c.GetUniformLocation("uModelViewMatrix");t=c.GetUniformLocation("uNormalViewMatrix");f=new tf.math.Matrix4({noInit:!0});k=new tf.math.Matrix4({noInit:!0});h=new tf.math.Vector3},render:function(a){var c=e.GetContext(),n=a.scene,I=n.GetView();if(a.isNewProgram){if(w){var J=n.GetAmbientColor();c.uniform3f(w,J[0],J[1],J[2])}v&&(J=I.GetView().vFrom,
c.uniform3f(v,J[0],J[1],J[2]));u&&(h.CopyFrom(n.GetLightDir()),h.MultDirectionByMatrix(I),h.Normalize(),c.uniform3f(u,h[0],h[1],h[2]));B&&(J=n.GetLightColor(),c.uniform3f(B,J[0],J[1],J[2]));q&&c.uniformMatrix4fv(q,!1,n.GetViewProj().GetInStaticFloat32Array());r&&c.uniformMatrix4fv(r,!1,n.GetPerspective().GetInStaticFloat32Array());D&&c.uniform1i(D,0);F&&c.uniform1i(F,1);n=e.GetOnePixelTransparentTexture().GetTexture();c.activeTexture(c.TEXTURE0+0);c.bindTexture(c.TEXTURE_2D,n);c.activeTexture(c.TEXTURE0+
1);c.bindTexture(c.TEXTURE_2D,n)}m&&c.uniformMatrix4fv(m,!1,a.objectToSceneMatrix.GetInStaticFloat32Array());A&&(k.CopyFrom(I),k.MultByMatrix(a.objectToSceneMatrix),c.uniformMatrix4fv(A,!1,k.GetInStaticFloat32Array()),t&&(f.CopyFrom(k),a.usesNonUniformScaling&&(f.ToInverse(),f.ToTransposed()),c.uniformMatrix4fv(t,!1,f.GetInStaticFloat32Array())));p&&(f.CopyFrom(a.objectToSceneMatrix),a.usesNonUniformScaling&&(f.ToInverse(),f.ToTransposed()),c.uniformMatrix4fv(p,!1,f.GetInStaticFloat32Array()));tf.js.GetIsInstanceOf(a.material,
tf.webgl.Material)&&a.material.SetUniforms(c,E);tf.js.GetIsInstanceOf(a.comboList,tf.webgl.MatTex2VertComboList)?a.comboList.Render(c,d,b,g,a,E):tf.js.GetIsInstanceOf(a.attributes,tf.webgl.VertexBuffer)&&(l&&c.uniform1i(l,texture?1:0),a.attributes.BindBuffers(d,b,g),a.attributes.Draw(a.useLines))}})}})()};tf.js.InheritFrom(tf.webgl.MaterialProgram,tf.webgl.Program);tf.webgl.GetMaterialVSText=function(){return"uniform mat4 uProjMatrix;\nuniform mat4 uNormalViewMatrix;\nuniform mat4 uModelViewMatrix;\nuniform bool hasTexture;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\nvarying vec4 vPosition;\nvarying vec4 vNormal;\nvarying vec2 vTexCoord;\nvoid main()\n{\nvPosition = uModelViewMatrix * vec4(aPosition, 1.0);\nvNormal = uNormalViewMatrix * normalize(vec4(aNormal, 0.0));\nif(hasTexture != false) { vTexCoord = aTexCoord.st; }\ngl_Position = uProjMatrix * vPosition;\n}"};
tf.webgl.GetMaterialFSText=function(){return"#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\nuniform bool hasTexture;\nuniform bool hasNormalTexture;\nuniform sampler2D diffuseTex;\nuniform sampler2D normalTex;\nuniform vec3 uLightDir;\nuniform vec3 uLightColor;\nuniform vec3 uAmbientLight;\nuniform vec3 uAmbientColor;\nuniform vec3 uDiffuseColor;\nuniform vec3 uEmissiveColor;\nuniform vec3 uSpecularColor;\nuniform vec4 uOpacityShininess;\nvarying vec4 vPosition;\nvarying vec4 vNormal;\nvarying vec2 vTexCoord;\nvoid main() {\nvec3 N = normalize(vNormal.xyz);\nvec3 V = -normalize(vPosition.xyz);\nvec4 color;\nvec3 textureColor;\ncolor = texture2D(diffuseTex, vTexCoord);\nif(hasTexture) { textureColor = color.xyz; color.xyz *= uAmbientLight; /*color.a *= uOpacityShininess.x;*/ }\nelse { color = vec4(uEmissiveColor + uAmbientColor * uAmbientLight, uOpacityShininess.x); }\nif (color.a == 0.0) discard;\nelse {\nfloat dnl = dot(N, uLightDir);\nif (dnl > 0.0) {\nif(hasTexture) { color.xyz += uLightColor * textureColor * dnl; } else { color.xyz += uLightColor * uDiffuseColor * dnl; }\nvec3 R = reflect(-uLightDir, N);\nfloat specular = pow(max(dot(R, V), 0.0), uOpacityShininess.y);\ncolor.xyz += uSpecularColor * uLightColor * specular;\n}\ngl_FragColor = color;\n}\n}"};
tf.webgl.CreateMaterialFrom3DSMeshMaterial=function(a){var c,e,d,b,g,f,k,h,l;if(tf.js.GetIsValidObject(a)&&tf.js.GetIsNonEmptyArray(a.properties)){a=a.properties;for(var n in a){var m=a[n],p=m.key;if(tf.js.GetIsStringWithMinLength(p,2))switch(p.substr(1).toLowerCase()){case "mat.name":c=m.value;break;case "mat.opacity":e=m.value;break;case "mat.shininess":d=m.value/100;break;case "clr.ambient":b=m.value;break;case "clr.diffuse":g=m.value;break;case "clr.emissive":f=m.value;break;case "clr.specular":k=
m.value;break;case "tex.file":case "tex.file.diffuse":h=m.value;break;case "tex.file.normals":l=m.value}}}return new tf.webgl.Material({name:c,opacity:e,shininess:d,ambient:b,diffuse:g,emissive:f,specular:k,texFile:h,normalsFile:l})};
tf.webgl.CreateVertexBufferFrom3DSMesh=function(a,c,e){var d,b,g;if(tf.js.GetIsInstanceOf(a,tf.webgl.Context)&&a.GetContext()&&tf.js.GetIsValidObject(c)){var f;e=void 0!==e?tf.js.GetFloatNumber(e):1;0==e&&(e=1);var k;if(void 0!=c.vertices){f=c.vertices;d=f.length;k=Math.floor(d/3);if(0<k){b=[f[0]*e,f[1]*e,f[2]*e];g=[b[0],b[1],b[2]];for(var h=0,l=0;l<k;++l)for(d=0;3>d;++d,++h){var n=f[h]*e;n<g[d]?g[d]=n:n>b[d]&&(b[d]=n);f[h]=n}}f=new tf.webgl.PosBuffer({context:a,data:new Float32Array(c.vertices)})}else k=
0;e=void 0!=c.normals?new tf.webgl.NorBuffer({context:a,data:new Float32Array(c.normals)}):void 0;var m;void 0!=c.texturecoords&&(m=new Float32Array(c.texturecoords[0]));m=void 0!==m?new tf.webgl.Tex2DBuffer({context:a,data:m}):void 0;var p;if(void 0!=c.faces){c=c.faces;p=c.length;d=3*p;h=256>k;k=65536>k;for(var l=!k,n=h?new Uint8Array(d):k?new Uint16Array(d):new Uint32Array(d),q=d=0;d<p;++d)for(var r=0;3>r;++r)n[q++]=c[d][r];p=new tf.webgl.IndexBuffer({context:a,data:n,is8:h,is16:k,is32:l})}d=new tf.webgl.VertexBuffer({cullFrontFace:!1,
context:a,pos:f,nor:e,tex2d:m,indices:p})}return{vertexBuffer:d,maxs:b,mins:g}};
tf.webgl.Load3DSModel2=function(a,c,e,d){function b(c){if(tf.js.GetIsValidObject(c)){if(tf.js.GetIsNonEmptyArray(c.meshes))for(var d=c.meshes.length,g=0;g<d;++g){var m=c.meshes[g];"$$$DUMMY"==m&&console.log("here");var p=k[m];if(tf.js.GetIsValidObject(p)&&(m=p.materialindex,0<=m&&m<f.length&&(p=tf.webgl.CreateVertexBufferFrom3DSMesh(a,p,e))&&p.vertexBuffer)){if(void 0==h)h=p.mins.slice(0),l=p.maxs.slice(0);else for(var n=0;3>n;++n)h[n]>p.mins[n]&&(h[n]=p.mins[n]),l[n]<p.maxs[n]&&(l[n]=p.maxs[n]);
f[m].AddVertexBuffer(p.vertexBuffer)}}for(g in c.children)b(c.children[g])}}var g,f,k,h,l;if(tf.js.GetIsInstanceOf(a,tf.webgl.Context)&&a.GetContext()&&tf.js.GetIsValidObject(c)&&tf.js.GetIsValidObject(c.rootnode)&&tf.js.GetIsNonEmptyArray(c.materials)&&tf.js.GetIsNonEmptyArray(c.meshes)){f=[];k={};e=tf.js.GetFloatNumber(e,1);for(var n in c.materials){g=tf.webgl.CreateMaterialFrom3DSMeshMaterial(c.materials[n]);var m=g.GetSettings(),p=m.texFile,p=tf.js.GetIsNonEmptyString(p)?new tf.webgl.Texture2({context:a,
url:p}):void 0,m=m.normalsFile,m=tf.js.GetIsNonEmptyString(m)?new tf.webgl.Texture2({context:a,url:m,unit:1}):void 0;g=new tf.webgl.MatTex2VertCombo({material:g,texture2:p,normalsTexture2:m,vertices:void 0});f.push(g)}for(n in c.meshes)g=c.meshes[n],k[g.name]=g;b(c.rootnode);g=new tf.webgl.MatTex2VertComboList({combos:f,mergeBuffers:d})}return{comboList:g,mins:h,maxs:l}};
tf.webgl.Load3DSModel=function(a,c,e,d){var b,g,f;if(tf.js.GetIsInstanceOf(a,tf.webgl.Context)&&a.GetContext()&&tf.js.GetIsValidObject(c)&&tf.js.GetIsValidObject(c.rootnode)&&tf.js.GetIsNonEmptyArray(c.materials)&&tf.js.GetIsNonEmptyArray(c.meshes)){b=[];e=tf.js.GetFloatNumber(e,1);for(var k in c.materials){var h=tf.webgl.CreateMaterialFrom3DSMeshMaterial(c.materials[k]),l=h.GetSettings(),n=l.texFile,n=tf.js.GetIsNonEmptyString(n)?new tf.webgl.Texture2({context:a,url:n}):void 0,l=l.normalsFile,l=
tf.js.GetIsNonEmptyString(l)?new tf.webgl.Texture2({context:a,url:l,unit:1}):void 0,h=new tf.webgl.MatTex2VertCombo({material:h,texture2:n,normalsTexture2:l,vertices:void 0});b.push(h)}for(k in c.meshes)if(n=c.meshes[k],tf.js.GetIsValidObject(n)&&(h=n.materialindex,0<=h&&h<b.length&&(n=tf.webgl.CreateVertexBufferFrom3DSMesh(a,n,e))&&n.vertexBuffer)){if(void 0==g)g=n.mins.slice(0),f=n.maxs.slice(0);else for(l=0;3>l;++l)g[l]>n.mins[l]&&(g[l]=n.mins[l]),f[l]<n.maxs[l]&&(f[l]=n.maxs[l]);b[h].AddVertexBuffer(n.vertexBuffer)}b=
new tf.webgl.MatTex2VertComboList({combos:b,mergeBuffers:d})}return{comboList:b,mins:g,maxs:f}};tf.TFMap={};tf.TFMap.DontHideToolTipsDebug=!1;tf.TFMap.UseCachedDataSets=!1;tf.TFMap.CompressClassNames=0;tf.TFMap.CreateClassName=function(a,c){return-1==tf.TFMap.CompressClassNames?a+c:"tf-css"+ ++tf.TFMap.CompressClassNames};tf.TFMap.BottomContentTypes={photos:"photos"};
tf.TFMap.LayoutSettings={rootDivZIndex:10,auxMapWrapperZIndexAdd:3,changeMapTypeButtonAddZIndex:500,baseLayersItemCommonZIndexAdd:2,baseLayersToolBarWrapperZIndexAdd:3,underBottomWrapperZIndexAdd:2,toastZIndexAdd:1E3,overRootZIndexAdd:1001,sidePanelWrapperZIndexAdd:3,sidePanelCloseButtonZIndexAdd:100,customAppContentWrapperZIndexAdd:3,listFadeWrapperZIndexAdd:10,directionsInputZIndexAdd:1,directionsInputFadeZIndexAdd:2,diretionsSearchButtonZIndexAdd:3,moreMapToolsInfoContentWrapperZIndexAdd:2,overMapCanvasZIndexAdd:10,
mapLogoAndCenterZIndexAdd:11,photoDisplayerWrapperZIndexAdd:50,photoDisplayerContentWrapperZIndexAdd:1,photoDisplayerContentZIndexAdd:1,photoDisplayerButtonZIndexAdd:2,photoListDisplayerWrapperZIndexAdd:1,photoListDisplayerContentZIndexAdd:1,photoListDisplayerSelectRecordButtonZIndexAdd:2,sidePaneWrapperZIndexAdd:2,mapFeaturePropsDisplayerWrapperZIndexAdd:2,propsDisplayerImgHeightPxInt:186,showingAerialClassName:void 0,showingMapClassName:void 0,distances3Units:void 0,arrowLeftBackgroundClassName:void 0,
arrowRightBackgroundClassName:void 0,customizedScrollBarClassName:void 0,defaultHorMarginsClassName:void 0,smallerTextClassName:void 0,hrDivClassName:void 0,redFontColorShadowClassName:void 0,wrapperAerialModeClassName:void 0,wrapperMapModeClassName:void 0,lightTextColor:"rgba(245,245,255,1.0)",darkTextColor:"#003377",inactiveTextColor:"#b0b0b0",lightTextShadow:"1px 1px 2px #222",darkTextShadow:"1px 1px 2px #fff",activeSVGColor:"#003366",inactiveSVGColor:"#808080",lightBackground:"rgba(240,245,255,1)",
lightBackgroundHalfOpaque:"rgba(240,245,255,0.5)",backgroundLivelyColor:"rgb(30, 144, 255)",backgroundLivelyColorHex:"#1E90FF",toolTipContentBackground:"#696969",directionsSelectedColor:"#C6DAFC",listBorderColor:"darkgoldenrod"};
tf.TFMap.SmallLayoutSettings={mapCenterDimStr:"12rem",mapLogoPaddingLeftStr:"10px",mapLogoPaddingTopStr:"4px",mapLogoPaddingRightStr:"2px",mapLogoPaddingBottomStr:"1px",mapLogoDimStr:"3rem",mapLogoTopStr:"0.5rem",mapLogoRightStr:"0.5rem",itemInListTitletFontSizeInt:10,itemInListTitleLineHeightInt:12,buttonTextFontSizeInt:14,baseLayersPaneTopCaptionFontSizeInt:15,baseLayersPaneTopCaptionLineHeightInt:18,baseLayersPaneTopCaptionVerPaddingInt:8,baseLayersPaneDefaultFontSizeInt:10,baseLayersPaneDefaultLineHeightInt:12,
baseLayersPaneTitleLineHeightInt:14,baseLayersPaneTitlePaddingtInt:4,baseLayersPaneDescFontSizeInt:9,baseLayersPaneDescLineHeightInt:9,baseLayersOptionsRowFontSizeInt:12,baseLayersOptionsRowLineHeightInt:16,measureToolEdgeWidthInt:8,measureToolVertexRadiusInt:10,clusterFeatureDistance:24,clusterCircleRadius:12,widthMapToolBarInt:26,sidePanelCloseButtonTopInt:12,sidePanelCloseButtonDimInt:14,dimMapTypeAuxMarginInt:2,directionsSubDirectionsButtonDimPxInt:20,directionsDisclaimerWrapperHeightInt:36,directionsDisclaimerFontSizeInt:8,
directionsDisclaimerLineHeightInt:9,directionsItemDistanceFontSizeInt:9,directionsResultsIconDimInt:30,directionsResultsIconMarginLeftInt:10,directionsResultsIconMarginTopInt:10,directionsItemContentPaddingBottomInt:10,directionsContentBotWrapperFadeHeightInt:12,directionsItemContentFontSizeInt:10,directionsItemContentLineHeightInt:11,directionsSummaryPaddingInt:8,directionsSummaryLargeFontSizeInt:12,directionsSummaryLargeLineHeightInt:12,directionsSummarySmallFontSizeInt:10,directionsSummarySmallLineHeightInt:10,
directionsSummaryCommonWidthSubInt:40,directionsCaptionPaddingTopInt:10,directionsHeightInputInt:16,directionsFontSizeInputInt:12,directionsHeightWayPointAddressInt:16,directionsCaptionContentHeightInt:18,directionsSwitchStartEndTopInt:60,paddingLeftWayPointAddressInt:36,directionsCaptionMarginBottomInt:-6,propsDisplayerTextButtonFontSizeInt:11,propsDisplayerTextButtonLineHeightInt:12,propsDisplayerWrapperFontSizeInt:11,propsDisplayerWrapperLineHeightInt:12,propsDisplayerCoordsButtonFontSizeInt:11,
propsDisplayerCoordsButtonLineHeightInt:12,propsDisplayerTextFontSizeInt:10,propsDisplayerTextLineHeightInt:11,propsDisplayerTitleFontSizeInt:11,propsDisplayerTitleLineHeightInt:12,propsDisplayerWrapperMaxWidthInt:300,CSSLiteralMaxHeightMapFeaturePropsDisplayer:"calc(100% - 80px)",moreMapToolsRightInt:140,toolBarToToolBarHorSpacingInt:16,toolBarToScaleLineVerSpacingInt:8,scaleLineHeightInt:14,dimMapTypeAuxInt:40,auxMapBorderDimInt:1,searchBarInputWidthInt:180,topMarginInt:2,leftMarginInt:2,sidePanelWidthInt:292,
searchBarPaddingHorInt:4,searchBarPaddingVerInt:4,searchBarInputHeightInt:15,searchBarInputFontSizeInt:12,heightSearchBoxInt:20,underBottomPaneHeightInt:60,toggleButtonHeightInt:28,moreMapToolsFontSizeInt:10,moreMapToolsLineHeightInt:10,dataSetsRowHeightInt:20,dataSetsToolBarHeightInt:16,dataSetsWrapperMarginTopInt:1};
tf.TFMap.LayoutSettingsNormal={mapCenterDimStr:"20rem",mapLogoPaddingLeftStr:"14px",mapLogoPaddingTopStr:"8px",mapLogoPaddingRightStr:"4px",mapLogoPaddingBottomStr:"2px",mapLogoDimStr:"5rem",mapLogoTopStr:"1.5rem",mapLogoRightStr:"2rem",itemInListTitletFontSizeInt:14,itemInListTitleLineHeightInt:16,buttonTextFontSizeInt:18,baseLayersPaneTopCaptionFontSizeInt:20,baseLayersPaneTopCaptionLineHeightInt:30,baseLayersPaneTopCaptionVerPaddingInt:18,baseLayersPaneDefaultFontSizeInt:16,baseLayersPaneDefaultLineHeightInt:30,
baseLayersPaneTitleLineHeightInt:16,baseLayersPaneTitlePaddingtInt:10,baseLayersPaneDescFontSizeInt:12,baseLayersPaneDescLineHeightInt:12,baseLayersOptionsRowFontSizeInt:14,baseLayersOptionsRowLineHeightInt:24,measureToolEdgeWidthInt:4,measureToolVertexRadiusInt:8,clusterFeatureDistance:20,clusterCircleRadius:10,sidePanelCloseButtonTopInt:24,sidePanelCloseButtonDimInt:18,directionsSubDirectionsButtonDimPxInt:32,directionsDisclaimerWrapperHeightInt:60,directionsDisclaimerFontSizeInt:11,directionsDisclaimerLineHeightInt:12,
directionsItemDistanceFontSizeInt:11,directionsResultsIconDimInt:40,directionsResultsIconMarginLeftInt:16,directionsResultsIconMarginTopInt:12,directionsItemContentPaddingBottomInt:16,directionsContentBotWrapperFadeHeightInt:30,directionsItemContentFontSizeInt:12,directionsItemContentLineHeightInt:14,directionsSummaryPaddingInt:20,directionsSummaryLargeFontSizeInt:14,directionsSummaryLargeLineHeightInt:14,directionsSummarySmallFontSizeInt:12,directionsSummarySmallLineHeightInt:12,directionsSummaryCommonWidthSubInt:58,
directionsCaptionPaddingTopInt:16,directionsHeightInputInt:24,directionsFontSizeInputInt:15,directionsHeightWayPointAddressInt:30,paddingLeftWayPointAddressInt:50,directionsCaptionContentHeightInt:18,directionsCaptionMarginBottomInt:0,directionsSwitchStartEndTopInt:86,dimMapTypeAuxMarginInt:8,propsDisplayerWrapperFontSizeInt:14,propsDisplayerWrapperLineHeightInt:16,propsDisplayerCoordsButtonFontSizeInt:14,propsDisplayerCoordsButtonLineHeightInt:16,CSSLiteralMaxHeightMapFeaturePropsDisplayer:"50%",
propsDisplayerTextFontSizeInt:14,propsDisplayerTextLineHeightInt:16,propsDisplayerTitleFontSizeInt:14,propsDisplayerTitleLineHeightInt:16,propsDisplayerWrapperMaxWidthInt:360,propsDisplayerTextButtonFontSizeInt:14,propsDisplayerTextButtonLineHeightInt:16,moreMapToolsRightInt:160,toolBarToToolBarHorSpacingInt:18,toolBarToScaleLineVerSpacingInt:12,scaleLineHeightInt:16,dimMapTypeAuxInt:80,auxMapBorderDimInt:3,zIndexToolTipInt:1E3,arrowDimsToolTipInt:16,fontSizeToolTipInt:12,fontWeightToolTip:"600",
altaSmallCanvasDim:16,altaLargeCanvasDim:24,topMarginInt:8,leftMarginInt:8,sidePanelWidthInt:400,searchBarInputWidthInt:240,searchBarHorizPaddingInt:4,searchBarPaddingHorInt:8,searchBarPaddingVerInt:4,searchBarInputHeightInt:24,searchBarInputFontSizeInt:15,heightSearchBoxInt:40,widthMapToolBarInt:30,marginBottomBottomPaneWrapperInt:0,underBottomPaneHeightInt:100,propsToolBarButtonWidthInt:24,maxFeaturePropsDisplayHeightInt:300,minWidthPropsDisplayerInt:150,toggleButtonHeightInt:48,moreMapToolsFontSizeInt:12,
moreMapToolsLineHeightInt:12,dataSetsRowHeightInt:30,dataSetsToolBarHeightInt:18,dataSetsWrapperMarginTopInt:4};tf.TFMap.ImageUnavailableMsg="Image<br />temporarily<br />unavailable";tf.TFMap.MakeHRDivHTML=function(){return"<div class='"+tf.TFMap.LayoutSettings.hrDivClassName+"'></div>"};tf.TFMap.MapTwoLineSpan=function(a,c){var e=tf.TFMap.LayoutSettings,d=tf.TFMap.MakeHRDivHTML(),e="<span "+("class='"+e.defaultHorMarginsClassName+"'")+">";return e+a+"</span>"+d+e+c+"</span > "};
tf.TFMap.DirectionsFeatureDimMult=1.8;tf.TFMap.MaxDirectionsWayPoints=5;tf.TFMap.maxCharsAddressInput=80;tf.TFMap.directionModeWalk=tf.consts.routingServiceModeFoot;tf.TFMap.directionModeDrive=tf.consts.routingServiceModeCar;tf.TFMap.directionModeBike=tf.consts.routingServiceModeBicycle;tf.TFMap.directionModeBus=tf.consts.routingServiceModeBus;tf.TFMap.CAN_directionsMode="directionsMode";tf.TFMap.CAN_showingDirections="showingDirections";tf.TFMap.CAN_isSearchingAddress="searchingAddress";
tf.TFMap.CAN_sidePanelVisible="sidePaneVisible";tf.TFMap.CAN_dataSetsPanelVisible="dataSetsPaneVisible";tf.TFMap.CAN_selectedSearch="selectedSearch";tf.TFMap.CAN_selectedToolTipSender="selectedToolTipSender";tf.TFMap.CAN_userLocation="userLocation";tf.TFMap.CAN_clickLocation="clickLocation";tf.TFMap.CAN_searchAddressLocation="searchAddressLocation";tf.TFMap.StartLocationName="starting point";tf.TFMap.EndLocationName="destination";tf.TFMap.MinMapLevel=tf.consts.minLevel;tf.TFMap.MaxMapLevel=tf.consts.maxLevel;
tf.TFMap.toolTipDelayMillis=800;tf.TFMap.MapFeatureToolTipDelayMillis=300;tf.TFMap.DelayDirections=150;tf.TFMap.DelayShowSearching=2*tf.TFMap.DelayDirections;tf.TFMap.AddWayPointToolTipDelayMillis=800;tf.TFMap.toolTipDataSetDelayMillis=800;tf.TFMap.dataSetListButtonToolTipDelayMillis=tf.TFMap.toolTipDataSetDelayMillis;tf.TFMap.SearchResultsLayerZIndex=1;tf.TFMap.UserLocationLayerZIndex=10;tf.TFMap.UserFriendlyModeVerbs={};tf.TFMap.UserFriendlyModeVerbs[tf.TFMap.directionModeDrive]="Driving";
tf.TFMap.UserFriendlyModeVerbs[tf.TFMap.directionModeBike]="Cycling";tf.TFMap.UserFriendlyModeVerbs[tf.TFMap.directionModeWalk]="Walking";tf.TFMap.UserFriendlyModeVerbs[tf.TFMap.directionModeBus]="By Bus";tf.TFMap.ValidateImageOrDisplayMessage=function(a,c,e,d){new tf.dom.Img({src:a,onLoad:function(b){e(a,c,d,b)&&!b.GetIsValid()&&(tf.dom.GetHTMLElementFrom(c).innerHTML=tf.TFMap.ImageUnavailableMsg)}})};
tf.TFMap.GetDirectionsDistanceText=function(a,c){var e="";c?(e=6.21371E-4*a,e=.1<e?e.toFixed(1)+" mi":(3.28084*a).toFixed(0)+" ft"):e=250>a?a.toFixed(0)+" m":(a/1E3).toFixed(1)+" km";return e};tf.TFMap.GetWalkRideDistanceStr=function(a,c,e){var d="";if(0<a)var b=tf.TFMap.GetDirectionsDistanceText(1E3*a,e),d=d+("walk "+b);0<c&&(c=tf.TFMap.GetDirectionsDistanceText(1E3*c,e),0<a&&(d+=", "),d+="ride "+c);return d};
tf.TFMap.FindNearestAddress=function(a,c,e){var d;tf.js.GetFunctionOrNull(a)&&(d=new tf.services.Routing({callBack:a,nearestOnly:!0,coords:c,requestProps:e}));return d};tf.TFMap.FindLocationAddress=function(a,c,e){var d;tf.js.GetFunctionOrNull(a)&&(d=new tf.services.Routing({callBack:a,locateOnly:!0,coords:c,requestProps:e}));return d};tf.TFMap.ReplaceHTML=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};
tf.TFMap.GetSearchFeature=function(a){return a?a.GetSettings().searchFeature:void 0};tf.TFMap.GetSearchProps=function(a){return(a=tf.TFMap.GetSearchFeature(a))?a.properties:void 0};tf.TFMap.GetMapFeatureToolTipProps=function(a){return a?a.GetSettings().toolTipProps:void 0};tf.TFMap.SetMapFeatureToolTipProps=function(a,c){a&&(c?(c.mapFeature=a,a.GetSettings().toolTipProps=c):a.GetSettings().toolTipProps&&(delete a.GetSettings().toolTipProps.mapFeature,delete a.GetSettings().toolTipProps))};
tf.TFMap.SetVerticalMapToolTipStyle=function(a,c,e,d){d=c[1]>.75*a[1];var b=tf.TFMap.LayoutSettings.arrowDimsToolTipInt;c[1]<.25*a[1]?(e.top=c[1]-b+"px",a="translateY(0%)"):d?(e.top=c[1]+b+"px",a="translateY(-100%)"):a="translateY(-50%)";e["-webkit-transform"]=e.transform=a};
tf.TFMap.MapToolTipLeftRightStyle=function(a,c,e,d,b,g){c=tf.TFMap.LayoutSettings.arrowDimsToolTipInt/2;var f=a.map;e=f.GetPixelSize();var f=f.MapToPixelCoords(a.coords),k=void 0!=a.offsetY?a.offsetY:0,h=g?1:-1;f[0]+=(void 0!=a.offsetX?a.offsetX:0)*h;f[1]+=k*h;d.top=f[1]+"px";b.top=f[1]-c+"px";g?(d.left=f[0]+"px",b.left=f[0]-c+"px"):(d.right=e[0]-f[0]+"px",b.right=e[0]-(f[0]+c)+"px");tf.TFMap.SetVerticalMapToolTipStyle(e,f,d,b)};
tf.TFMap.MapToolTipLeftStyle=function(a,c,e,d,b){return tf.TFMap.MapToolTipLeftRightStyle(a,c,e,d,b,!0)};tf.TFMap.MapToolTipRightStyle=function(a,c,e,d,b){return tf.TFMap.MapToolTipLeftRightStyle(a,c,e,d,b,!1)};
tf.TFMap.GetDynamicMapFeatureToolTipProps=function(a,c,e,d){c=tf.TFMap.GetMapFeatureToolTipProps(c);e=a.MapToPixelCoords(e);a=a.GetPixelSize();e[0]>(a[0]+d)/2?(d="right",a=tf.TFMap.MapToolTipRightStyle):(d="left",a=tf.TFMap.MapToolTipLeftStyle);return tf.js.ShallowMerge({toolTipArrowClass:d,delayMillis:tf.TFMap.MapFeatureToolTipDelayMillis,toolTipStyle:a,toolTipText:""},c)};
tf.TFMap.SetContentToolTipInfo=function(a,c,e,d,b,g,f,k,h,l){a.toolTipText=c;a.toolTipFunction=h;a.wrapper=e;a.insertWrapper=l;a.delayUse=void 0!=d?d:0;a.toolTipClassName=b;a.toolTipArrowClassName=g;a.toolTipStyle=f;a.keepOnHoverOutTarget=!!k};tf.TFMap.SetButtonToolTipInfo=function(a,c,e,d,b,g,f,k,h,l,n,m){a.element=a.GetButton();tf.TFMap.SetContentToolTipInfo(a,c,e,d,b,g,f,k,h,l);a.offsetX=n;a.offsetY=m};
tf.TFMap.GetMapFeatureToolTipInfo=function(a,c,e,d,b,g,f,k,h,l,n,m,p){h=void 0!=h?h:a.GetPointCoords();a={startInHover:!0,mapFeature:a,map:c,coords:h,offsetX:l,offsetY:n,onClick:m};tf.TFMap.SetContentToolTipInfo(a,e,d,b,g,f,k,p);return a};tf.TFMap.CreateSVGButton=function(a,c,e,d,b,g,f){a=a.CreateButton(tf.js.ShallowMerge(c,{svgHTML:e,buttonClass:d+" ripple",toolTipText:b}));a.GetSettings().modeVerb=f;f=a.GetButton().firstChild;void 0!=g&&tf.dom.AddCSSClass(f,g);return a};
tf.consts.perspectiveMapLostDeviceEvent="lostdevice";tf.consts.perspectiveMapRestoredDeviceEvent="restoreddevice";tf.consts.perspectiveMapVisibilityChangeEvent="visibilityChange";tf.consts.allPerspectiveMapEventNames=[tf.consts.perspectiveMapLostDeviceEvent,tf.consts.perspectiveMapRestoredDeviceEvent,tf.consts.perspectiveMapVisibilityChangeEvent];
tf.webgl.PerspectiveMap=function(a){var c,e;function d(){return void 0==D}function b(a){d()||(!d()&&ba)==(a=!!a)||(ba=a,H.GetHTMLElement().style.opacity=ba?"1":"0",A(tf.consts.perspectiveMapVisibilityChangeEvent),a&&(F.IsContextLost()?F.RestoreContext():p()),g())}function g(){var b=a.appContent.GetMapDiv().GetHTMLElement(),c=a.appContent.GetMapMapDiv().GetHTMLElement().style,d=b.clientWidth,e=b.clientHeight,f;ba?(b=Math.round(d*W),f=Math.round(e*ca),qa=(d-b)/2,pa=(e-f)/2,d=b+"px",e=f+"px",b=parseInt(c.width,
10)!=b||parseInt(c.height,10)!=f):(qa=pa=0,d=e="100%",b=c.width!=d);b&&(ea=!0,c.left=qa+"px",c.top=pa+"px",c.width=d,c.height=e,fa.DelayCallBack())}function f(){E.OnResize();ea=!0;h()}function k(){if(!d()&&(S.CopyFrom(I.GetPerspective()),S.ToInverse(),J)){var a=.5/M,a=new Float32Array([a,0,-.5,-a,0,-.5,-a,0,.5,a,0,.5]);J.GetAttributes().GetPos().Update(a)}}function h(){Q=E.GetActualPixelSize();0>=Q[0]&&(Q[0]=1);0>=Q[1]&&(Q[1]=1);M=Q[1]/Q[0];if(C.clientWidth!=C.width||C.clientHeight!=C.height||ea){ea=
!1;C.width=C.clientWidth;C.height=C.clientHeight;var a=C.height&&C.width?C.width/C.height:1;I.GetPerspective().UpdateAspect(a);k()}}function l(a){if(!d()&&ba){var b;if(a){a=[a[0]+qa,a[1]+pa];a=[2*a[0]/C.width-1,1-2*a[1]/C.height];var c=I.GetView();da.Update(c.GetView().vFrom);L.Update({x:a[0],y:a[1],z:1});L.MultByMatrix(S);L.MultByMatrix(c.GetInverse());L.Sub(da);L.Normalize();a=da;var c=L,e=Z,f=X,h=f.Dot(c);1E-7<Math.abs(h)&&(b=new tf.math.Vector3({vector:e}),b.Sub(a),b=f.Dot(b)/h,c=new tf.math.Vector3({vector:c}),
c.MultByScalar(b),b=new tf.math.Vector3({vector:a}),b.Add(c))}else b=a;b=b?[(b[0]*M+.5)*Q[0],(b[2]+.5)*Q[1]]:void 0;return b}}function n(a){var b=a[0],c=Q[0];a=a[1];var d=Q[1],b=(b-c/2)/(c*M);a-=d/2;return[b,a/d]}function m(a){if(!d()&&ba)return a=n(a),aa.Update({x:a[0],y:0,z:a[1]}),aa.MultByMatrix(I.GetViewProj()),[(aa[0]+1)*C.width/2,C.height-(aa[1]+1)*C.height/2]}function p(a){if(!d()&&ba){g();if(a=E.GetCanvas())h(),G.UpdateFromImage(a,!0),I.OnPreRender(),a={onPostCompose:t,viewportWidth:C.width,
viewportHeight:C.height,isForPick:!1,frameBuffer:void 0,clearColor:[0,0,0,0],useProgram:void 0},I.RenderOn(a),0==++R%O&&(a.viewportWidth=a.viewportHeight=T,a.isForPick=!0,a.frameBuffer=U.GetFrameBuffer(),a.clearColor=[0,0,0,0],a.useProgram=F.GetTextureColorPickProgram(),I.RenderOn(a));F.RequestAnimFrame()}}function q(a){A(tf.consts.perspectiveMapLostDeviceEvent);!d()&&ba&&b(!1)}function r(a){D&&(ea=!0,A(tf.consts.perspectiveMapRestoredDeviceEvent),setTimeout(function(){return p(a)},100))}function A(a,
b){B.Notify(a,tf.js.ShallowMerge(b,{sender:u,eventName:a}))}function t(a){A(tf.consts.perspectiveMapPostComposeEvent,{sender:u,sceneNotification:a})}function w(a){var b=Math.sin(N)*K,c=Math.cos(N)*K,b={vFrom:[0,b,c],vTo:[0,0,0],vUp:[0,1,0]},c=new Float32Array([0,1,0,0,1,0,0,1,0,0,1,0]),d=a.GetTextureColorProgram(),e=new tf.webgl.QuadXY({context:a});I=new tf.webgl.Scene({context:a,clearColor:[1,1,1,1],clearDepth:1,ambientColor:[1,1,1],lightDir:[0,0,1],lightColor:[.75,.75,.75],view:b,perspective:{fovy:30*
Math.PI/180,near:ua,far:100}});k();J=new tf.webgl.SceneObject({context:a,attributes:e,texture:G,program:d});J.GetAttributes().GetNor().Update(c);I.AddObject(J)}function v(){return!d()&&ba?[C.width,C.height]:void 0}var u,B,E,D,F,C,G,H,I,J,K,N,Q,M,R,O,T,U,S,Z,X,da,L,W,ca,ea,ba,fa,qa,pa,ua,aa;this.PixelActualToVirtual=function(a){return l(a)};this.PixelVirtualToActual=function(a){return m(a)};this.GetMapSize=function(){return Q};this.AddListener=function(a,b){return B.AddListener(a,b)};this.GetIsVisible=
function(){return!d()&&ba};this.SetIsVisible=function(a){return b(a)};this.IsDeleted=function(){return d()};this.OnDelete=function(){d()||(D=void 0)};this.GetContext=function(){return F};this.GetMap=function(){return E};this.GetScene=function(){return I};this.PointCoordsToQuadCoords=function(a){return n(a)};u=this;c=tf.TFMap.CreateClassName("perspectiveMap","Wrapper");e=tf.TFMap.CreateClassName("perspectiveMap","Canvas");tf.styles.CreateCSSClasses(function(){var b=a.appContent.GetAppStyles().GetCSSClasses(),
d=[],f={inherits:[b.robotoFontFamily,b.fontSize16px,b.overflowHidden,b.noMarginNoBorderNoPadding,b.WHOneHundred,b.displayBlock,b.cursorDefault,b.positionAbsolute,b.leftTopZero,b.pointerEventsNone],background:"white"};d[c]={inherits:[f,b.transitionPoint2s],zIndex:"11"};d[e]={inherits:[f]};return d}());a=tf.js.GetValidObjectFrom(a);K=.66;N=35*Math.PI/180;ua=K/2;W=1.4;ca=1.5*1.4;Q=[100,100];M=1;S=new tf.math.Matrix4({noInit:!0});Z=new tf.math.Vector3({x:0,y:0,z:0});X=new tf.math.Vector3({x:0,y:1,z:0});
aa=new tf.math.Vector3({x:0,y:1,z:0});da=new tf.math.Vector3;L=new tf.math.Vector3;B=new tf.events.MultiEventNotifier({eventNames:tf.consts.allPerspectiveMapEventNames});if(E=tf.js.GetMapFrom(a.map))D=tf.webgl.GetWebGL(),D.GetHasWebGL()?(fa=new tf.events.DelayedCallBack(50,f,u),F=new tf.webgl.Context({optionalAttributes:{antialias:!0},onFrame:p,onLost:q,onRestored:r}),G=new tf.webgl.Texture2({context:F,img:E.GetCanvas()}),F.GetContext(),C=F.GetCanvas(),C.className=e,new Uint8Array(4),R=0,O=10,T=512,
U=new tf.webgl.FrameBuffer({context:F,width:T,height:T}),H=new tf.dom.Div({cssClass:c}),H.AddContent(C),w(F),ea=!0,h(),E.SetActualToVirtualPixelTranslateCallBacks(l,m,v),p(),b(!tf.js.GetIsFalseNotUndefined(a.isVisible)),a.appContent.GetMapDiv().AddContent(H)):D=E=void 0};tf.webgl.AssociateMapFeatureAndPerspectivePointFeature=function(a,c){var e=!1;a&&c&&a.GetIsPoint()&&(a.GetSettings().perspectiveFeature=c,c.mapFeature=a,e=!0);return e};
tf.webgl.DessociateMapFeatureAndPerspectivePointFeature=function(a,c){var e=!1;a&&c&&a.GetIsPoint()&&(delete a.GetSettings().perspectiveFeature,delete c.mapFeature,e=!0);return e};tf.webgl.PerspectivePointFeatureFromMapFeature=function(a){return a?a.GetSettings().perspectiveFeature:void 0};tf.webgl.MapFeatureFromPerspectivePointFeature=function(a){return a?a.mapFeature:void 0};
tf.webgl.PerspectivePointFeature=function(a){function c(){var c=tf.webgl.MapFeatureFromPerspectivePointFeature(b);if(c){var d=a.perspectiveLayer;d.UpdatePosition(c,g);d.UpdateTexture(c,f)}}function e(){c()}function d(b){if(b){var d=a.perspectiveLayer.GetPerspectiveMap();b=d.GetScene();var d=d.GetContext(),k=d.GetTextureColorProgram(),m=new tf.webgl.QuadXY({context:d}),p=new Float32Array([0,1,0,0,1,0,0,1,0,0,1,0]);f=new tf.webgl.Texture2({context:d});g=new tf.webgl.SceneObject({context:d,attributes:m,
texture:f,program:k,onPreRender:e});g.GetAttributes().GetNor().Update(p);c();b.AddObject(g)}}var b,g,f,k;this.GetIsDeleted=function(){return void 0==g};this.OnDelete=function(){if(g){var c=a.perspectiveLayer.GetPerspectiveMap().GetScene(),d=g;g=void 0;c.DelObject(d)}f&&(f.OnDelete(),f=void 0);k&&(k=void 0);tf.webgl.DessociateMapFeatureAndPerspectivePointFeature(a.mapFeature,b);a.mapFeature=void 0};b=this;tf.webgl.AssociateMapFeatureAndPerspectivePointFeature(a.mapFeature,b)&&d(a.mapFeature)};
tf.webgl.PerspectiveLayer=function(a){var c,e,d,b,g,f,k;this.UpdateTexture=function(a,c){if(a){var d=k.getContext("2d");d.save();d.clearRect(0,0,b,b);var e=a.getAPIStyle(),p;for(p in e)g.drawFeature(f,e[p]);d.restore();c.UpdateFromImage(k,!0)}};this.UpdatePosition=function(a,b){if(a&&b){var d=a.GetPointCoords(),d=c.GetMap().ActualMapToPixelCoords(d),d=c.GetPerspectiveMap().PointCoordsToQuadCoords(d);b.GetObjectToSceneMatrix().UpdateWorld({translate:{tx:d[0],ty:0,tz:d[1]},scale:{sx:.05,sy:.05,sz:.05}})}};
this.GetMapFromContent=function(){return a.appContent.GetMap()};this.GetCanvasDimInt=function(){return b};this.GetPerspectiveMap=function(){return a.appContent.GetPerspectiveMap()};this.GetScene=function(){var a=c.GetPerspectiveMap();return a?a.GetScene():void 0};this.GetSettings=function(){return a};c=this;b=80;k=document.createElement("canvas");k.height=k.width=b;g=ol.render.toContext(k.getContext("2d"),{size:[b,b]});f=new ol.Feature({geometry:new ol.geom.Point([b/2,b/2])});tf.map.FeatureLayer.call(c,
a);e=c.AddMapFeature;d=c.DelMapFeature;c.AddMapFeature=function(){new tf.webgl.PerspectivePointFeature({mapFeature:arguments[0],perspectiveLayer:c});e.apply(c,arguments)};c.DelMapFeature=function(){var a=tf.webgl.PerspectivePointFeatureFromMapFeature(arguments[0]);a&&a.OnDelete();d.apply(c,arguments)}};tf.js.InheritFrom(tf.webgl.PerspectiveLayer,tf.map.FeatureLayer);
tf.TFMap.Styles=function(a){function c(a){var b=a.sizeCanvas,c=a.imageToPaint,d=a.iconAnchor,e=a.bottomMargin,f=a.zindex,h=document.createElement("canvas"),g=h.getContext("2d");d||(d=[.5,.5]);g.canvas.width=b[0];g.canvas.height=b[1]+(void 0!=e?e:0);g.clearRect(0,0,b[0],b[1]);void 0!=a.circleRadius?(g.fillStyle=a.circleFill,g.shadowColor="rgba(0,0,0,0.3)",g.shadowBlur=2,g.shadowOffsetX=0,g.shadowOffsetY=0,g.beginPath(),g.arc(b[0]/2,b[1]/2,a.circleRadius,0,2*Math.PI,!1),g.closePath(),g.fill()):a.iconShadow&&
(g.shadowColor="rgba(0,0,0,0.4)",g.shadowBlur=2,g.shadowOffsetX=0,g.shadowOffsetY=0);a=void 0!=a.sizeImage?a.sizeImage:b;g.translate(b[0]/2,b[1]/2);g.drawImage(c,-a[0]/2,-a[1]/2,a[0],a[1]);return{icon:!0,icon_img:h,icon_size:[g.canvas.width,g.canvas.height],icon_anchor:d,zindex:f,snaptopixel:!0}}function e(a,b,d,e,f){return c({sizeCanvas:a,imageToPaint:b,iconAnchor:d,bottomMargin:e,zindex:f})}function d(a,b){var c=b.GetIsDisplayingInHover(),d=c?2:1,f={zindex:d,snaptopixel:!0};return f=tf.js.ShallowMerge(e(c?
[24*1.1,39.6]:[24,36],Fa,[.5,.92],0,d))}function b(a,b,d,e,f,h,g,k){h=a?1E3:b?2E3:k;a=a||b;void 0!=k&&(h+=k);k=[];if(void 0!=f){d=!0;var m;tf.js.GetIsNonEmptyString(f)&&(e=f.split("/"),g=e.length,0<g&&(m=e[g-1]));m=Ca[m];void 0!=m&&(d=c(tf.js.ShallowMerge(a?m.hoverSettings:m.styleSettings,{zindex:++h})),d.rotate_with_map=!0,d.rotation_rad=m.angle,k.push(d),d=!1);d&&k.push({icon:!0,icon_anchor:[.5,.5],scale:a?1.2:1,zindex:++h,icon_url:f})}else void 0!=e&&(f={marker_arrowlength:16,marker:!0,font_height:a?
14:12,border_color:"#000",border_width:2,zindex:++h,line_color:g?"#025":"#fff",line_opacity:g?50:70,line_width:g?3:2,marker_color:d,font_color:g?"#fff":"#025",marker_opacity:g?75:65,border_opacity:60,label:e},k.push(f));return k}function g(a,b,c,d,e,f,h,g,k){e=void 0!=e?e:"#00f";k=void 0!=k?k:1;d=void 0!=d?d:14;var m=d+k,p=2*(d-k-k);c=void 0!=c?c:[p,p];var p=document.createElement("canvas"),l=p.getContext("2d");f||(f=[.5,.5]);l.canvas.width=m;l.canvas.height=m+(void 0!=h?h:0);l.clearRect(0,0,c[0],
c[1]);h=void 0!=g?g:"#fff";l.fillStyle=h;l.beginPath();tf.canvas.circle(l,0,0,m);l.closePath();l.fill();l.strokeStyle=e;l.lineWidth=k;l.beginPath();tf.canvas.circle(l,k,k,d-k);l.closePath();l.stroke();l.fillStyle=h;l.beginPath();tf.canvas.circle(l,2*k,2*k,d-3*k);l.closePath();l.fill();l.translate(m/2,m/2);l.drawImage(b,-c[0]/2,-c[1]/2,c[0],c[1]);return{icon:!0,icon_img:p,icon_size:[l.canvas.width,l.canvas.height],icon_anchor:f,zindex:a}}function f(a){return"data:image/svg+xml;utf8,"+encodeURIComponent(a)}
function k(a){var b='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 56.966 56.966" style="enable-background:new 0 0 56.966 56.966;" xml:space="preserve"> <path ';void 0!=a&&(b+='fill="'+a+'" ');return b+'d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23 s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92 c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17 s-17-7.626-17-17S14.61,6,23.984,6z"/> </svg>'}
function h(){var a=tf.GetStyles(tf.styles.GetGraphiteAPIStyleSpecifications()).GetStyleCreator(),b={},c=["::-webkit-input-placeholder","::-moz-placeholder",":-ms-input-placeholder",":-moz-placeholder"],d;for(d in c)b[c[d]]={fontSize:"0.9rem",color:"rgba(0, 60, 130, 0.4)"};c=["::-moz-selection","::selection"];for(d in c)b[c[d]]={color:"white",background:"orange"};d=[];var c=tf.TFMap.LayoutSettings,e=c.lightBackground;q={lightBackground:{background:e},lightTextShadow:{textShadow:c.lightTextShadow},
darkTextShadow:{textShadow:c.darkTextShadow},lightTextColor:{color:c.lightTextColor},darkTextColor:{color:c.darkTextColor},fillActiveSVGColor:{fill:c.activeSVGColor},toolTipBackground:{background:c.toolTipContentBackground},directionsButtonBackground:{background:e+" url("+ia+(xa?") center/75% no-repeat":") center/70% no-repeat")},directionsButtonBackground2:{background:e+" url("+ia+") center/80% no-repeat"},closeButtonBackground:{background:e+" url("+ma+") center/50% no-repeat"},activeSearchButtonBackground:{background:e+
" url("+Ha+") center/50% no-repeat"},inactiveSearchButtonBackground:{background:e+" url("+ra+") center/50% no-repeat"},menuButtonBackground:{background:e+" url("+Da+") center/50% no-repeat"},arrowRightBackground:{background:e+" url("+oa+") center/38% no-repeat"},arrowLeftBackground:{background:e+" url("+aa+") center/38% no-repeat"},goFullScreenBackground:{background:e+" url("+pa+") center/50% no-repeat"},restoreFullScreenBackground:{background:e+" url("+ua+") center/50% no-repeat"},loadingBackgroundTransparent:{background:"url("+
ha+") center/90% no-repeat"},loadedOKBackgroundTransparent:{background:"url("+ja+") center/90% no-repeat"},refreshGrayBackground:{background:"url("+qa+") center/100% no-repeat"},failedToLoadBackground:{background:"url("+V+") center/90% no-repeat"},loadingBackground:{background:e+" url("+ha+") center/70% no-repeat"},noClusterBackground:{background:e+" url("+pb+") center/100% no-repeat"},clusterBackground:{background:e+" url("+ta+") center/90% no-repeat"},borderLeftD4:{borderLeft:"1px solid #D4D4D4"},
boxShadow002003:{boxShadow:"0px 0px 20px rgba(0,0,0,0.5)"},boxShadow01403:{boxShadow:"0px 1px 6px rgba(0,0,0,0.3)"},WHOneRem:{width:"1rem",height:"1rem"},WHTwoRem:{width:"2rem",height:"2rem"},robotoFontFamily:{fontFamily:"Roboto"},fontSize16px:{fontSize:"16px"},WHOneHundred:{width:"100%",height:"100%"},WOneHundred:{width:"100%"},HOneHundred:{height:"100%"},overflowHidden:{overflow:"hidden"},overflowVisible:{overflow:"visible"},textOverflowEllipsis:{textOverflow:"ellipsis"},displayFlex:{display:"flex"},
displayBlock:{display:"block"},displayNone:{display:"none"},displayInlineBlock:{display:"inline-block"},displayInline:{display:"inline"},flexFlowColumnNoWrap:{flexFlow:"column nowrap"},flexFlowColumnWrap:{flexFlow:"column wrap"},flexFlowRowNoWrap:{flexFlow:"row nowrap"},flexFlowRowWrap:{flexFlow:"row wrap"},flexFlowRowReverseNoWrap:{flexFlow:"row-reverse nowrap"},flexOne:{flex:"1"},flexZero:{flex:"0"},flexGrowOne:{flexGrow:"1"},flexGrowZero:{flexGrow:"0"},flexShrinkOne:{flexShrink:"1"},flexShrinkZero:{flexShrink:"0"},
marginAuto:{margin:"auto"},borderRadius2px:{borderRadius:"2px"},cursorText:{cursor:"text"},cursorPointer:{cursor:"pointer"},cursorDefault:{cursor:"default"},listStyleNone:{listStyle:"none"},listStyleTypeNone:{listStyleType:"none"},noBorder:{border:"0"},noMargin:{margin:"0px"},noPadding:{padding:"0px"},outline0:{outline:"0"},positionAbsolute:{position:"absolute"},positionRelative:{position:"relative"},leftTopZero:{left:"0px",top:"0px"},leftBotZero:{left:"0px",bottom:"0px"},fontInherit:{font:"inherit"},
verticalAlignTop:{verticalAlign:"top"},verticalAlignBaseline:{verticalAlign:"baseline"},verticalAlignMiddle:{verticalAlign:"middle"},zIndex1:{zIndex:""+(c.rootDivZIndex+1)},zIndex2:{zIndex:""+(c.rootDivZIndex+2)},backgroundColorWhite:{backgroundColor:"white"},backgroundColorRed:{backgroundColor:"red"},backgroundColorGreen:{backgroundColor:"green"},backgroundColorBlue:{backgroundColor:"blue"},backgroundColorTransparent:{backgroundColor:"transparent"},visibilityHidden:{visibility:"hidden"},visibilityVisible:{visibility:"visible"},
whiteSpaceNoWrap:{whiteSpace:"nowrap"},whiteSpaceNormal:{whiteSpace:"normal"},pointerEventsNone:{pointerEvents:"none"},pointerEventsAll:{pointerEvents:"all"},transitionBackground:{transitionProperty:"-webkit-transform,transform,opacity,visibility,left,top,right,bottom,width,height,background",transitionDuration:"0.5s",transitionTimingFunction:"cubic-bezier(0.0,0.0,0.2,1)"},transitionPoint2s:{transitionProperty:"-webkit-transform,transform,opacity,visibility,left,top,right,bottom,width,height",transitionDuration:"0.2s",
transitionTimingFunction:"cubic-bezier(0.0,0.0,0.2,1)"},transitionWithColor:{transitionProperty:"-webkit-transform,transform,opacity,visibility,left,top,right,bottom,width,height,color",transitionDuration:"1s",transitionTimingFunction:"cubic-bezier(0.0,0.0,0.2,1)"}};q.noMarginNoBorderNoPadding={inherits:[q.noMargin,q.noBorder,q.noPadding]};q.noBorderNoPadding={inherits:[q.noBorder,q.noPadding]};q.baseTextButton={inherits:[q.robotoFontFamily,q.cursorPointer,q.outline0,q.verticalAlignMiddle,q.listStyleNone,
q.overflowVisible]};q.transparentImageButton={inherits:[q.baseTextButton,q.noMarginNoBorderNoPadding]};q.inheritBackgroundAndColorImageButton={inherits:[q.transparentImageButton],background:"inherit",color:"inherit"};q.baseImageButton={inherits:[q.transparentImageButton,q.backgroundColorTransparent],border:"1px solid transparent"};q.absoluteCenter={inherits:[q.positionAbsolute],left:"50%",top:"50%",transform:"translate(-50%, -50%)","-webkit-transform":"translate(-50%,-50%)"};for(var f in b)d.push({styleName:""+
f,inherits:b[f]});a.CreateStyles(d)}function l(b){var c=b.GetImgs(),d=0,e=tf.TFMap.LayoutSettings;b=e.activeSVGColor;e=e.inactiveSVGColor;c[d++].GetImg();c[d++].GetImg();Fa=c[d++].GetImg();Q=c[d++].GetImg();N=c[d++].GetImg();M=c[d++].GetImg();na=c[d++].GetImg();za=c[d++].GetImg();Ma=c[d++].GetImg();Ga=c[d++].GetImg();Wa=c[d++].GetImg();qb=c[d++].GetImg();T=c[d++].GetImg();qa=f('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 491.236 491.236" style="fill:#ff5500;enable-background:new 0 0 491.236 491.236;" xml:space="preserve"> <g> <g> <path d="M55.89,262.818c-3-26-0.5-51.1,6.3-74.3c22.6-77.1,93.5-133.8,177.6-134.8v-50.4c0-2.8,3.5-4.3,5.8-2.6l103.7,76.2 c1.7,1.3,1.7,3.9,0,5.1l-103.6,76.2c-2.4,1.7-5.8,0.2-5.8-2.6v-50.3c-55.3,0.9-102.5,35-122.8,83.2c-7.7,18.2-11.6,38.3-10.5,59.4 c1.5,29,12.4,55.7,29.6,77.3c9.2,11.5,7,28.3-4.9,37c-11.3,8.3-27.1,6-35.8-5C74.19,330.618,59.99,298.218,55.89,262.818z M355.29,166.018c17.3,21.5,28.2,48.3,29.6,77.3c1.1,21.2-2.9,41.3-10.5,59.4c-20.3,48.2-67.5,82.4-122.8,83.2v-50.3 c0-2.8-3.5-4.3-5.8-2.6l-103.7,76.2c-1.7,1.3-1.7,3.9,0,5.1l103.6,76.2c2.4,1.7,5.8,0.2,5.8-2.6v-50.4 c84.1-0.9,155.1-57.6,177.6-134.8c6.8-23.2,9.2-48.3,6.3-74.3c-4-35.4-18.2-67.8-39.5-94.4c-8.8-11-24.5-13.3-35.8-5 C348.29,137.718,346.09,154.518,355.29,166.018z"/> </g> </g> </svg>');
pa=f('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 28.361 28.361" style="fill:'+b+';enable-background:new 0 0 28.361 28.361;" xml:space="preserve"> <g> <g> <path d="M28.36,19.595c0-0.868-0.665-1.57-1.491-1.57c-0.819,0.002-1.492,0.702-1.492,1.57v3.25l-6.018-6.021 c-0.582-0.583-1.524-0.583-2.106,0c-0.582,0.582-0.582,1.527,0,2.109l5.989,5.987h-3.235c-0.881,0.002-1.591,0.669-1.591,1.491 c0,0.824,0.71,1.49,1.591,1.49h6.761c0.881,0,1.59-0.665,1.593-1.49c-0.003-0.022-0.006-0.039-0.009-0.061 c0.003-0.028,0.009-0.058,0.009-0.087v-6.668H28.36z"/> <path d="M9,16.824l-6.015,6.021v-3.25c0-0.868-0.672-1.568-1.493-1.57c-0.824,0-1.49,0.702-1.49,1.57L0,26.264 c0,0.029,0.008,0.059,0.01,0.087c-0.002,0.021-0.006,0.038-0.008,0.061c0.002,0.825,0.712,1.49,1.592,1.49h6.762 c0.879,0,1.59-0.666,1.59-1.49c0-0.822-0.711-1.489-1.59-1.491H5.121l5.989-5.987c0.58-0.582,0.58-1.527,0-2.109 C10.527,16.241,9.584,16.241,9,16.824z"/> <path d="M19.359,11.535l6.018-6.017v3.25c0,0.865,0.673,1.565,1.492,1.568c0.826,0,1.491-0.703,1.491-1.568V2.097 c0-0.029-0.006-0.059-0.009-0.085c0.003-0.021,0.006-0.041,0.009-0.062c-0.003-0.826-0.712-1.491-1.592-1.491h-6.761 c-0.881,0-1.591,0.665-1.591,1.491c0,0.821,0.71,1.49,1.591,1.492h3.235l-5.989,5.987c-0.582,0.581-0.582,1.524,0,2.105 C17.835,12.12,18.777,12.12,19.359,11.535z"/> <path d="M5.121,3.442h3.234c0.879-0.002,1.59-0.671,1.59-1.492c0-0.826-0.711-1.491-1.59-1.491H1.594 c-0.88,0-1.59,0.665-1.592,1.491C0.004,1.971,0.008,1.991,0.01,2.012C0.008,2.038,0,2.067,0,2.097l0.002,6.672 c0,0.865,0.666,1.568,1.49,1.568c0.821-0.003,1.493-0.703,1.493-1.568v-3.25L9,11.535c0.584,0.585,1.527,0.585,2.11,0 c0.58-0.581,0.58-1.524,0-2.105L5.121,3.442z"/> </g> </g> </svg>');
ua=f('<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill:'+b+';enable-background:new 0 0 28.361 28.361;" viewBox="0 0 28.361 28.361" y="0px" x="0px" version="1.1"><path d="m 16.8175,24.69275 c 0,0.868 0.665,1.57 1.491,1.57 0.819,-0.002 1.492,-0.702 1.492,-1.57 l 0,-3.25 6.018,6.021 c 0.582,0.583 1.524,0.583 2.106,0 0.582,-0.582 0.582,-1.527 0,-2.109 l -5.989,-5.987 3.235,0 c 0.881,-0.002 1.591,-0.669 1.591,-1.491 0,-0.824 -0.71,-1.49 -1.591,-1.49 l -6.761,0 c -0.881,0 -1.59,0.665 -1.593,1.49 0.003,0.022 0.006,0.039 0.009,0.061 -0.003,0.028 -0.009,0.058 -0.009,0.087 l 0,6.668 10e-4,0 z" /><path d="m 2.545,27.464875 6.015,-6.021 0,3.25 c 0,0.868 0.672,1.568 1.493,1.57 0.824,0 1.49,-0.702 1.49,-1.57 l 0.002,-6.669 c 0,-0.029 -0.008,-0.059 -0.01,-0.087 0.002,-0.021 0.006,-0.038 0.008,-0.061 -0.002,-0.825 -0.712,-1.49 -1.592,-1.49 l -6.762,0 c -0.879,0 -1.59,0.666 -1.59,1.49 0,0.822 0.711,1.489 1.59,1.491 l 3.235,0 -5.989,5.987 c -0.58,0.582 -0.58,1.527 0,2.109 0.583,0.584 1.526,0.584 2.11,10e-4 z" /><path d="m 25.8175,0.89762508 -6.018,6.01700002 0,-3.25 c 0,-0.865 -0.673,-1.565 -1.492,-1.568 -0.826,0 -1.491,0.703 -1.491,1.568 l 0,6.6709999 c 0,0.029 0.006,0.059 0.009,0.085 -0.003,0.021 -0.006,0.041 -0.009,0.062 0.003,0.826 0.712,1.491 1.592,1.491 l 6.761,0 c 0.881,0 1.591,-0.665 1.591,-1.491 0,-0.8209999 -0.71,-1.4899999 -1.591,-1.4919999 l -3.235,0 5.989,-5.987 c 0.582,-0.581 0.582,-1.524 0,-2.10500002 -0.582,-0.586 -1.524,-0.586 -2.106,-0.001 z" /><path d="m 6.424,8.99075 -3.234,0 c -0.879,0.002 -1.59,0.671 -1.59,1.492 0,0.826 0.711,1.491 1.59,1.491 l 6.761,0 c 0.88,0 1.59,-0.665 1.592,-1.491 -0.002,-0.021 -0.006,-0.041 -0.008,-0.062 0.002,-0.026 0.01,-0.055 0.01,-0.085 l -0.002,-6.672 c 0,-0.865 -0.666,-1.568 -1.49,-1.568 -0.821,0.003 -1.493,0.703 -1.493,1.568 l 0,3.25 -6.015,-6.016 c -0.584,-0.585 -1.527,-0.585 -2.11,0 -0.58,0.581 -0.58,1.524 0,2.105 l 5.989,5.988 z" /></svg>');
w='<svg style="width:100%;height:100%" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 14.573 14.573" style="enable-background:new 0 0 14.573 14.573;" xml:space="preserve"> <g> <g> <path d="M7.286,14.573c-1.736,0-3.368-0.676-4.596-1.903c-1.227-1.228-1.904-2.86-1.904-4.597 s0.677-3.369,1.904-4.597c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414c-0.85,0.851-1.318,1.981-1.318,3.183 s0.468,2.333,1.318,3.183s1.979,1.317,3.182,1.317s2.332-0.468,3.182-1.317c0.851-0.85,1.318-1.98,1.318-3.183 S11.318,5.74,10.469,4.89c-0.391-0.391-0.391-1.023,0-1.414s1.023-0.391,1.414,0c1.227,1.229,1.904,2.861,1.904,4.597 s-0.677,3.369-1.904,4.597C10.655,13.897,9.023,14.573,7.286,14.573z"/> </g> <g> <path d="M7.286,7c-0.553,0-1-0.448-1-1V1c0-0.552,0.447-1,1-1s1,0.448,1,1v5C8.286,6.552,7.84,7,7.286,7z" /> </g> </g> </svg>';
Oa='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 41.999 41.999" style="fill:'+b+'; enable-background:new 0 0 41.999 41.999;" xml:space="preserve"> <path d="M36.068,20.176l-29-20C6.761-0.035,6.363-0.057,6.035,0.114C5.706,0.287,5.5,0.627,5.5,0.999v40 c0,0.372,0.206,0.713,0.535,0.886c0.146,0.076,0.306,0.114,0.465,0.114c0.199,0,0.397-0.06,0.568-0.177l29-20 c0.271-0.187,0.432-0.494,0.432-0.823S36.338,20.363,36.068,20.176z"/> </svg>';
oa=f(Oa);Ja='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill:'+b+'; enable-background:new 0 0 41.999 41.999;" viewBox="0 0 41.999 41.999" y="0px" x="0px" version="1.1"><path d="m 5.932,20.176 29,-20 c 0.307,-0.211 0.705,-0.233 1.033,-0.062 0.329,0.173 0.535,0.513 0.535,0.885 l 0,40 c 0,0.372 -0.206,0.713 -0.535,0.886 -0.146,0.076 -0.306,0.114 -0.465,0.114 -0.199,0 -0.397,-0.06 -0.568,-0.177 l -29,-20 C 5.661,21.635 5.5,21.328 5.5,20.999 5.5,20.67 5.662,20.363 5.932,20.176 Z" /></svg>';
aa=f(Ja);R='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 41.999 41.999" enable-background:new 0 0 41.999 41.999;" xml:space="preserve"> <path d="M36.068,20.176l-29-20C6.761-0.035,6.363-0.057,6.035,0.114C5.706,0.287,5.5,0.627,5.5,0.999v40 c0,0.372,0.206,0.713,0.535,0.886c0.146,0.076,0.306,0.114,0.465,0.114c0.199,0,0.397-0.06,0.568-0.177l29-20 c0.271-0.187,0.432-0.494,0.432-0.823S36.338,20.363,36.068,20.176z"/> </svg>';
O='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" enable-background:new 0 0 41.999 41.999;" viewBox="0 0 41.999 41.999" y="0px" x="0px" version="1.1"><path d="m 5.932,20.176 29,-20 c 0.307,-0.211 0.705,-0.233 1.033,-0.062 0.329,0.173 0.535,0.513 0.535,0.885 l 0,40 c 0,0.372 -0.206,0.713 -0.535,0.886 -0.146,0.076 -0.306,0.114 -0.465,0.114 -0.199,0 -0.397,-0.06 -0.568,-0.177 l -29,-20 C 5.661,21.635 5.5,21.328 5.5,20.999 5.5,20.67 5.662,20.363 5.932,20.176 Z" /></svg>';
Da=f('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 53 53" style="fill:'+b+'; enable-background:new 0 0 53 53;" xml:space="preserve"> <g> <g> <path d="M2,13.5h49c1.104,0,2-0.896,2-2s-0.896-2-2-2H2c-1.104,0-2,0.896-2,2S0.896,13.5,2,13.5z"/> <path d="M2,28.5h49c1.104,0,2-0.896,2-2s-0.896-2-2-2H2c-1.104,0-2,0.896-2,2S0.896,28.5,2,28.5z"/> <path d="M2,43.5h49c1.104,0,2-0.896,2-2s-0.896-2-2-2H2c-1.104,0-2,0.896-2,2S0.896,43.5,2,43.5z"/> </g> </g></svg>');
c=k(e);ra=f(c);c=k(b);Ha=f(c);J=k(void 0);I='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" x="0px" y="0px" width="16px" height="16px" viewBox="-1 -2.145 16 16" overflow="visible" enable-background="new -1 -2.145 16 16" xml:space="preserve"> <defs> </defs> <path d="M12.729,4.018l-1.147-2.963C11.367,0.487,10.898,0.004,10.011,0H8.392H5.626H3.979 c-0.883,0.004-1.352,0.487-1.57,1.055L1.262,4.018C0.805,4.077-0.002,4.612,0,5.626v3.773h1.12v1.204 c-0.003,1.485,2.098,1.468,2.098,0V9.399H7h3.772v1.204c0.004,1.468,2.106,1.485,2.107,0V9.399H14V5.626 C13.996,4.612,13.189,4.077,12.729,4.018z M2.483,7.702c-0.693,0.001-1.254-0.576-1.25-1.287C1.229,5.7,1.791,5.122,2.483,5.128 c0.69-0.006,1.25,0.572,1.25,1.288C3.733,7.126,3.174,7.703,2.483,7.702z M7,3.99H6.99H2.456l0.865-2.333 c0.104-0.331,0.267-0.568,0.649-0.574h3.02H7h3.03c0.377,0.006,0.539,0.243,0.648,0.574l0.865,2.333H7z M11.522,7.69 c-0.694,0.002-1.252-0.573-1.256-1.28c0.004-0.713,0.562-1.289,1.256-1.282c0.683-0.006,1.241,0.569,1.244,1.282 C12.764,7.117,12.205,7.692,11.522,7.69z"/> </svg>';
H='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" x="0px" y="0px" width="16px" height="16px" viewBox="-3.466 0 16 16" overflow="visible" enable-background="new -3.466 0 16 16" xml:space="preserve"> <defs> </defs> <path d="M5.767,1.233C5.767,0.542,5.225,0,4.534,0C3.841,0,3.301,0.542,3.301,1.233c0,0.692,0.54,1.234,1.232,1.234 C5.225,2.467,5.767,1.925,5.767,1.233z M8.79,4.62c0,0-1.472-0.826-2.123-1.168C6.015,3.108,4.72,2.221,3.566,3.247 C3.042,3.713,2.438,6.096,2.438,6.096L0,7.6l0.4,0.558l2.656-0.966l0.742-0.961l0.786,1.733l-1.586,2.78l-1.252,4.674l1.295,0.436 l1.456-4.366l1.077-1.063L7.933,16l1.136-0.524L7.162,8.692c0,0,0.237-0.487,0.237-1.264c0-0.89-0.703-2.347-0.703-2.347 l1.151,0.265l0.258,2.898l0.726,0.068L8.79,4.62z"/> </svg>';
G='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" x="0px" y="0px" width="16px" height="16px" viewBox="0 -2 16 16" overflow="visible" enable-background="new 0 -2 16 16" xml:space="preserve"> <defs> </defs> <path d="M12.5,5c-0.355,0-0.691,0.068-1.014,0.168l-0.594-1.094L12.32,1l0.135-0.289 c0.072-0.154,0.061-0.336-0.031-0.48C12.332,0.088,12.172,0,12.002,0h-0.321H9.5C9.224,0,9,0.225,9,0.5C9,0.777,9.224,1,9.5,1h1.717 l-0.93,2H5.002C4.785,3,4.594,3.139,4.527,3.344L3.969,5.047C3.813,5.027,3.66,5,3.5,5C1.567,5,0,6.566,0,8.5S1.567,12,3.5,12 S7,10.434,7,8.5c0-1.422-0.852-2.639-2.068-3.188l0.213-0.65C5.273,4.268,5.641,4,6.057,4h3.635l0.07,0.131l0.598,1.09l0.201,0.367 C9.621,6.217,9,7.285,9,8.5c0,1.934,1.567,3.5,3.5,3.5S16,10.434,16,8.5S14.433,5,12.5,5z M6,8.5C6,9.879,4.879,11,3.5,11 S1,9.879,1,8.5S2.121,6,3.5,6c0.052,0,0.1,0.012,0.15,0.016L3.154,7.527C3.069,7.789,3.211,8.07,3.472,8.158 c0.126,0.041,0.264,0.031,0.383-0.027C3.973,8.07,4.062,7.965,4.104,7.84l0.512-1.564C5.434,6.688,6,7.525,6,8.5z M12.5,11 C11.121,11,10,9.879,10,8.5c0-0.834,0.416-1.57,1.047-2.025l1.274,2.328c0.13,0.234,0.421,0.326,0.661,0.207l0.002-0.002 c0.121-0.061,0.213-0.168,0.254-0.297s0.027-0.27-0.037-0.389l-1.23-2.264C12.142,6.021,12.318,6,12.5,6C13.879,6,15,7.121,15,8.5 S13.879,11,12.5,11z"/> <path d="M3.5,2H5c0.752,0,1.195-0.256,1.637-0.65c0.062-0.055,0.082-0.143,0.053-0.221S6.586,1,6.503,1H3.5 C3.224,1,3,1.225,3,1.5C3,1.777,3.224,2,3.5,2z"/> </svg>';
K='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="71.753px" height="71.753px" viewBox="0 0 71.753 71.753" style="enable-background:new 0 0 71.753 71.753;" xml:space="preserve"> <g> <path d="M39.798,20.736H28.172v20.738L11.625,41.47V20.736H0L19.899,0.839L39.798,20.736z M51.855,70.914l19.897-19.896H60.129 V30.282l-16.547-0.004v20.74H31.957L51.855,70.914z"/> </g> </svg>';C='<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" height="369.7908" width="369.79126" xml:space="preserve" viewBox="0 0 369.79127 369.79081" y="0px" x="0px" version="1.1"><g transform="matrix(0.70710678,-0.70710678,0.70710678,0.70710678,-162.90155,184.89552)" ><g ><path d="m 465.167,211.614 -184.922,0 0,-184.923 c 0,-8.424 -11.439,-26.69 -34.316,-26.69 -22.877,0 -34.316,18.267 -34.316,26.69 l 0,184.924 -184.923,0 C 18.267,211.614 0,223.053 0,245.929 c 0,22.876 18.267,34.316 26.69,34.316 l 184.924,0 0,184.924 c 0,8.422 11.438,26.69 34.316,26.69 22.878,0 34.316,-18.268 34.316,-26.69 l 0,-184.924 184.924,0 c 8.422,0 26.69,-11.438 26.69,-34.316 0,-22.878 -18.27,-34.315 -26.693,-34.315 z" /></g><g /></g></svg>';
ma="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgaWQ9InN2ZzY0MzQiCiAgIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDY0IDY0IgogICB2aWV3Qm94PSIwIDAgNjMuOTk3NTAxIDYzLjU1MzUwMSIKICAgaGVpZ2h0PSI2My41NTM1MDEiCiAgIHZlcnNpb249IjEuMSIKICAgd2lkdGg9IjYzLjk5NzUwMSI+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNjQ0NCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGRlZnMKICAgICBpZD0iZGVmczY0NDIiIC8+CiAgPHBhdGgKICAgICBkPSJtIDI4LjkzODI1LDMxLjc4NjUgLTI4LjMyOCwyOC4zMjggYyAtMC43ODcsMC43ODcgLTAuNzg3LDIuMDYyIDAsMi44NDkgMC4zOTMsMC4zOTQgMC45MDksMC41OSAxLjQyNCwwLjU5IDAuNTE2LDAgMS4wMzEsLTAuMTk2IDEuNDI0LC0wLjU5IGwgMjguNTQxLC0yOC41NDEgMjguNTQxLDI4LjU0MSBjIDAuMzk0LDAuMzk0IDAuOTA5LDAuNTkgMS40MjQsMC41OSAwLjUxNSwwIDEuMDMxLC0wLjE5NiAxLjQyNCwtMC41OSAwLjc4NywtMC43ODcgMC43ODcsLTIuMDYyIDAsLTIuODQ5IGwgLTI4LjMyNywtMjguMzI4IDI4LjM0NiwtMjguMzQ4IGMgMC43ODcsLTAuNzg3IDAuNzg3LC0yLjA2MiAwLC0yLjg0OSAtMC43ODcsLTAuNzg2IC0yLjA2MiwtMC43ODYgLTIuODQ4LDAgbCAtMjguNTU5LDI4LjU2MSAtMjguNTYyLC0yOC41NiBjIC0wLjc4NywtMC43ODYgLTIuMDYxLC0wLjc4NiAtMi44NDgsMCAtMC43ODcsMC43ODcgLTAuNzg3LDIuMDYyIDAsMi44NDkgbCAyOC4zNDgsMjguMzQ3IHoiCiAgICAgaWQ9InBhdGg2NDM4IgogICAgIHN0eWxlPSJmaWxsOiM0OTQ5NDk7ZmlsbC1vcGFjaXR5OjEiIC8+Cjwvc3ZnPgo=";
ia=f('<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill:'+b+'; enable-background:new 0 0 373.655 373.655;" viewBox="0 0 373.655 373.655" y="0px" x="0px" version="1.1"> <path d="m 138.84444,104.25104 c -1.07626,0.19891 -1.68142,0.89656 -1.60489,1.85368 l 5.14829,64.06458 c 0.089,1.10654 1.07189,2.36641 2.5102,3.21921 0.25541,0.15123 0.51778,0.28502 0.78073,0.39975 1.21886,0.53185 2.47781,0.66524 3.3728,0.32896 l 19.89439,-7.46431 c 20.98033,32.95554 13.88426,58.2558 6.99077,82.79226 -1.14939,4.0942 -2.3394,8.327 -3.34832,12.46395 l 37.53318,16.37742 c 0.94507,-3.87515 2.04635,-7.79431 3.21202,-11.94409 7.60663,-27.07599 16.9401,-60.34066 -13.58704,-105.53444 l 26.20507,-0.84794 c 1.37165,-0.0444 2.20417,-0.78239 2.12781,-1.88516 -0.0764,-1.10277 -1.04906,-2.36528 -2.48318,-3.22419 l -83.03496,-49.72496 c -1.23923,-0.74384 -2.63938,-1.07307 -3.71687,-0.87472 z" /><path d="M 369.261,176.221 197.434,4.394 c -5.857,-5.858 -15.355,-5.858 -21.213,0 L 4.394,176.221 c -5.858,5.858 -5.858,15.355 0,21.213 l 171.827,171.827 c 2.929,2.929 6.767,4.394 10.606,4.394 3.839,0 7.678,-1.464 10.606,-4.394 L 369.26,197.434 c 5.859,-5.858 5.859,-15.355 0.001,-21.213 z M 186.827,337.441 36.213,186.827 186.827,36.214 337.441,186.828 186.827,337.441 Z" /></svg>');
u='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"> <g> <g> <path d="M256,0C114.84,0,0,114.842,0,256s114.84,256,256,256s256-114.842,256-256S397.16,0,256,0z M256,462.452 c-113.837,0-206.452-92.614-206.452-206.452S142.163,49.548,256,49.548S462.452,142.163,462.452,256S369.837,462.452,256,462.452z "/> </g> </g> <g> <g> <path d="M256,132.129c-68.302,0-123.871,55.569-123.871,123.871S187.698,379.871,256,379.871S379.871,324.302,379.871,256 S324.302,132.129,256,132.129z M256,330.323c-40.983,0-74.323-33.341-74.323-74.323c0-40.982,33.339-74.323,74.323-74.323 s74.323,33.341,74.323,74.323C330.323,296.981,296.983,330.323,256,330.323z"/> </g> </g> </svg>';
ja="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTg3LjkxIDU4Ny45MTsiCiAgIHZpZXdCb3g9IjAgMCA1ODcuOTEgNTg3LjkxIgogICBoZWlnaHQ9IjU4Ny45MXB4IgogICB3aWR0aD0iNTg3LjkxcHgiCiAgIHk9IjBweCIKICAgeD0iMHB4IgogICBpZD0iQ2FwYV8xIgogICB2ZXJzaW9uPSIxLjEiPjxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTcwMzgiPjxyZGY6UkRGPjxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PGRjOnRpdGxlPjwvZGM6dGl0bGU+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzCiAgICAgaWQ9ImRlZnM3MDM2IiAvPjxnCiAgICAgc3R5bGU9ImZpbGw6IzAwMzM3NztmaWxsLW9wYWNpdHk6MSIKICAgICBpZD0iZzY5OTIiPjxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojMDAzMzc3O2ZpbGwtb3BhY2l0eToxIgogICAgICAgaWQ9InBhdGg2OTk0IgogICAgICAgZD0ibSA4Ni40NTEsNTAxLjQ2IGMgMjYuOTM3LDI2LjkzNiA1OC4zMTUsNDguMDg4IDkzLjI2NSw2Mi44NzEgMzYuMjA3LDE1LjMxNCA3NC42NDIsMjMuMDc4IDExNC4yMzksMjMuMDc4IDM5LjU5NiwwIDc4LjAzMiwtNy43NjQgMTE0LjIzOSwtMjMuMDc4IDM0Ljk0OSwtMTQuNzgzIDY2LjMyOCwtMzUuOTM2IDkzLjI2NiwtNjIuODcxIDI2LjkzNiwtMjYuOTM4IDQ4LjA5LC01OC4zMTYgNjIuODcxLC05My4yNjYgMTUuMzE0LC0zNi4yMDcgMjMuMDgsLTc0LjY0MyAyMy4wOCwtMTE0LjIzOCAwLC0zOS41OTggLTcuNzY2LC03OC4wMzMgLTIzLjA4LC0xMTQuMjM5IEMgNTQ5LjU1LDE0NC43NjcgNTI4LjM5NSwxMTMuMzg5IDUwMS40Niw4Ni40NTIgNDc0LjUyMiw1OS41MTUgNDQzLjE0NCwzOC4zNjIgNDA4LjE5NCwyMy41OCAzNzEuOTg2LDguMjY1IDMzMy41NTEsMC41MDEgMjkzLjk1NSwwLjUwMSAyNTQuMzU4LDAuNTAxIDIxNS45MjMsOC4yNjYgMTc5LjcxNiwyMy41OCAxNDQuNzY2LDM4LjM2MiAxMTMuMzg4LDU5LjUxNiA4Ni40NTEsODYuNDUyIDU5LjUxNCwxMTMuMzg4IDM4LjM2MSwxNDQuNzY3IDIzLjU3OCwxNzkuNzE2IDguMjY1LDIxNS45MjMgMC41LDI1NC4zNTggMC41LDI5My45NTYgYyAwLDM5LjU5NiA3Ljc2NSw3OC4wMzEgMjMuMDc5LDExNC4yMzggMTQuNzgyLDM0Ljk1IDM1LjkzNiw2Ni4zMjggNjIuODcyLDkzLjI2NiB6IE0gMjkzLjk1NSw0My4zNDEgYyAxMzguNDExLDAgMjUwLjYxNCwxMTIuMjA0IDI1MC42MTQsMjUwLjYxNSAwLDEzOC40MSAtMTEyLjIwMywyNTAuNjEzIC0yNTAuNjE0LDI1MC42MTMgQyAxNTUuNTQ0LDU0NC41NjkgNDMuMzQsNDMyLjM2NiA0My4zNCwyOTMuOTU2IDQzLjM0LDE1NS41NDUgMTU1LjU0NCw0My4zNDEgMjkzLjk1NSw0My4zNDEgWiIgLz48cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMzM3NztmaWxsLW9wYWNpdHk6MSIKICAgICAgIGlkPSJwYXRoNjk5NiIKICAgICAgIGQ9Im0gMjkzLjk1NSw1ODcuOTA5IGMgLTM5LjY2NywwIC03OC4xNjcsLTcuNzc4IC0xMTQuNDM0LC0yMy4xMTcgQyAxNDQuNTExLDU0OS45ODMgMTEzLjA3OSw1MjguNzk0IDg2LjA5OCw1MDEuODEzIDU5LjExNSw0NzQuODI5IDM3LjkyNiw0NDMuMzk2IDIzLjExOSw0MDguMzg4IDcuNzc4LDM3Mi4xMTkgMCwzMzMuNjE4IDAsMjkzLjk1NiAwLDI1NC4yOTMgNy43NzgsMjE1Ljc5MSAyMy4xMTgsMTc5LjUyMSAzNy45MjUsMTQ0LjUxMyA1OS4xMTUsMTEzLjA4MSA4Ni4wOTcsODYuMDk4IDExMy4wNzksNTkuMTE1IDE0NC41MTIsMzcuOTI2IDE3OS41MiwyMy4xMTkgMjE1Ljc5LDcuNzc5IDI1NC4yOTEsMC4wMDEgMjkzLjk1NCwwLjAwMSBjIDM5LjY2NiwwIDc4LjE2Nyw3Ljc3OCAxMTQuNDMzLDIzLjExOSAzNS4wMDksMTQuODA3IDY2LjQ0MSwzNS45OTcgOTMuNDI1LDYyLjk3OSAyNi45ODQsMjYuOTg1IDQ4LjE3Myw1OC40MTcgNjIuOTc5LDkzLjQyMyAxNS4zNDEsMzYuMjcgMjMuMTE5LDc0Ljc3MSAyMy4xMTksMTE0LjQzNCAwLDM5LjY2MiAtNy43NzgsNzguMTYzIC0yMy4xMTksMTE0LjQzMyAtMTQuODA2LDM1LjAwNyAtMzUuOTk0LDY2LjQzOSAtNjIuOTc5LDkzLjQyNSAtMjYuOTgyLDI2Ljk4IC01OC40MTUsNDguMTY5IC05My40MjUsNjIuOTc5IC0zNi4yNjYsMTUuMzM4IC03NC43NjcsMjMuMTE2IC0xMTQuNDMyLDIzLjExNiB6IG0gMCwtNTg2LjkwOCBDIDI1NC40MjYsMS4wMDEgMjE2LjA1Nyw4Ljc1MiAxNzkuOTExLDI0LjA0IDE0NS4wMjIsMzguNzk3IDExMy42OTYsNTkuOTE0IDg2LjgwNSw4Ni44MDUgNTkuOTEzLDExMy42OTcgMzguNzk2LDE0NS4wMjIgMjQuMDM5LDE3OS45MSA4Ljc1MSwyMTYuMDU3IDEsMjU0LjQyNyAxLDI5My45NTYgMSwzMzMuNDgzIDguNzUxLDM3MS44NTQgMjQuMDM5LDQwOCBjIDE0Ljc1NywzNC44ODkgMzUuODc0LDY2LjIxNCA2Mi43NjYsOTMuMTA2IDI2Ljg5LDI2Ljg4OSA1OC4yMTUsNDguMDA2IDkzLjEwNiw2Mi43NjUgMzYuMTQyLDE1LjI4NyA3NC41MTIsMjMuMDM4IDExNC4wNDQsMjMuMDM4IDM5LjUzMiwwIDc3LjkwMSwtNy43NTEgMTE0LjA0NCwtMjMuMDM5IDM0Ljg5LC0xNC43NTggNjYuMjE2LC0zNS44NzUgOTMuMTA2LC02Mi43NjQgMjYuODkzLC0yNi44OTUgNDguMDA5LC01OC4yMiA2Mi43NjQsLTkzLjEwNiAxNS4yODksLTM2LjE0NiAyMy4wNDEsLTc0LjUxNiAyMy4wNDEsLTExNC4wNDQgMCwtMzkuNTI5IC03Ljc1MiwtNzcuODk5IC0yMy4wNDEsLTExNC4wNDQgQyA1NDkuMTE1LDE0NS4wMjUgNTI3Ljk5OCwxMTMuNyA1MDEuMTA1LDg2LjgwNiA0NzQuMjEzLDU5LjkxNSA0NDIuODg3LDM4Ljc5OCA0MDcuOTk5LDI0LjA0MSAzNzEuODU1LDguNzUyIDMzMy40ODUsMS4wMDEgMjkzLjk1NSwxLjAwMSBaIG0gMCw1NDQuMDY4IEMgMjI2Ljg4LDU0NS4wNjkgMTYzLjgxOSw1MTguOTQ5IDExNi4zOSw0NzEuNTIgNjguOTYxLDQyNC4wOSA0Mi44NCwzNjEuMDMxIDQyLjg0LDI5My45NTYgYyAwLC02Ny4wNzUgMjYuMTIsLTEzMC4xMzYgNzMuNTUsLTE3Ny41NjUgNDcuNDI5LC00Ny40MjkgMTEwLjQ5LC03My41NSAxNzcuNTY1LC03My41NSA2Ny4wNzUsMCAxMzAuMTM1LDI2LjEyMSAxNzcuNTY0LDczLjU1IDQ3LjQzLDQ3LjQzIDczLjU1LDExMC40OSA3My41NSwxNzcuNTY1IDAsNjcuMDc1IC0yNi4xMiwxMzAuMTM1IC03My41NSwxNzcuNTY0IC00Ny40MjksNDcuNDI5IC0xMTAuNDksNzMuNTQ5IC0xNzcuNTY0LDczLjU0OSB6IG0gMCwtNTAxLjIyOCBjIC02Ni44MDgsMCAtMTI5LjYxNywyNi4wMTcgLTE3Ni44NTgsNzMuMjU3IC00Ny4yNCw0Ny4yNDEgLTczLjI1NywxMTAuMDUgLTczLjI1NywxNzYuODU4IDAsNjYuODA4IDI2LjAxNywxMjkuNjE3IDczLjI1NywxNzYuODU2IDQ3LjI0LDQ3LjI0IDExMC4wNSw3My4yNTcgMTc2Ljg1OCw3My4yNTcgNjYuODA4LDAgMTI5LjYxNywtMjYuMDE3IDE3Ni44NTcsLTczLjI1NyA0Ny4yNCwtNDcuMjM5IDczLjI1NywtMTEwLjA0OSA3My4yNTcsLTE3Ni44NTYgMCwtNjYuODA4IC0yNi4wMTcsLTEyOS42MTggLTczLjI1NywtMTc2Ljg1OCBDIDQyMy41NzEsNjkuODU3IDM2MC43NjMsNDMuODQxIDI5My45NTUsNDMuODQxIFoiIC8+PC9nPjxnCiAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMS4xMzcxMTI5LDAsMCwxLjA3Njc0MzQsLTQwLjMxMTU3NCwtMjIuNTU4NTgxKSIKICAgICBzdHlsZT0iZmlsbDojMDAzMzc3O2ZpbGwtb3BhY2l0eToxIgogICAgIGlkPSJnNjk5OCI+PHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOiMwMDMzNzc7ZmlsbC1vcGFjaXR5OjEiCiAgICAgICBpZD0icGF0aDcwMDAiCiAgICAgICBkPSJtIDIyOC45OTIsNDAwLjc5NCBjIDQuMDE3LDQuMDE4IDkuNDY1LDYuMjczIDE1LjE0Niw2LjI3MyA1LjY4MiwwIDExLjEyOSwtMi4yNTYgMTUuMTQ2LC02LjI3MyBMIDQ0Mi42NywyMTcuNDA5IGMgOC4zNjUsLTguMzY1IDguMzY1LC0yMS45MjcgMCwtMzAuMjkyIC04LjM2NSwtOC4zNjUgLTIxLjkyOCwtOC4zNjYgLTMwLjI5MywwIEwgMjQ0LjEzOCwzNTUuMzU3IDE3NS41MzIsMjg2Ljc1IGMgLTguMzY1LC04LjM2NiAtMjEuOTI3LC04LjM2NiAtMzAuMjkyLDAgLTguMzY1LDguMzY1IC04LjM2NSwyMS45MjcgMCwzMC4yOTIgbCA4My43NTIsODMuNzUyIHoiIC8+PHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOiMwMDMzNzc7ZmlsbC1vcGFjaXR5OjEiCiAgICAgICBpZD0icGF0aDcwMDIiCiAgICAgICBkPSJtIDI0NC4xMzgsNDA3LjU2NyBjIC01Ljg1NSwwIC0xMS4zNiwtMi4yOCAtMTUuNSwtNi40MiBsIC04My43NTIsLTgzLjc1MiBjIC04LjU0NiwtOC41NDcgLTguNTQ2LC0yMi40NTMgMCwtMzEgNC4xNCwtNC4xNDEgOS42NDUsLTYuNDIxIDE1LjUsLTYuNDIxIDUuODU1LDAgMTEuMzU5LDIuMjggMTUuNSw2LjQyMSBsIDY4LjI1Myw2OC4yNTMgMTY3Ljg4NSwtMTY3Ljg4NiBjIDQuMTQsLTQuMTQxIDkuNjQ1LC02LjQyIDE1LjUsLTYuNDIgNS44NTQsMCAxMS4zNTksMi4yOCAxNS41LDYuNDIgNC4xNDEsNC4xNCA2LjQyMSw5LjY0NSA2LjQyMSwxNS41IDAsNS44NTUgLTIuMjgsMTEuMzU5IC02LjQyMSwxNS41IEwgMjU5LjYzOCw0MDEuMTQ3IGMgLTQuMTM5LDQuMTQgLTkuNjQ0LDYuNDIgLTE1LjUsNi40MiB6IE0gMTYwLjM4NiwyODAuOTc1IGMgLTUuNTg4LDAgLTEwLjg0MSwyLjE3NiAtMTQuNzkyLDYuMTI4IC04LjE1Niw4LjE1NyAtOC4xNTYsMjEuNDI4IDAsMjkuNTg1IGwgODMuNzUyLDgzLjc1MiBjIDMuOTUxLDMuOTUxIDkuMjA0LDYuMTI3IDE0Ljc5Miw2LjEyNyA1LjU4OSwwIDEwLjg0MiwtMi4xNzYgMTQuNzkzLC02LjEyNyBMIDQ0Mi4zMTYsMjE3LjA1NSBjIDMuOTUxLC0zLjk1MSA2LjEyOCwtOS4yMDUgNi4xMjgsLTE0Ljc5MiAwLC01LjU4NyAtMi4xNzcsLTEwLjg0MiAtNi4xMjgsLTE0Ljc5MyAtMy45NTEsLTMuOTUyIC05LjIwNSwtNi4xMjcgLTE0Ljc5MywtNi4xMjcgLTUuNTg4LDAgLTEwLjg0MiwyLjE3NiAtMTQuNzkzLDYuMTI3IGwgLTE2OC41OTIsMTY4LjU5MyAtNjguOTYsLTY4Ljk2IGMgLTMuOTUxLC0zLjk1MiAtOS4yMDQsLTYuMTI4IC0xNC43OTIsLTYuMTI4IHoiIC8+PC9nPjxnCiAgICAgaWQ9Imc3MDA0IiAvPjxnCiAgICAgaWQ9Imc3MDA2IiAvPjxnCiAgICAgaWQ9Imc3MDA4IiAvPjxnCiAgICAgaWQ9Imc3MDEwIiAvPjxnCiAgICAgaWQ9Imc3MDEyIiAvPjxnCiAgICAgaWQ9Imc3MDE0IiAvPjxnCiAgICAgaWQ9Imc3MDE2IiAvPjxnCiAgICAgaWQ9Imc3MDE4IiAvPjxnCiAgICAgaWQ9Imc3MDIwIiAvPjxnCiAgICAgaWQ9Imc3MDIyIiAvPjxnCiAgICAgaWQ9Imc3MDI0IiAvPjxnCiAgICAgaWQ9Imc3MDI2IiAvPjxnCiAgICAgaWQ9Imc3MDI4IiAvPjxnCiAgICAgaWQ9Imc3MDMwIiAvPjxnCiAgICAgaWQ9Imc3MDMyIiAvPjxwYXRoCiAgICAgaWQ9InBhdGg3NTk1IgogICAgIGQ9Ik0gMjUzLjcyMjAzLDUzOS40MjkxNyBDIDIwMS44NzU1NCw1MzAuMDEwODEgMTYxLjE2NDg5LDUwOS44OTgxNiAxMjQuNDAxNCw0NzUuNTM5NzUgMTAxLjEzNjEyLDQ1My43OTY1IDg1LjAxNTQwNCw0MzEuODcyMzQgNzAuNTYzMTM1LDQwMi4zMTk3NSA1MC45NzU3MTksMzYyLjI2NjYxIDQ3LjM4MzAxNSwzNDUuNDcxMDcgNDcuMzgzMDE1LDI5My45NTQ5OSBjIDAsLTUxLjUxNjA5IDMuNTkyNzA0LC02OC4zMTE2MyAyMy4xODAxMiwtMTA4LjM2NDc3IEMgOTEuOTE0MDUyLDE0MS45MzEgMTI0LjgxNzM2LDEwNS42NTY0MSAxNjUuMjI1NjUsODEuMjI4NTQ0IDMxMi43OTk2OSwtNy45ODM4MTc0IDUwNC44MDcwOCw3Ny4xNjA3IDUzOC4yMDMzMywyNDYuNjIzMjUgYyA0LjcyMzUxLDIzLjk2ODQ4IDQuNzIzNTEsNzAuNjk0OTggMCw5NC42NjM0NyAtMTQuNTE4NjEsNzMuNjcxNzcgLTYyLjQzODE2LDEzNy44MTMzMiAtMTI5LjI5ODg5LDE3My4wNjk5MSAtNDcuMzYyMjUsMjQuOTc0NzcgLTEwNC43MTI3NSwzNC4yNDA3NyAtMTU1LjE4MjQxLDI1LjA3MjU0IHogbSA5Ni43ODAxOCwtMjE4LjY0NTg2IGMgNTUuMDgwMTYsLTUyLjA0OTkxIDEwNC40MzE4NywtOTguODE1NzUgMTA5LjY3MDUsLTEwMy45MjQxIDEyLjU2NDM4LC0xMi4yNTE5MyAxNC45NzM0OSwtMjUuOTMxODkgNi4zMTI1MywtMzUuODQ1MSAtNy41ODkzNSwtOC42ODY2MyAtMTguNjE5NjYsLTExLjc5NTQ0IC0yOS4wMTEwMiwtOC4xNzY1MiAtNC45NTUyOCwxLjcyNTc0IC00NC4xMDE3MSwzNi45NTg3MyAtMTAyLjc0MDEsOTIuNDY5MjQgLTUyLjEwMzk1LDQ5LjMyNDY1IC05NS42NjAxNyw5MC4wMDA3NSAtOTYuNzkxNTksOTAuMzkxMzMgLTEuMTMxNDMsMC4zOTA1OSAtMTUuMzkxMzgsLTExLjk0MDU3IC0zMS42ODg3OCwtMjcuNDAyNTggLTUyLjgzODI1LC01MC4xMjk3OCAtNTEuNzM0ODQsLTQ5LjI4NzQ2IC02NC41NjUyMywtNDkuMjg3NDYgLTguNzA3ODYsMCAtMTIuNzkwNjUsMS40MTE2IC0xNy4zOTIzNiw2LjAxMzMyIC04LjA0MDY0LDguMDQwNjUgLTEwLjIwMzI0LDE3LjY5ODc0IC01LjkyNjIyLDI2LjQ2NjI5IDQuNzc2MTgsOS43OTA4IDEwMC42MTc2MiwxMDAuMTg0OTkgMTA5LjY5MzEzLDEwMy40NTg2MSAxNi40MzAyNCw1LjkyNjUgMTYuOTI2MjgsNS41NDUwMyAxMjIuNDM5MTQsLTk0LjE2MzAzIHoiCiAgICAgc3R5bGU9ImZpbGw6IzAwZmY0MjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwZmY0MjtzdHJva2Utd2lkdGg6MTU7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz48L3N2Zz4=";
V=f('<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="587.91px" height="587.91px" viewBox="0 0 587.91 587.91" style="enable-background:new 0 0 587.91 587.91;" xml:space="preserve"><g style="fill:#003377;fill-opacity:1"><path d="m 86.451,501.46 c 26.937,26.936 58.315,48.088 93.265,62.871 36.207,15.314 74.642,23.078 114.239,23.078 39.596,0 78.032,-7.764 114.239,-23.078 34.949,-14.783 66.328,-35.936 93.266,-62.871 26.936,-26.938 48.09,-58.316 62.871,-93.266 15.314,-36.207 23.08,-74.643 23.08,-114.238 0,-39.598 -7.766,-78.033 -23.08,-114.239 C 549.55,144.767 528.395,113.389 501.46,86.452 474.522,59.515 443.144,38.362 408.194,23.58 371.986,8.265 333.551,0.501 293.955,0.501 254.358,0.501 215.923,8.266 179.716,23.58 144.766,38.362 113.388,59.516 86.451,86.452 59.514,113.388 38.361,144.767 23.578,179.716 8.265,215.923 0.5,254.358 0.5,293.956 c 0,39.596 7.765,78.031 23.079,114.238 14.782,34.95 35.936,66.328 62.872,93.266 z M 293.955,43.341 c 138.411,0 250.614,112.204 250.614,250.615 0,138.41 -112.203,250.613 -250.614,250.613 C 155.544,544.569 43.34,432.366 43.34,293.956 43.34,155.545 155.544,43.341 293.955,43.341 Z" style="fill:#003377;fill-opacity:1" /><path d="m 293.955,587.909 c -39.667,0 -78.167,-7.778 -114.434,-23.117 C 144.511,549.983 113.079,528.794 86.098,501.813 59.115,474.829 37.926,443.396 23.119,408.388 7.778,372.119 0,333.618 0,293.956 0,254.293 7.778,215.791 23.118,179.521 37.925,144.513 59.115,113.081 86.097,86.098 113.079,59.115 144.512,37.926 179.52,23.119 215.79,7.779 254.291,0.001 293.954,0.001 c 39.666,0 78.167,7.778 114.433,23.119 35.009,14.807 66.441,35.997 93.425,62.979 26.984,26.985 48.173,58.417 62.979,93.423 15.341,36.27 23.119,74.771 23.119,114.434 0,39.662 -7.778,78.163 -23.119,114.433 -14.806,35.007 -35.994,66.439 -62.979,93.425 -26.982,26.98 -58.415,48.169 -93.425,62.979 -36.266,15.338 -74.767,23.116 -114.432,23.116 z m 0,-586.908 C 254.426,1.001 216.057,8.752 179.911,24.04 145.022,38.797 113.696,59.914 86.805,86.805 59.913,113.697 38.796,145.022 24.039,179.91 8.751,216.057 1,254.427 1,293.956 1,333.483 8.751,371.854 24.039,408 c 14.757,34.889 35.874,66.214 62.766,93.106 26.89,26.889 58.215,48.006 93.106,62.765 36.142,15.287 74.512,23.038 114.044,23.038 39.532,0 77.901,-7.751 114.044,-23.039 34.89,-14.758 66.216,-35.875 93.106,-62.764 26.893,-26.895 48.009,-58.22 62.764,-93.106 15.289,-36.146 23.041,-74.516 23.041,-114.044 0,-39.529 -7.752,-77.899 -23.041,-114.044 C 549.115,145.025 527.998,113.7 501.105,86.806 474.213,59.915 442.887,38.798 407.999,24.041 371.855,8.752 333.485,1.001 293.955,1.001 Z m 0,544.068 C 226.88,545.069 163.819,518.949 116.39,471.52 68.961,424.09 42.84,361.031 42.84,293.956 c 0,-67.075 26.12,-130.136 73.55,-177.565 47.429,-47.429 110.49,-73.55 177.565,-73.55 67.075,0 130.135,26.121 177.564,73.55 47.43,47.43 73.55,110.49 73.55,177.565 0,67.075 -26.12,130.135 -73.55,177.564 -47.429,47.429 -110.49,73.549 -177.564,73.549 z m 0,-501.228 c -66.808,0 -129.617,26.017 -176.858,73.257 -47.24,47.241 -73.257,110.05 -73.257,176.858 0,66.808 26.017,129.617 73.257,176.856 47.24,47.24 110.05,73.257 176.858,73.257 66.808,0 129.617,-26.017 176.857,-73.257 47.24,-47.239 73.257,-110.049 73.257,-176.856 0,-66.808 -26.017,-129.618 -73.257,-176.858 C 423.571,69.857 360.763,43.841 293.955,43.841 Z" style="fill:#003377;fill-opacity:1" /></g> <path d="M 133.43898,415.74333 415.74333,133.43898 454.471,172.16666 172.16666,454.471 Z" style="fill:#003377;fill-opacity:1;stroke:none;stroke-width:1.69799995;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /><path d="M 415.74333,454.471 C 321.64188,360.36955 227.54043,266.26811 133.43898,172.16666 c 12.90923,-12.90923 25.81845,-25.81845 38.72768,-38.72768 94.10145,94.10145 188.20289,188.2029 282.30434,282.30435 -12.90922,12.90922 -25.81845,25.81845 -38.72767,38.72767 z" style="fill:#003377;fill-opacity:1;stroke:none;stroke-width:1.69799995;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /><path d="m 265.05969,541.8598 c -44.3069,-5.09104 -86.96292,-22.55802 -123.93441,-50.74921 -10.54216,-8.03852 -31.90275,-28.97808 -40.83133,-40.02652 -79.842285,-98.79872 -73.099008,-241.91187 15.6227,-331.56201 40.84256,-41.269949 90.3185,-65.709593 148.4555,-73.332604 17.17036,-2.251404 59.02046,-0.89136 75.70279,2.460188 101.31593,20.354774 178.36171,96.552506 198.42091,196.236866 20.14751,100.12323 -22.69892,201.63693 -109.11891,258.52937 -31.13079,20.49418 -70.06742,34.31326 -108.52881,38.51817 -13.95321,1.52548 -42.19323,1.4879 -55.78844,-0.0742 z m 89.67603,-147.45441 61.02787,61.01834 19.31152,-19.28138 c 10.62134,-10.60475 19.31152,-19.85082 19.31152,-20.54683 0,-0.696 -27.18463,-28.44575 -60.41029,-61.66611 l -60.41029,-60.40066 60.71683,-60.72631 60.71684,-60.72632 -19.613,-19.61299 -19.61299,-19.61299 -60.72632,60.71683 -60.7263,60.71683 -60.40067,-60.41029 c -33.22036,-33.22566 -60.97011,-60.41029 -61.66611,-60.41029 -0.69601,0 -9.94208,8.69018 -20.54684,19.31152 l -19.28137,19.31152 61.01834,61.02787 61.01834,61.02787 -60.71698,60.72647 -60.71698,60.72647 19.61304,19.61303 19.61304,19.61304 60.72646,-60.71697 60.72647,-60.71699 61.02787,61.01834 z" style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1.69799995;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /></svg>');
v='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 491.86 491.86" style="enable-background:new 0 0 491.86 491.86;" xml:space="preserve"> <g> <g> <path d="M465.167,211.614H280.245V26.691c0-8.424-11.439-26.69-34.316-26.69s-34.316,18.267-34.316,26.69v184.924H26.69 C18.267,211.614,0,223.053,0,245.929s18.267,34.316,26.69,34.316h184.924v184.924c0,8.422,11.438,26.69,34.316,26.69 s34.316-18.268,34.316-26.69V280.245H465.17c8.422,0,26.69-11.438,26.69-34.316S473.59,211.614,465.167,211.614z"/> </g> </g> </svg>';
B='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 491.858 491.858" style="enable-background:new 0 0 491.858 491.858;" xml:space="preserve"> <g> <g> <path d="M465.167,211.613H240.21H26.69c-8.424,0-26.69,11.439-26.69,34.316s18.267,34.316,26.69,34.316h213.52h224.959 c8.421,0,26.689-11.439,26.689-34.316S473.59,211.613,465.167,211.613z"/> </g> </g> </svg>';E='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 291.32 291.32;" viewBox="0 0 291.32 291.32" y="0px" x="0px" version="1.1"><path d="m 42.662827,42.662826 c -56.648446,56.648446 -56.648446,149.345904 0,205.994344 56.648445,56.64845 149.345903,56.64845 205.994343,0 56.64845,-56.64844 56.64845,-149.345898 0,-205.994344 -56.64844,-56.648445 -149.346605,-56.647738 -205.994343,0 z M 229.34467,229.34467 c -46.34872,46.34873 -121.02132,46.34802 -167.369343,0 C 15.627306,182.99665 15.625892,108.32335 61.97462,61.97462 c 46.34873,-46.348728 121.02133,-46.348021 167.37005,7.07e-4 46.34873,46.348723 46.34802,121.021323 0,167.369343 z" style="fill-opacity:1" /><g ><path style="fill:#ff0000;fill-opacity:1" d="m 145.66,29.426323 51.64318,108.828047 -103.286352,0 C 94.017828,138.25365 145.66,29.426323 145.66,29.426323 Z" /><path style="fill:#999999;fill-opacity:1" d="m 145.66,263.12809 51.64318,-106.35923 -103.286352,0 c 10e-4,7e-4 51.643172,106.35923 51.643172,106.35923 z" /></g></svg>';
D='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 204.55612 510.99498"style="enable-background:new 0 0 204.55612 510.99498;" y="0px" x="0px"><path d="m 127.635,441.369 69.626,69.626 -185.685,0 0,-185.685 69.648,69.648 c 76.847,-76.825 76.847,-201.659 0,-278.484 C 57.811,93.017 29.715,76.497 -2.0158342e-7,67.788 l 0,-67.788 C 46.695,10.437 91.201,33.588 127.656,70.02 230.193,172.666 230.193,338.746 127.635,441.369 Z" /> </svg>';F='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 204.55612 510.99498" xml:space="preserve" > <path d="m 76.921125,441.369 -69.6259998,69.626 185.6850048,0 0,-185.685 -69.648,69.648 c -76.847005,-76.825 -76.847005,-201.659 0,-278.484 23.413,-23.457 51.509,-39.977 81.224,-48.686 l 0,-67.788 c -46.695,10.437 -91.201,33.588 -127.656005,70.02 -102.537,102.646 -102.537,268.726 0.021,371.349 z" /> </svg>';
wa='<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" enable-background="new 0 0.5 61 53" viewBox="0 0.5 61 53" height="100%" width="100%" y="0" x="0" version="1.1"><g transform="translate(-2.3621042,-1.1117523)" ><g ><path d="m 60.262,17.214 c -3.436,-2.931 -9.344,-2.097 -15.352,1.575 4.221,-1.991 8.189,-2.166 10.611,-0.042 4.215,3.7 2.146,12.954 -4.627,20.673 -6.771,7.719 -15.677,10.978 -19.894,7.278 -2.393,-2.1 -2.758,-5.987 -1.392,-10.369 -3.021,6.815 -3.053,13.151 0.52,16.2 5.237,4.471 16.229,0.186 24.552,-9.566 8.318,-9.752 10.82,-21.28 5.582,-25.749 z" style="fill:#00519e" /><g ><g ><path d="m 7.104,31.737 -2.156,0 0,-6.217 -1.948,0 0,-1.763 6.046,0 0,1.763 -1.942,0 0,6.217 z" style="fill:#00519e" /><path d="m 20.032,25.444 c 0.185,0 0.362,0.016 0.529,0.042 l 0.12,0.023 -0.19,2.014 c -0.175,-0.044 -0.416,-0.065 -0.726,-0.065 -0.466,0 -0.804,0.107 -1.015,0.319 -0.211,0.211 -0.317,0.519 -0.317,0.919 l 0,3.041 -2.133,0 0,-6.185 1.588,0 0.332,0.988 0.104,0 c 0.178,-0.327 0.426,-0.592 0.745,-0.795 0.318,-0.201 0.639,-0.301 0.963,-0.301 z" style="fill:#00519e" /><path d="m 25.276,25.444 c 0.186,0 0.362,0.016 0.529,0.042 l 0.12,0.023 -0.19,2.014 c -0.175,-0.044 -0.417,-0.065 -0.726,-0.065 -0.466,0 -0.805,0.107 -1.016,0.319 -0.21,0.211 -0.316,0.519 -0.316,0.919 l 0,3.041 -2.134,0 0,-6.185 1.588,0 0.333,0.988 0.104,0 c 0.179,-0.327 0.427,-0.592 0.745,-0.795 0.318,-0.201 0.639,-0.301 0.963,-0.301 z" style="fill:#00519e" /><path d="m 30.821,31.737 -0.41,-0.821 -0.042,0 c -0.289,0.358 -0.581,0.6 -0.879,0.732 -0.299,0.131 -0.684,0.195 -1.157,0.195 -0.582,0 -1.041,-0.173 -1.375,-0.522 -0.335,-0.35 -0.502,-0.84 -0.502,-1.473 0,-0.659 0.229,-1.15 0.688,-1.471 0.458,-0.323 1.123,-0.504 1.991,-0.544 l 1.031,-0.033 0,-0.087 c 0,-0.51 -0.25,-0.763 -0.752,-0.763 -0.451,0 -1.024,0.151 -1.719,0.457 L 27.078,26 c 0.72,-0.372 1.629,-0.556 2.729,-0.556 0.792,0 1.406,0.196 1.841,0.589 0.435,0.393 0.652,0.942 0.652,1.648 l 0,4.056 -1.479,0 z m -1.583,-1.399 c 0.259,0 0.479,-0.081 0.663,-0.246 0.184,-0.162 0.276,-0.375 0.276,-0.638 l 0,-0.481 -0.492,0.024 c -0.702,0.024 -1.053,0.282 -1.053,0.773 10e-4,0.379 0.203,0.568 0.606,0.568 z" style="fill:#00519e" /><path d="m 12.376,31.843 c -1.03,0 -1.829,-0.272 -2.398,-0.82 -0.57,-0.547 -0.854,-1.326 -0.854,-2.338 0,-1.044 0.264,-1.846 0.792,-2.404 0.528,-0.558 1.28,-0.837 2.259,-0.837 0.932,0 1.651,0.241 2.158,0.728 0.508,0.486 0.762,1.186 0.762,2.099 l 0,0.688 c 0,0 0.017,0.181 -0.056,0.234 -0.059,0.045 -0.27,0.028 -0.27,0.028 l -3.489,0 c 0.015,0.346 0.142,0.616 0.379,0.812 0.239,0.195 0.563,0.296 0.975,0.296 0.375,0 0.72,-0.038 1.034,-0.107 0.279,-0.062 0.577,-0.165 0.898,-0.308 0.014,-0.005 0.067,-0.036 0.092,-0.026 0.037,0.013 0.032,0.058 0.032,0.058 l 0,1.446 c -0.335,0.172 -0.68,0.289 -1.037,0.355 -0.357,0.065 -0.783,0.096 -1.277,0.096 z M 12.25,26.895 c -0.251,0 -0.461,0.079 -0.63,0.238 -0.168,0.157 -0.268,0.405 -0.297,0.745 l 1.834,0 C 13.149,27.58 13.064,27.34 12.902,27.161 12.741,26.984 12.523,26.895 12.25,26.895 Z" style="fill:#00519e" /></g><g ><path d="m 33.332,35.92 c -0.302,0 -0.575,-0.047 -0.82,-0.139 l 0,-0.924 c 0.28,0.096 0.524,0.145 0.734,0.145 0.332,0 0.588,-0.135 0.766,-0.406 0.178,-0.271 0.324,-0.656 0.432,-1.159 l 1.488,-7.087 -1.264,0 0.084,-0.439 1.35,-0.433 0.148,-0.654 c 0.203,-0.874 0.482,-1.491 0.838,-1.852 0.355,-0.36 0.881,-0.54 1.58,-0.54 0.176,0 0.391,0.025 0.645,0.076 0.252,0.05 0.447,0.106 0.59,0.167 L 39.62,23.52 c -0.332,-0.126 -0.631,-0.19 -0.898,-0.19 -0.379,0 -0.672,0.106 -0.875,0.318 -0.201,0.213 -0.365,0.599 -0.494,1.163 l -0.162,0.708 1.559,0 -0.164,0.832 -1.553,0 -1.52,7.191 c -0.17,0.826 -0.43,1.428 -0.785,1.809 -0.355,0.379 -0.82,0.569 -1.396,0.569 z m 6.365,-3.222 -1.102,0 2.176,-10.193 1.102,0 -2.176,10.193 z" style="fill:#00519e" /><path d="m 42.285,25.518 1.102,0 0.482,3.57 c 0.045,0.301 0.086,0.744 0.129,1.332 0.041,0.588 0.062,1.062 0.062,1.418 l 0.04,0 c 0.152,-0.379 0.342,-0.817 0.57,-1.311 0.225,-0.493 0.393,-0.832 0.504,-1.021 l 2.129,-3.989 1.166,0 -4.559,8.397 c -0.406,0.752 -0.807,1.272 -1.207,1.565 -0.395,0.294 -0.873,0.439 -1.434,0.439 -0.314,0 -0.619,-0.047 -0.918,-0.139 l 0,-0.886 c 0.275,0.081 0.561,0.119 0.859,0.119 0.357,0 0.666,-0.109 0.92,-0.331 0.254,-0.221 0.504,-0.547 0.744,-0.979 l 0.498,-0.89 -1.087,-7.294 z" style="fill:#00519e" /></g></g></g><text y="9.0472097" x="2.3282847" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:8.5px;line-height:150%;font-family:sans-serif;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eeeeee;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" xml:space="preserve" ><tspan style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:8.5px;line-height:150%;font-family:sans-serif;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#eeeeee;fill-opacity:1" y="9.0472097" x="2.3282847" >powered by</tspan></text> <text xml:space="preserve" style="font-style:normal;font-weight:normal;font-size:8.50913048px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" x="1.9552906" y="8.3881102" ><tspan x="1.9552906" y="8.3881102" >powered by</tspan></text> </g></svg>';
P='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" enable-background="new 0 0 66 58" viewBox="0 0 60.000271 49.843258" height="49.843258" width="60.000271" y="0px" x="0px" version="1.1"><filter height="1.2508659" y="-0.12543292" width="1.0420316" x="-0.021015836" style="color-interpolation-filters:sRGB"><feGaussianBlur stdDeviation="0.37666626" /></filter><path d="m 57.262,12.756918 c -3.436,-2.9310001 -9.344,-2.097 -15.352,1.575 4.221,-1.991 8.189,-2.166 10.611,-0.042 4.215,3.7 2.146,12.954 -4.627,20.673 -6.771,7.719 -15.677,10.978 -19.894,7.278 -2.393,-2.1 -2.758,-5.987 -1.392,-10.369 -3.021,6.815 -3.053,13.151 0.52,16.2 5.237,4.471 16.229,0.186 24.552,-9.566 8.318,-9.752 10.82,-21.28 5.582,-25.749 z" style="fill:#00519e" /><g transform="translate(-3,-4.4570821)" ><g ><path d="m 7.104,31.737 -2.156,0 0,-6.217 -1.948,0 0,-1.763 6.046,0 0,1.763 -1.942,0 0,6.217 z" style="fill:#00519e" /><path d="m 20.032,25.444 c 0.185,0 0.362,0.016 0.529,0.042 l 0.12,0.023 -0.19,2.014 c -0.175,-0.044 -0.416,-0.065 -0.726,-0.065 -0.466,0 -0.804,0.107 -1.015,0.319 -0.211,0.211 -0.317,0.519 -0.317,0.919 l 0,3.041 -2.133,0 0,-6.185 1.588,0 0.332,0.988 0.104,0 c 0.178,-0.327 0.426,-0.592 0.745,-0.795 0.318,-0.201 0.639,-0.301 0.963,-0.301 z" style="fill:#00519e" /><path d="m 25.276,25.444 c 0.186,0 0.362,0.016 0.529,0.042 l 0.12,0.023 -0.19,2.014 c -0.175,-0.044 -0.417,-0.065 -0.726,-0.065 -0.466,0 -0.805,0.107 -1.016,0.319 -0.21,0.211 -0.316,0.519 -0.316,0.919 l 0,3.041 -2.134,0 0,-6.185 1.588,0 0.333,0.988 0.104,0 c 0.179,-0.327 0.427,-0.592 0.745,-0.795 0.318,-0.201 0.639,-0.301 0.963,-0.301 z" style="fill:#00519e" /><path d="m 30.821,31.737 -0.41,-0.821 -0.042,0 c -0.289,0.358 -0.581,0.6 -0.879,0.732 -0.299,0.131 -0.684,0.195 -1.157,0.195 -0.582,0 -1.041,-0.173 -1.375,-0.522 -0.335,-0.35 -0.502,-0.84 -0.502,-1.473 0,-0.659 0.229,-1.15 0.688,-1.471 0.458,-0.323 1.123,-0.504 1.991,-0.544 l 1.031,-0.033 0,-0.087 c 0,-0.51 -0.25,-0.763 -0.752,-0.763 -0.451,0 -1.024,0.151 -1.719,0.457 L 27.078,26 c 0.72,-0.372 1.629,-0.556 2.729,-0.556 0.792,0 1.406,0.196 1.841,0.589 0.435,0.393 0.652,0.942 0.652,1.648 l 0,4.056 -1.479,0 z m -1.583,-1.399 c 0.259,0 0.479,-0.081 0.663,-0.246 0.184,-0.162 0.276,-0.375 0.276,-0.638 l 0,-0.481 -0.492,0.024 c -0.702,0.024 -1.053,0.282 -1.053,0.773 10e-4,0.379 0.203,0.568 0.606,0.568 z" style="fill:#00519e" /><path d="m 12.376,31.843 c -1.03,0 -1.829,-0.272 -2.398,-0.82 -0.57,-0.547 -0.854,-1.326 -0.854,-2.338 0,-1.044 0.264,-1.846 0.792,-2.404 0.528,-0.558 1.28,-0.837 2.259,-0.837 0.932,0 1.651,0.241 2.158,0.728 0.508,0.486 0.762,1.186 0.762,2.099 l 0,0.688 c 0,0 0.017,0.181 -0.056,0.234 -0.059,0.045 -0.27,0.028 -0.27,0.028 l -3.489,0 c 0.015,0.346 0.142,0.616 0.379,0.812 0.239,0.195 0.563,0.296 0.975,0.296 0.375,0 0.72,-0.038 1.034,-0.107 0.279,-0.062 0.577,-0.165 0.898,-0.308 0.014,-0.005 0.067,-0.036 0.092,-0.026 0.037,0.013 0.032,0.058 0.032,0.058 l 0,1.446 c -0.335,0.172 -0.68,0.289 -1.037,0.355 -0.357,0.065 -0.783,0.096 -1.277,0.096 z M 12.25,26.895 c -0.251,0 -0.461,0.079 -0.63,0.238 -0.168,0.157 -0.268,0.405 -0.297,0.745 l 1.834,0 C 13.149,27.58 13.064,27.34 12.902,27.161 12.741,26.984 12.523,26.895 12.25,26.895 Z" style="fill:#00519e" /></g><g ><path d="m 33.332,35.92 c -0.302,0 -0.575,-0.047 -0.82,-0.139 l 0,-0.924 c 0.28,0.096 0.524,0.145 0.734,0.145 0.332,0 0.588,-0.135 0.766,-0.406 0.178,-0.271 0.324,-0.656 0.432,-1.159 l 1.488,-7.087 -1.264,0 0.084,-0.439 1.35,-0.433 0.148,-0.654 c 0.203,-0.874 0.482,-1.491 0.838,-1.852 0.355,-0.36 0.881,-0.54 1.58,-0.54 0.176,0 0.391,0.025 0.645,0.076 0.252,0.05 0.447,0.106 0.59,0.167 L 39.62,23.52 c -0.332,-0.126 -0.631,-0.19 -0.898,-0.19 -0.379,0 -0.672,0.106 -0.875,0.318 -0.201,0.213 -0.365,0.599 -0.494,1.163 l -0.162,0.708 1.559,0 -0.164,0.832 -1.553,0 -1.52,7.191 c -0.17,0.826 -0.43,1.428 -0.785,1.809 -0.355,0.379 -0.82,0.569 -1.396,0.569 z m 6.365,-3.222 -1.102,0 2.176,-10.193 1.102,0 -2.176,10.193 z" style="fill:#00519e" /><path d="m 42.285,25.518 1.102,0 0.482,3.57 c 0.045,0.301 0.086,0.744 0.129,1.332 0.041,0.588 0.062,1.062 0.062,1.418 l 0.04,0 c 0.152,-0.379 0.342,-0.817 0.57,-1.311 0.225,-0.493 0.393,-0.832 0.504,-1.021 l 2.129,-3.989 1.166,0 -4.559,8.397 c -0.406,0.752 -0.807,1.272 -1.207,1.565 -0.395,0.294 -0.873,0.439 -1.434,0.439 -0.314,0 -0.619,-0.047 -0.918,-0.139 l 0,-0.886 c 0.275,0.081 0.561,0.119 0.859,0.119 0.357,0 0.666,-0.109 0.92,-0.331 0.254,-0.221 0.504,-0.547 0.744,-0.979 l 0.498,-0.89 -1.087,-7.294 z" style="fill:#00519e" /></g></g><text xml:space="preserve" style="font-style:normal;font-weight:normal;font-size:7.5px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#bfbfbf;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;filter:url(#filter5967)" x="2.4067798" y="6.602241" ><tspan x="2.4067798" y="6.602241">powered by</tspan></text> <text y="5.8649526" x="1.9152541" style="font-style:normal;font-weight:normal;font-size:7.5px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" xml:space="preserve"><tspan y="5.8649526" x="1.9152541" >powered by</tspan></text> </svg>';
pb=f('<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 31.999 31.999;" viewBox="0 0 31.999 31.999" y="0px" x="0px" version="1.1"><circle r="9.4899912" cy="15.9995" cx="10.059023" style="fill:#ff6666;fill-opacity:1;stroke:#000000;stroke-width:1.13806307;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /><circle style="fill:#6666ff;fill-opacity:1;stroke:#000000;stroke-width:1.13806307;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" cx="21.939978" cy="15.9995" r="9.4899912" /></svg>');
ta=f('<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" height="31.778698" width="31.778698" xml:space="preserve" viewBox="0 0 31.778697 31.778697" y="0px" x="0px" version="1.1"><path d="M 30.879849,15.889349 C 31.248959,25.610589 20.628413,33.423964 11.459353,30.210321 2.0694281,27.688286 -2.2730851,15.237833 3.5171547,7.4250759 8.7016043,-0.80340189 21.878289,-1.2700274 27.631811,6.5711043 c 2.092274,2.6227336 3.256385,5.9636747 3.248038,9.3182447 z" style="fill:#003377;fill-opacity:1;stroke:#000000;stroke-width:2px;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /><path d="M 14.459033,6.2168921 C 13.000214,12.484411 11.541394,18.751931 10.082575,25.01945" style="fill:none;fill-rule:evenodd;stroke:#ffffff;stroke-width:2px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" /><path d="m 21.916427,6.759248 c -1.458819,6.267519 -2.917639,12.535039 -4.376458,18.802558" style="fill:none;fill-rule:evenodd;stroke:#ffffff;stroke-width:2px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" /><path d="m 25.987361,13.011697 c -6.435037,0.01609 -12.870073,0.03218 -19.3051097,0.04827" style="fill:none;fill-rule:evenodd;stroke:#ffffff;stroke-width:2px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" /><path d="M 25.3157,18.767 C 18.880645,18.7628 12.445589,18.7586 6.0105342,18.75446" style="fill:none;fill-rule:evenodd;stroke:#ffffff;stroke-width:2px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" /></svg>');
ea='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">  <path d="M92.07,256.41H50l78.344,78.019l77.536-78.019h-39.825c-0.104-61.079,49.192-111.032,110.329-111.387  c61.293-0.358,111.27,49.039,111.626,110.331c0.58,98.964-119.057,148.511-188.892,79.686l-51.929,52.687  c116.154,114.483,315.773,32.415,314.809-132.804C461.4,152.769,378.105,70.441,275.952,71.037 C173.955,71.632,91.725,154.47,92.07,256.41z"/> </svg>';
fa={play:'<svg viewBox="0 0 512 512" width="512" height="512" xmlns="http://www.w3.org/2000/svg"> <g> <path d="m85.887123,463.210999c5.776329,3.336304 12.226295,5.005554 18.674049,5.005554c6.447754,0 12.894409,-1.66925 18.674057,-5.005554l302.88092,-174.869049c11.554871,-6.670441 18.674042,-19.000458 18.674042,-32.343613c0,-13.33873 -7.119171,-25.669861 -18.674042,-32.339203l-302.885284,-174.871197c-5.778549,-3.334137 -12.221939,-5.004486 -18.674042,-5.004486c-6.446655,0 -12.893372,1.670349 -18.674057,5.004486c-11.554886,6.670479 -18.672958,18.999386 -18.672958,32.339245l0,349.741257c0.007652,13.34317 7.126823,25.674225 18.677315,32.34256z" /> </g> </svg>',
pause:'<svg viewBox="0 0 512 512" width="512" height="512" xmlns="http://www.w3.org/2000/svg"> <g> <g> <path d="m162.590088,58.444733c-30.713196,0 -55.60907,24.895859 -55.60907,55.60907l0,283.892426c0,30.709412 24.895874,55.60907 55.60907,55.60907c30.709473,0 55.605377,-24.895935 55.605377,-55.60907l0,-283.896179c0,-30.709465 -24.895874,-55.605331 -55.605377,-55.605331l0,0l0,0.000015z" /> <path d="m349.409882,58.444733c-30.709473,0 -55.609039,24.895859 -55.609039,55.60907l0,283.892426c0,30.709412 24.895874,55.60907 55.609039,55.60907c30.713287,0 55.6091,-24.895874 55.6091,-55.60907l0,-283.896179c0,-30.709473 -24.895813,-55.605316 -55.6091,-55.605316l0,-0.000015l0,0.000015z" /> </g> </g> </svg>',
stop:'<svg viewBox="0 0 512 512" width="512" height="512" xmlns="http://www.w3.org/2000/svg"> <g> <path d="m144.763687,462.881165l222.472702,0c48.978027,0 88.682129,-41.165588 88.682129,-91.946259l0,-229.869736c0,-50.780762 -39.704102,-91.946339 -88.682129,-91.946339l-222.472702,0c-48.978035,0 -88.682213,41.165577 -88.682213,91.946339l0,229.869736c-0.003708,50.78067 39.704178,91.946259 88.682213,91.946259z" /> </g> </svg>',autoRepeat:'<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0, 0, 140.171, 140.171" version="1.1" height="140.171" width="140.171"> <g transform="matrix(1.1513325,0,0,1.4659322,-10.546327,-32.595694)" > <path d="M 42.943993,84.644196 C 35.08844,81.003685 30.166628,75.801018 30.166628,70.022408 c 0,-9.282604 12.714792,-17.06208 29.899881,-19.276253 l 0,-10.0228 c -22.74612,2.771629 -39.866505,14.835823 -39.866505,29.299053 0,8.339775 5.703241,15.858292 14.878479,21.274269 10.038441,6.136261 15.021397,-3.829651 7.865509,-6.652481 z M 102.79067,47.526574 c -5.347714,-4.910431 -12.823575,2.564716 -7.725423,6.983818 9.047253,3.654736 14.835813,9.246349 14.835813,15.512016 0,9.287582 -12.716924,17.067764 -29.900586,19.281227 l 0,10.018532 C 102.74659,96.55481 119.86697,84.491326 119.86697,70.022408 c 0,-8.981129 -6.62546,-17.020836 -17.0763,-22.495834 z m -38.320699,9.986534 16.221626,-9.713497 c 2.359932,-1.413544 2.364914,-3.715885 0.01279,-5.139381 L 64.332733,32.751909 c -2.354954,-1.421368 -4.255566,-0.347702 -4.244179,2.404018 l 0.08816,19.93325 c 0.0071,2.75243 1.930466,3.837479 4.293251,2.423931 z M 75.734948,82.58574 59.364007,92.493356 c -2.354252,1.423492 -2.349274,3.725838 0.0135,5.140099 l 16.219498,9.713485 c 2.35994,1.41071 4.28756,0.32851 4.299652,-2.42606 l 0.08533,-19.933253 c 0.0085,-2.75029 -1.894211,-3.82254 -4.24704,-2.401886 z" /> </g> </svg>',
noAutoRepeat:'<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0, 0, 140.171, 140.171" version="1.1" height="140.171" width="140.171"> <g transform="matrix(1.1513325,0,0,1.4659322,-10.546327,-32.595694)" > <path d="M 42.943993,84.644196 C 35.08844,81.003685 30.166628,75.801018 30.166628,70.022408 c 0,-9.282604 12.714792,-17.06208 29.899881,-19.276253 l 0,-10.0228 c -22.74612,2.771629 -39.866505,14.835823 -39.866505,29.299053 0,8.339775 5.703241,15.858292 14.878479,21.274269 10.038441,6.136261 15.021397,-3.829651 7.865509,-6.652481 z M 102.79067,47.526574 c -5.347714,-4.910431 -12.823575,2.564716 -7.725423,6.983818 9.047253,3.654736 14.835813,9.246349 14.835813,15.512016 0,9.287582 -12.716924,17.067764 -29.900586,19.281227 l 0,10.018532 C 102.74659,96.55481 119.86697,84.491326 119.86697,70.022408 c 0,-8.981129 -6.62546,-17.020836 -17.0763,-22.495834 z m -38.320699,9.986534 16.221626,-9.713497 c 2.359932,-1.413544 2.364914,-3.715885 0.01279,-5.139381 L 64.332733,32.751909 c -2.354954,-1.421368 -4.255566,-0.347702 -4.244179,2.404018 l 0.08816,19.93325 c 0.0071,2.75243 1.930466,3.837479 4.293251,2.423931 z M 75.734948,82.58574 59.364007,92.493356 c -2.354252,1.423492 -2.349274,3.725838 0.0135,5.140099 l 16.219498,9.713485 c 2.35994,1.41071 4.28756,0.32851 4.299652,-2.42606 l 0.08533,-19.933253 c 0.0085,-2.75029 -1.894211,-3.82254 -4.24704,-2.401886 z" /> </g> <path d="M 103.20978,17.999925 36.845247,122.07159" style="fill:none;fill-rule:evenodd;stroke:#ff0000;stroke-width:10;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /> </svg>',
noAutoRepeat3:'<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0, 0, 140.171, 140.171" version="1.1" height="140.171" width="140.171"> <g transform="matrix(1.1513325,0,0,1.4659322,-10.546327,-32.595694)" > <path d="M 42.943993,84.644196 C 35.08844,81.003685 30.166628,75.801018 30.166628,70.022408 c 0,-9.282604 12.714792,-17.06208 29.899881,-19.276253 l 0,-10.0228 c -22.74612,2.771629 -39.866505,14.835823 -39.866505,29.299053 0,8.339775 5.703241,15.858292 14.878479,21.274269 10.038441,6.136261 15.021397,-3.829651 7.865509,-6.652481 z M 102.79067,47.526574 c -5.347714,-4.910431 -12.823575,2.564716 -7.725423,6.983818 9.047253,3.654736 14.835813,9.246349 14.835813,15.512016 0,9.287582 -12.716924,17.067764 -29.900586,19.281227 l 0,10.018532 C 102.74659,96.55481 119.86697,84.491326 119.86697,70.022408 c 0,-8.981129 -6.62546,-17.020836 -17.0763,-22.495834 z m -38.320699,9.986534 16.221626,-9.713497 c 2.359932,-1.413544 2.364914,-3.715885 0.01279,-5.139381 L 64.332733,32.751909 c -2.354954,-1.421368 -4.255566,-0.347702 -4.244179,2.404018 l 0.08816,19.93325 c 0.0071,2.75243 1.930466,3.837479 4.293251,2.423931 z M 75.734948,82.58574 59.364007,92.493356 c -2.354252,1.423492 -2.349274,3.725838 0.0135,5.140099 l 16.219498,9.713485 c 2.35994,1.41071 4.28756,0.32851 4.299652,-2.42606 l 0.08533,-19.933253 c 0.0085,-2.75029 -1.894211,-3.82254 -4.24704,-2.401886 z" /> </g> <path d="M 14.651911,18.861802 125.61859,121.20971" style="fill:none;fill-rule:evenodd;stroke:#ff0000;stroke-width:10;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /> </svg>',
noAutoRepeat2:'<svg viewBox="0 0 140.171 140.171" width="140.171" height="140.171" xmlns="http://www.w3.org/2000/svg"> <g> <path d="m42.943989,84.644203c-7.855549,-3.640526 -12.777359,-8.843185 -12.777359,-14.621796c0,-9.282608 12.71479,-17.062077 29.899879,-19.276257l0,-10.0228c-22.74612,2.771629 -39.866508,14.835831 -39.866508,29.299057c0,8.339775 5.703249,15.858292 14.878479,21.274269c10.038441,6.136261 15.0214,-3.829643 7.865509,-6.652473zm59.846684,-37.117634c-5.34771,-4.910431 -12.823586,2.56472 -7.725426,6.983822c9.047241,3.654739 14.8358,9.246349 14.8358,15.512016c0,9.287582 -12.716919,17.067764 -29.900574,19.281219l0,10.018539c22.746117,-2.767357 39.866493,-14.830833 39.866493,-29.299759c0,-8.981129 -6.625458,-17.020836 -17.076294,-22.495838zm-38.320702,9.986542l16.221626,-9.713501c2.359932,-1.41354 2.364914,-3.715881 0.012794,-5.139381l-16.371658,-9.908318c-2.354954,-1.421371 -4.255562,-0.347702 -4.244183,2.404018l0.088169,19.93325c0.007111,2.75243 1.93047,3.837479 4.293251,2.423931zm11.264977,25.072628l-16.370937,9.907608c-2.354259,1.4235 -2.349281,3.725845 0.0135,5.140106l16.219498,9.713486c2.35994,1.410713 4.28756,0.328514 4.299652,-2.426056l0.085327,-19.93325c0.008522,-2.75029 -1.894203,-3.82254 -4.24704,-2.401894z" /> <path d="m20.722425,51.273846c0,0 2.217535,-4.027969 2.217535,-4.027969c0,0 96.508617,41.474796 96.508617,41.474796c0,0 -1.80687,4.204453 -1.80687,4.204453c0,0 -96.919283,-41.651279 -96.919283,-41.651279z" fill="#FF0000"/> </g> </svg>'};
ba='<svg viewBox="0 0 390 390" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg"> <g> <path d="m340.384766,173.735092l31.219025,0c-4.673218,-39.459625 -22.307343,-75.974045 -50.835632,-104.503242c-28.529175,-28.528301 -65.04274,-46.162409 -104.50325,-50.83563l0,31.21903c64.030197,9.325581 114.794266,60.089661 124.119858,124.119843z" /> <path d="m173.735092,49.61525l0,-31.21903c-39.459625,4.673222 -75.974045,22.307329 -104.503242,50.83563c-28.528301,28.529198 -46.162409,65.042717 -50.83563,104.503242l31.21903,0c9.325581,-64.030182 60.089661,-114.794262 124.119843,-124.119843z" /> <path d="m216.264908,340.384766l0,31.219025c39.45871,-4.673218 75.974075,-22.307343 104.50325,-50.835632c28.52829,-28.529175 46.162415,-65.04274 50.835632,-104.50325l-31.219025,0c-9.325592,64.030197 -60.089661,114.794266 -124.119858,124.119858z" /> <path d="m49.61525,216.264908l-31.21903,0c4.673222,39.45871 22.307329,75.974075 50.83563,104.50325c28.529198,28.52829 65.042717,46.162415 104.503242,50.835632l0,-31.219025c-64.030182,-9.325592 -114.794262,-60.089661 -124.119843,-124.119858z" /> <path d="m116.634109,173.735092c7.527847,-27.709595 29.391388,-49.573135 57.100983,-57.100983l0,-31.732529c-44.80574,8.638191 -80.19532,44.027771 -88.833511,88.833511l31.732529,0z" /> <path d="m116.634109,216.264908l-31.732529,0c8.638191,44.80574 44.027771,80.195328 88.833511,88.832596l0,-31.731598c-27.709595,-7.526947 -49.574036,-29.391403 -57.100983,-57.100998z"/> <path d="m273.365906,216.264908c-7.527863,27.709595 -29.391434,49.57225 -57.100998,57.100998l0,31.731598c44.80574,-8.637268 80.195328,-44.026855 88.833511,-88.832596l-31.732513,0z" /> <path d="m273.365906,173.735092l31.732513,0c-8.638184,-44.80574 -44.027771,-80.19532 -88.833511,-88.833488l0,31.732506c27.709595,7.526947 49.574051,29.391388 57.100998,57.100983z" /> </g> </svg>';
ca='<svg  xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 512 512;" viewBox="0 0 512 512" width="512px" height="512px" y="0px" x="0px" version="1.1"><g ><g ><path d="M471.469,84.155l-47.75-79.22C421.874,1.873,418.56,0,414.985,0s-6.89,1.873-8.735,4.934l-47.75,79.22 c-0.958,1.589-1.465,3.41-1.465,5.265v42.977H314.13V89.419c0-1.875-0.516-3.713-1.492-5.312l-48.329-79.22 C262.457,1.851,259.157,0,255.602,0c-0.008,0-0.016,0-0.023,0c-3.565,0.008-6.865,1.877-8.708,4.928l-47.821,79.22 c-0.96,1.591-1.468,3.414-1.468,5.271v42.977h-42.616V89.419c0-1.855-0.506-3.676-1.465-5.265l-47.749-79.22 C103.906,1.873,100.592,0,97.017,0s-6.89,1.873-8.735,4.934l-47.751,79.22c-0.958,1.589-1.465,3.41-1.465,5.265v412.381 c0,5.632,4.566,10.199,10.199,10.199h95.499c5.633,0,10.199-4.567,10.199-10.199v-61.426h42.616v61.426 c0,5.632,4.566,10.199,10.199,10.199h96.15c5.633,0,10.199-4.567,10.199-10.199v-61.426h42.906v61.426 c0,5.632,4.566,10.199,10.199,10.199h95.498c5.633,0,10.199-4.567,10.199-10.199V89.419 C472.932,87.564,472.427,85.743,471.469,84.155z M134.568,491.602L134.568,491.602H59.467V92.256l37.55-62.3l37.55,62.3V491.602z M197.581,419.977h-42.616v-52.311h42.616V419.977z M197.581,347.269h-42.616V225.504h42.616V347.269z M197.581,205.106h-42.616 v-52.311h42.616V205.106z M293.731,491.602H217.98V92.259l37.668-62.401l38.084,62.426V491.602z M357.036,419.977H314.13v-52.311 h42.906V419.977z M357.036,347.269H314.13V225.504h42.906V347.269z M357.036,205.106H314.13v-52.311h42.906V205.106z M452.534,491.602h-75.1V92.256l37.55-62.3l37.549,62.299V491.602z" /></g></g></svg>';
n();h();tf.js.GetFunctionOrNull(a.onLoaded)&&setTimeout(function(){a.onLoaded(p)},0)}function n(){var a=tf.TFMap.LayoutSettings,b="N NE E SE S SW W NW".split(" "),c=b.length,d=[-90,-45,0,45,90,135,180,225],e=Math.PI/180,f={iconShadow:!0,iconAnchor:[.5,.5],bottomMargin:0,circleRadius:void 0,circleFill:void 0},h=a.altaSmallCanvasDim,a=a.altaLargeCanvasDim,h={circleRadius:(h+6)/2,circleFill:"rgba(255,255,255,0.1)",sizeCanvas:[h+6,h+6],sizeImage:[h-1,h-1],imageToPaint:Wa},a={circleRadius:(a+6)/2,circleFill:"rgba(255,255,255,0.1)",
sizeCanvas:[a+6,a+6],sizeImage:[a-1,a-1],imageToPaint:Ga};Ca={};for(var g=0;g<c;++g){var k=b[g],m=d[g],p=m*e,l="Alta.Icon.Square.18px."+k+".png",k="ALTA-Balloon.tiny."+k+".png",n=tf.js.ShallowMerge(f,h),w=tf.js.ShallowMerge(f,a),t=tf.js.ShallowMerge(n),r=tf.js.ShallowMerge(w);t.sizeCanvas=[t.sizeCanvas[0]+4,t.sizeCanvas[1]+4];t.sizeImage=[t.sizeImage[0]+4,t.sizeImage[1]+4];r.sizeCanvas=[r.sizeCanvas[0]+4,r.sizeCanvas[1]+4];r.sizeImage=[r.sizeImage[0]+4,r.sizeImage[1]+4];Ca[k]={name:k,angle:p,angleDeg:m,
styleSettings:n,hoverSettings:t};Ca[l]={name:l,angle:p,angleDeg:m,styleSettings:w,hoverSettings:r}}}function m(){tf.TFMap.LayoutSettings=xa?tf.js.ShallowMerge(tf.TFMap.LayoutSettings,tf.TFMap.LayoutSettingsNormal,tf.TFMap.SmallLayoutSettings):tf.js.ShallowMerge(tf.TFMap.LayoutSettings,tf.TFMap.LayoutSettingsNormal)}var p,q,r,A,t,w,v,u,B,E,D,F,C,G,H,I,J,K,N,Q,M,R,O,T,U,S,Z,X,da,L,W,ca,ea,ba,fa,qa,pa,ua,aa,oa,Da,ra,Ha,ma,ia,ja,V,ha,na,za,Y,P,wa,Ma,pb,ta,Pa,Ea,Fa,Ba,Ga,db,Wa,Ca,Oa,Ja,xa,hb,qb,Ua;this.GetFenceSVG=
function(){return ca};this.GetBusPNGImage=function(){return T};this.GetPlayerSVGs=function(){return fa};this.GetRefreshSVG=function(){return ea};this.GetMapCenterSVG=function(){return ba};this.SetMinNonSmallScreenWidthAddValue=function(a){a!=Z&&(Z=a,p.CheckLayoutChange())};this.GetPoweredByTerraFlySVGForMap=function(){return wa};this.CheckIsSmallDeviceScreen=function(){return window.screen.width<=minNonSmallScreenDim+Z||window.screen.height<=minNonSmallScreenDim};this.CheckIsSmallScreen=function(){var a=
tf.dom.GetWindowDims();return a[0]<=U+Z||a[1]<=S};this.GetIsSmallScreen=function(){return xa};this.CheckLayoutChange=function(){var a=p.CheckIsSmallScreen();a!=xa&&(xa=a,p.RefreshLayout())};this.RefreshLayout=function(){var b=a.appContent;m();b.StartLayoutChange();r.Notify(A,tf.js.ShallowMerge(void 0,{sender:p,eventName:A}));b.EndLayoutChange();a.appContent.GetMap().Render()};this.AddOnLayoutChangeListener=function(a){return r.AddListener(A,a)};this.GetArrowRightSVG=function(){return Oa};this.GetArrowLeftSVG=
function(){return Ja};this.GetArrowRightSVGNoColor=function(){return R};this.GetArrowLeftSVGNoColor=function(){return O};this.GetMapMarker1SVG=function(){return Pa};this.GetCSSClasses=function(){return q};this.GetDirectionsMapArrowImage=function(){return Ma};this.GetPoweredByTerraFlySVG=function(){return P};this.GetDirectionsStepsSVGs=function(){return Y};this.GetBusSVG=function(){return hb};this.GetBusImage=function(){return qb};this.GetBusStopSVG=function(){return Ua};this.GetTapImage=function(){return N};
this.GetMapMarkerSearchImage=function(){return Q};this.GetGeolocationImage=function(){return M};this.GetFromImage=function(){return na};this.GetToImage=function(){return za};this.GetMapMarker1Image=function(){return Fa};this.GetUpDownArrowSVG=function(){return K};this.GetSearchSVG=function(){return J};this.GetBikeSVG=function(){return G};this.GetWalkSVG=function(){return H};this.GetCarSVG=function(){return I};this.GetXMarkSVG=function(){return C};this.GetOnOffSVG=function(){return w};this.GetAddSVG=
function(){return v};this.GetMinusSVG=function(){return B};this.GetGeolocationSVG=function(){return u};this.GetCompassSVG=function(){return E};this.GetArrowDownSVG=function(){return D};this.GetArrowDownFlipSVG=function(){return F};this.GetDustBinSVG=function(){return W};this.GetMeasureSVG=function(){return X};this.GetDownloadSVG=function(){return da};this.GetLayersSVG=function(){return L};this.SetIsShowingAerial=function(a){t=a};this.AddMapMarker1Style=function(a){a.style=d;a.hoverStyle=d;return a};
this.GetSVGMapMarkerStyle=function(a,b,c,d,f){return e(b,a,c,d,f)};this.GetSVGMapMarkerGeomAndStyles=function(a,b,c,d,f,h){return{type:"point",coordinates:void 0!=a?a:[0,0],style:e(c,b,d,f,h),hoverStyle:e([c[0]+2,c[1]+2],b,d,f,h+1)}};this.CreateImageCanvasFromSettings=function(a){return c(a)};this.GetLighterColor2=function(a){a=tf.js.GetRGBFromColor(a);a.r=tf.js.GetIntNumberInRange(a.r+160,0,255,a.r);a.g=tf.js.GetIntNumberInRange(a.g+160,0,255,a.g);a.b=tf.js.GetIntNumberInRange(a.b+160,0,255,a.b);
return"#"+a.r.toString(16)+a.g.toString(16)+a.b.toString(16)};this.GetLighterColor=function(a){a=tf.js.GetRGBFromColor(a);a.r=tf.js.GetIntNumberInRange(Math.floor(1.4*(a.r+80)),16,255,a.r);a.g=tf.js.GetIntNumberInRange(Math.floor(1.4*(a.g+80)),16,255,a.g);a.b=tf.js.GetIntNumberInRange(Math.floor(1.4*(a.b+80)),16,255,a.b);return"#"+a.r.toString(16)+a.g.toString(16)+a.b.toString(16)};this.AddSearchFeatureStyles=function(a,c){a.style=b(!1,!1,c.color,c.text,c.imageSrc,c.compassDirectionAngle,c.isForHybrid,
c.minZIndex);a.hoverStyle=b(!1,!0,c.color,c.text,c.imageSrc,c.compassDirectionAngle,c.isForHybrid,c.minZIndex);return a};this.GetSVGMapMarkerWithFrameStyle=function(a,b,c,d,e,f,h,k,m){return g(a,b,c,d,e,f,h,k,m)};this.GetSVGMapMarkerWithFrameGeom=function(a,b,c,d,e,f,h){d=void 0!=d?d:14;var k=2*(d-2-1),k=void 0!=c?c:[k,k],m=0;c=g(++m,b,k,d,e,f,h);b=g(++m,b,[k[0],k[1]],d+2,e,f,h);return{type:"point",coordinates:a,style:c,hoverStyle:b}};this.FlashCoords=function(a,b,c){t&&(c="#fff");new tf.map.PointsStyleAnimator({maps:[a],
pointProviders:b,duration:800,getStyle:function(a){return p.GetFlashStyleAtTime(a,c)}})};this.GetFlashStyleAtTime=function(a,b){var c=4+16*Math.pow(a,.5),d=1-Math.pow(a,3);return{circle:!0,circle_radius:c,snapToPixel:!1,line:!0,line_width:2-a,line_color:b,line_opacity:100*d}};p=this;Z=0;U=620;S=500;void 0!=a.sidePanelWidthInt&&(U+=a.sidePanelWidthInt);A="layoutChange";r=new tf.events.MultiEventNotifier({eventNames:[A]});xa=p.CheckIsSmallScreen();m();(function(){Y='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 493.353 493.352;" viewBox="0 0 493.353 493.352" height="493.352px" width="493.353px" y="0px" x="0px" version="1.1"><path d="m 280.67541,490.7864 c 5.18209,-15.93359 1.64794,-33.17014 2.568,-49.75618 0,-104.37428 0,-208.74855 0,-313.12282 23.31063,-3.60326 53.14368,7.39213 72.44513,-5.85076 C 355.9896,108.75392 341.96497,101.66876 334.73763,91.849905 307.39022,62.184403 280.04282,32.518901 252.69541,2.8533988 238.55186,-5.5406649 230.55338,14.818517 221.09328,22.801927 193.84466,52.697751 166.59603,82.593576 139.34741,112.4894 c -8.49444,17.99737 16.96577,15.99433 28.44383,15.419 14.12005,0 28.24011,0 42.36017,0 0,118.77167 0,237.54333 0,356.315 9.35248,18.04925 37.08404,5.34374 54.42902,9.19141 5.27061,-0.72455 11.76942,1.12842 16.09498,-2.62841 z" /><g id="g7727" /></svg>{<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 493.353 493.352;" viewBox="0 0 493.353 493.352" height="493.352px" width="493.353px" y="0px" x="0px" version="1.1"><path d="m 280.67541,490.7864 c 5.18209,-15.93359 1.64794,-33.17014 2.568,-49.75618 0,-104.37428 0,-208.74855 0,-313.12282 23.31063,-3.60326 53.14368,7.39213 72.44513,-5.85076 C 355.9896,108.75392 341.96497,101.66876 334.73763,91.849905 307.39022,62.184403 280.04282,32.518901 252.69541,2.8533988 238.55186,-5.5406649 230.55338,14.818517 221.09328,22.801927 193.84466,52.697751 166.59603,82.593576 139.34741,112.4894 c -8.49444,17.99737 16.96577,15.99433 28.44383,15.419 14.12005,0 28.24011,0 42.36017,0 0,118.77167 0,237.54333 0,356.315 9.35248,18.04925 37.08404,5.34374 54.42902,9.19141 5.27061,-0.72455 11.76942,1.12842 16.09498,-2.62841 z" /><g id="g7727" /></svg>{<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 494.221 494.221;" viewBox="0 0 494.221 494.221" height="494.221px" width="494.221px" y="0px" x="0px" version="1.1"><path d="m 175.84853,495.02314 c 0,-90.893 0,-181.786 0,-272.679 37.34575,-35.00175 74.6915,-70.00351 112.03725,-105.00526 17.77104,16.33281 35.54208,32.66563 53.31312,48.99844 C 350.42727,110.19349 359.65565,54.049669 368.88402,-2.0941565 309.40113,8.8662707 249.91824,19.826698 190.43535,30.787125 204.7165,42.233902 218.99766,53.680679 233.27881,65.127456 185.43132,107.43969 137.58383,149.75193 89.73634,192.06416 c 0,101.417 0,202.834 0,304.251 28.70406,-0.43067 57.40813,-0.86135 86.11219,-1.29202 z" /><g id="g5976" /></svg>{<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="502.049px" height="502.049px" viewBox="0 0 502.049 502.049" style="enable-background:new 0 0 502.049 502.049;" xml:space="preserve"> <g> <polygon points="420.692,74.923 290.938,0 290.938,37.359 81.356,37.359 81.356,502.049 156.486,502.049 156.486,112.49  290.938,112.49 290.938,149.849 "/> </g> </svg>{<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 494.221 494.221;" viewBox="0 0 494.221 494.221" height="494.221px" width="494.221px" y="0px" x="0px" version="1.1"><path d="m 172.61536,491.93915 -88.981338,0 L 85.114594,4.4108408 358.39118,216.25447 l 49.2229,-43.50647 2.96158,148.93 -161.40175,-0.96438 46.16514,-44.3922 -120.73678,-97.52933 z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.31939518px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" /></svg>{<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 495.002 495.002;" viewBox="0 0 495.002 495.002" y="0px" x="0px" version="1.1"><path d="m 467.73329,207.77586 c -19.04538,-0.77757 -54.63394,0.0643 -77.80829,-0.50786 l 0,-43.182 C 389.925,73.605 316.319,0 225.838,0 135.357,0 61.751,73.605 61.751,164.087 l 0,330.915 83.319,0 0,-330.915 c 0,-44.532 36.226,-80.767 80.768,-80.767 44.54,0 80.765,36.234 80.765,80.767 l 0,43.182 c -8.76231,0.65024 -56.72081,0.95691 -75.17046,1.03223 C 265.79536,250.5871 331.3256,330.71396 348.264,354.237 387.14667,306.35389 429.74251,252.29518 467.73329,207.77586 Z" /></svg>{<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 494.221 494.221;" viewBox="0 0 494.221 494.221" height="494.221px" width="494.221px" y="0px" x="0px" version="1.1"><path d="m 321.60564,491.93915 88.98134,0 L 409.10641,4.4108408 135.82982,216.25447 86.606925,172.748 l -2.96158,148.93 161.401745,-0.96438 -46.16514,-44.3922 120.73678,-97.52933 z" style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.31939518px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" /></svg>{<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="502.049px" height="502.049px" viewBox="0 0 502.049 502.049" style="enable-background:new 0 0 502.049 502.049;" xml:space="preserve"> <g> <polygon points="81.356,74.923 211.11,0 211.11,37.359 420.692,37.359 420.692,502.049 345.562,502.049 345.562,112.49  211.11,112.49 211.11,149.849"/> </g> </svg>{<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 494.221 494.221;" viewBox="0 0 494.221 494.221" height="494.221px" width="494.221px" y="0px" x="0px" version="1.1"><path d="m 293.754,494.221 0,-272.679 L 196.00525,118.21774 149.49134,168.01609 125.337,0 281.02749,30.203849 243.648,65.187 368.884,189.97 l 0,304.251 z" transform="matrix(1.1461758,0.01719715,0,1,-53.921896,-4.2495957)" /></svg>{<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 493.353 493.352;" viewBox="0 0 493.353 493.352" height="493.352px" width="493.353px" y="0px" x="0px" version="1.1"><path d="m 280.67541,490.7864 c 5.18209,-15.93359 1.64794,-33.17014 2.568,-49.75618 0,-104.37428 0,-208.74855 0,-313.12282 23.31063,-3.60326 53.14368,7.39213 72.44513,-5.85076 C 355.9896,108.75392 341.96497,101.66876 334.73763,91.849905 307.39022,62.184403 280.04282,32.518901 252.69541,2.8533988 238.55186,-5.5406649 230.55338,14.818517 221.09328,22.801927 193.84466,52.697751 166.59603,82.593576 139.34741,112.4894 c -8.49444,17.99737 16.96577,15.99433 28.44383,15.419 14.12005,0 28.24011,0 42.36017,0 0,118.77167 0,237.54333 0,356.315 9.35248,18.04925 37.08404,5.34374 54.42902,9.19141 5.27061,-0.72455 11.76942,1.12842 16.09498,-2.62841 z" /><g id="g7727" /></svg>{<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 493.353 493.352;" viewBox="0 0 493.353 493.352" height="493.352px" width="493.353px" y="0px" x="0px" version="1.1"><path d="m 280.67541,490.7864 c 5.18209,-15.93359 1.64794,-33.17014 2.568,-49.75618 0,-104.37428 0,-208.74855 0,-313.12282 23.31063,-3.60326 53.14368,7.39213 72.44513,-5.85076 C 355.9896,108.75392 341.96497,101.66876 334.73763,91.849905 307.39022,62.184403 280.04282,32.518901 252.69541,2.8533988 238.55186,-5.5406649 230.55338,14.818517 221.09328,22.801927 193.84466,52.697751 166.59603,82.593576 139.34741,112.4894 c -8.49444,17.99737 16.96577,15.99433 28.44383,15.419 14.12005,0 28.24011,0 42.36017,0 0,118.77167 0,237.54333 0,356.315 9.35248,18.04925 37.08404,5.34374 54.42902,9.19141 5.27061,-0.72455 11.76942,1.12842 16.09498,-2.62841 z" /><g id="g7727" /></svg>{<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 297.249 297.249" style="enable-background:new 0 0 297.249 297.249;" xml:space="preserve"> <g> <path d="M67.851,120.957H53.267c8.152-28,28.685-51.807,55.359-63.768L95.645,27.605c-38.193,16.976-66.903,51.352-75.728,93.352H0 l33.435,55.413L67.851,120.957z"/> <path d="M175.624,53.268c28,8.152,52.14,28.685,64.101,55.359l29.418-12.981c-16.976-38.193-51.519-66.903-93.519-75.728V0 l-55.413,33.436l55.413,34.414V53.268z"/> <path d="M263.813,120.544l-34.414,55.413h14.582c-8.152,28-28.685,51.973-55.359,63.934l12.982,29.502 c38.193-16.975,66.903-51.435,75.727-93.435h19.918L263.813,120.544z"/> <path d="M120.624,243.981c-28-8.152-51.639-28.685-63.6-55.358l-29.668,12.98c16.976,38.193,51.268,66.903,93.268,75.727v19.918 l55.414-33.436l-55.414-34.415V243.981z"/> </g> </svg>{<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 297.249 297.249" style="enable-background:new 0 0 297.249 297.249;" xml:space="preserve"> <g> <path d="M67.851,120.957H53.267c8.152-28,28.685-51.807,55.359-63.768L95.645,27.605c-38.193,16.976-66.903,51.352-75.728,93.352H0 l33.435,55.413L67.851,120.957z"/> <path d="M175.624,53.268c28,8.152,52.14,28.685,64.101,55.359l29.418-12.981c-16.976-38.193-51.519-66.903-93.519-75.728V0 l-55.413,33.436l55.413,34.414V53.268z"/> <path d="M263.813,120.544l-34.414,55.413h14.582c-8.152,28-28.685,51.973-55.359,63.934l12.982,29.502 c38.193-16.975,66.903-51.435,75.727-93.435h19.918L263.813,120.544z"/> <path d="M120.624,243.981c-28-8.152-51.639-28.685-63.6-55.358l-29.668,12.98c16.976,38.193,51.268,66.903,93.268,75.727v19.918 l55.414-33.436l-55.414-34.415V243.981z"/> </g> </svg>{<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 297.249 297.249" style="enable-background:new 0 0 297.249 297.249;" xml:space="preserve"> <g> <path d="M67.851,120.957H53.267c8.152-28,28.685-51.807,55.359-63.768L95.645,27.605c-38.193,16.976-66.903,51.352-75.728,93.352H0 l33.435,55.413L67.851,120.957z"/> <path d="M175.624,53.268c28,8.152,52.14,28.685,64.101,55.359l29.418-12.981c-16.976-38.193-51.519-66.903-93.519-75.728V0 l-55.413,33.436l55.413,34.414V53.268z"/> <path d="M263.813,120.544l-34.414,55.413h14.582c-8.152,28-28.685,51.973-55.359,63.934l12.982,29.502 c38.193-16.975,66.903-51.435,75.727-93.435h19.918L263.813,120.544z"/> <path d="M120.624,243.981c-28-8.152-51.639-28.685-63.6-55.358l-29.668,12.98c16.976,38.193,51.268,66.903,93.268,75.727v19.918 l55.414-33.436l-55.414-34.415V243.981z"/> </g> </svg>{<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 493.353 493.352;" viewBox="0 0 493.353 493.352" height="493.352px" width="493.353px" y="0px" x="0px" version="1.1"><path d="m 280.67541,490.7864 c 5.18209,-15.93359 1.64794,-33.17014 2.568,-49.75618 0,-104.37428 0,-208.74855 0,-313.12282 23.31063,-3.60326 53.14368,7.39213 72.44513,-5.85076 C 355.9896,108.75392 341.96497,101.66876 334.73763,91.849905 307.39022,62.184403 280.04282,32.518901 252.69541,2.8533988 238.55186,-5.5406649 230.55338,14.818517 221.09328,22.801927 193.84466,52.697751 166.59603,82.593576 139.34741,112.4894 c -8.49444,17.99737 16.96577,15.99433 28.44383,15.419 14.12005,0 28.24011,0 42.36017,0 0,118.77167 0,237.54333 0,356.315 9.35248,18.04925 37.08404,5.34374 54.42902,9.19141 5.27061,-0.72455 11.76942,1.12842 16.09498,-2.62841 z" /><g id="g7727" /></svg>{<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 493.353 493.352;" viewBox="0 0 493.353 493.352" height="493.352px" width="493.353px" y="0px" x="0px" version="1.1"><path d="m 280.67541,490.7864 c 5.18209,-15.93359 1.64794,-33.17014 2.568,-49.75618 0,-104.37428 0,-208.74855 0,-313.12282 23.31063,-3.60326 53.14368,7.39213 72.44513,-5.85076 C 355.9896,108.75392 341.96497,101.66876 334.73763,91.849905 307.39022,62.184403 280.04282,32.518901 252.69541,2.8533988 238.55186,-5.5406649 230.55338,14.818517 221.09328,22.801927 193.84466,52.697751 166.59603,82.593576 139.34741,112.4894 c -8.49444,17.99737 16.96577,15.99433 28.44383,15.419 14.12005,0 28.24011,0 42.36017,0 0,118.77167 0,237.54333 0,356.315 9.35248,18.04925 37.08404,5.34374 54.42902,9.19141 5.27061,-0.72455 11.76942,1.12842 16.09498,-2.62841 z" /><g id="g7727" /></svg>{<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 493.353 493.352;" viewBox="0 0 493.353 493.352" height="493.352px" width="493.353px" y="0px" x="0px" version="1.1"><path d="m 280.67541,490.7864 c 5.18209,-15.93359 1.64794,-33.17014 2.568,-49.75618 0,-104.37428 0,-208.74855 0,-313.12282 23.31063,-3.60326 53.14368,7.39213 72.44513,-5.85076 C 355.9896,108.75392 341.96497,101.66876 334.73763,91.849905 307.39022,62.184403 280.04282,32.518901 252.69541,2.8533988 238.55186,-5.5406649 230.55338,14.818517 221.09328,22.801927 193.84466,52.697751 166.59603,82.593576 139.34741,112.4894 c -8.49444,17.99737 16.96577,15.99433 28.44383,15.419 14.12005,0 28.24011,0 42.36017,0 0,118.77167 0,237.54333 0,356.315 9.35248,18.04925 37.08404,5.34374 54.42902,9.19141 5.27061,-0.72455 11.76942,1.12842 16.09498,-2.62841 z" /><g id="g7727" /></svg>'.split("{");
ha="data:image/gif;base64,R0lGODlhlgCWAOZqAJWVlZ2dnaampq6urre3t7+/v8jIyNDQ0OHh4dnZ2erq6vLy8v39/enp6f7+/vz8/Pj4+NjY2M7OzrOzs7y8vPr6+vX19fPz8/v7+/b29qmpqdfX1/Hx8d/f38bGxsXFxeDg4MTExO7u7uvr6/Dw8LW1tdbW1peXl6SkpMfHx6GhofT09OTk5M/Pz+bm5qurq/f39/n5+bS0tL6+vqysrL29ve/v79ra2qCgoOjo6JycnJqamtPT0+zs7KqqqpiYmKOjo62traWlpe3t7Zubm7a2ttzc3KKiouXl5dXV1c3NzePj45mZmcnJybKysufn57u7u8vLy97e3sHBwdTU1NLS0uLi4tvb29HR0crKyt3d3bq6uri4uMDAwMPDw8zMzLCwsMLCwpaWlrm5uZ6enrGxsZ+fn6+vr6enp6ioqP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAABqACwAAAAAlgCWAEAH/4BqgoOEhYaHiImKi4UPORsSEhs5D4yWl5iZmpucixc7AKGio6SiOxedqaqrnkdEAbCxsrMnIYwspbmkLJsZHAvAHBcYrMWsMyezyrE6RE/GxTErFxcZldDY2drb3KoZLygC4uPk5EJoJN3q2DYNCu/wORzGGAQq5fgCR2AQ6/7QGC6QIDHsn8GDCBMqXHjQBZgBECNKnDhABMOLqhiwAIGgo0cEIFxcO0RFA8WJGlpgXLkKQg8XLFwMicGyps2bOHNmusClCIGfQIMCLTFCJ0IICSIkWMp0aYQrxIqJ2DJBKFAZBBoYZWiBxZWlV5DA2Eq2rLYbFAqoXct2bRcLK/8hVDlAt67dAxKQmMXkIgQUCjVm1AB8YKwmDh4MKF7MWLGHeZwsWIlgIoKWHgz21nSRJYSHzx5CZHGhubQlDBN0lZoQ1fQ/BEBO6FhG5AQUmowkqN4NQILrbluYLBsOawdpSwyUkNFFRknmTQ+ASZ+e4bciF2WY/NhBpNmOEziaVLC+UomKcPlQ4PDwnLxpKUfyyRegIol7YzDcwdvfoF+2CzekMJgHCaRz34EI3ueABD7QcBINGmQxUoILOcCAA4xQ8cJJHGogBYUGWcDRRx+BsAImDMTQHogstpggA1hMUIJVJTiRxXguqrJCA0ss0UB10PQwo1VETqBXjpisoFT/U01FEAGQSEZ5kBQUzNCWWhR4cKJNDiCBVwt0RRIBXAmOkNaVbdUQxYqXsGCAZ6CFYAAvnFwhwV13tYCKlKks4EEKjTWWggcL8Gnoof8kgYIuKNiHKEtP8JbLM49qokAWRUAIRg0RGHZJC5LqolKlilwgxA7EySJGFowsAEqoo+xQKCcYshjCD6kqowMZNjASwwCwDoAbJg5cMJ10HAzrXhLJ5CoLEWkoi0kFMMCAY0u/HHsBm+7dwF2uJ5zhH6k1MZDBCtKSa8wKWJSggTgaTCABZOoyZAMa6M0ngBAo5FCvIQwsMII7PWxrTALx6VsODlj8K4gF+u33zo+sPCAD/xAKj4OCsA4/3EDECnzsaTE9lIFDvuMIgUMQx3Xs8sswxxwzBDd4wQVWU4wps0ENOMihRC/QuTMjHCDQgUdH73lIFD78TJEPjg6NCAlHk+gRCL0aUkEITTsN0QsF1Co1IheMaDWZihjh7gs0BEHDC/EmMPbcdNdtN4gVsGCCBFFUgcC4d0PTgAw+EQnUBAi8jEEHlTVpAgLccgJCVYYLNcEGHSuwAZNMbmARKwk4UfnhB7x8gZOcO4m2MQ904MEYPm0RwhXpBm47uRAgIEEKH6SQxBBlOfDAhBQ+YEANaLIFhRU1kXAnnmEaIbZ7PJyZ/FozfE5rBRVMv8kFYEJfl/8EHSSoAPLXU/BF5IqM0HugivFe1CZIKAG9BFQAziIDF6qyxAfwa8wHlnA7VojgTwEclPYKWIwHcGAEI+AA8RjICppBQQMoQIEGoHAD/VFwExUYg6TGcK0PYsILsAqFF0yICS6kUBRcsBsGKsC+RXTghaMo385IAAUdnIAJ3NnBD34gAB54LxFZwKEoWBUzKwQAVakSAxcmaAgtKDEUWohZCJrlLB2YYYGIkIESZcCJCljgAiuAQQ1dkwBcOSsWO/BBCRFRgxfWYBMQyNZ0LnDE3wTnjbIwjiUykBreTABKmIjOsaSDSPKEwY2AnA3wMGGBJBQBCDvYARCKkITVaaL/WItcAAc8+BsS4GA2gDxBF2riAAvo8RetOZANVPAKZ4khDDrpY4I2EADhLMOHZVAaCzXBgA4U4AX8EoATJGCgYTpTG8UagQI4sMZnLuIGL8ABEITATSEAAQcaoIIurWkIE6hACArDgRJ2xgAMYKCam/DAPTJGnxqM81EPGMLHJpYDEcDTEi7AGD3FcYQsOqwCIIOHO2LZiQ0kbKA4GNW/diQxhXqSE0NA50AFgIIj/YsBA6toAzBTjAjgAKKle9kKQvYxdzRyFSKgwUPzcYQ0aIWcg8yCD1SggiMcgaca8IAwcUrUohr1qEhNqlI3kaJ/KlVtGmCb2+A2AbkttRAl//FaSkzoEpjIpHaD2FrXvAa2e0ptBWYj0UsFoSGvScRDtxOR1a62pUIwza0RgdrtqDbXjmDtEEh4CF4hAsa6aaSvIaGiGnqGVx8I7XZFq5rRrDBUQyyoQQ+KkGJtZyGzGgIpNsPZBi561dKa9rSoTa1qVxs4BBRABhOQAWwnQIErOBWnSRBd5ZygBM8iqgJLoMwGNlAZJGx2Ewag3OhKMIXjIsoFJuDcUkxw01W4QLmjI8AEDPovEWxOukvZQGU3YQXsjm4CN+hYD74LXhNkTRUVKMCQRleEMZC2UgyQAns7hwDf+qoLWKlcCaBwX3KJIAIbcJKTNkcvY5DAC7EtXPoRYFsABUgNAzDIAEO3kQEbkAAG/mWtiEfMjaaSmAVeAMwMVgyYFhT4IitAQAKoQAUjkBREDbAemigQBecehAX2wxP+RuYeBeg4eWq6bTfsJD66tGBW96nCkZOXvZWAr8lh+tCBrjBlNL0lMlLAghKUgAUpvFgRcsEyXjzqngc0AX3Xg8JjL9GBEABKUCHQoSac12QJGAFEIKgSmqCQgjMDDAuJCaABPIAFJQ8iB19qQQsikQAiJyh3B2jCB5pggvltwgUAVLRiPtAyWj3A0f96gpxE/SZKXZUBPAh1AD/AA1QP0wqeCVRomLfaDCyBCpKmwhLWSuJiuygQACH5BAkAAGoALAAAAACWAJYAQAf/gGqCg4SFhoeIiYqLjI2Oj5CRkpOUhUonAZmam5wBJ1+VoaKjiQc4AqipqqooPheNBZidsycFjEMnALq7vL27tqTBjyRpKKvHqCofwpJlvs+9LMzT1NXW14smGgPc3d7eGhLY48IPC+foCxcMwg0DQd/fQS8g5PbCDg8PDvf9/v8AAwq8RsLEBAIIEypMOKHFwIehYDRQQLGiggYQ+CGKEeLgQoZdMkAcGQpDhhUwHpBcybKly5eMNlAoQLOmTZoUsMD8J6IDgp9Af3YgwQxBjRo3CxyVsnNgDBsjRpCo0LSqVWYwsqQwwLWrVwMftJBsYCKB2bNnI9ygerWRAxcS/zx8mNtkwwpKUiQc2Mu3r4QOoSpcEGEDRtuVDFxQaSFBQgsqT9gdnrxoiIAfszT9EDCEsj8TaVQYUwUEBwEbjmJoIJI5MxENMRo1gdZLiAjPgxoIEIKs9xEKkCrwCEKEyY8fTIgEocK2kTPa0F3gJvSkBpojOLIDGSDB8MoWTKAPuD0SghcNNOIF0TDj7nTPDii8iEd/AA0Czd+PWpEunQVrDJCQQw42qKTfgQgiCEMKE5SwUAlOePFKgm2B4IEMH2VYwhSSUWiPCBNZRFEDNsTm4YkopghJBkpAgVRNNUCRxYQqhvIABBAYyAwWMyV1Uw1R1BhJAyAEFRQIIwippP8/GGwQggdepRCCAUm2xEAON2yg5QYd0JggFR98JeYHnUmSGA+NNcYDEh1GYkEEEaCF1gbSLBlKB3r1pedfdvbp5zgM3OCEGccdZ4YTN7T550BeyNKaJid4segkEDxxRQJIkKCjIxW8sMOjnRDhQ36LWGCAEL3oUIIVFN6gAm+9JVOGd4tE4SiomZyQBSMN/ACdLzNMx4EGsMaqigopOJIDEJi19sMROTQCxa/QnEDeZAw4MZqxqagQQUBfUPsMEBBM50AIOBR7zBFoSPeQB+LqogIHk5IEQwdYGPBFBD1o5FIFSFSRRRZYWFFuvSPxsE193WgACsKIMABBBhnE4O//KA9skR7D3gRRwsEQq+HABf2h494oVvjAMTg3hFyIBRykw4FI07BQAnrwcEODBhOI5fLPQAct9NCIYDDEEld0MAKpRI9ThRMZKjRBkE07MvJFDTQwwsmHRDCFg1ErVAQFIFd9CAMjhChiAz38dwgJBBQRdkIlNGA2IwJa1EAO9DLCQAddlCDDBA0WcAUGdyeu+OKMn8iABSKIYIGijQtTBRQ+1kSBEhe7nIEVPgHVwRJlh8KABzNkbtMMIZRe7wMsGGkkC5RPEsMHL2Y+QxhuA91D6EF1cC0zaN/AAxVGKLBp5cy7jIEILrDQANfNkzLCB1uJydUHWNQeEAtlyZkA/5y967eAB9lrv70JJLGwgfhpJUAzgjdMqT2UfUcihRJ68qUEU5N4AAJMECezROB9REkcBpLQPz21IAmIq54oOsC/BioBMBLM4GEcIAItJCEJWhBB5zQ4CQ6UADk62IQOjFOC/JHwERl4wQ/I8Cgy/OAF83vhIkRghhTiKgA6MEOZdKiIEjDhh5pgggwk8YAcbOAAPOhA+TxEgigMAAhHOAIQBFCEBESwETBAA2uQGAAioCGHioiAGaDDBepNRwI42NYxVECDIS5CBkckIxMm0AgJxAsAZ3zPBV4gx1jhgGqLGAEQkZjCKimiCH/UhRii5RkGyGCL3OrWFRpxATTk8f9RTECDlxBxgEjuQghMs4oCdpPJVPzmEUM4wwk+xYkdnOAMPXCEE0y5iyd4Zljq4pYymNiADXzhCxtowPIYsQVeAkAMdjxMFE7RSiGgATUAaYAzgTOdKlDTWEAIwij9sQRTEuBADPgCEF61ChTgAAyUhEgBxGWGeCLIASS4AhYeyALXjUQEFAhAL07ggwh4j4gITRwDElCEF2jABz7QwAtkAMGEPoIB5+GYBqDgT4sSYgFlyNnKxiM0wcSMAxy4wDIrEYb5jHQAL6DAQf+UgZj1hwO0CgwXNjbSIEwgpwgbWcnOsYIRTqIJKnvpCyQFtBjYVGapDCAUXMoxGhSho/X/cgAESKYOrFbCCDTg6Td2lgSPPgICSdgCGMJ6Bi5gYYpmjatc50rXutr1rngdxd8CN7jC3eCLeVUDRzySoQkUAI3VewAMLJASvBVBbnMjQN0yKCC17c2FhQBBCjAUWcl2YaZmA5GIRlSirn2ts3EjW/PQpja9te1tBkHtBHRSPYmM9iIwMKognhbZqWnwalmbyAV0SwgYGKBBD3JCCMYZ2AcMAQFJGwFgA0vd6lr3utjNrnaDxoAlRKELM5hBF7KAgOnmFQIG6FFSKBACN7qsAiNYwk+WsDRmDCF3qqOAPUOGgSUUyUggYMFKJeGAKOBXdx4Y8J/eIjuggMCXejVA/+pUR5MZfMBEIWNA7Br8EyQQFxJLwByFCwAFn/3MAv+VHQiAGoonUGDCPoLCEobGQQSA4MZFwuY0RpAFCvj4x1TarpCHTOQiB4QBSFCCB0LAZAOYgLkkqQAJRiCCFYAWNxGwn5jQl0CSYAAEBJxTBIZ3IDCprytkIskK4AS/BGxgxgg635nRzL6RLOF9bSafgrQyZ7CYWBJS3psNouoIsrR5fH9NUA+wd+YPVOHKhsDADZTQgr60QAmJngQSwienOCH2PQ/IMvq6IqUmOBISJMhTAw8ggS5HggENyNIGCIgAuFLoASR4ggtG8GlHMMAElV71AVpgAkgn9NfBXnULNiLw4bimWtisxixeMXAFSltaCUZQ8LRJoIARcMC8Rg43ggIBACH5BAkAAGoALAAAAACWAJYAQAf/gGqCg4SFhoeIiYqLjI2Oj5CRkpOUhRBBKAKam5ycKEEQlaKjpIkQJTQDqqusqxpJjhc+mZ21KD4LjR8nAb2+v8A6KhylxZFJGq3KAzROF8aSCjo6wNW+JzXQ2tvc3YsVIjk5IhjQFTUlBOrr7OpFYxbe8qMjYgD3+Pn6+EzElVRO2rVzIsHBvIOVhjDZxxCfjmcII0qcSLGixW4ZvMwowLGjR45T4l0cScoChwUoUXIQqWhEFwofOdYo0ICkTWMGb+rcybOnz0kQmqQwQLSo0RQecv2kyGBEAwVQozbowQAaAyMfPqTYmuJDiAgVltpkUKFCVbFo03ZDIuGA27dw/w9UCXXzwRIEePPmBWFDbSQGPbRsMBFhCUtJMCJESMC4MWPFMEgxyOmXJwMRVrR0WCLibOXPjowIUFFLE2kjoCs+qAJGwwsaNF748EGh5qMIpEvrVhHBUYwtJ3ZY03FChZTUhlK8WMY8iO1HD0B4kaFKhhcQDyA9EW6tewAmXJAfIlGFQokJXEJcobvzgZIjJ5gQmb8j+IQcPEl4mSCjiLvzBYwgnjYkqNDQPiisIAoLEwjkIAETHDegKBIcaCEAsEyYGhIT2KPPCQQ8p+GI0JAQBQUU1DBDDSg2IQKJyOUAU0wxUeACjBRhkNKOKGWH449ABinKAjx4EEJWWR3wov+Qai3gwVBGRWnABwIyGUkFT0UllQLlWOllRRkkIIEELRzQQlsuUMbTAyK4wAISDRwG4wVlxgWXBFdUgsEIHRhhBAgjdEkJn3oVGsOXpECQwGKONbYYe4hGKulBDrBgQBFnnFFEEyyoOalNF9AAhG6cAEGDgp9W8kBYlOBGamm8RQLBDTOckcYLJUShwI8PhJEMcwME8cISjsCAyaue0BAZI1nw4p0vO6CglHgH/ArsKkGA4U8jEaBwhG5HoNBbIzaYQc2zwPzgxYAg+HAtKzRw4SNFFWjAHbrXZDjgChRY2woNPug7UgUTOOsdETtokapPD2QQg6c+OZABCTZY4Nn/wolcMMaBJxSQQSkQFCDDg+qUsAWqGKsRwYUMdVAJAg2SzM4EN6ScBcsNVUGJAymMLDMBJUwxb6oZ6ICzPjgcOgoCM8jAn9MTUGAExCl3cXQKKWet9dZcM7Lq0F2DGcJMNBZQwxQoh/0XBCu0DQHVhIAwY9kdUeCy2o9AcBKPC3DAKiJJzF02BTzg/dcFe/e9wsWKYMDCASmEkMIBS/xt+OWYZ6755pxvk0EWHkhJlAcekGC4BQo0oPpTHxvjwgeiRxkCAmGvkKWWUMVpTAMhxE5UCFbg/cAQquc+DuPQxLDCAst27jznDDwA9/PFGNGWnW5JYPpOFSwBQqEIdLAk/4wdXI999hDZBAH4eoGwK44QUGE+XEqwQMmsGzSawAY3QCorCx34HgJAAIIhTE9tPTCB/hxjgh5QzxxGyF+jNnAFpT3wghOCgAJYwAIF+A+DpFDAGICgAiCgAAUkBAIXRATCSSDghK86Ie1aKIks4ABZm8BBFGgICReMCoebAAISKEEWywlpARsIwxa4UIMssAB5i+BBboA4msI5wgFUQMMPfrADhDHhBDqAwvhGBIEpaCAIy3hBEFDjCBZ8i4oCOIL9vMYFMaBrBzqY4YQi4C/m0EAGrWNEE24IRBw0oREiMBe+enGCKUzICst5lypesAUoHkIKJozhEdi4CAy84P9eizzBBgakHElii4WLcEEJVFDCE5JQBSW4kSNyAMpFgmdA1TKlKsCwPUkwAAYZsOQiRECGcy0yAD9wpHhgIAM0SlIDWBhJGAyGLx2YoS8DwsAM+tiKIPhAYSTZxSJ3oIIxDggCURiAa4IQhNhooAh6tIkFSnACInTnB2RIgJAYAAEYGLEnC6hCEdIgBAEEwQvx5KFCheSCGaDAQycQwBRQSYoHdOADYyhCEbjghQqqTQFAYFkazEkJEWzBZwKRARfwozUGnOFo9yjBKDYQkJ9N4ABZc4APYIoPJ1RiBOn4mTomMESMJYGn+eBkJDoQM6FOYFwL8wBS8dECSiyAC/7/EWoJHIixDkz1HkWdRA5QSrIJJDRVNZjqB0bBgCpMIKjsKIETlPDPhVUIpiYwRgVYQIUoRIEHVvjg1gzgoYb8QAIL/akEoOCEqB1gCImNrGQnS9nKWlZDDHgCD5rggSZgAQmCuqwihjAFwdWtAO9b6AELsQEo0I0jUKACDRmAuJRwYHGKaIBpB/cEEOqIbz1KhNxe2xEo3O2CegOu3xJhgTBshLhdkBP1TMKjlSwiI2Sj0QymkD4Q/nIFF1jB2xwhgiagaAboRVEKuCpaR2AgBqFtr3znS9/62ve++M0vI0gghQ1EQApU0e8ghjAlKBWFdCw1HAZWQAISrABspbhB/+989wEerPZTFiieVBrQPFL0IHS++50suQaD2+GuAYIVK+xCbIAQEKtrGcadVALJ1gOAOHYeiEJdU2YDE0MlB9sqhQMkbGCjhIAKwkwZAxbglAaM4AJJFsUQkhAFA3ggCzygqIC3zOUuezktgDGCCagQAStIl2EXPqf8sFc/n0AAgHsBQQ/SXBk6nS97NdsJodiHgBQjp3x3dksLujuS9fF5gKkdkQvmh725jAID8Z2EXQ7Nlx9pgdF36mUkLCBmxSjGBEY4syO6J0C9iC9IMLjBmFrAajRVwgoS1N8GXkyJB9jgCW9SAI2ZFD06J0IEClwgY0yAzfvaINjC3kCx7yLLAmQ3ygRz1C8EOmAC/0ZgMFLosIAhMIQnjMPPXw53kAIBACH5BAkAAGoALAAAAACWAJYAQAf/gGqCg4SFhoeIiYqLjI2Oj5CRkpOUhjcaA5mam5saCZWgoaKLUhMEp6ippyUFFY8RmJyyGhGOFy8oArq7vLw4LaPBkjEFMqrHE0bClB44vc+6KGg2y9XW19jZjSwUBd7f4N5QytrloF0nAerr7O0BJ02hEAbd4d4UISvm+5VZ6e4AT2DhR7CgwYMIEya6IOVAFCwgLCzCYCWEgYsYMxoI0UGhR0lFAIgcSbIkyS1PDFnx4CFFRg8fOn6cCamFyZskqdDcybOnz5+GWEg4QLSoUQkIgCKMwWGB06ccXFWDYKSFhKtXr2RQyrWr16+VKtyIkKCsWbMmGvC80ECB27cK/xqMYAAWkoMMNkQskFqpBwgEgAMD7tCjrmFID1bYsLHiweHHixzwoOFDlg8aVehCJhgjQoESEyaUGGNAQaQHBGjIWj2ABgHHjhaMwQGkFwoVAjZsJiSiyLHfBGREmeTARgcTSTrYcCBpxhFo0AUIybG7kAUXRiJIGQK7JwQsZ1DgGK8CTQ3qPUVEqUGhfXsDaqsLi7BjB8B19mWCWm/P3gwPGMhHSQVoEHHffTsM0J2AXzUwhQYB1EfGCx8MweCFwojAQwoffBCCB1UUhiE/DJSA001bGGIDDx5o5KIHWDA34jUVAHHijRqYMCNXLJSwQ0lEcJHSjkRCsoARPLRwAP8PV5BQ5FdSDGXUlBLc8KQkGTT1lFMcwHDllwat0EEEG5R5Qw4L9sQABCtYwNeILGxw1lkRRCBRJQxkQAIHGWhWCQZxweVWAwuAKYpfgglGmKGMNlpOBS5Q8cUXPLjwpqMfGRELa5loYCWmCDHAhWqcbuJamo0wIEIHG9zgwlYjkrCFMb8V4UQVkMBSaie1NAKBE7hFJ50Kn25mARe+AZfKBDo98oAEL7wgS7QSoJqIAcEKu4sQGnCwGQNelKDsslYoFEG22gqAghPWGpbDFhMkiwpoElya0BMaPAedEDh8AOq/ABdEQgE4nPADE0z88MMRIVwgTAM1zNCfOEkF7ID/Ez8cyA4ZJ4wBCgNN1DAxODOEEMO/MAhhoMbtEOGDvY8MIfHI9wz5rwT/sLzOD7qJwgALSkwxwwxdZAFCgAETsgIYJ+hwnw5iEHBy0lRXbfXVWE9SQRdinChGCEgf4kIILrmYQggsZL1IBmbceJMQUwvSgAQtuvjSFzCrDQMRbuN0xHCDZNBE3Xa7dKfah1TR900RhF0IAws8sQShfiK+9gCLT5C35Zx37vnnoOYg5ZQHKJF21g5AcIFTF0BQzQMmKEm6UTxs7qgDq2/51AUyjsLADaNTuUG7AFdwgZYcXOA46Mw37/xjGdQ5Z1kmIOGTBQ209VYDQ1QunwXST1/W/wZL8ESC9oLGZftjJJBJVlkRmIAA8YxcAMJfgd1fKCgZ9JB9WyTwnuV+lqhEsUCAz6vEAu4nmL84LIEQjKDaFPABMLzABz54ARhCYBoJgkIJm1qNBr7gQSzJgFSlosEEDldCRoRAWrvKxAu88LkK9GAJCGjAAyNRgRIEIYaZCEIJ4taIBySgBAI4ghKBQIMPiGBENuiCE8SFiiKIJgkITIQXYBjDF4QhZgNAl21UIAEBYcALphjXBCrWCAtM4Ie7CoIT9NGILzgjXSjwwQ4f44AP0GpcwbGeIxzQhBDOogm9W8QVxCgsIMggi14ZgrwAKQMSRgIJXRiABjCIiS64IP8SzknXtoQQn8cca5LKmgAPFOIBRkaHW07azBXSOK4SUICIBiFBGoQgSgHgAHC7UQABqPgbJ0QBkvy4QBD0JSwcrJJBKzjAGEITmhJMwQqJ/MgIyoCDXPBCCCoAghKQ2cJFQCoJSjjAFTiQzXK6U0Ac2IAXtrCFECRgj8tgQA+MQAUq3EAB9AOVEVTQNHfo4ARCKFcwWDCDeoCDPVqoWg7IsDKN7UAFTwRFBTwgspHNYAosxBQI7KMzdehAB6WcRBUcOrIaABNTDHgBSUsaACaUAE8emBnNSuYlUFkABRUtKRHSgMtcsXRiFDhAwCbABJqq4wcUCAUPoEAzCnyBnFf/IgEOnCZUAfSUf0qAQke9UQMoNGF/SatAGXJ2oBNsAat2wYsILABXR0EgDAclAld1sIMTkKEJAX0nImIgAhc8wQbrE6xiF8vYxjr2sY5wQRF+RBIdjAE9jMDdCJBAOQnC4AyZ29xKPlA2A3DoAyBIoAQWR5IkGCIDWSDci5oQ0s7xgLUluUF3SMAiu70kRqCrAApwS5IcDWJusrWbB/AGOhhQlrgA+NsgKoAAi/j2IhxpnomgC4AxfJIQSCBb4UJQvuaxDboocN0hRIAFD4SgQzAaAQQZMAHcegyyhKhADW4kBi8sD7+EOFILmtCCDtARwAhOsIIXzGDFxqBNRW2w/wuschQJLKGdVnPAAxiAYVHAAAuzK0oL8Ek1C2iJS7ASxg1kF+IWmKCuYFqB7p5SWzxtgMUh5kFgDYW7GTvlwKMYQvBIp4SUUu0BPr4AjB0BgyQM+QAS4AGQr7amDGQgBkuOhAMW4IIOSIEF7GywmMdM5jILiAEWEEEPSJBY/NqATHQywdF+koER/K8BJNixYeIkvgTUqcYJART6todWAYHvfeLbwOlocr70DarNXxELoqeXFp6sYNDbmwuGMuBn8Zlg0ZOwABJA0IEOgAAJgH4E9gbNvSx/ZQUgIJOZGuDqQcSggIJRL54gYIEM/JdzDnABrgPjgg4/NtjDBkyxGxYMgWRbIcIJvg4C7geCV5n52tgOWCAAACH5BAkAAGoALAAAAACWAJYAQAf/gGqCg4SFhoeIiYqLjI2Oj5CRkpOUhhhdJQSam5yaJV0YlaKjpIsMTTUFqqusBVBIkBghE52dEx8Pj0kaA72+v740JRClxZNPFK2tFFm5xpMXTjTA1AMaVM/Z2tvc3Y4MBx4G4+TlHl8V3uqjJGhCAvDx8vIoLxmkPQYf5eMeHg3rAoqCAObIvIMCVHAJJbChw4cQI0pUVCFDukYYqLQ4wLGjRx4XJ4qEpEBHgJMoU6oMoMPMkEMPOrSQ0KKmBAkdGI7c+QhDmR8rg/6QwYCn0aNIk44a0gJKGScUsNjIhuFKhARYs2K9SkxpwA4AwoodS5Ysi1IwXFzBeoOFBa8P/xmcKUtXrAy4ePMaswECgd+/f63o3OngwoLDiBdw6Kp3koOipB4omEy5srPGmCfFyGAxs+dIEA4UmSCjRAkZE4ocYPz5YYwlWAx4iBJBxCQptGrpntAhUoMZPny8oEHjhYYyPC63JlQlmTJlM6ZSclBhsO8g1bK/8LBcUQwIypPG0PJhjIwiMw7YVjpkQ5RxUZKM6L6NgQccKBAKQKHiS6kR+/AjYAhP0EeKCSrop98RWhjYHQc3fNHFDE1owZqDGGZDQgcbJLFBByRkGFEPQDARVEo/CBCiISRs5NGLB0ggnYjeRGDiiSf+YASNmI0QxQQ+COCDDF+8xOORosAwAv8SLCjwFpKUKFFXXTyQAkMEV2ml1QYXQOnIBlOGCcCOXir1RAFC/BAWE2iEoYBXFijA5BM2WKeUA2XGANieHcxHCgOQkQIBB4kddkGgZUamQAOVTcZoeIlGKqlDIiAQgQkdzDgpUg94kJtuBEyQAqKbStTBp6BuMgEIlVBnp4gIUDDDc1A0AQMkFcyQSaqeFPAqIku8gF121oRAams3OPccK1PcCkkGX5QwgWmmTSvBhYtwAMawxPqiQQsGNqDssgXUEMWxDT0wxjTd+uJDbxgiMAUUNcxgLwUUKLHCURu88EJ2GlDwZKkEF7wTCUo4oQE8GshwQJfGOHBDCCkImEL/CBugS3AOKLyjIDz5rVdJDgEKWE4IZxksSBU4fHzQERGMEkEIJpPzARV4qqxGDGfk5zI8QMgAKSUMiCDFBiYYMcLQOqvxRBD4HYQCDk700PTVWGet9dbPXNBFACcwQcTYTJxAxhT3JMKAEUrAeIASN2jMdSFUnIDjSickYIgCErjtkQQ5zK2IBEDdvdIPVRaSQ9t+KwGL4Ik8MMAOhqe0AxhyC+IA05Ar0kAaJ5i0kg4n+GB156inrvrqcEUhRpg/HGAMA1aYkOVWmHK+KQVi0uXFKCJsoKWWJgCkcwq91yXBKBZgOXwEGyxwtQM+JE8WGKyXogAQvWsgcvbgh0+J/wgd7IkACEuEZJQDGRB6GAcXqJ/hCH2Z/5ezPD1QaGID0zgECPUDQQdYgD/HkKABCEwgCXImigpYYAUrgEHm5rYCRjXKUf0TXykWkMAESk+DIAxh50RABQNMoQseSIKmREgJC4QBVZsoghO8kDYWRkILMNyNFGwIiR7sileeMNLqACWKG+QQVBO4giQYsIQmUIALW5iCCT7Ioyd8AAqymkENZMUDbC1CAT8EYgn85AgtDMAH1QiCBsLgxdaMoF7kgoIEJliIKzgBiARwApkaAYMSsKtbGoiZgUYwrmXV4AsMbMQKunDEUE0hg4pgwBb+2C4fIMBAzSEXK6IzCQVUIf8MsvpAFcj4CAVwq10DeEEKDJSAQi6rC5BsCAnAgEpvLY8+GEhBKjQJBSuMBAu8QGUQJlBD+lwBCrNSBgVCALGRSMEHp6SGBnxFoxUYIQsfCIEHqpCDRPLECgQQDg2CEATjDCAKbeRhLCAQA2+q8500esABG8ABd2YjBiu4QDqb5gAeaAAHQBCCQIUABBy8QG+zM8IHPuCBFDh0oRH4VcEk0LKPCQEH2CBFA2hWMwOgDGszSNDPEvKBUXCgoR01QAo+cDqVacEgIwXa4yjhgpJ1NASX1NkBKhrTI2wgSU2oWEcd2kyDucBnMRVCS1vYBHGYrKEcwNpOY4qDn5aCA1X/WKhWQ6CerX0OpvpRAQ1WCE9FXCAFGlCBCo5wBLUOQAn7LKtc50rXutr1rnj1ho+cEKQhFUkSugNfA9AQuqCQznSKiMlNajITCUhBfqzDABgKdzcy/KAE6HoC49zmuPBhIAiUq9xJmFAGb7bIbx2REfhsJFoU7VEQfEMtRwAHPsK1FiWIK0RGXOS2FoAEfCMQXWt1QIalCmJtm/WIEq5Ax7klwW6tPYEgEcEBDiUhAiAS4RBQcCMcMUEIK8rrIBYJNrERYQdlM0MYiineQ1QEsu2Nr3znS9/6YugJJThBWX7AhTfNtwDW404xGOCCS20AaRFIX9aGoCbrAYAIUR2F/wJMMDysmMAFV7OADhwsFhzEQBQXEF6FsbKB702Uw2NJgihIIOIRb4CUBcsCisUiu1YhoMVa2oAWmuulEbwOxT8IbyU4kADbYQl6ERBi08CE4gYZAwOckajKbIAD66GgqHm9ABR+XJYTFKCA9MXAARVAgsDa98wYIiKaB+GAHgDwLwME81FiYIELXCADZm6Nnux3Pv8eZVD7OxSP6Mdnv8h5Ivrb32HY6yC+FHoJUn5IYRS9mCPZoHx7Qh98IQEDG4xgBCJg9CTahxj4RZo+GVgSC+iUZ7Pm4II5wHKrNJgBC16wAaIWb60v6KhDt/cCr25UrNesBgiQYAhDIEFciQbN7GZHKhAAIfkECQAAagAsAAAAAJYAlgBAB/+AaoKDhIWGh4iJiouMjY6PkJGSk5SHSBQFmZqbmRQulaChoo09HykGqKmpH1UOkUMFM5yaNQUikBU1JQS8vb68Ex2jw5URIaqqHh63xJVaTr/RMl0VzdbX2Nnaj0MSB9/g4RIK2+WjEhoD6uvs7Bobwy4t3uASEkuu5vqgCC9B7e2CBMmxr6DBgwgTKrQGYYiJBBAjRjQxYqFFSl5UCNjIsaNHFSlgIIrBIsEGExsSsIBwseWkJ0JQeJwps4HLmzhz6hwFoQcLFiKqXSPRAYHRo0Y7MNu5TwaTAFCjSp0a4AcFYhVIjBhhIwbThDnMEKFKdQcQEl+/iuhiBoBbtyf/gtzIl/YRgxENFOjdq6DBhYtb3goeTBiAmKV1D0LgsKCxYw4sI0UpTFmIhcSYM2tmZMFEGAqgKYTZkGHzRQYccjwREVkShhSyZnGaYeCBpAYGuEzYXWJGAq+mES3wgKy4gQ8mLkaREa05gSKIg0sX9GAIiBtaXJT+esFFhw5IFtCdbu1CDQ3/2tHQEKZ1qBstwsk/0MIEA/KiKnChAbD/gBdX4UceAyuMoMAC9wmo4DYQkDAECe4teFAEQMg000YVGoFID1akJJFEEYAgoT4MTADEhSgCUYRNI2YGgQsJJHGDCxG2aCMlDEAAgW03VoKBDCeQNdUJYyQYygggIIUU/wgs9tgIAzTsIKSQTJTgZFoXJOBBDbQZsUJaFViwAgxGtoSEGJRRtsWCF+TAl1558biQBGnWKQQGV4KymGOP1RgJBEvwEN8NJIyX56GIJiqhDV3UIlsNXaClaEsPGBCbbJrQJuekjjBwxQcenGJACimE0MQQkrCACaaaUMBCJAdA45wMW9igIARZiGocKiFIMckFPDRKARQUTEHFl5HwMIFzvxQxxnbk8fDBrqtUZBECyzLbiwwhGDodA0t88UEI5KZABQc5YdDCBLv4UsQEFFjL6bz0XgRDBxKkkAUPCPgZCgRJ0CMOD8jWS0gW6fi3jgZViMJABPHNFw4Pm84LQf8J6Sm8Dg1bVCxJBlhIHM5fBgtyhQ8as+PDq83EsMIF/pYsiBQTaEBDekG8oEEJLMvs889ABy00KBc0EQQKKiQNBBgtFJxIBleYEEFEEZhww2VDM/JACUeg+NEY3rqgxdQfUm2Ex1kPksEAFnrdEQpnWGEIA1J4+OEGWuCZdiIIaOR2R0DIvTc2HbyAQ9sboYADDQgM7vjjkEeuEwReBHACETpApcMOJ5jRhN7DAFrUUSBYAW3JJOCQ+ZRSEYHC6ZM4gISSSrKAtqIWoDAW61MRkYZQoIgwOlIdyFsyCFLyHpUOOjQpOSgdHHHC6q2fIAASz2efUBh1vqWC8fgxMET/Xns10ADWFimAZveEzSBgBeS/2ZekC03APmVPKMgACX2Z34NIoWCABRbAAcZYoEyOKMH9BCMGgqTNARfgE58u4K1G8GAHdZrAAiInQAIaEIHaC6EI95aBESwBAQ2A3QhB0QMvQOFSsYCCF1C1Qko8oAmrwhQFsnC7GioCCzlkFQWw4ENcfACGmJqBB4AXiQsgQQoI6AHobNSAFnjgA6BqQgLQB4kDBFGHRIQEA5IggwkUwRclcEKkRnSFEOgqGQZAFyRe4ygdGmCKjOhAtpglAy/gUTpJmBa1jhOdRjRgCl8sABTCQA5IsGCP2pKBBwQ0nEGi4gPwoIQFGoCADjyB/4uQWI623GUr8sAgV5b8gBYuUgVIMstZoAyOAtxILQ8cAISKoUC7tOUEDSmoAkkIAXFSkQJTOM8iDlCCrJojAy7QcEQVGIILrOACCu7EASwIQwl2s5st8CCWRQynOMdJTkNUgAoT8IEGXqDOF5QgAj2kRAykMA97SKAFRgDgz2AAhYT5RwNTiKddbiAw+UhgA7jkVA8yprEggGGDoZBCQecjgRvIjAE1eEHK1vGCMITiASaImMgOwAMmzgsGE2CoxmgwBpOmaqIGFZHMQqDRjQ7AB1kYRQ5g+g0l9KxkECgCf1IGIIFCYgFGEFQLqnAF+gHNBD4YKkBoQINVltMRK//gwRicMACHQsEE+ryqWMdK1rKa9axoJQYEnqAFKiTABS5N68wMhzgBKI5xjIBASU6SkiXE7HEuQEFdaSKAYw6CbnaTyAaM8MfHdcBvf8PQEgzBocR+KETZY4AMThRZDK2oEGIjW9kSEIGzPW9tg/Ua3AQ3CAiI4CGjTQBFtBcCyEZWBR4I6yBgEDXRVu1qIWRAEbp2Wy5UkBANetBfI3eDCnktQ3IlRNEGAISkqQAIA4iC06LL3e5697vgDS95FNCFNGxOShoIQSHRugIwiIF6U9GBGEqw3EhUwCdGWcII4lqvJgRJeZYLYwCRkCQlgYAFjeWUBP4L4KokJxRPKDD/7RDgguMmqgJo2F2DdzAAoy7CBRM+CgsSmigYCEHDAN7BC/j7CBiEGAEg2C69psBgAJ+gCcMgAYxBwGMEiMDCk3JAGX5ABhuvKa03IELyhCQl1sqVA2FQwQ9+wAQmTBkIHgCneMMJASvwIAtKuMEzvXsAJtSpDHJMaxYWCAAUyHg6D7CB+cw3AhUqxAlsdosY8kfJ+JVPAQkuiBLy/BYUsBgz8JMfnJyaEPsR2i18/hZeFN2ANxskMI8+QSkHJAI/m8/OrolBDAKtiBGsL88FGBEGMmABCJDYLhdgzGNWAORDPOEEeQ7Q3lYgQcdYehEhuN8RevA4Xvd6Ab9mBJRxITCYE5zBCLUGmgNWIOvGcIDWW1bDAypQAQ9n+9vg7lEgAAAh+QQJAABqACwAAAAAlgCWAEAH/4BqgoOEhYaHiImKi4yNjo+QkZKTlIcMVR8GmpucH1UOlaGio40OWhIHqaqqLQuTHSEpnJoeISCSSFAFu7y9BRRZDKTDlRk8qKupSlbEog9RFL6+FDnN1tfY2dqQDiAbCeDh4BsdwtvnoxlbRQTt7u/tJTUVww8uESYbGyYRLBjoAElJcAIPnhMqARMqXMiwoUNs9kAgmEgRAQgW5h5qlETizICPIEOKBINEUYUhLli4GBJjo8tKLTSInKmhysubOHPq3JmIQY8GCoIKbTAiI090SFAIWMq0qdOlIpoxqFDB6FGFEnA8dSpExYarVy/w4KJBCBowH1iAnRSDw4K3cP8XXABFKUOSEkJ06BBAIEkGSCIC6AhAuLDhwwF+fFgbUAuAx5AjS5YshVGFCScQH96h4xZjhVMmi4bs5bNpRxkQHGtBBcHf0y8ZPBD1JNOs2yGqTRqS4EuKJlVY0IOtSAqyZKtaXNgoYoa05xRsEp+O6EGM4WAxZMjwj/q2EQUmlGBHoIiMCWFsEFvwTZz7Deq9k+owoaB9AhNKyt/Pv39ABwzQ5V9DDzShQRAzDRCEBlFYRcgFElVUEQgWDAgQCD4kqOELPFgIGwMxOOjhiCQ+NIIGR2zFlAoDuEIKBgoAJdRQ2JXIiBEpqrgVEC7YeNUDHCgwwgICXlXkTSGIoRn/YjsA4eJ+DFwQ11scQCBJAaONNoVlGhCx5JI/JOAjJI5laWYHk2AAQQxHjjkKDBFwkYYKKmgwRgRWuqnnnuggEIIHt9XCDJ8vPRHCbbg9QagkENwggQQtRCoBFrpFwgAWgCKqyQdYiKhIBinoIk0NFCDgHxLHIZcKDy1NYkEHVXwhAQ8dvBaJBV08Jw0FN/DHQarISdDrRgw0UYOuvVDQwIAPNHBFEjyYAMKTOFkgAQUUzKBtDVCEscSi4IbrEgMWiEACDNpwcMMGEbQbAbtRiVuIBVCUcF87MhSQpygktOdeOBv0IK8gV9R37zsTmDpKAyb8C44Jig6sxgNh2Hsw/34ptCnxOaZQMMEEMpwnwwyebWzyySinrDIjFkQQwhb2epFAhY1cYEWEFiFA7cqJuPCChiK9UGkhIuAsIQIdkMBzIhtkCLRIPmSBiAVGU0Th0ok4MMXPT3/kQwg1Yj2MAwk4ocELNARBwwsayHCF2HDHLffcD1lgIJ1HHEHnCy202kwGIzQgOFA0b9yCVjo2hYOYo1gg44xBNbCCxIcn/tQREZDCwBA5yCj4ELNJ7AAFKli+4mJ0j8KDBjgAIcTrQgCBwwvDpm57QBaUcIKXmv1ghhEWYrCAW1RmoDFDU2T25WE6qLDzdBlMGVfokEBQgpmPFbGvIi7ssLxmTEDhH/8DMKxwgQV+Q3I99pMVwUgDen1f2AlhoNwE+6NF4cgDEgBxwg87IAIRdrC7IghsZQTAn2S4cLtJVCCB2BtD2BpIQZ5ggARE4UB3KjgKFzThTx4IYQia0CMOUmIIH5AFolLggXiZ8BEL8IAKNcXC570wEUuwjaY2pZZQBMhHDrBBB/BxAxagaxIcyNQOa8ioKnCrBjMgFRQ+EDH/xCAJwFJGCSMxghTS8AMHfAQDlBANXUVxBP25QAtUpQoJAG8SSzAACEXYhB5CggFROBaydkEBNO6nA1lMhnJC4YAKbHASzdkjL6LDHxYEchVV2F5DVpArRf6CcfJxgKPYeAAJxGf/IwgQFbJqkIJDymcFG1ACpA7QAkgtwVMNuUAIyuiLGVBACyViAAZg+ZIcYCEFH/BAFIxgqxsa85jITKYaYnCFEHCBHVvwgBRMOQwYIOEK4LgCCwpnsgYQQAb3kcEWXNi4dv2rXcvZGBYMdrAJmIAUGTCnwxKwgXTKCwnsvFgJFDAKEfjLYRvg58ASkM92okkUFbhCBOa50PSFawgWu1gRuGBDSTAAAfwQBz46QL2BLaGgBTHPspphAQWwgAWSUxkGlOCEiLqjBBM4AC+VSYgYLCEJSvgCFYRD05769KdADapQhxoJB8Sgo0QlhAMiYDa0qY1tE6jdIk6SkpU4NHUx/+maBrDwqaNNBASTS53WuNY1H3hhgmpYQdUmxM24YahrIeHQIYrm1YkkLXVNgytIonaIiHj1IjNVWUf0+hEwbNEQNsOZRCoKN5/plQYjXQSAjkc3BmThQAmiAYMCS9OWeYEAJeCCF25QzKSa9rSoTa1qV3uaBVwhBVBsghTaStQGnAEHSnEKCnAgg08S4wErIAEJLkBNeUGgDDlKnArGUNxJwEBwMxIcbcEVgzPk1nRAKAFnFwGBx0GuAUeUVxJKZzqmHOGgociAd6M7XUJhAXHlFcARpFoJEuQAcjHyrbhIgAYhxBcFLyhtJaIUuAxu100ucJ3plELOnzLgA7hVEf8KVCAB1JJACRPQwFI0UAQstJe1NyQfWpP6ACUc4QRMCOAAC+jHocbACcr7kgArMyDymQ99OIHfYOQXgBNsiT9Rkl6VXgQBCDR3ETHoEo8L84PM7Sd60nsLUh3BgMONBgcHoGwhurfkwjBhC/xpS5TnEokKnEGBYDjyIAKz4yX/IAT9wcAFiDc840UCCQqMzGEREYYYy6959vSPlhVxgR3kGTI7CDQiPODnL+0ABYwFlwQOHZkWNCIDRdgdmHDwRpRNmtKP4eojLMCDMbxAAGgogwf0s7ILEAHUOvjwDV1AaTEMracYcIICnaBmZfLgCKNBAUJSiwEXUCELWUjCE6YETJxAAAAh+QQJAABqACwAAAAAlgCWAEAH/4BqgoOEhYaHiImKi4yNjo+QkZKTlIgcEgeZmpsSHJWfoKGPEDcRCaeoCSZIlBg3SpuZSjcYkgxVHwa6u7spHyKiwaAiERupESZStcKgNikevLwhCczV1tfY2ZIQCN3e3iAr2uPCRlAF6Onq6FBLzBU9S91LCjHk98ErIRTr6RRNEPAJHEiwoMGD1xxAaKCgoUMFOTIgnPiJxwQCGDNqzDghCTBFD2BYgPGAoslPMKZc3MgxTMCTMGPKnEkzUQUOC3Lq5PCypsAQLwYIHUqUqI8mPpNSgkBBQ9GiGqaUNMngxgAmALJmxVHgo0wMDW7wSILgglJHNk5oXcu2LYAtkf8ejIggQUKEEQwkpVAhoK/fv4CFaCBxFpEFAW4TR2kkg0mAx5AjSw7AZIKjES/4AvYrBIeBwgUz+HA8OTIZJmnEgV7tCAOHEQpILGNNWxEDEy1ixWphIi8lGD1cNOAwtXaiDAlMpUq1wcpJE7miRUuRYoHx69izD8yRgoL371l6VMsB4pt5JA60h3rgYUa/fjW+qJ9Pv779+4MseJhQYmOJCVHAoEgMNjD0UEMNeIUfNg6E0R9LLMnwgRQLVmjhhRiKEsELNDwlFIcdMAMDTjrlxIEFGTLCQA1BefjUC1OkKGMwWySWmBisHJQBGEdsthkOSVyHgRA2FikBIyukQVr/aZChhiIjN2jm42ZATOCbehwYgYUSSbBQgSSNMclkZTPC5EAPV1SBxRU9pFfmm3CK8oARSuSmSQtKGFFcnAY5sIGdumXC25V8MmIBAshssMEVDRAKCQmYBJqJBIRJ0kMTIaTQiwch3OAodhhcodxyp5jQwCcVkNBADiJ8SYkUIUg3XRQ9ZceCMaSesoFZJo0Qnay6fEDFfQysMMQIItQqEwdUGBDCsx58scSnhVZrbXYkIADCtuWJ4Oa1aiBwznsFzEBBDsK4YJ55LOwZZwwfuEduOjU0Qa0tSJS37hKuWpsDP/OiM4OC4N6DAQJZdDHDDFN8gcS9BUcs8cQUF4xB/w8gGIHAEO4q4sAFCjQgsgIXfFuxIhI4AaFGThyQiAU9GHhgA3idjEgFFDy4ckYlFBCkJTnIvGqlNiMygs47E1AEwUUHE2oB/zkhQ896Nm311VhnTVAGVGxRhlBl1BCBssJAcEFOF0BgcrUQFNGiix9SADEkDqxQYokXzJ0iDBMEAXdRNIzRLygYXEAiBxcMXu0Ifv8tVBBgEK11JRgkMYEPGrzwggY+lJBAx5NfOIIKRWoVo0k9yIADEIGpgMIBa9NWQOluiTGCQRdogMKUP8pXWw60J+aEIyKUccIOOkSmww4nlMF0IjP0yPtmKDxh3BNiBL+WDIyMEEDyYipPhv94jGSBw/R+oaCBJ9mtIEORRAzbCAxoEBH+ZESgIZEjFSThBApHUMERjhAVBZxsCGYA3/2+R4bbhW4SNpjACZigwO8x4QQTsMEDN8jBajHgCVRoQV1aQIUn6K2Di+gALAKlhBChUBIdiJSkJODCF7YmCYCSVBJmYzMHwIAEIkjcJ2IoqUlRaBIWSEATPPCBD3igBQ2InXY4kIANjAoZCABdI6SwQt0o4YiR4IABoCGrEBihPi4wQa6SE4En4YsHdakLD5CgxUWI4FfA+sDPtIOcUZFqA+4wCXSA1YsU8Co7rvDjcjaALpMYAY+ySkEWBKQeC0RAkaViAUwYcABI8sL/Fw6kzwWkoChFJcAFPDxJA3yhKV08IwQ7tCEl6paDJSBhCKmUpS53yUtZgiUBVeDBDWqGjVSNYAQ2sMfEjECBGsCnBs5hhg06sK4OhNJaFpiCvMhVAw8orhIj0Ne6QNBIa0XBmQErAAWqIAoHIGFd31hCLt8EgRBsc14z8MAJG0ECasKzA0MA1wEAFjAKRKBsLPBnN0Bghf1dywFKIOh7oMCDazwAAhCY57UukAUooBMdNYCCEhzay0YwwAJDEEEG9lnSlrr0pTCNqUxnStO4GKEL/5kAf7rQAZaqISQjqePVIKCSnTnBC8pMBAeC5pChPfBoScvI0hBBIJk9JEGT/3OAF5C2MwmBkRAws2pTiYm1GOQsqhjp2R4JoRCxIoikWKvCSqI6ASo8bxArGIHIGFKyDSpBZUlzQgtqqgZ9OIGrJXCCB9xIWDVUYARSuIEVevDNxlr2spjNrGY3exIGXGAEPegrZhEgAw3QoHFB2FwRXMAgBjxAitVawmn/1iEDCiMDJDIRY6t1BR84bigvCGQoLHA3naimWhXgQod+O4AXUCAfxUUbbGcEgRI07rc02IJQH+HZ6G5XRhJwCnM1sNZQOCAGGbAABHyaoiyI928acBlNVzADDVx3KDTQgBfINtMMaEECTpQACPjL2ZqQIAFfyMIBlpBUwnKgDEVigv98T9K//6kAByoAQgHnswIUaA8ASJlIA3wgPR915jPYccGHtWKZgzThfOgTgPokt5oKEGnFWTlSQaIU4/Q54bszeQKOtVKGR2DABAPQARN+8AMKDsAEQB5E9HrcFyEIoZyrEYFahgyFRjQABT8I3w9QYFtGGEBKMRYMjUEzOxyf4JqI6MIJFviYE5xuEQvwwe56jAPfGYcCKz4BaxfxhTnTuc6LYcSOSsw7IGlnCB6mXQgaUQEf7ODQjyGCBhqsiCGUYHWtE8IB2KsUKYABK2tRQRgOyYhKXxrTRPABpxkBlhskwQRWOG7FCo3pAJwgCzENg6EXeIIuzHQEQgizmH4XIIQyz/QBEQADGU7A5BOQAQyfK3B9AgEAIfkECQAAagAsAAAAAJYAlgBAB/+AaoKDhIWGh4iJiouMjY6PkJGSk5SJLCYJmZqZJiyVn6ChkSQdCKanICwVlRZGJhGwESZGFpQcLQe5uroSWqK/oQ49ICCnHVa1wKJWSru8PBnK0tPU1daTHDkK29wNNtfgyhVfHgbm5+geLQ/SDyskJBcY4fTKDR4f6AYp+T31/wADChxI8JoFDgsSJuSQrKDDShmmFJhIseLEGWEaLnLwsKOoBgVqWJxIocsIjyhTVrLBY4aMCRRanFRJU9oTADhz6ty501dNcENKEBhKtCjRIlw4fCLAs2nOIOx+0hvBRYZRojK2fEu5JMQZAUI0cKmyQqqaBxBWmY0U5keAt3D/48oNoIOMiEkMMmSIKokDmAGAAwserKHF2kUIiOyYK1cMAb6KXAARQLmy5csCjix5dIPGi8GAg2iYEe3wQCsoUGC2jAIICNOwJUEQkePJEAixcz+ygWmTbxN3QTHgqNvRiGKnkpuC4fECLmfOJEgpTr26dYcKeGTxkCJKkpnKIDTgRl5Bg9LXRT0Joa+9gQ/g08ufT7++/UMimlCgMGNGjf1NbKXIAwoVmNA894XjAgUjNUjBEwlGKOGECTjllBITOoKBEk4IZVQJE2DBwCdSWGgiADxkmIgLE1zlIgElxPcJSEKIkdMRFHii4n0kqLAYY4158BAILwQBmmAaFACZ/24mnAAkkDv4oNYiUgCh2mqUoXCEEY4wsAUNRx7pAwL3VRDDko88cSWWmAGh444qQaAACywogBuceOYZDgwdmLABLBuY0MGdenpkwwa+/SZgoZFA0IMLSOTAwYiVLIFooglsYEUlOWAhgQQttPDpFYTORwJyypmyBJqSYIBgJTFUAV10SNAXQ6qoKJDSDRLMqksLSiXIwAPESXUBCBvwQMUNDVDK6LPQ7sjABSM00MAICzgbLSEMJMFeeymEEEGxocAwXnnbNFDWtoKw8K1753wA4S/inZtuAxpt60AS+cBrQAgJsFsQAz10EMEGUpAg8MIMN+zww5M8UIG2jjgAwf8KF6wAAcUQK7JCGCI1GJIX6B0SA0IGLsBBqR0f0gGDIldEQQeKMLACyipfwHHLhvAAc8wUJMHzNRiwcEC4KRzAwqtDN+300wFhsYOJYhjgMARWaJcFD6r80sSJTVEQrRUtvohVDpVUAbZTITwbQdlmEzUBzZRMsPZOaewMJxZwm+3EBqHYkAbYKswrcAVahDDGUGN80AGrUOOZgBluMUbECSWU7BASY/jgAw1BeKbBABLEkB4JOOjw5FwntE0QD6OHKVgQMrAcGxdMrM7YDmg78kQJKqhgZWvBy1DrIwoYKftgL6RgXRcnkKH7W6r7w0gWOLB5GQ7ON5KBDGAuP4D/BoDL1wMXlzOxg2I/nCDEAXofkoQK2mOmQhWRYIBACltwwUUBPFgUxJSQvfpRBgdZiJwoFLAFIAgvNQ4Ewhh0pcAKWrBlDBDBEjqgBSuIIH4XjEQMjHCpTWzACKYLYSUgkIAIYKqFCbCdCh3Rg9680ATWgxq5KAEDWLwQFszhIRJu8KcOiGCH9LEBApADgg4gQYaOgAARE7WBGwRREi5oBnQkYIIUzqcCVsDVEmWUvxF0wAhG6MAImBYJI/TKVwdowQXocxwxLqc5z4GjBOgmHxugKlVWYCNBICArOB5AAm+SjwhKAUgvdoQEb5yVBIyAxPRYoAFIYIELRDCllDiA/wWies6nNpCvGVZiWJAzpSpXycpWMgIGC7iAI6vBgApMrGMYiEAIPpCCXvLjAzdIJSUymINzWasHwiyUu/z1L8OFAgPmQZd5ZgmtIfCSmSnwQLBCkQF7lacBcxSYFd7lrw8cLxg98Ga6RpBMPF2gl9hswhVFkYFqWWs8pdzWArIJLw80IZ+uRIQIDvCBgn4gBB7gwTYDytCGOvShEI2oRCdKUdhgAAlYMIAHolAFF7TTEJW0oAIK8DOZdSGHibAZzjigsxBSAQoxmwgUTDCglClEkE57QkmB1juT4axAK7Pgy2JKkZkp4iAGYsgFLdAFok5kCgAdhMUwpjEQNm0FU/+YQcxqkJGKDmIIKdhPf2YAoOB41RAYiAFOz8rWtrr1rXDN0wjGwASenEAGLjjr19ZWgIU5wAgUmMAEZPCSCdSAj5+wgBnuhpMfoLRQDmiBE+LmBCp8AgMoYGxOdBDVDD0gDB6Kmww8EFJGRECzOvnCszrQt7hNIJGQoAJqcyIkRl2htWabAJkmsYC6olYMDXhWBrZQhLgNpQQ16GQkQDBboUHLAhQIrYtk0AUoPsICQribGcwarRFMYbDFJUARXuIFAX4iAzU4gYUIoDCHOSAD8MhAaUVRARFAqgfWjaskYgCDj0JUAQS43PqIQAQmnAAFB/BvPSrQAQ9AoQT/q4L/ea1jhPXp7gQTUO5AEuCZMGmgBp01TQGcND26BICM/7DABMK3PA3QtDpJIHGJAxAlDdPDSywWnw9eQx3czRguO3AmIx4AgjBMADATCMPjItEA5YkPMC+obXHa8mO6kGHCh4iAlrB0BBSUrxF+cbL4ClMdDqTux61rxAVesCY2oUADC3AEFWInPhrUzjokAMKPLtyERkAgCG3WHgpoME9FIKBILZ6CgqWiBRVUbi6X20J+CXED+hmwMip4sSNcsAXP0eDTL9DAGSRg4+u4wAATeEEaBgCFJITYEJW+NKa/HAkGxKDUDovBAALt5iBMepUWCMJk6geEF4RzoloQgKXtFieAK7T1k00gABjAQIAmsGC++q1OIAAAIfkECQAAagAsAAAAAJYAlgBAB/+AaoKDhIWGh4iJiouMjY6PkJGSk5SJFVYImZqaMZWen6CRDCI5DQqnDQ0WnyssIB0dICwXni4mCbi5CREJEKG/oQ8kqakjGcDAFR0mvLkbESLI0tPU1daUDBcL29wLD9fg0goSB+Xm5xLR0w4PDw7h8NIMCBLk5hItSPH7/P2PKx0ONGlhhJa/gwgLuRgDoKHDhxAflkhIUVKHEAYyatxoIASCCoVMRBz5sEXFk5FAfPiQQmOKDx4QoJxJ8xMGGzme2ABZsye1GT8CCB1KtGiAHRN8xqtCoYDTp1CdUojwyYaKHUaNEtGhT+k+IxRqRC1Qo4YVnxdAUKkSIQdPr3D/K5HQIESA3bt486rwkLDKBAKAAwsOXGTMqriLouBAkRevihcjHnl5MaCy5cuXX0yB9ADLBBlFBJdwUqMHYopfNGDGrOHL6dewY/Nz4GKTbQRI3snmV8HUqd+obNBcskGXcV7HditfzjyhgwVIOiB4cniahW7dVjRHxsBEi3PgD7RIsL28+fPTGJKMKIMB+n0jsHhYGSIFD3UhNazfj+Lte2kOVOEBRwR6wINwiDSwhQ4QEUGAC/9FKKFsUIiRVVEnlOHfhIxYEAUUTT1FAQUt+PJJCUxceOEOPrjHoSJRiDVWVBQcgMwFEXixxRhhJIHgixImgUNdjeF1xBnVIeSA/xJODCaYDFwM0RwDEwBR5JUq3OCIA02otpplGjShWyNL/OWkkzJ8MCaQj4RA2ZerveAFm3TWaeedjGRQGwh8upAknhXRdtsmLqwJKCQYwGABBC5WEsOgmpg4CQMKXLHBpREg8Gd5DIzgG3AKNGAQSg3cYlwuEVyBAXoLfPqbKRtStEIEzZy6AQuH0hSDDSMMsUKjuQYrrIQOxJBBBjEAO+wgFlBhDzpJSPrLCthxc4GhuWJARXjgtRCBsp9kwEE3HGwq7ALfcWtOcsse5AAEC6zQSbv01mvvixh4IcZ+BcR67y8QoLDfSGaY+68gS9RHoAEphAAhIVEcMTBJO8BwcP8hFSgx4MIaeSBBA4MwcMPEI/FwsSEWNNESxx40wS4hGMhAMhjSnnwIAwvkwIIC19rs889AJ/RAFGacsIMOQulAxAk6hFDzsg5kYIMNMGBbCQwCYKUiUTrg8COgDkgQ4owFQGFyJRX4QMTWRukAxKh3QhDCDGRDNYMH4D7SgA5Isz0UE1IEa8EUdNddwwf+SmKFEEy3fQIOWtaLgQIRYIHFDT18E3SwAQqhApF3oYCDDFLSxEIIJUygugxQUGFxeUrgcGVjKGiwQEIxUFDCmYNNoAVzDQgB+ux3HTFDJC5McYYGPvigWhcPQxKFDLw7WcTXsnGgAWPE24VDE45YMEH/EHBeFoQT2jkihZnVyzBF4rsNEcYLR9R/hBATmAD/IRWUQH755ivBvCDBABK4ABYN2F+7MiADGgCwMjSYwMs25wkFhAAML2geDcrQhMhQ8IMgtBkDLEACG6xAcyH8xQUQAIJN8AluKaTEEKQzqA6YJobYYAGkMrGEvOGwET1o4aBA4MFKYOACIiDB6yTEAA6EKhU9mKAkFiBEF5KgEg9AADNQ9QwO/OcCOQBVqBSwKk+MkAQksIAPw0erU+HCBF0xT2/EiIorzoQ4bsQFcs7TKVe9CoYUyUFx8hiBGygwNgwYQhhf1YD0DcdUx4mAFOWYgRXAYI0VeYALEnCpS3UA/5A/DKUoR0nKUpryNRAwQgvqUY8DdGCAyDgiB8bFgQuUkV4M2MCzwCOBK1jtauPCDgcmmasb7DI8EgjcLxxArWot4AKYtFMFeKAuc7TABCgERQWCSa6nBasDx+QlrqQBAW08s2r3WoIS1KWEJ5zyESK4QRXIwQMtePGd+MynPvfJz376ExxP4AIRILKDEozznxWYAMkGsMQPNjEHS8hBzxJBBZKV5IMdgMlGXvIBmRQCAxGwKESqELSUrWxhLXuZCfQjUocA4ZBQExDHOnagQUSspQ4hQkMvVoEvbGymHgOZIJ6wBZw2pAhBu8hMM+IR/8RACDg1AzEPdrqTbjQEcf8sBBREWoJoHqwH8gnBSjxQBfwgAgMh2BdJxDCFW/5TEBYAARa+cAApgPKteM2rXvfKV+aIwAMvIMMOdkAGDYRBAXmNARcalxUdiAEMjhzWA5YQBcIVYAoSKNQveHACvwnlBAYY1go+MLaoQKEJsJzEBoLi2c8qIVg5KC3ZalC6SYFBa60lggBSW6cHeKBwdSNLFH7JCAzQALeeJQIKDAakGHwAuHWbgQG8mogsdLa1AfjB8XJlBCgE1ylQOIsntnBdvzEBDNTlEAK8S7YZUCAHoejAUbZGhB2YgF45SMGI9kuBDkrjAiFQwQ9+wAQm/OAEZqCAWfvK4AZXowdT0AD/EHCAAxWgoAxJgGk/GGADK9xACw3wZnMM8LnZHcEHQq0IBg7wmcEUgTRFZM5cuNc9HISWIuurHmDcp2GfUMlK3btLlhJiBfbpOE3EjUsOhBfk4m0XEg4gwTJM0AESJLm61NMxYRYMm7kMr3sqSMEjHiCBF7wpMy+QQDYZwQMjV68wzEWMBGTX5Nrd1RAR8BIANbCBR8SgBrvT8gSUyZwNlJh4RyjDVAuR5weCiSpbkkCTeCeDMXB5OTzwHI3tMuESXBoRDOCCAx09ABoQYM2McMEHCKC6zxQgAjs9jwWWEIEkGGEEqGZEqEftaFPn2pQ30PMDNUCefl5B2HDSQOT8HsmAKtDAB5gJgg9oUIX0nrICLqBCFCTQll87uDmBAAAh+QQJAABqACwAAAAAlgCWAEAH/4BqgoOEhYaHiImKi4yNjo+QkZKTlIorOQqZmjkXlZ6foJMYFxwLphwZoRkiIyMiqZ4VSyAItbYdNqG6uw8ZFxcrMbvDajAsHbYgID0OxLoVJA0NNsLO1tfYiQtMAN3e3+DfOdnknwxSGwnq6+obCM2eKwHh9N4/I+X5sSwRJhsbJiK4eKCvoMGDkSpAqICwocNEIszoCECxosWLAYg0eMhRUgUeLQ6IHDmyBRUMhh7I+EEGI8YfZxh2nAmpghQJEkK2wNkBJc2fQIMKHWpIhICjSJMqPQqEBdF8F1KkMEC1qtUUTWCASoJDyFKlOL48NYghQogPU6V++HCFwVOFPv/HyvV0QMOAu3jz6gVD4qGFLgUCCx4smMKNuYxgFNAQRO/dF0GuQOpRgoDly5gxl1AQKcOBGhRqzJhBAUoIF4g5wvgwoUhmy068wEpNu7ZtchkaaNqtoMHs2wUzmBpOnOBPCLaSJ+MMvLntFULqhSMjwrk1DDBgGA+1Qbp3AGKtexKRjp35DQt2jdjyI5wYGajFy59fewGaHy4tMkExhD5CEh1EkMQGHXCQiBH45ZcfE0n4R44NEpAkoUgt9KVID19MoIEQGjjRBHMOhigicCQEocJXSB2RxkYjSmIDFmutdRYPnYDiAhAooqiCZC0y0sMHVgVJVQoeWLgLAyuMkAP/Cdv12CIGizmWVxA+SEHTCh9QQFhgpHUgnxUvSCklDVs0ucgKXUzwmmUTFFCjIwxEUcOWW1KAj5OTULbmmiXcieefgAYqKCQQkDDEECRAMOhQMOjGWya+LQoKPKAsgAlvOaTnyQMkPMECEiP85l8MpRBnygWUzvTAEsolB0Iu/jFwgakLcKBoUCMg02ott0oa1ANu+SrsJxB0cYJ0Yxg4rEEdfEcPFcsKIkIEG0RgbT8JKOsJD87Wk8KwI5Rn3jomwEpJBUd0Cw4RKyzrggnjqmMCiJ8YoG4NqUar77789jssBCGYcQITOxCxAxMnkDGFBf6Sc0WCClp0QoMNK8LA/xVKTHiAEkYESwgPEEds0Q9RVIxIDhFqPJIE9KrBABhMiGzRDi/EZXIhSGSsshLxHdKDDydMhJEOJwgwzs2OOICBx0g37fTTNEGgxAsqqHDEEVVrkEK7UOtyw4k5JoXDAdEuYIAHQlLlQRYMe7LBEWEvhUMLwyIQQtpBftAzJSGAHbcAKlCQ76JW3I23ASE8sUsEPuAABApeCQGECmlgMbi+MJjSa9fLQvDFABq8QEMQNPjgAwFLDDUCFQZ84IESHWg1HwQl0CCmXhpg0ZEVUNA5WA1NmGmbAT7c7hgNR0OiABZTUEDBFFiwGIkIM/hOGAVViHeDXcYPQMMEbTdihP8Te2LmxGGPMPCFltbX0LJ4JJgwxRZcUNCEFTY7YoSa5WM2AfqUYADTmtYB/vXPCVrg3DAWEAEPTGEKHiiXAidIQahVIAMZqEYFFyiNDjZAUxv8xAN68yjdCC+EkFiBo0rINRROYoSP0kT+AvgnBsBgBSuwgEw84YBoeHBJl3sEBI5BCwQoozohkhWtbKULAYaiB7ralQbnIxxameKEDkHOrmoBgvdZBwKlMhWqgLKqLSKgA0j0TwVIMRwOWCCID5FFEZODRifB8ScYEIELPtWA8Lnwj4AMJCgUUAAhcAMAJwACBZAgyEeQ4AXOUoHiGpmIIqirGzTA4qIswIIrqOP/Ci6QHSiccElvoGGAi1pAtcYVgQSIShJSKOU3eDCsC4iLlRF4JSQOIEtvhGBYCrjluDaQxkk8oZfdSKCwIJCAVsYrAleYYSQ80MstRAsDHQgIO/qBAFROojuXLBm/LKCATylAl5/gwSHrIYZvUdIRIsACBSbgBAoowYvvzKc+98nPfipQBBKQwQtCJwMl9MCfhxABDYLmEqJpAJ8KfMAdBcGAIiRMZj8ogzSbhk2ctOCjOenACR0wgZjJjCI7oMFGTeYCnWlMCZMkhBZCdlImmKBrEFJZSYwkCJCddGTifBrKdCoSlhWiB2QQ2k810rWPENUkM0zACX4agBNkj3MM/7iBS0nCMW+qgQQCoClGmHAEP03QBuigggmkwNNEWGAKZBgYEea6g6nOAIQIPUQMLDDFvPr1r4ANrGAFtQItNKEAU/jCDbQFWBFMAAcoWAoKcBCEmO6LASKQgj9wMVFIPGAMfsvREcCwOWEpIAVAylsTihnAIuDobwJAwQBKOygHUCG1eAtBAj7RAbjB9igqoJivnmC4w7XOrJK4gW9/iwPdCYsFxT3cB5I3iQy8ILKw9Yq5JFWBL6DtcB5ogSbhGdu/Sc6yvmJAEkIwlSClIAQ36KwjvqAC7EoWByHwqq8UQIUseMADUUhCf5xxgYC+QABCSIMTDsDYwTr4wQYRQf8VCkCAEmzBA1roa1AYEIMdOsgCFOCeY0QXAaBYoAXOE80MagAFLzhlPhEQ8e2+10KHPCAK7PMdBaTXHAQUr3t3oQEXxkuOOM3JeoGxk3UMECYgB5m6kHAABCCgX0ZQD8mFoaVz6uLku/AFEjD4QgkmUIIiFGHMJYgCOt0KGCwXwDBfLILtgKwBLTcCAyEw4Jom4AUPM2IJvUMy8Ig8lwdMQcaOCcILEPAIDHShMv2r8Az8vAgLeCDQhCENCPyDgQOAIXQ0oMELTLcF9DKigJG+zASsJIkRmMC74QUBbR30gArIFxEg0HP/JuAlfxoa0v0rQRdWSkkGGIB85ZuABwgeTUkMUIEAE5BBCUogg9ZgYdZ+5UCAItCBtkLYQYEAACH5BAUAAGoALAAAAACWAJYAQAf/gGqCg4SFhoeIiYqLjI2Oj5CRkpOUig4rHAuaCxwrDpWgoaKNBQCmp6ippz9Dkw8QEBijFg0NCrcNOSIMo72USKrBqTK+oRYjtbUkD8XNzs/Q0ZBZJwHW19jZAT8F0t6jKyAI4+TkMKM81drrJ03f76IVI0vjLD2y8Pn6+/z9/s0QDKgQQLCgwYMqpvxbSKmHiQQQI0Y0MQTCoQYCUBzciAIFC4YgJ0GwEsGEyQQsLIZcybKly5eIovgYQLOmTZsvvMDMB0LCgZ9Ag0r4KApDFw03b/rYkmHnvgxXWkiYKqGFFpVOs2o1xqUIga9gw4KdwIOhkQ8G0qpdayBFFqxb/xONqDGhRNgiMiZgYQYJC4UCgAMLBkzhwKQLGwx8WOxBggtecf/18AJlxmAKYUZE3sy5swggwlJ5mLRik+kFKzq/cxG6NYAJDEnYukUbVwXVh0iAac2kBe5/HXTsWHeNyI4kvzczADOc+DoiAmIkD+XARbnrIJ40s5GCBpkdw31knk6+vGotKIBsLJg+gnl/EEiIIAHXUIMS6tevRzGB73tpIEQg0YAbINADIxAgEQEWG7DQ1H8QRpicFDS8kBRNNPiwgYSVkHAFDy0cwIMWF/jihYUXJkUDBZBxyMgNPgUlowRSuGgjPCKMIYNYYTnh20ojNBFCCmt5EMIG/v3mQP8IO/LI4wRLRKJAGFAMVgAFUzQgyRBoscXWB8jdSIlfVlpZmJhopqnmmo88UEEFSbIpiQNSlPFDKiqEUCIlpZ2mSWpyOkKBa6n8oCUkl2SyCQcXtFiJAxBYAAM+5IlwAqHBUMDQBbPVpkADIzjaWQUoYKqKBAxh8Kmnny5Q3gJHmApAFoEy5MAIEUSRRQsgPFirKBd8cMQPPzDBBLE4FEDCr/1soY5z1zABhqiBOiACAiBkK86yRdHQHLTYEIGCBb8ywMJ117kgSgQ/gJvNCUowqwYGLIiDHRJxVhIDF2LoQJwOYoABqLwEF2zwwQVbIMEZKKjgMBADZLEnwtI4MMb/QPoZdEQJ+VJsSAY3mCAgRCVdcY4hVjCcMUcD+OpxIQ8YMfKAJBuhbiFL5LdyQSrU+DIiGGixAc0JbKAFtYSA8AIOGhmEAg4aGPHz1FRXbXV5MJhAQRk0gbEFD+Re7QsDNcyUYk00FFFfoCwoISNQEhwKCgZj0HD2TUE4cXKgFfDwtowtmNAxJAuAEcTdaGvG7AMmxPi2BDcgTckDEZTggwY+vIC5E1XcJvbnv2ZABQV5TTBBESHc/BItSyAhwuC4GeGEk2KVUIN0CzFwQJdetvWB4r+J4BXtYsnwBSW0INDBE2FPYgLvvbeVwsS4VTBFk8RP0AEkGBjwV5mA1ZAC/6WOcOdB9CHcECEEDYCgBQs2SL5IBR5YBn5gM4SAO+iTZ/E9+BQwAPn4F4oMKEB5OWgeARfIwAY68BEMsAAnMmEB+b2MA1qoQguS4IL9UQICijINB9ZGsQtMoDU6CFMkHHABP2niAp94mQUEICtURQKEfhrhz1gjK1MQQBIRnOACKigKGPQgGQrggAXjQqoengILqVqVp3JAPdU8wYmnIMZCZMMq2yRHBGLAIgCgsKlO1QZUS9RKDbB4AuD9gxZmzMEQ0rgVLvRQDKoDCQNgsAILeO49DcABphTywEgwIAIvuBQqAjADERTykcVYwQ0+AIUtHIkDkJQEAlBwAiJoQ/8HJ8BBAjLJCBsc4VvOIYIOkHCwGNhgBCMgwR9F0QAd+Mtd1mDC9uQ1gg6gqwM2GEURmIDLa+zgBXR0UfvQNQ4QuHESFfCBJ4sZAB0AoYpresC5mDkOJMSwEjNoFzWZABtmDcGXzOwAt0ABAwFM0106wEEw5ZUBK9hrHB1ISS8cAAUxuOsEZZglwV4BAdiB4gFRwMEJdnBL4VTDCyQkpSIwYAMXuE6gEs2oRjfK0Y5CMgZPCNkNXBBRjwpiCQNg2kGe9oJdmlQQGGlaxjqSx89BgAVFM8EGbsACDxaCBTrbmQBU4NKrPUBoRNuAFKilgCIEdWf8MSjFQDA0ohXNQIX/QMAAZCpUFLRMbDGbGc0iYLNCwCAFGBPqUAkpNodYNQEUWRsDuJDWlR1BBgO0mgVusIGZlcxlhrgCEJ7qtCOYwIEwEMEIRFBSQ1ygCUEAgsNUcAQapACTL82sZjfL2c56dmoMuMAIFLCAZG4UCUXQwAsON4Ag0EADEwDBy2JwgRX4dBQNaO3dgvACKxTMASyYilBaoJ1RsABFiBuAD64grwv8LShY2FslaoBcxNGAABhVEwNMEKLnHqAF6gMFA7Zgt+S2VgaNvdED/Obd70bAtIjYAFLMqwEb/qoBjvubBFohCizM924acAfBVsCD/P5EAklILyQgEAYNlNcmQdAA/wWwySwHcIAFUugAEijcCwgggAdNaIwUAPvZEpt4H+zrgBGWQAL4SrQHdBkeWPJSBanuYwUmMEAIdtyYx5inAl3AHu0m4DOG2MAD5+tdCEY5HQaEwC7EG0uUFtID6PUOTNMRXpTDIoMoMOR50VNLCqaXHAt0ZctfIYskLECFKdSAAlDAEg8GBgktWNlLblFwVowwATTb7raKEEEBagA+y/AXgrsLcwo+cKBK6Yh4TjAMJJDwv/tRgCiQUICOiZSWFBgpAjbeDAySQDrTne4DxYXEAwxgv/sVYAbjQ14DkOACG4R6cax2NWBgndeNuqDSAMT0S23QBUKXidCO7GwGTA8QBgo4G0tJUOCJp22jQAAAOw==";
Pa='<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" viewBox="0 0 38.870663 65.01535" xml:space="preserve" width="38.870663" height="65.01535"><path d="m 19.614341,12.25 c -3.859,0 -7,3.141 -7,7 0,3.859 3.141,7 7,7 3.859,0 7,-3.141 7,-7 0,-3.859 -3.141,-7 -7,-7 z m 0,12 c -2.757,0 -5,-2.243 -5,-5 0,-2.757 2.243,-5 5,-5 2.757,0 5,2.243 5,5 0,2.757 -2.243,5 -5,5 z" style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-width:13.9;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /><path d="m 32.997341,5.867 c -3.622,-3.622 -8.438,-5.617 -13.56,-5.617 -5.123,0 -9.9380005,1.995 -13.5600001,5.617 -6.70300004,6.702 -7.536,19.312 -1.804,26.952 l 15.3640001,22.188 15.341,-22.157 c 5.755,-7.671 4.922,-20.281 -1.781,-26.983 z m 0.159,25.814 -13.719,19.812 L 5.6963409,31.65 C 0.49734086,24.718 1.2423409,13.33 7.2923405,7.281 10.536341,4.037 14.849341,2.25 19.437341,2.25 c 4.588,0 8.901,1.787 12.146,5.031 6.05,6.049 6.795,17.437 1.573,24.4 z" style="fill:#949494;fill-opacity:1;stroke:#949494;stroke-width:0.5;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /><path style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:50;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M 12.032534,40.635204 C 7.9812495,34.777493 4.3642549,29.318095 3.9947689,28.503211 c -1.254422,-2.76657 -1.506747,-4.12908 -1.494007,-8.067368 0.01047,-3.235933 0.07525,-3.80559 0.646467,-5.684519 C 4.0157469,11.894463 5.2025649,9.7783 7.0510435,7.790604 12.155492,2.301719 20.002618,0.817712 26.837317,4.048731 c 4.27931,2.02299 7.551287,6.012562 8.978598,10.947744 0.454103,1.570137 0.53289,2.375556 0.532083,5.439368 -0.0012,4.038252 -0.276447,5.456681 -1.606009,8.272173 -0.588137,1.245438 -14.275211,21.444897 -15.183639,22.408095 -0.08791,0.09322 -3.474532,-4.623193 -7.525816,-10.480907 z M 22.898806,25.537479 c 1.229847,-0.59536 2.545801,-2.009926 3.208644,-3.449087 0.744969,-1.617466 0.683254,-4.381381 -0.132739,-5.944941 -2.315334,-4.436504 -8.061833,-5.307308 -11.51848,-1.745469 -1.721222,1.773601 -2.357875,4.80885 -1.52276,7.259775 0.442483,1.298618 1.882222,2.988447 3.208268,3.765563 1.836753,1.076409 4.670428,1.124281 6.757067,0.114159 z" /><circle style="fill:#ff0000;fill-opacity:1;stroke:#000000;stroke-width:0.81510067;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" cx="19.435331" cy="60.352589" r="4.2552137" /></svg>';
Ea=f(Pa);var a=f(k("#000")),b=f('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 42.585 42.585" style="enable-background:new 0 0 42.585 42.585;" xml:space="preserve"> <g> <g> <path d="M14.934,32.494c-0.276,0-0.5-0.224-0.5-0.5V15.632c0-1.93,1.481-3.5,3.303-3.5s3.303,1.57,3.303,3.5v10.637 c0,0.276-0.224,0.5-0.5,0.5s-0.5-0.224-0.5-0.5V15.632c0-1.378-1.033-2.5-2.303-2.5s-2.303,1.122-2.303,2.5v16.361 C15.434,32.27,15.21,32.494,14.934,32.494z"/> <path d="M17.099,42.585c-0.128,0-0.256-0.049-0.354-0.146l-7.413-7.412c-0.824-0.824-1.376-1.835-1.555-2.846 c-0.189-1.076,0.062-2.025,0.708-2.67c1.287-1.288,3.415-1.255,4.745,0.074l2.056,2.056c0.195,0.195,0.195,0.512,0,0.707 s-0.512,0.195-0.707,0l-2.056-2.056c-0.94-0.939-2.435-0.972-3.331-0.074c-0.409,0.409-0.562,1.044-0.43,1.79 c0.143,0.811,0.596,1.632,1.277,2.313l7.413,7.412c0.195,0.195,0.195,0.512,0,0.707C17.355,42.537,17.227,42.585,17.099,42.585z" /> <path d="M26.146,27.341c-0.276,0-0.5-0.224-0.5-0.5V24.32c0-1.115-1.033-2.021-2.303-2.021s-2.303,0.907-2.303,2.021v2.521 c0,0.276-0.224,0.5-0.5,0.5s-0.5-0.224-0.5-0.5V24.32c0-1.666,1.482-3.021,3.303-3.021s3.303,1.355,3.303,3.021v2.521 C26.646,27.118,26.422,27.341,26.146,27.341z"/> <path d="M31.75,27.341c-0.276,0-0.5-0.224-0.5-0.5v-2.104c0-0.87-1.054-1.604-2.302-1.604s-2.302,0.735-2.302,1.604v2.104 c0,0.276-0.224,0.5-0.5,0.5s-0.5-0.224-0.5-0.5v-2.104c0-1.436,1.481-2.604,3.302-2.604s3.302,1.168,3.302,2.604v2.104 C32.25,27.118,32.027,27.341,31.75,27.341z"/> <path d="M37.356,33.759c-0.276,0-0.5-0.224-0.5-0.5v-6.877c0-1.378-1.033-2.5-2.303-2.5c-1.357,0-2.303,0.648-2.303,1.229v1.729 c0,0.276-0.224,0.5-0.5,0.5s-0.5-0.224-0.5-0.5v-1.729c0-1.25,1.451-2.229,3.303-2.229c1.821,0,3.303,1.57,3.303,3.5v6.877 C37.856,33.536,37.632,33.759,37.356,33.759z"/> <path d="M33.356,42.582H17.138c-0.276,0-0.518-0.224-0.518-0.5s0.206-0.5,0.482-0.5h16.254c1.93,0,3.5-1.57,3.5-3.5v-5.396 c0-0.276,0.224-0.5,0.5-0.5s0.5,0.224,0.5,0.5v5.396C37.856,40.563,35.837,42.582,33.356,42.582z"/> </g> <path d="M17.737,7.197c-0.276,0-0.5-0.224-0.5-0.5V0.5c0-0.276,0.224-0.5,0.5-0.5s0.5,0.224,0.5,0.5v6.197 C18.237,6.973,18.013,7.197,17.737,7.197z"/> <path d="M21.857,8.916c-0.128,0-0.256-0.049-0.354-0.146c-0.195-0.195-0.195-0.512,0-0.707l4.381-4.382 c0.195-0.195,0.512-0.195,0.707,0s0.195,0.512,0,0.707L22.21,8.769C22.113,8.867,21.985,8.916,21.857,8.916z"/> <path d="M30.244,12.408h-6.197c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h6.197c0.276,0,0.5,0.224,0.5,0.5 S30.521,12.408,30.244,12.408z"/> <g> <path d="M13.617,8.916c-0.128,0-0.256-0.049-0.354-0.146L8.881,4.387c-0.195-0.195-0.195-0.512,0-0.707s0.512-0.195,0.707,0 l4.382,4.382c0.195,0.195,0.195,0.512,0,0.707C13.873,8.867,13.745,8.916,13.617,8.916z"/> <path d="M11.426,12.408H5.229c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h6.196c0.276,0,0.5,0.224,0.5,0.5 S11.702,12.408,11.426,12.408z"/> </g> </g> </svg>'),
c=f('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"> <g> <g> <path d="M256,0C114.84,0,0,114.842,0,256s114.84,256,256,256s256-114.842,256-256S397.16,0,256,0z M256,462.452 c-113.837,0-206.452-92.614-206.452-206.452S142.163,49.548,256,49.548S462.452,142.163,462.452,256S369.837,462.452,256,462.452z "/> </g> </g> <g> <g> <path d="M256,132.129c-68.302,0-123.871,55.569-123.871,123.871S187.698,379.871,256,379.871S379.871,324.302,379.871,256 S324.302,132.129,256,132.129z M256,330.323c-40.983,0-74.323-33.341-74.323-74.323c0-40.982,33.339-74.323,74.323-74.323 s74.323,33.341,74.323,74.323C330.323,296.981,296.983,330.323,256,330.323z"/> </g> </g> </svg>'),
d=f('<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" viewBox="0 0 37.541998 52.066015" xml:space="preserve" width="37.542" height="52.066017"><path style="fill:#33cd5f;fill-opacity:1;stroke:#000000;stroke-linecap:butt;stroke-opacity:1;stroke-linejoin:round;stroke-width:1.1;stroke-miterlimit:4;stroke-dasharray:none" d="M 18.771,0.49999809 C 8.695,0.49999809 0.5,8.6989981 0.5,18.770998 c 0,9.461 13.676,19.698 17.63,32.338 0.085,0.273 0.34,0.459 0.626,0.457 0.287,-0.004 0.538,-0.192 0.619,-0.467 3.836,-12.951 17.666,-22.856 17.667,-32.33 C 37.041,8.6989981 28.845,0.49999809 18.771,0.49999809 Z m 0,32.13099991 c -7.9,0 -14.328,-6.429 -14.328,-14.328 0,-7.9 6.428,-14.3279999 14.328,-14.3279999 7.898,0 14.327,6.4279999 14.327,14.3279999 0,7.899 -6.429,14.328 -14.327,14.328 z" /><path d="M 17.491987,32.053536 C 14.72134,31.72142 12.547927,30.865333 10.4178,29.267079 9.6776719,28.711755 8.5836331,27.649072 8.0205177,26.938505 6.3421849,24.820701 5.3150402,22.309714 5.0369017,19.644675 4.9078899,18.408524 5.0175369,16.595491 5.2991384,15.308541 6.3906811,10.320071 10.357268,6.2177124 15.313137,4.9517748 16.66082,4.6075198 17.124594,4.555504 18.821934,4.5582359 c 1.659792,0.00267 2.040614,0.044746 3.313399,0.3660747 1.747467,0.4411677 3.437805,1.2498595 4.920955,2.3542846 0.737616,0.5492649 2.161188,1.965297 2.696138,2.6818603 1.379868,1.8483245 2.2095,3.7634445 2.635509,6.0838005 0.171856,0.936055 0.186303,3.396013 0.02559,4.3577 -0.660389,3.95175 -2.829084,7.293935 -6.149548,9.4771 -1.117319,0.734624 -2.960835,1.533582 -4.244512,1.839523 -1.042011,0.248343 -1.718768,0.324734 -3.027752,0.341764 -0.715908,0.0093 -1.390786,0.0063 -1.499728,-0.0068 z" style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1.69799995;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /></svg>'),
e=f('<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" viewBox="0 0 37.541998 52.066015" xml:space="preserve" width="37.542" height="52.066017"><path style="fill:#387ef5;fill-opacity:1;stroke:#000000;stroke-linejoin:round;stroke-opacity:1;stroke-width:1.1;stroke-miterlimit:4;stroke-dasharray:none" d="M 18.771,0.49999809 C 8.695,0.49999809 0.5,8.6989981 0.5,18.770998 c 0,9.461 13.676,19.698 17.63,32.338 0.085,0.273 0.34,0.459 0.626,0.457 0.287,-0.004 0.538,-0.192 0.619,-0.467 3.836,-12.951 17.666,-22.856 17.667,-32.33 C 37.041,8.6989981 28.845,0.49999809 18.771,0.49999809 Z m 0,32.13099991 c -7.9,0 -14.328,-6.429 -14.328,-14.328 0,-7.9 6.428,-14.3279999 14.328,-14.3279999 7.898,0 14.327,6.4279999 14.327,14.3279999 0,7.899 -6.429,14.328 -14.327,14.328 z" /><path d="M 16.932297,31.971499 C 12.339831,31.3131 8.4926786,28.534608 6.4065867,24.369617 4.4054277,20.374199 4.5435059,15.479076 6.7684711,11.540162 7.6961091,9.8979402 9.2861721,8.1406588 10.851745,7.0274723 c 1.41916,-1.0090817 3.385681,-1.8583995 5.223796,-2.2560971 0.722092,-0.1562331 1.040522,-0.1773919 2.691017,-0.178811 1.665176,-0.00143 1.962502,0.018147 2.691017,0.1772014 5.586243,1.2196281 9.734526,5.4019344 10.857963,10.9470174 0.156108,0.770521 0.178715,1.109403 0.176059,2.639052 -0.0026,1.522894 -0.02641,1.863332 -0.179715,2.574017 -0.642478,2.978462 -2.08033,5.530868 -4.232971,7.514164 -1.88734,1.738867 -4.412284,2.992994 -6.933338,3.443754 -0.999688,0.178743 -3.239992,0.223263 -4.213276,0.08373 z" style="fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:1.10000002;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /></svg>'),
h=f('<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" height="575.54266" width="459.91489" id="svg4185" xml:space="preserve" viewBox="0 0 459.91486 575.54263" y="0px" x="0px" version="1.1"><metadata id="metadata4197"><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs id="defs4195" /><path id="path4742" d="M 23.692352,544.60861 229.15147,32.877744 434.65268,544.71349 224.22287,421.61601 Z" style="fill:#efefef;fill-opacity:1;fill-rule:evenodd;stroke:#ffffff;stroke-width:1.22280085px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" /><path id="path4744" d="m 229.16083,174.26046 -82.44132,201.7643 164.88265,0 z" style="fill:#ff0000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" /><path id="path4752" d="M 228.58218,32.311096 24.550304,546.22596 223.97996,422.73299 435.6822,546.22596 Z" style="fill:none;fill-rule:evenodd;stroke:#037;stroke-width:24;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /></svg>');
Ba=f('<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="294" height="322.97055" viewBox="0 0 293.99999 322.97055" xml:space="preserve"><rect y="-1.3685193" x="0" height="325.70758" width="353.07797" style="fill:#ffffff;fill-opacity:0.00392157;stroke:none;stroke-width:3;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /><path d="m 70.387038,44.185123 c 39.100002,39.100052 78.200002,78.200107 117.300002,117.300157 -39.1,39.1 -78.2,78.2 -117.300002,117.3 11.899997,11.9 23.799997,23.8 35.700002,35.7 51,-51 102,-102 153,-153 -51,-51.00003 -102,-102.000052 -153,-153.0000776 C 94.187035,20.385176 82.287035,32.285149 70.387038,44.185123 Z" style="fill:#45f7f7;fill-opacity:1;stroke:none;stroke-width:12;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /></svg>');
db=f('<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="320" height="322.97055" viewBox="0 0 320 322.97055" xml:space="preserve"><rect style="fill:#ffffff;fill-opacity:0.00392157;stroke:none;stroke-width:3;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="314.75943" height="325.70758" x="0" y="-1.3685194" /><path d="M 160.31665,162.8538 60.925903,283.00934 309.72225,161.48528 62.294422,46.803742 Z" style="fill:#45f7f7;fill-opacity:1;stroke:none;stroke-width:12;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" /></svg>');
X='<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 80.853 80.854" style="enable-background:new 0 0 80.853 80.854;" xml:space="preserve"> <g> <path stroke="null" d="m76.442612,40.437309c0,-0.127323 -0.054695,-0.231339 -0.068146,-0.353287c-0.024208,-2.757259 -0.234032,-5.544113 -0.716438,-8.319305c-2.197739,-12.695959 -8.09066,-22.629272 -16.184906,-27.25609c-0.36853,-0.216098 -0.800728,-0.330872 -1.248165,-0.330872l-29.184824,0c-1.140566,0 -2.136765,0.763066 -2.428185,1.868661c-0.288727,1.100215 0.197268,2.260507 1.182709,2.820925c5.40423,3.096202 9.761152,9.528916 12.250311,17.702962l-16.678967,0c-0.494961,0 -0.92626,0.179335 -1.319899,0.427713c-1.59697,-0.060974 -3.21546,0.260033 -4.764009,1.035652c-8.132799,4.052952 -12.871703,16.671795 -10.797704,28.722145c1.51896,8.798126 5.70372,15.515091 11.471105,18.440926c1.952948,0.989922 4.018875,1.479507 6.103634,1.479507c0.95047,0 1.90453,-0.106705 2.853205,-0.31205l31.595972,-0.94957c0.364048,-0.009865 0.720924,-0.102219 1.043724,-0.264519c10.163761,-5.087708 16.754292,-19.223713 16.817059,-34.381027c0.026894,-0.111191 0.073524,-0.214306 0.073524,-0.331772zm-48.30722,30.224968c-0.617805,0.308456 -1.232922,0.540688 -1.839968,0.716446l-2.054272,0.058273c-0.326387,0.009865 -0.642015,0.088776 -0.928949,0.210724c-1.040138,-0.102219 -2.066826,-0.407089 -3.081858,-0.921776c-4.274427,-2.164566 -7.560724,-7.698814 -8.793646,-14.808514c-1.659736,-9.651764 2.0471,-20.357109 8.093348,-23.372612c1.446329,-0.719131 2.872932,-0.728096 4.233179,-0.041248c2.482882,1.260719 4.406239,4.563156 5.140612,8.835793c1.105595,6.408501 -1.526133,12.404537 -4.686895,13.979088c-0.674297,0.33894 -1.277756,0.348804 -1.896458,0.034073c-1.027584,-0.520065 -2.30534,-2.105381 -2.806578,-4.994453c-0.612427,-3.551708 0.817762,-7.133907 2.50709,-7.97678c1.245476,-0.618702 1.752094,-2.125107 1.134287,-3.366993c-0.618702,-1.243683 -2.130487,-1.752098 -3.3661,-1.133392c-3.883478,1.928734 -6.179852,7.787579 -5.224897,13.330795c0.703886,4.078056 2.707047,7.222679 5.497484,8.635834c2.034546,1.030273 4.310295,1.020409 6.401333,-0.028698c5.541418,-2.758156 8.792746,-11.252316 7.395735,-19.336693c-0.616909,-3.577717 -1.965502,-6.554661 -3.763327,-8.871658l11.199411,0c0.062767,0.346115 0.154228,0.672504 0.215199,1.025791c2.754574,15.901554 -3.250427,32.961609 -13.374729,38.026001zm29.647507,-0.251076l-21.750534,0.661743c8.598171,-8.36055 13.065388,-24.115047 10.436348,-39.308228c-1.612213,-9.363928 -5.245522,-17.226831 -10.288395,-22.562917l21.353306,0c3.383137,2.104486 6.327801,5.546803 8.645699,9.882203l-14.234642,0c-1.379978,0 -2.511574,1.126219 -2.511574,2.511574c0,1.387148 1.131596,2.51247 2.511574,2.51247l16.47094,0c0.971092,2.642488 1.770927,5.481346 2.286507,8.511196c0.313835,1.758369 0.467171,3.531982 0.564003,5.306496l-14.928665,0c-1.380871,0 -2.51247,1.126217 -2.51247,2.51157c0,1.383568 1.131599,2.511578 2.51247,2.511578l14.899979,0c-0.263618,4.917336 -1.256241,9.627548 -2.875626,13.817688l-16.427002,0c-1.379078,0 -2.51247,1.128014 -2.51247,2.51247c0,1.38356 1.133392,2.512466 2.51247,2.512466l14.014961,0c-2.190563,3.787537 -4.928104,6.862221 -8.166878,8.61969z"/> </g> </svg>';
W='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="729.837px" height="729.838px" viewBox="0 0 729.837 729.838" style="enable-background:new 0 0 729.837 729.838;" xml:space="preserve"> <g> <path d="M589.193,222.04c0-6.296,5.106-11.404,11.402-11.404S612,215.767,612,222.04v437.476c0,19.314-7.936,36.896-20.67,49.653 c-12.733,12.734-30.339,20.669-49.653,20.669H188.162c-19.315,0-36.943-7.935-49.654-20.669 c-12.734-12.734-20.669-30.313-20.669-49.653V222.04c0-6.296,5.108-11.404,11.403-11.404c6.296,0,11.404,5.131,11.404,11.404 v437.476c0,13.02,5.37,24.922,13.97,33.521c8.6,8.601,20.503,13.993,33.522,13.993h353.517c13.019,0,24.896-5.394,33.498-13.993 c8.624-8.624,13.992-20.503,13.992-33.498V222.04H589.193z"/> <path d="M279.866,630.056c0,6.296-5.108,11.403-11.404,11.403s-11.404-5.107-11.404-11.403v-405.07 c0-6.296,5.108-11.404,11.404-11.404s11.404,5.108,11.404,11.404V630.056z"/> <path d="M376.323,630.056c0,6.296-5.107,11.403-11.403,11.403s-11.404-5.107-11.404-11.403v-405.07 c0-6.296,5.108-11.404,11.404-11.404s11.403,5.108,11.403,11.404V630.056z"/> <path d="M472.803,630.056c0,6.296-5.106,11.403-11.402,11.403c-6.297,0-11.404-5.107-11.404-11.403v-405.07 c0-6.296,5.107-11.404,11.404-11.404c6.296,0,11.402,5.108,11.402,11.404V630.056L472.803,630.056z"/> <path d="M273.214,70.323c0,6.296-5.108,11.404-11.404,11.404c-6.295,0-11.403-5.108-11.403-11.404 c0-19.363,7.911-36.943,20.646-49.677C283.787,7.911,301.368,0,320.73,0h88.379c19.339,0,36.92,7.935,49.652,20.669 c12.734,12.734,20.67,30.362,20.67,49.654c0,6.296-5.107,11.404-11.403,11.404s-11.403-5.108-11.403-11.404 c0-13.019-5.369-24.922-13.97-33.522c-8.602-8.601-20.503-13.994-33.522-13.994h-88.378c-13.043,0-24.922,5.369-33.546,13.97 C278.583,45.401,273.214,57.28,273.214,70.323z"/> <path d="M99.782,103.108h530.273c11.189,0,21.405,4.585,28.818,11.998l0.047,0.048c7.413,7.412,11.998,17.628,11.998,28.818 v29.46c0,6.295-5.108,11.403-11.404,11.403h-0.309H70.323c-6.296,0-11.404-5.108-11.404-11.403v-0.285v-29.175 c0-11.166,4.585-21.406,11.998-28.818l0.048-0.048C78.377,107.694,88.616,103.108,99.782,103.108L99.782,103.108z M630.056,125.916H99.782c-4.965,0-9.503,2.02-12.734,5.274L87,131.238c-3.255,3.23-5.274,7.745-5.274,12.734v18.056h566.361 v-18.056c0-4.965-2.02-9.503-5.273-12.734l-0.049-0.048C639.536,127.936,635.021,125.916,630.056,125.916z"/> </g> </svg>';
da='<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" viewBox="0 0 29.978 29.978" > <path stroke="null" d="m 24.494501,18.724583 0,6.215084 -19.011004,0 0,-6.215084 -3.653903,0 0,8.042036 c 0,1.008316 0.816819,1.826044 1.829675,1.826044 l 22.659461,0 c 1.01195,0 1.829676,-0.81682 1.829676,-1.826044 l 0,-8.042036 -3.653904,0 z" /> <path stroke="null" d="m 14.654558,20.108339 -5.231272,-6.32127 c 0,0 -0.795944,-0.751473 0.067162,-0.751473 0.863106,0 2.947808,0 2.947808,0 0,0 0,-0.50552 0,-1.285129 0,-2.222653 0,-6.267723 0,-7.916789 0,0 -0.117078,-0.448343 0.55816,-0.448343 0.680682,0 3.662069,0 4.149439,0 0.486462,0 0.475569,0.377552 0.475569,0.377552 0,1.59915 0,5.783985 0,7.934033 0,0.697019 0,1.148993 0,1.148993 0,0 1.671757,0 2.720915,0 1.047344,0 0.258661,0.786869 0.258661,0.786869 0,0 -4.450758,5.908321 -5.071538,6.528194 -0.446527,0.449251 -0.874904,-0.05264 -0.874904,-0.05264 z" /> </svg>';
L='<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" enable-background="new 0 0 12 12" viewBox="0 0 12 12" y="0px" x="0px" version="1.1"><path style="" d="M 6,6 0,3 6,0 12,3 6,6 Z M 6,7.102 2.297,5.25 0,6 6,9 12,6 9.891,5.203 6,7.102 Z m 0,3 L 2.297,8.25 0,9 6,12 12,9 9.891,8.203 6,10.102 Z" /></svg>';hb='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" style="" viewBox="0 0 36.195457 39.516697" height="40px" width="36px" y="0" x="0" > <g transform="translate(-4.617,-3.543)" > <path d="M 38.959923,13.213912 C 38.650508,10.991005 38.563146,8.5764759 37.310921,6.641368 35.36833,4.8576827 32.569062,4.5648379 30.076842,4.1029589 24.055082,3.3335673 17.856288,3.2476921 11.900967,4.5459668 9.9990492,5.0084702 7.6231346,5.7758159 7.265452,8.007119 6.7944666,9.7082842 6.5885076,11.467905 6.404925,13.219128 c -1.608175,0.139478 -1.8889475,1.850618 -1.761139,3.14856 0.1052295,1.276826 -0.2817203,2.670636 0.3670487,3.833082 1.7260712,0.979844 0.5588763,3.29833 0.8614473,4.992758 0.025404,4.133446 -0.043047,8.300214 0.4620345,12.40219 0.3705824,1.317238 1.860401,0.863544 2.8778727,0.940007 0.3353234,0.318875 0.044906,1.263491 0.1421648,1.820431 -0.2835179,1.450392 0.904532,2.808452 2.400052,2.697158 1.524145,0.114802 2.690639,-1.279576 2.401791,-2.743857 0.132241,-0.530392 -0.271832,-1.597099 0.214168,-1.773732 5.878468,0 11.756935,0 17.635403,0 0.112295,1.22968 -0.30603,2.604211 0.409905,3.685926 1.294617,1.58302 4.675897,0.817738 4.391067,-1.483858 0,-0.734022 0,-1.468045 0,-2.202068 1.796426,0.455141 3.100565,-0.7801 2.566298,-2.622925 0.06559,-4.989054 0.146241,-9.97963 0.02239,-14.968479 1.486068,-0.405159 1.448867,-2.049382 1.396919,-3.284491 -0.127361,-1.372334 0.432771,-3.058416 -0.802022,-4.059576 -0.298387,-0.221692 -0.659819,-0.356985 -1.030401,-0.386342 z m -25.40613,-6.00665 c 6.008098,0 12.016196,0 18.024294,0 0,0.9089657 0,1.8179313 0,2.726897 -6.008098,0 -12.016196,0 -18.024294,0 0,-0.9089657 0,-1.8179313 0,-2.726897 z m 0.257304,28.222559 c -2.080584,0.108147 -3.383411,-2.654906 -1.976877,-4.191541 1.23379,-1.662539 4.173148,-0.933343 4.487413,1.112844 0.35746,1.536857 -0.932524,3.120253 -2.510536,3.078697 z m 17.670501,0 c -2.080337,0.108007 -3.386455,-2.654626 -1.977908,-4.191541 1.23421,-1.662026 4.173671,-0.934052 4.487618,1.112844 0.357733,1.536783 -0.931773,3.12 -2.50971,3.078697 z m 3.257156,-11.21357 c -8.115208,0 -16.230415,0 -24.345623,0 0,-4.256521 0,-8.513043 0,-12.769564 8.115208,0 16.230415,0 24.345623,0 0,4.256521 0,8.513043 0,12.769564 z" /> </g> </svg>';
Ua='<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" width="19.6" height="30.043739" viewBox="0 0 19.6 30.043739" version="1.1" > <path style="fill-rule:evenodd;stroke:none;stroke-width:1" d="m 8.4,29.089729 0,-0.453553 0,-7.153255 C 3.6507882,20.799928 0,16.693477 0,11.729729 0,6.7659823 3.6507882,2.6595312 8.4,1.9765376 l 0,-0.56897 C 8.4,0.6301895 9.026801,0 9.8,0 c 0.773199,0 1.4,0.6301895 1.4,1.4075676 l 0,0.56897 c 4.749212,0.6829936 8.4,4.7894447 8.4,9.7531914 0,4.963748 -3.650788,9.070199 -8.4,9.753192 l 0,7.153255 0,0.453553 2.8,0 0.466667,0 0,0.938379 -0.466667,0 -2.8,0 0,0.01563 -2.8,0 0,-0.01563 -2.8,0 -0.4666667,0 0,-0.938379 0.4666667,0 2.8,0 z" /> <ellipse style="fill:#ffffff;fill-rule:evenodd;stroke:none;stroke-width:1" ry="7.037838" rx="7" cy="11.72973" cx="9.8000002" /> </svg>';
var g=f('<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" style="fill:#00519e" viewBox="0 0 36.195457 39.516697" height="40px" width="36px" y="0" x="0" > <g transform="translate(-4.617,-3.543)" > <path d="M 38.959923,13.213912 C 38.650508,10.991005 38.563146,8.5764759 37.310921,6.641368 35.36833,4.8576827 32.569062,4.5648379 30.076842,4.1029589 24.055082,3.3335673 17.856288,3.2476921 11.900967,4.5459668 9.9990492,5.0084702 7.6231346,5.7758159 7.265452,8.007119 6.7944666,9.7082842 6.5885076,11.467905 6.404925,13.219128 c -1.608175,0.139478 -1.8889475,1.850618 -1.761139,3.14856 0.1052295,1.276826 -0.2817203,2.670636 0.3670487,3.833082 1.7260712,0.979844 0.5588763,3.29833 0.8614473,4.992758 0.025404,4.133446 -0.043047,8.300214 0.4620345,12.40219 0.3705824,1.317238 1.860401,0.863544 2.8778727,0.940007 0.3353234,0.318875 0.044906,1.263491 0.1421648,1.820431 -0.2835179,1.450392 0.904532,2.808452 2.400052,2.697158 1.524145,0.114802 2.690639,-1.279576 2.401791,-2.743857 0.132241,-0.530392 -0.271832,-1.597099 0.214168,-1.773732 5.878468,0 11.756935,0 17.635403,0 0.112295,1.22968 -0.30603,2.604211 0.409905,3.685926 1.294617,1.58302 4.675897,0.817738 4.391067,-1.483858 0,-0.734022 0,-1.468045 0,-2.202068 1.796426,0.455141 3.100565,-0.7801 2.566298,-2.622925 0.06559,-4.989054 0.146241,-9.97963 0.02239,-14.968479 1.486068,-0.405159 1.448867,-2.049382 1.396919,-3.284491 -0.127361,-1.372334 0.432771,-3.058416 -0.802022,-4.059576 -0.298387,-0.221692 -0.659819,-0.356985 -1.030401,-0.386342 z m -25.40613,-6.00665 c 6.008098,0 12.016196,0 18.024294,0 0,0.9089657 0,1.8179313 0,2.726897 -6.008098,0 -12.016196,0 -18.024294,0 0,-0.9089657 0,-1.8179313 0,-2.726897 z m 0.257304,28.222559 c -2.080584,0.108147 -3.383411,-2.654906 -1.976877,-4.191541 1.23379,-1.662539 4.173148,-0.933343 4.487413,1.112844 0.35746,1.536857 -0.932524,3.120253 -2.510536,3.078697 z m 17.670501,0 c -2.080337,0.108007 -3.386455,-2.654626 -1.977908,-4.191541 1.23421,-1.662026 4.173671,-0.934052 4.487618,1.112844 0.357733,1.536783 -0.931773,3.12 -2.50971,3.078697 z m 3.257156,-11.21357 c -8.115208,0 -16.230415,0 -24.345623,0 0,-4.256521 0,-8.513043 0,-12.769564 8.115208,0 16.230415,0 24.345623,0 0,4.256521 0,8.513043 0,12.769564 z" /> </g> </svg>');
new tf.dom.ImgsPreLoader({imgSrcs:["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnNTI5MSIKICAgdmlld0JveD0iMCAwIDY4MS40Mjg1NyA2ODEuNDI4NTciCiAgIGhlaWdodD0iMTkyLjMxNDI5bW0iCiAgIHdpZHRoPSIxOTIuMzE0MjltbSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczUyOTMiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNTI5NiI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTcuODU3MTQ3LC0yMTMuMDc2NDgpIgogICAgIGlkPSJsYXllcjEiPgogICAgPGNpcmNsZQogICAgICAgcj0iMzE1LjcxNDI5IgogICAgICAgY3k9IjU1My43OTA3NyIKICAgICAgIGN4PSIzOTguNTcxNDQiCiAgICAgICBpZD0icGF0aDU4MzkiCiAgICAgICBzdHlsZT0iZmlsbDojZmYwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDo1MDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHk9IjQxMy43OTA3NyIKICAgICAgIHg9IjI1OC41NzE0NCIKICAgICAgIGhlaWdodD0iMjgwIgogICAgICAgd2lkdGg9IjI4MCIKICAgICAgIGlkPSJyZWN0NTg0MyIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjUwO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgPC9nPgo8L3N2Zz4K",
ha,Ea,a,b,c,d,e,h,Ba,db,g,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAoCAYAAAB5ADPdAAAABmJLR0QA/wD/AP+gvaeTAAAEW0lEQVRYhc2Ya0wcVRTHfzOzu7zfXVhetiBCCiJQSjWR+kATRYqpwZgoVtOg0TRSi02Mpg0mxhh8favWpnGDmpoUFQumSVtIxUZRKVaxUAgqYkMFypuFZXnt+AEYdnd2eS3t8v809+Tcub85995z5x5BlmUZF5qYnKb1n+u0dfbR0tFLW2cfvQMmRsYsDJssjIxZMJkn0Wok/H11APh56wjy9yZKH4ghLIDITQHEGoLISIomPTESPx+dq+EWlCk4QpnMkxirGjlZ00RDcxezVutyL1mxJFFka5yeezPjeSZvGztSYpeHunili0dLPqVnwLRuIEvpkbuTOH64gCh9oHOowVEzCbvfY2h0wq6jViOx+75ktwFmrTKV55tV9vjoUNq+PohWIylQmoWnM/XtKiAAPx8dFWWFbkOZLdNOoTquDVJR8weFuRmKTVx4+PnyVbcHXquqL7TatZVINbZ2Oe1gtkzxwtuVbg88M+N6w/zY1OkcquXv3kWjJBLg56W0v6y97DYUQEigj/I8MmbBap3bY//1mRifmFLShQZgaHSC0fFJpUNWSgz1xn3rAuJKW/Lf4d/uIQBkWabj2iCpCQYARFmWOf1D2w0FWIm+vdDK9MwsAOIbx2rZU3rSw0hw6KOz5L1cDoB4/JsGz9LYqOaXPymvvhQuDo6aPc1ip7bO68Hiwg7YKJIkwSpaXf8keERW2SqIQf7enuawU4w+eFwsyLnd0xyK0hIj2Zu/vUc8+vpjxEWFepqHhNgwzh0pwtdXaxU1ksgdtxk8zURYkC/hof7A/F/C7AbYgbZZQANzh6OtBobN63YIu5LZMmUPJTtASaJg59B+tZ8nXjtxQ6EcZRspEUB0gPKEbCM1ByVsACjHSEmS6NL5Zkk9fRsgUrYIy66pzZEhJMeHI7gBLooCqQkGosMDl/BZnC3NUlAflORR8lQ2giDQ1N5N7n4j3f2ru6iGBvpSe/Q5MpKikGWZY5UN7Cs7hWO1wDYDiABeWg2Ouiv1Fl4p3KlEKC0xktLnH1wVEMChovvJSIoCQBAEXiy4k5ysW1V+oiOUs6JDTHiQymYI8181VGxEsJP3BKhsks30uYSq+7VDlenXcsE4Vddi156YnOb8xb/UUNJipDQAIQE+Kqf+4XF2HSinrDgXPx8tn5/+jU+qGlcN9cWZ34nSB7I3fzs9AyZKPz7ndF3aZgBBlmX5SEU9xe9Wr3rA9VRWcgwNn70EkCkCRISq5/hma2r+zgfzayo7fQvJ8eEeA/L31XG4KEdpqyp5Z39q5+Fio12ng0/v5P0DeW4PXvTmVxir7dflpRP7lZQxr0zVoafTSo4m24KWW5qZXVmp0gmUOpF66dS2tci2krM4nvqDVVA7UmKU6gfMzfeTD6WtC9TjD6TaJcnMrdEkbdar/ARZlt9yNPYMmnRlxu9Txi2Tumd3bWvPTo8bWhcqoPK7ZkNV3ZX4iLCAsVf33NO6KcRv2sHlw/8BQH5xEOi41Y4AAAAASUVORK5CYII="],
onAllLoaded:l})})()};
tf.TFMap.ToggleButton=function(a){function c(a){l!=(a=!!a)&&(l=a,tf.dom.ReplaceCSSClassCondition(k,l,g,f))}function e(a){h&&c(!l);n&&n({sender:b})}function d(a){m({sender:b,notification:a})}var b,g,f,k,h,l,n,m;this.GetButton=function(){return k};this.GetIsToggled=function(){return l};this.SetIsToggled=function(a){return c(a)};this.SetClassToggled=function(a){l&&tf.dom.ReplaceCSSClassCondition(k,!0,a,g);g=a};this.SetClassNotToggled=function(a){l||tf.dom.ReplaceCSSClassCondition(k,!0,a,f);f=a};b=this;
(function(){n=tf.js.GetFunctionOrNull(a.onClick);m=tf.js.GetFunctionOrNull(a.onHover);h=void 0!=a.autoToggle?!!a.autoToggle:!0;g=a.classToggled;f=a.classNotToggled;k=document.createElement("button");k.className=a.buttonClassName;tf.js.GetIsNonEmptyString(a.svgHTML)&&(k.innerHTML=a.svgHTML);var p=void 0!=a.isToggled?!!a.isToggled:!1;l=!p;c(p);k.addEventListener("click",e);m&&new tf.events.DOMHoverListener({target:k,callBack:d,optionalScope:b,callBackSettings:null})})()};
tf.TFMap.IconButton=function(a){function c(a){g({sender:d,event:a})}function e(a){f({sender:d,notification:a})}var d,b,g,f;this.GetSettings=function(){return a};this.GetButton=function(){return b};d=this;g=tf.js.GetFunctionOrNull(a.onClick);f=tf.js.GetFunctionOrNull(a.onHover);b=document.createElement("button");b.className=tf.js.GetNonEmptyString(a.cssClass,"");tf.js.GetIsNonEmptyString(a.svgHTML)&&(b.innerHTML=a.svgHTML);g&&b.addEventListener("click",c);f&&new tf.events.DOMHoverListener({target:b,
callBack:e,optionalScope:d,callBackSettings:null})};
tf.TFMap.MapFeaturePropsDisplayer=function(a){function c(){var c=q.GetSettings();if(tf.js.GetFunctionOrNull(c.getDisplayProps)){if(tf.js.GetFunctionOrNull(c.onPrepareForPropsDisplay))c.onPrepareForPropsDisplay(q);var d=c.getDisplayProps(q),e=q.GetPointCoords();c.coords=e;h.GetHTMLElement().innerHTML=d.innerHTML;e?(d=e[1].toFixed(5)+", "+e[0].toFixed(5),l.GetButton().innerHTML=d,l.GetButton().style.display="block"):l.GetButton().style.display="none";if(c.addButtons)for(var d=a.appContent,e=b(),f=c.addButtons.length,
g=0;g<f;++g){var k=c.addButtons[g],p=d.CreateButton(tf.js.ShallowMerge(e,k));tf.js.GetIsNonEmptyString(k.buttonText)&&(p.GetButton().innerHTML=k.buttonText);m.AddContent(p.GetButton())}}}function e(b){var c=a.appContent;p=!!b;tf.dom.ReplaceCSSClassCondition(c.GetRootDiv(),p,w,v);if(p){b=q.GetSettings();if(b.additionalFeatures){for(e in b.additionalFeatures)a.additionalFeaturesLayer.AddMapFeature(b.additionalFeatures[e],!0);a.additionalFeaturesLayer.AddWithheldFeatures()}b.bottomContent&&c.SetBottomContent(b.bottomContentType,
b.bottomContent);tf.js.GetFunctionOrNull(b.onPostCompose)&&a.appContent.GetMap().Render()}else if(m.ClearContent(),h.GetHTMLElement().scrollTop="0px",q){b=q.GetSettings();var d=q;if(b.additionalFeatures){for(var e in b.additionalFeatures)a.additionalFeaturesLayer.DelMapFeature(b.additionalFeatures[e],!0);a.additionalFeaturesLayer.DelWithheldFeatures()}b.bottomContent&&c.SetBottomPaneUp(!1);q=void 0;tf.js.GetFunctionOrNull(b.onPostCompose)&&a.appContent.GetMap().Render();if(tf.js.GetFunctionOrNull(b.onClose))b.onClose(d);
c.OnCloseMapFeatureProps()}C.Notify(G,tf.js.ShallowMerge({},{sender:f,eventName:G,isVisible:p}))}function d(b){var c=b.sender;tf.js.GetFunctionOrNull(b.sender.GetSettings)||(c=b.toolTipSender);var d=a.appContent;d.GetMap();switch(c){case A:d.SetDirectionsTargetToMapFeature(q);break;case r:e(!1);break;case l:q&&d.AnimatedSetCenterIfDestVisible(q.GetPointCoords());break;default:if(q&&(c=q.GetSettings())&&tf.js.GetFunctionOrNull(c.onClick))c.onClick(b)}}function b(){return{onClick:d,onHover:void 0,wrapper:k,
delayMillis:tf.TFMap.toolTipDelayMillis,toolTipClass:"*start",toolTipArrowClass:"top",offsetY:-9}}function g(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=tf.TFMap.LayoutSettings,e=d.minWidthPropsDisplayerInt+"px",f=d.maxFeaturePropsDisplayHeightInt+"px",h=d.propsToolBarButtonWidthInt,g=h+"px",k=d.lightBackground,m=d.darkTextColor,p=d.darkTextShadow;c[t]={inherits:[b.borderRadius2px,b.transitionPoint2s,b.cursorDefault,b.pointerEventsAll,b.noMarginNoBorderNoPadding,b.positionAbsolute,
b.displayFlex],flexFlow:"column nowrap",boxShadow:"rgba(0, 0, 0, 0.1) -4px 4px 10px",maxHeight:d.CSSLiteralMaxHeightMapFeaturePropsDisplayer,zIndex:""+(d.rootDivZIndex+d.mapFeaturePropsDisplayerWrapperZIndexAdd),borderRadius:"2px",fontSize:d.propsDisplayerWrapperFontSizeInt+"px",lineHeight:d.propsDisplayerWrapperLineHeightInt+"px",maxWidth:d.propsDisplayerWrapperMaxWidthInt+"px"};c[w+" ."+t]={inherits:[b.overflowVisible],width:"initial",minWidth:e,right:d.leftMarginInt+"px",top:d.topMarginInt+"px",
opacity:1,transform:"translateX(0px)","-webkit-transform":"translateX(0px)"};c[v+" ."+t]={inherits:[b.overflowHidden],width:"0px",minWidth:"0px",right:d.leftMarginInt+"px",top:d.topMarginInt+"px",opacity:0,transform:"translateX(100%)","-webkit-transform":"translateX(100%)"};c[D]={inherits:[b.lightBackground,b.pointerEventsAll,b.borderRadius2px,b.positionRelative,b.displayInlineBlock,b.whiteSpaceNoWrap],verticalAlign:"bottom",height:g,maxWidth:"initial",width:"100%"};e={inherits:[b.displayBlock,b.overflowHidden],
color:"white",textShadow:"0px 0px 4px black",fontWeight:"600",background:"rgba(0, 0, 0, 0.2)"};c[F]={inherits:[e],overflowY:"auto",maxHeight:"calc("+f+" - "+(2*h+12)+"px)",width:"calc(100% - 16px)",padding:"8px",paddingTop:"0px",paddingBottom:"4px"};f={color:"white",fontSize:"120%",lineHeight:"120%",fontWeight:"600",textShadow:"black 1px 1px 4px"};c[F+" a"]={inherits:[f]};c[F+" u"]={inherits:[f]};c[d.showingMapClassName+" ."+F+" img"]={inherits:[b.noMarginNoBorderNoPadding],boxShadow:"1px 1px 2px black",
margin:"1px",marginTop:"6px",marginBottom:"-2px",borderRadius:"2px",padding:"2px"};c[d.showingAerialClassName+" ."+F+" img"]={inherits:[b.noMarginNoBorderNoPadding],boxShadow:"1px 1px 2px yellow",margin:"1px",marginTop:"6px",marginBottom:"-2px",borderRadius:"2px",padding:"2px"};c[H]={inherits:[b.noMarginNoBorderNoPadding,b.overflowVisible,b.positionRelative]};c[I]={inherits:[b.borderRadius2px,b.baseTextButton,e],fontSize:d.propsDisplayerCoordsButtonFontSizeInt+"px",lineHeight:d.propsDisplayerCoordsButtonLineHeightInt+
"px",fontWeight:"600",textShadow:p,color:m,background:"rgba(255, 255, 255, 0.5)",height:d.propsDisplayerCoordsButtonLineHeightInt+4+"px",border:"none",marginTop:"2px",padding:"0px 0px",width:"calc(100% - 0px)"};c[J]={inherits:[b.displayInlineBlock,b.borderRadius2px],marginLeft:"2px",paddingLeft:"2px",borderLeft:"1px solid "+m,lineHeight:"100%",verticalAlign:"middle"};g={inherits:[b.baseImageButton,b.verticalAlignMiddle,b.displayInlineBlock,b.borderRadius2px],border:"1px solid transparent",fill:m,
width:g,height:g,marginBottom:"2px"};c[K]={inherits:[g,b.closeButtonBackground]};c[N]={inherits:[g,b.directionsButtonBackground2]};g={color:"#002255",textShadow:d.lightTextShadow,overflow:"hidden",textOverflow:"ellipsis",display:"block",whiteSpace:"normal",maxWidth:"16rem",fontSize:d.propsDisplayerTextFontSizeInt+"px",lineHeight:d.propsDisplayerTextLineHeightInt+"px",fontWeight:"400"};c[M]={inherits:[g,e],backgroundColor:"transparent"};c[Q]={inherits:[g],color:m,textShadow:p,fontSize:d.propsDisplayerTitleFontSizeInt+
"px",lineHeight:d.propsDisplayerTitleLineHeightInt+"px",borderBottom:"1px solid gray",marginLeft:"-7px",marginTop:"2px",maxWidth:"initial",width:"calc(100% + 6px)",borderRadius:"4px",paddingLeft:"4px",paddingRight:"4px",marginBottom:"2px",paddingTop:"2px",textAlign:"center",fontWeight:"800"};c[u]={inherits:[b.verticalAlignMiddle,b.baseTextButton,b.noBorderNoPadding,b.lightBackground,b.darkTextColor],fontSize:d.propsDisplayerTextButtonFontSizeInt+"px",lineHeight:d.propsDisplayerTextButtonLineHeightInt+
"px",fontWeight:"500",marginLeft:"4px",marginRight:"4px",borderBottom:"1px solid "+k};c[B]={inherits:[b.noMarginNoBorderNoPadding,b.positionAbsolute,b.leftTopZero,b.WHOneHundred]};c[E]={inherits:[b.noMarginNoBorderNoPadding,b.positionRelative],textAlign:"center",height:d.propsDisplayerImgHeightPxInt+"px",margin:"2px",marginBottom:"4px",border:"1px solid white"};return c}var f,k,h,l,n,m,p,q,r,A,t,w,v,u,B,E,D,F,C,G;this.AddVisibilityChangeListener=function(a){C.AddListener(G,a)};this.OnPostCompose=
function(a){if(q){var b=q.GetSettings();if(tf.js.GetFunctionOrNull(b.onPostCompose))b.onPostCompose({sender:f,pcNotification:a,lastMapFeature:q,props:b})}};this.GetCSSClasseNames=function(){return{visibleClassName:w,hiddenClassName:v}};this.CreateMapFeaturePropsSpan=function(a,b,c){var d="";void 0!=c&&(d=' style="background-color:'+c+';"');return'<span class="'+a+'" '+d+"> "+b+"</span> "};this.CreateMapFeatureTitleSpan=function(a,b){return f.CreateMapFeaturePropsSpan(Q,a,b)};this.CreateMapFeatureTextSpan=
function(a){return f.CreateMapFeaturePropsSpan(M,a)};this.CreateMapFeatureImageDiv=function(a){return'<div class="'+E+'"><div class="'+B+'" '+('style="'+("background: "+("url('"+a+"')")+" center/100% no-repeat;")+'background-size:contain;"')+"></div></div>"};this.GetMapFeaturePropsTextButtonClass=function(){return u};this.GetWrapper=function(){return k};this.GetIsVisible=function(){return p};this.RefreshProps=function(a){q&&q==a&&c()};this.ShowProps=function(a){e(!1);if(q=a)a=q.GetSettings(),tf.js.GetFunctionOrNull(a.getDisplayProps)?
(c(),e(!0)):q=void 0};this.GetLastMapFeature=function(){return q};this.Hide=function(){return e(!1)};var H,I,J,K,N,Q,M;f=this;C=new tf.events.MultiEventNotifier({eventNames:[G="vis"]});t=tf.TFMap.CreateClassName("featurePropsDisplay","Wrapper");w=tf.TFMap.CreateClassName("featurePropsDisplay","WrapperVisible");v=tf.TFMap.CreateClassName("featurePropsDisplay","WrapperHidden");D=tf.TFMap.CreateClassName("featurePropsDisplay","ToolBar");F=tf.TFMap.CreateClassName("featurePropsDisplay","Content");H=tf.TFMap.CreateClassName("featurePropsDisplay",
"CoordsButtonWrapper");I=tf.TFMap.CreateClassName("featurePropsDisplay","CoordsButton");J=tf.TFMap.CreateClassName("featurePropsDisplay","AdditionalButtons");K=tf.TFMap.CreateClassName("featurePropsDisplay","CloseButton");N=tf.TFMap.CreateClassName("featurePropsDisplay","DirectionsButton");M=tf.TFMap.CreateClassName("featurePropsDisplay","Text");Q=tf.TFMap.CreateClassName("featurePropsDisplay","Title");u=tf.TFMap.CreateClassName("featurePropsDisplay","TextButton");B=tf.TFMap.CreateClassName("featurePropsDisplay",
"PropsImage");E=tf.TFMap.CreateClassName("featurePropsDisplay","PropsImageWrapper");tf.styles.CreateCSSClasses(g());(function(){var c=a.appContent;c.GetMapDiv();c.GetRootDiv();var d=tf.TFMap.LayoutSettings.customizedScrollBarClassName;k=new tf.dom.Div({cssClass:t});n=new tf.dom.Div({cssClass:D});h=new tf.dom.Div({cssClass:F+" "+d});d=b();r=c.CreateButton(tf.js.ShallowMerge(d,{buttonClass:K+" ripple",toolTipText:"Close"}));A=c.CreateButton(tf.js.ShallowMerge(d,{buttonClass:N+" ripple",toolTipText:"Get Directions"}));
var e=new tf.dom.Div({cssClass:H});d.toolTipClass="*center";d.toolTipArrowClass="right";l=c.CreateButton(tf.js.ShallowMerge(d,{buttonClass:I+" ripple",toolTipText:"Center Map to Location"}));m=new tf.dom.Div({cssClass:J});e.AddContent(l.GetButton());n.AddContent(r.GetButton(),A.GetButton(),m);k.AddContent(n,h,e)})();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(g())})};
tf.TFMap.AppSizer=function(a){function c(){e&&e()}var e;this.OnResize=function(){return c()};e=tf.js.GetFunctionOrNull(a.onResize);tf.events.AddDOMEventListener(window,tf.consts.DOMEventNamesResize,c);new tf.events.DOMFullScreenChangeListener({callBack:c,optionalScope:this})};
tf.TFMap.InputBox=function(a){function c(a,b,c){a&&a(tf.js.ShallowMerge(c,{sender:g,verb:b}))}function e(){c(k,h,{byUser:!0})}function d(a){13==tf.js.GetKeyCodeFromEvent(a)?c(l,n):e(!0)}function b(b){if(9==tf.js.GetKeyCodeFromEvent(b)){var c=b.shiftKey?a.nextFocusTarget:a.prevFocusTarget;if(c)return c.focus(),b.preventDefault&&b.preventDefault(),!1}}var g,f,k,h,l,n,m;this.GetInputBox=function(){return f};this.SetText=function(a,b){f.value=tf.js.GetNonEmptyString(a,"").substring(0,m).trim();b||c(k,
h,{byUser:!1})};this.GetText=function(){return f.value.trim()};this.GetUnTrimText=function(){return f.value};g=this;k=tf.js.GetFunctionOrNull(a.onChange);h=tf.js.GetNonEmptyString(a.changeVerb,"change");l=tf.js.GetFunctionOrNull(a.onGo);n=tf.js.GetNonEmptyString(a.goVerb,"change");m=tf.js.GetIntNumberInRange(a.maxLength,1,1E3,200);(function(a,c,h,g,k,l){f=document.createElement("input");void 0!==k&&(f.id=""+k);void 0!=l&&(f.autocomplete=l);f.type=tf.js.GetNonEmptyString(h,"text");tf.js.GetIsNonEmptyString(a)&&
(f.className=a);tf.js.GetIsNonEmptyString(g)&&(f.style=g);f.maxLength=m;f.placeholder=tf.js.GetNonEmptyString(c,"");f.addEventListener("keydown",b);f.addEventListener("keypress",d);f.addEventListener("change",e);f.addEventListener("paste",e);f.addEventListener("input",e)})(a.className,a.placeHolder,a.type,a.style,a.id,a.autocomplete)};
tf.TFMap.DataSetSearch=function(a){function c(b){a.appContent.GetAppCtx().SetCtxAttribute(a.updateVerb,q=b)}function e(a){a=a.properties;return a.Display_Label+"|"+a.lon+"|"+a.lat}function d(a,b){return a.priority-b.priority}function b(a){return a.key}function g(){var b=a.appContent.GetMap(),c=b.GetCenter(),b=b.GetResolution(),d=F+("&x1="+c[0]+"&y1="+c[1]+"&cres="+b)+C+"&filetype=.json";w=c;v=b;return d}function f(){var b=g();h&&h.Cancel();n=[];m=[];h=(new tf.ajax.JSONGet).Request(b,function(b){h=
void 0;n=[];m=[];t=!1;if(b.requestProps.gen==A){if((!tf.js.GetIsValidObject(b)||!tf.js.GetIsValidObject(b.data))&&tf.TFMap.UseCachedDataSets)try{switch(r){case "Hotels":b={data:hotels};break;case "Sights":b={data:geoImages};break;case "Restaurants":b={data:restaurants};break;case "MLS":b={data:callReal}}}catch(d){}if(tf.js.GetIsValidObject(b)&&tf.js.GetIsValidObject(b.data)){var f=b.data.features;if(t=tf.js.GetIsArray(f))if(u=w,B=v,tf.js.GetIsNonEmptyArray(f)){var g=(new Date).getTime();b=f.length;
for(var k=b-1;0<=k;--k){var q=f[k],C=q.properties,F=l.GetItem(q.key=e(q));F?(F.priority=g-b-2,l.Update(F)):(F=tf.js.GetNonEmptyString(C[a.markerNameField],r),"http://"==F.trim().toLowerCase().substring(0,7)&&(q.mapFeatureImageSrc=F),q.compassDirectionAngle=tf.js.CompassDirectionToAngle(C.compass_direction),q.mapFeatureText=F,q.priority=g+(b-k),n.push(q),l.Insert(q))}if(void 0!=E&&void 0==D){E>b&&(E=b);for(k=0;k<E;++k)q=f[k].geometry.coordinates.slice(0),D=tf.js.UpdateMapExtent(D,q);E=void 0}if(void 0!=
p){if(f=a.appContent.GetAppCtx().GetCtxAttribute(tf.TFMap.CAN_selectedSearch))if(f=tf.TFMap.GetSearchFeature(f))f.priority=g-b-3,l.Update(f);g=p;g<b&&(g=b);b=l.GetCount()-g;if(0<b)for(g=0;g<b;++g)m.push(l.PopRoot())}}}c(!1)}},k,{gen:++A},!1,void 0,void 0,void 0);c(!0)}var k,h,l,n,m,p,q,r,A,t,w,v,u,B,E,D,F,C;this.GetInitialExtent=function(){return D};this.GetDataSetTitle=function(){return r};this.GetColor=function(){return a.color};this.GetTitle=function(){return a.title};this.GetUpdateVerb=function(){return a.updateVerb};
this.GetCount=function(){return l.GetCount()};this.GetSettings=function(){return a};this.Search=function(){var b=void 0==u;if(!b&&a.appContent.GetAppCtx().GetCtxAttribute(a.autoRefreshVerb))var b=a.appContent.GetMap(),d=b.GetCenter(),b=b.GetResolution()!=B||d[0]!=u[0]||d[1]!=u[1];b&&(c(!0),f())};this.GetIsSearching=function(){return q};this.GetLastSearchCompletedOK=function(){return t};this.GetAddedAndDeletedSearchResults=function(){return{addedResults:n,deletedResults:m}};this.GetSearchItems=function(){return l.GetHeap()};
k=this;(function(){E=a.nDLayerExtent;t=!0;A=0;r=a.title;q=!1;p=a.maxRecords;l=new tf.js.BinaryHeap({compareFunction:d,getItemKeyFunction:b});n=[];m=[];var c=tf.js.GetNonEmptyString(a.urlStart,"http://acorn.cs.fiu.edu/cgi-bin/arquery.cgi?category=itpall&vid=itpa&numfind=20&tfaction=shortdisplayflash"),e=tf.urlapi.BreakUrlParamString(c),c=e.urlPart+e.tag,f="",e=e.paramsPart.split("&"),g=e.length;if(g){for(var h=!0,w=!1,v=0;v<g;++v){var u=e[v].indexOf("=");if(-1!=u){var B=e[v].substring(0,u),D=B.toLowerCase(),
u=e[v].substring(u+1,e[v].length),T=!1,U=!1;switch(D){case "numfind":case "filetype":U=!0;break;case "arcriteria":T=!0}U||(T&&(w=!0,h=!1),h?(w&&(c+="&"),c+=B+"="+u):(w&&(f+="&"),f+=B+"="+u),w=!0)}}h&&(f+="&arcriteria=1");f+="&numfind=20"}F=c;C=f;tf.js.GetNonEmptyString(a.urlStart,"http://acorn.cs.fiu.edu/cgi-bin/arquery.cgi?category=itpall&vid=itpa&numfind=20&tfaction=shortdisplayflash");a.searchMapFeatures.SetDataSet(k)})()};
tf.TFMap.ToolTipDisplayer=function(a){function c(a){a=a.GetHTMLElement();var b=a.style.display;a.removeAttribute("style");a.style.display=b}function e(a){var b=a?"block":"none";m.GetHTMLElement().style.display=n.GetHTMLElement().style.display=b;a||(p=void 0)}function d(a){p&&(l.CancelCallBack(),a&&void 0!=p.delayUse?(l.ChangeDelay(p.delayUse),l.DelayCallBack()):e(a))}function b(a){if(p&&tf.js.GetFunctionOrNull(p.onClick))p.onClick({sender:k,toolTipSender:p,order:a.target.tfToolTipButtonOrder})}function g(a,
b,c,d){a=Math.floor((a+1)/2);0>a&&(a=1);a+="px";c={content:"",position:"absolute",zIndex:""+c};c["border"+d[0]]=c["border"+d[1]]=a+" solid transparent";c["border"+d[2]]=a+" solid "+b;return c}function f(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=tf.TFMap.LayoutSettings,e=d.fontSizeToolTipInt,f=d.arrowDimsToolTipInt,h=d.zIndexToolTipInt,k=d.toolTipContentBackground;c[w]={inherits:[b.borderRadius2px,b.whiteSpaceNoWrap,b.pointerEventsAll,b.displayBlock,b.lightTextColor,b.toolTipBackground,
b.positionAbsolute],fontWeight:d.fontWeightToolTip,overflowY:"auto",overflowX:"hidden",maxHeight:"120px",zIndex:""+h,padding:"4px 8px",fontSize:e+"px",lineHeight:e+8+"px",maxWidth:"16rem",boxShadow:"1px 1px 2px rgba(0,0,0,0.2)"};d={inherits:[b.inheritBackgroundAndColorImageButton,b.overflowHidden,b.whiteSpaceNoWrap,b.displayBlock,b.lightTextShadow,b.textOverflowEllipsis],fontWeight:"inherit",width:"100%",background:"rgba(0, 0, 0, 0.1)",fontSize:"inherit",lineHeight:"inherit",borderTop:"1px solid transparent",
borderBottom:"1px solid transparent",textAlign:"inherit",marginBottom:"2px"};c[v]={inherits:[d,b.cursorPointer]};c[v+":hover"]={borderTop:"1px solid darkgray",borderBottom:"1px solid red",color:"#fff"};c[u]={inherits:[d,b.cursorDefault]};c[B]=g(f+1,k,h,["Top","Bottom","Right"]);c[E]=g(f+1,k,h,["Top","Bottom","Left"]);c[D]=g(f+1,k,h,["Left","Right","Bottom"]);c[F]=g(f+1,k,h,["Left","Right","Top"]);return c}var k,h,l,n,m,p,q,r,A,t;this.GetIsInHover=function(){return t};this.GetLastSender=function(){return p};
this.Show=function(a){if(!tf.TFMap.DontHideToolTipsDebug||a){var b=!1;h&&(h.removeChild(n.GetHTMLElement()),h.removeChild(m.GetHTMLElement()),h=h=void 0,r.Reset(),A.Reset());if(a){p=a;n.ClearContent();a=p.toolTipText;tf.js.GetFunctionOrNull(p.toolTipFunction)&&(a=p.toolTipFunction(p));tf.js.GetIsArray(a)||(a=[a]);for(var e=a.length,f=0,g=!!tf.js.GetFunctionOrNull(p.onClick),k=0;k<e;++k){var l=a[k],l=tf.js.GetFunctionOrNull(l)?l(p,l):l;if(void 0!=l){if(tf.js.GetIsNonEmptyString(l)){var w=g?r.GetNext():
A.GetNext();w.tfToolTipButtonOrder=k;w.innerHTML=l;l=w}++f;n.AddContent(l)}}if(0<f){b=n.GetHTMLElement().style;a=m.GetHTMLElement().style;var v=p.insertWrapper?tf.dom.GetHTMLElementFrom(p.insertWrapper).getBoundingClientRect():void 0,u=tf.dom.GetHTMLElementFrom(p.wrapper).getBoundingClientRect(),e=p.element?p.element.getBoundingClientRect():void 0;tf.dom.RemoveCSSClass(n,void 0);tf.dom.RemoveCSSClass(m,q);c(n);c(m);var O=f=!1,g=tf.js.GetNonEmptyString(p.toolTipArrowClassName,"left").toLowerCase();
tf.js.GetIsNonEmptyString(g)&&"*"==g.charAt(0)&&(f=!0,g=g.substring(1));k=tf.js.GetNonEmptyString(p.toolTipClassName,"center").toLowerCase();tf.js.GetIsNonEmptyString(k)&&"*"==k.charAt(0)&&(O=!0,k=k.substring(1));switch(k){case "start":break;default:case "center":k="center";case "end":}switch(g){default:case "left":g="left";l=B;break;case "right":l=E;break;case "top":l=D;break;case "bottom":l=F}tf.dom.AddCSSClass(m,q=l);if(tf.js.GetFunctionOrNull(p.toolTipStyle))p.toolTipStyle(p,u,e,b,a,v,k,g,O,f);
else{var T=tf.TFMap.LayoutSettings.arrowDimsToolTipInt,l=T/2,w=void 0!=p.offsetX?p.offsetX:0,U=void 0!=p.offsetY?p.offsetY:0,v=v?v:u,u=O?e.width/2-T:0,O=O?e.height/2-T:0,T=!1,S,Z,X,da,L,W,ca,ea,ba;switch(g){case "left":f?(S=e.left-v.left+w+l,L=e.left-v.left+w):(S=e.right-v.left+w+l,L=e.right-v.left+w);break;case "right":f?(X=v.right-e.right+w+l,ca=v.right-e.right+w):(X=v.right-e.left+w+2*l,ca=v.right-e.left+w+l);break;case "top":f?(Z=e.top-v.top+U+l,W=e.top-v.top+U):(Z=e.bottom-v.top+U+2*l,W=e.bottom-
v.top+U+l);T=!0;break;case "bottom":f?(da=v.bottom-e.bottom+U+l,ea=v.bottom-e.bottom+U):(da=v.bottom-e.top+U+2*l,ea=v.bottom-e.top+U+l),T=!0}if(T)switch(k){case "start":X=v.right-e.right+w+u;ca=v.right-e.right+w+l+u;break;case "end":S=e.left-v.left+w+u;L=e.left-v.left+w+l+u;break;case "center":S=e.left-v.left+w+e.width/2,L=e.left-v.left+w+e.width/2,ba="translateX(-50%)"}else switch(k){case "start":Z=e.top-v.top+U+O;W=e.top-v.top+U+O+l;break;case "end":da=v.bottom-e.bottom+U-l+O;ea=v.bottom-e.bottom+
U+O;break;case "center":Z=e.top-v.top+U+e.height/2,W=e.top-v.top+U+e.height/2,ba="translateY(-50%)"}b.transform=void 0!=ba?ba:"initial";b.left=void 0!=S?S+"px":"initial";b.right=void 0!=X?X+"px":"initial";b.top=void 0!=Z?void 0!=Z.length?Z:Z+"px":"initial";b.bottom=void 0!=da?da+"px":"initial";a.transform=void 0!=ba?ba:"initial";a.left=void 0!=L?L+"px":"initial";a.right=void 0!=ca?ca+"px":"initial";a.top=void 0!=W?W+"px":"initial";a.bottom=void 0!=ea?ea+"px":"initial"}t=!!p.startInHover;(h=tf.dom.GetHTMLElementFrom(p.insertWrapper?
p.insertWrapper:p.wrapper))?(h.appendChild(n.GetHTMLElement()),h.appendChild(m.GetHTMLElement())):h=void 0;b=!0}}d(b)}};this.RefreshToolTip=function(){p&&d(!1)};this.Hide=function(){return d(!1)};this.GetIsVisible=function(){return void 0!=h};var w,v,u,B,E,D,F;k=this;w=tf.TFMap.CreateClassName("ToolTip","Wrapper");v=tf.TFMap.CreateClassName("ToolTip","Button");u=tf.TFMap.CreateClassName("ToolTip","Span");B=tf.TFMap.CreateClassName("ToolTip","latt");E=tf.TFMap.CreateClassName("ToolTip","ratt");D=tf.TFMap.CreateClassName("ToolTip",
"tatt");F=tf.TFMap.CreateClassName("ToolTip","batt");tf.styles.CreateCSSClasses(f());n=new tf.dom.Div({cssClass:w+" "+tf.TFMap.LayoutSettings.customizedScrollBarClassName});m=new tf.dom.Div({cssClass:""});new tf.events.DOMMouseEnterLeaveListener({target:n,callBack:function(b){if(p){var c=b.event.target;c!=n.GetHTMLElement()&&c!=m.GetHTMLElement()||(t=b.isInHover)&&p.keepOnHoverOutTarget||a.appContent.GetAppCtx().SetCtxAttribute(tf.TFMap.CAN_selectedToolTipSender,void 0)}},optionalScope:k,callBackSettings:null});
t=!1;r=new tf.js.ObjectCache({createNew:function(a){a=document.createElement("button");a.className=v;a.addEventListener("click",b);return a},onDelete:function(a){}});A=new tf.js.ObjectCache({createNew:function(a){a=document.createElement("span");a.className=u;return a},onDelete:function(a){}});h=void 0;l=new tf.events.DelayedCallBack(tf.TFMap.toolTipDelayMillis,function(){e(!0)},k);d(!1);a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(f())})};
tf.TFMap.SearchBar=function(a){function c(){b().isActive&&a.appContent.SearchAddress(m.GetText())}function e(a){tf.dom.ReplaceCSSClassCondition(p.GetButton(),a,G,H)}function d(b){switch(b.sender){case p:tf.browser.GetIsFullScreen(document)?(tf.browser.ExitFullScreen(document),e(!0)):(tf.browser.RequestFullScreen(a.appContent.GetRootDiv().GetHTMLElement()),e(!1));break;case q:c();break;case r:a.appContent.GetAppCtx().SetCtxAttribute(tf.TFMap.CAN_showingDirections,!0)}}function b(){var b=a.appContent.GetAppCtx().GetCtxAttribute(tf.TFMap.CAN_isSearchingAddress),
c=0<m.GetText().length&&!b;return{isSearching:b,isActive:c}}function g(){var c=b(),d=c.isSearching,c=c.isActive;tf.dom.ReplaceCSSClassCondition(q.GetButton(),c,E,D);a.appContent.GetAppStyles();var c=m.GetInputBox(),e=tf.TFMap.LayoutSettings;d?(c.style.color=e.inactiveTextColor,c.disabled=!0,q.GetButton().style.display="none",A.GetButton().style.display="inline-block"):(c.style.color=e.darkTextColor,c.disabled=!1,A.GetButton().style.display="none",q.GetButton().style.display="inline-block")}function f(){return b().isActive?
"Search":"Type an address or a place to search"}function k(){g()}function h(){return tf.browser.GetIsFullScreen()?"Exit full screen":"Display full screen"}function l(){var b=a.appContent.GetAppStyles(),c=b.GetCSSClasses(),d=b.GetIsSmallScreen(),b=[],e=tf.TFMap.LayoutSettings,f=e.leftMarginInt,g=e.heightSearchBoxInt+"px",h=e.lightBackground,k=e.lightBackgroundHalfOpaque,m=e.searchBarInputHeightInt,l=m+"px",p=e.searchBarInputWidthInt,n=e.searchBarHorizPaddingInt,r=n+"px",q=e.searchBarInputFontSizeInt+
"px",A=p+2*n+2,W=d?10:20,n=d?"2px":"6px",ca=e.searchBarPaddingVerInt+"px",ea=e.searchBarPaddingHorInt,ba=ea+"px";b[t]={inherits:[c.positionRelative,c.whiteSpaceNoWrap,c.overflowVisible,c.pointerEventsAll,c.displayBlock,c.boxShadow01403,c.noBorder,c.lightBackground],marginTop:e.topMarginInt+"px",marginLeft:f+"px",width:"calc(100% - "+(f+2*ea)+"px)",borderRadius:"2px",height:g,paddingTop:ca,paddingBottom:ca,paddingLeft:ba,paddingRight:ba};b[w]={inherits:[c.noMarginNoBorderNoPadding,c.pointerEventsNone,
c.positionAbsolute,c.overflowVisible],top:"2px",left:A-W+"px",background:"linear-gradient(to right, "+k+","+h+")",padding:"0",width:W-3+"px",height:m-4+"px !important"};e={width:p+"px",height:l+" !important",padding:"0",verticalAlign:"middle",listStyle:"none",margin:"0 !important",overflow:"visible"};b[v]={inherits:[e,c.cursorText,c.noMarginNoBorderNoPadding,c.positionRelative,c.overflowVisible,c.displayInlineBlock],width:A+"px",marginRight:n};b[u]={inherits:[c.robotoFontFamily,e,c.positionAbsolute,
c.leftTopZero],color:"inherit",outline:"none",border:"none",fontSize:q,paddingLeft:r,paddingRight:r,borderLeft:"1px solid lightgray",borderRight:"1px solid lightgray",lineHeight:l+" !important",background:"white"};d={inherits:[c.baseImageButton,c.displayInlineBlock,c.verticalAlignMiddle],width:d?"32px":"40px",height:g,marginRight:d?"-8px":"0px"};b[B]={inherits:[d],marginRight:n};b[E]={inherits:[d,c.activeSearchButtonBackground]};b[D]={inherits:[d,c.inactiveSearchButtonBackground]};b[F]={inherits:[d,
c.loadingBackground],boxShadow:"none"};b[C]={inherits:[d,c.directionsButtonBackground]};b[G]={inherits:[c.goFullScreenBackground]};b[H]={inherits:[c.restoreFullScreenBackground]};return b}var n,m,p,q,r,A;this.CheckSearchActive=function(){return g()};this.GetWrapper=function(){return n};this.SetSearchText=function(a){m.SetText(a);g()};this.GetSearchText=function(){return m.GetText()};var t,w,v,u,B,E,D,F,C,G,H;t=tf.TFMap.CreateClassName("searchBar","Wrapper");w=tf.TFMap.CreateClassName("searchBar",
"InputFade");v=tf.TFMap.CreateClassName("searchBar","InputWrapper");u=tf.TFMap.CreateClassName("searchBar","Input");B=tf.TFMap.CreateClassName("searchBar","MenuButton");E=tf.TFMap.CreateClassName("searchBar","Active");D=tf.TFMap.CreateClassName("searchBar","Inactive");F=tf.TFMap.CreateClassName("searchBar","Searching");C=tf.TFMap.CreateClassName("searchBar","Directions");G=tf.TFMap.CreateClassName("searchBar","gfsbg");H=tf.TFMap.CreateClassName("searchBar","rfsbg");tf.styles.CreateCSSClasses(l());
(function(){var b=new tf.dom.Div({cssClass:w}),l=new tf.dom.Div({cssClass:v});n=new tf.dom.Div({cssClass:t});m=new tf.TFMap.InputBox({onChange:k,onGo:c,placeHolder:a.placeHolder,className:u,maxLength:tf.TFMap.maxCharsAddressInput});l.AddContent(m.GetInputBox(),b);var b=a.appContent,E={offsetY:-(tf.TFMap.LayoutSettings.fontSizeToolTipInt/2+2),onClick:d,onHover:void 0,wrapper:n,delayMillis:0,toolTipClass:"*start",toolTipArrowClass:"top"};p=b.CreateButton(tf.js.ShallowMerge(E,{buttonClass:B,toolTipText:h,
toolTipClass:"*end"}));q=b.CreateButton(tf.js.ShallowMerge(E,{buttonClass:"",toolTipText:f}));r=b.CreateButton(tf.js.ShallowMerge(E,{buttonClass:C,toolTipText:"Get Directions"}));A=b.CreateButton(tf.js.ShallowMerge(E,{buttonClass:F,toolTipText:"Searching..."}));A.GetButton().style.display="none";e(!0);g();n.AddContent(p.GetButton(),l,q.GetButton(),A.GetButton(),r.GetButton())})();tf.js.GetIsNonEmptyString(a.initialText)&&(m.SetText(a.initialText),g());a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(l())})};
tf.TFMap.SearchMapFeatures=function(a){function c(b,c,d,e){if(c&&(c=tf.js.CalcVertexInfos(c,d),2<=c.length)){d=a.appContent.GetMap();var f=w();b=b.getContext("2d");var g=d.GetVisibleExtent();tf.js.DrawMeasuredVertices(tf.js.ShallowMerge({showArea:!0,showIntermediateLenghts:!0},e,{map:d,ctx:b,distances3Units:tf.TFMap.LayoutSettings.distances3Units,vertexInfos:c,showingHybrid:f,extent:g}))}}function e(a){var b=a.props;return c(a.pcNotification.canvas,b.polyMeasure,b.polyArea,{})}function d(b){var d=
b.props,e=a.appContent,f=e.GetMap().GetLevel(),g=d.polyArea,e=e.GetAppStyles().GetIsSmallScreen()?15:16,h=1E5<=g,h=h?e+1:!h&&1E4<g?e+2:e+3,k=h+0;c(b.pcNotification.canvas,d.polyMeasure,g,{colorSeg:d.color,lineWidth:J,largerFontSize:"18px",showIntermediateLenghts:f>=k+1,skipScaleText:f<k,skipTics:f<h,skipMeasures:f<e})}function b(a,b,c){tf.js.GetIsNonEmptyString(c)&&(b.linkStr=c,a.push(b))}function g(a){var b=a.toolTipSender;a=(b?b:a.sender).GetSettings().buttonSettings.linkStr;tf.js.GetIsNonEmptyString(a)&&
window.open(a,"_top")}function f(b){b&&(a.appContent.GetAppCtx().SetCtxAttribute(tf.TFMap.CAN_selectedSearch,b),a.appContent.ShowMapFeatureProps(b))}function k(a){f(a.toolTipSender.mapFeature)}function h(b){b.GetSettings();var c="";b=tf.TFMap.GetSearchProps(b);var d=a.appContent.GetMapFeaturePropsDisplayer();if(b){var c=d.CreateMapFeatureTitleSpan(b.Display_Label,a.color),e,f=tf.js.GetNonEmptyString(b.Display_Thumbnail,void 0);tf.js.GetIsNonEmptyString(f)&&(e=tf.js.GetNonEmptyString(b.Display_Summary_Short_Text),
tf.js.GetIsNonEmptyString(e)&&(c+=d.CreateMapFeatureTextSpan(e)),c+=d.CreateMapFeatureImageDiv(f));e=tf.js.GetNonEmptyString(b.Display_Summary_Longer_Text_HTML,tf.js.GetNonEmptyString(b.Display_Summary_Midsize_Text,void 0));tf.js.GetIsNonEmptyString(e)&&(c+=d.CreateMapFeatureTextSpan(e))}return{innerHTML:c}}function l(a,b){for(var c in b){var d=b[c];d.isVisible!=D?(D?a.AddMapFeature(d,!0):a.DelMapFeature(d,!0),d.isVisible=D):console.log("unexpected feature visibility status")}D?a.AddWithheldFeatures():
a.DelWithheldFeatures()}function n(){D=a.appContent.GetAppCtx().GetCtxAttribute(a.visibilityVerb)}function m(a){var b=F.GetSearchItems(),c=F.GetCount(),d=[];a=a.geometry.coordinates;for(var e=0;e<c;++e){var f=b[e],g=tf.units.GetHaversineDistance(f.geometry.coordinates,a);d.push({result:f,distance:g})}d.sort(function(a,b){var c=a.distance,d=b.distance;return c==d?0:c<d?-1:1});return d}function p(a){var b=a.GetSettings();if(!b.hasStaticBottomContent&&(a=tf.TFMap.GetSearchFeature(a),void 0!=a.properties.Display_Thumbnail)){a=
m(a);for(var c=a.length,d=[],e=[],f=[],g=[],h=0,k=0;k<c&&19>h;++k){var l=a[k],p=l.result.properties,n=p.Display_Thumbnail;void 0!=n&&(f.push(p.coords),d.push(n),e.push(p.Display_Label),g.push(l),++h)}0<g.length&&(b.bottomContentType=tf.TFMap.BottomContentTypes.photos,b.bottomContent={photoTitles:e,toolTipText:q,photosToMapCoords:f,photoNames:d,onClick:t,shownNeighbors:g})}}function q(a){return"View "+a.photoList.GetLastContentSettings().shownNeighbors[a.index].result.properties.Display_Label}function r(b){var c=
b.GetSettings();void 0==c.bottomContent||c.hasStaticBottomContent||void 0==tf.TFMap.GetSearchFeature(b).properties.Display_Thumbnail||(c.bottomContent=void 0);c=a.appContent.GetAppCtx();b==c.GetCtxAttribute(tf.TFMap.CAN_selectedSearch)&&c.SetCtxAttribute(tf.TFMap.CAN_selectedSearch,void 0)}function A(b){a.appContent.ShowPhoto({photoListDisplayer:b.sender,photoName:b.photoName},b.button.GetButton())}function t(b){var c=b.sender,d=c.GetLastPhotoList().GetLastContentSettings().shownNeighbors[b.index],
e=d.result,f=e.properties;b.isSelect?(b=a.appContent,c=e.key,b.GetIsShowingPhoto()&&b.GetPhotoDisplayer().OnClose(),u(v(c))):(e=f.Display_Label,f=F.GetDataSetTitle(),e=tf.TFMap.MapTwoLineSpan("Click to select in '"+f+"'",e),a.appContent.ShowPhoto({photoListDisplayer:c,theRecord:d,photoName:b.photoName,onClick:B,toolTipText:e},b.button.GetButton()))}function w(){return a.appContent.GetIsShowingAerial()}function v(a){return w()?C[a]:G[a]}function u(b){if(b){var c=a.appContent;f(b);c.AnimatedSetCenterIfDestVisible(b.GetPointCoords())}}
function B(a){a.sender.OnClose();u(v(a.photoSettings.theRecord.result.key))}function E(a){a=a.mapFeature.GetSettings().searchFeature.properties;a=tf.js.GetNonEmptyString(a.Display_Label,a.L);tf.js.GetIsNonEmptyString(a)||(a=F.GetDataSetTitle()+" search result");return a}var D,F,C,G,H,I,J;this.SetDataSet=function(a){F=a};this.GetSearchFeaturesForToolTip=function(){return C};this.GetIsVisible=function(){return D};this.UpdateVisibility=function(){var b=D;n();b!=D&&(b=a.layerMapB,l(a.layerHybridB,C),
l(b,G))};this.UpdateSearchFeatures=function(c){if(tf.js.GetIsValidObject(c)){n();var f=a.layerHybridB,m=a.layerMapB,l={toolTipText:E,onClick:k,keepOnHoverOutTarget:!0,offsetX:12},t=tf.js.ShallowMerge(l),q=a.appContent;q.GetAppStyles();var v=q.GetAppCtx(),u=c.addedResults,B=u.length;c=c.deletedResults;var Z=c.length,X=v.GetCtxAttribute(tf.TFMap.CAN_selectedSearch),da=a.minZIndex;delete t.toolTipText;delete t.onClick;t.keepOnHoverOutTarget=!1;void 0==C&&(C={});void 0==G&&(G={});for(var L=[{line:!0,
line_color:"#45f7f7",line_width:2,zindex:2},{fill:!0,fill_color:"#fff",fill_opacity:25,zindex:3}],W=[{zindex:5,circle:!0,circle_radius:12,fill:!0,fill_color:"#fff",line:!0,line_color:"#45f7f7",line_width:2,line_opacity:30},{zindex:6,font:"600 14px Roboto",text:!0,fill:!0,fill_color:"#037",line:!0,line_opacity:70,line_color:"#fffffc",line_width:2}],ca=[{line:!0,line_color:"#000",zindex:1,line_width:J+2,line_opacity:70,line_cap:"round"}],ea=q.GetMapFeaturePropsDisplayer(),ba,B=B-1;0<=B;--B){var fa=
u[B],qa=fa.key,pa=ea.GetMapFeaturePropsTextButtonClass();if(void 0==C[qa]){var ua=void 0,aa=fa.properties,oa=fa.geometry,Da=oa.coordinates,ra=void 0,Ha,ma=void 0,ia=[],ja=void 0,V=void 0,ha=void 0;b(ia,{buttonClass:pa,toolTipText:"View Detail Report",clickVerb:"detail",buttonText:"Detail"},aa.Display_Link_Detail);b(ia,{buttonClass:pa,toolTipText:"View Nearby Report",clickVerb:"nearby",buttonText:"Nearby"},aa.Display_Link_Report_Recentered);b(ia,{buttonClass:pa,toolTipText:"View Location Report",clickVerb:"location",
buttonText:"Location"},aa.Display_Link_Location);b(ia,{buttonClass:pa,toolTipText:"Professional detail report for realtors only",clickVerb:"pro",buttonText:"Pro"},aa.Display_Link_Pro);if(pa=tf.js.GetNonEmptyString(aa.photo,void 0))Ha=tf.TFMap.BottomContentTypes.photos,ra={photoNamesStr:pa,onClick:A},fa.mapFeatureText="* "+fa.mapFeatureText;if(tf.js.GetIsNonEmptyString(aa.place_boundary)){if(aa=aa.place_boundary.split("coordinates:"),2==aa.length&&(aa=aa[1],2<aa.length&&(aa=aa.substring(0,aa.length-
2),aa=tf.js.JSONParse(aa))))ja=new tf.map.Feature({type:"polygon",coordinates:aa,style:ca,originalSearchFeature:fa,toolTipCoords:Da}),V=aa[0].slice(0),V=V.slice(0,V.length-1),ha=ja.GetGeom().GetArea(),ua=d,ma=[],ma.push(ja)}else if(void 0!==aa.UC_X1){var na=tf.js.GetLongitudeFrom(aa.UC_X1),ua=tf.js.GetLongitudeFrom(aa.UC_X2),ja=tf.js.GetLongitudeFrom(aa.UC_X3),ma=tf.js.GetLongitudeFrom(aa.UC_X4),za=tf.js.GetLatitudeFrom(aa.UC_Y1),pa=tf.js.GetLatitudeFrom(aa.UC_Y2),V=tf.js.GetLatitudeFrom(aa.UC_Y3),
ha=tf.js.GetLatitudeFrom(aa.UC_Y4),aa=[na,za],ua=[ua,pa],V=[ja,V],ha=[ma,ha],pa=[aa,ua,V,ha,aa],ja=new tf.map.Feature({type:"polygon",coordinates:[pa],style:L,originalSearchFeature:fa,toolTipCoords:Da}),ma=[];ma.push(ja);tf.TFMap.SetMapFeatureToolTipProps(ja,tf.js.ShallowMerge(t,{toolTipText:"Image boundaries"}));for(na=0;na<pa.length-1;++na){var za=" #"+(na+1),Y=W.slice(0),P=pa[na];Y[1]=tf.js.ShallowMerge(Y[1],{label:za});Y=new tf.map.Feature({type:"point",coordinates:P,style:Y,originalSearchFeature:fa});
ma.push(Y);P=P[1].toFixed(5)+", "+P[0].toFixed(5);za=tf.TFMap.MapTwoLineSpan("Boundary vertex "+za,P);tf.TFMap.SetMapFeatureToolTipProps(Y,tf.js.ShallowMerge(t,{toolTipText:za}))}V=[aa,ua,V,ha];ha=ja.GetGeom().GetArea();ua=e}ia={searchFeature:fa,onPrepareForPropsDisplay:p,showToolTip:void 0!=fa.mapFeatureImageSrc,minZIndex:da,getDisplayProps:h,additionalFeatures:ma,onPostCompose:ua,polyMapFeature:ja,polyMeasure:V,polyArea:ha,hasStaticBottomContent:void 0!=ra,bottomContentType:Ha,bottomContent:ra,
onClose:r,isInLayer:!0,color:a.color,text:fa.mapFeatureText,imageSrc:fa.mapFeatureImageSrc,compassDirectionAngle:fa.compassDirectionAngle,onClick:g,addButtons:ia};ra=tf.js.ShallowMerge(ia,{isForHybrid:!0});a.addStyles(oa,ra);ra=new tf.map.Feature(tf.js.ShallowMerge(oa,ra));ia=tf.js.ShallowMerge(ia,{isForHybrid:!1});a.addStyles(oa,ia);oa=new tf.map.Feature(tf.js.ShallowMerge(oa,ia));tf.TFMap.SetMapFeatureToolTipProps(ra,l);tf.TFMap.SetMapFeatureToolTipProps(oa,l);fa.properties.coords=Da;if(ra.isVisible=
oa.isVisible=D)f.AddMapFeature(ra,!0),m.AddMapFeature(oa,!0);C[qa]=ra;G[qa]=oa;void 0==ba&&(ba=qa)}}l=!1;for(B=0;B<Z;++B)fa=c[B],qa=fa.key,t=C[qa],u=G[qa],t&&(delete C[qa],X==t&&(l=!0),D&&t.isVisible&&f.DelMapFeature(t,!0)),u&&(delete G[qa],X==u&&(l=!0),D&&u.isVisible&&m.DelMapFeature(u,!0));f.DelWithheldFeatures();m.DelWithheldFeatures();f.AddWithheldFeatures();m.AddWithheldFeatures();l&&(v.SetCtxAttribute(tf.TFMap.CAN_selectedSearch,void 0),q.ShowMapFeatureProps(void 0));I?(I=!1,void 0!=ba&&(f=
w?C[ba]:G[ba])&&q.ShowMapFeatureProps(f)):void 0!=H&&0<H&&(f=F.GetInitialExtent(),q.SetMapExtent(f),H=void 0)}};J=3;H=(I=a.dlayerPreClick)?void 0:a.nDLayerExtent;n()};
tf.TFMap.SidePane=function(a){function c(b){a.appContent.GetAppCtx().SetCtxAttribute(tf.TFMap.CAN_sidePanelVisible,k.GetIsToggled())}function e(){return(h?"Collapse":"Expand")+" side panel"}function d(a){tf.dom.ReplaceCSSClassCondition(g,h=a,p,m);k.SetIsToggled(h)}function b(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=tf.TFMap.LayoutSettings,e=d.sidePanelWidthInt,f=d.topMarginInt+"px",g=d.lightBackground,h=d.toggleButtonHeightInt+"px";c[l]={inherits:[b.transitionPoint2s,b.leftTopZero,
b.HOneHundred,b.displayBlock,b.overflowVisible,b.backgroundColorTransparent,b.cursorDefault,b.pointerEventsNone,b.noMarginNoBorderNoPadding,b.positionAbsolute],zIndex:""+(d.rootDivZIndex+d.sidePaneWrapperZIndexAdd),width:e+"px"};c[n]={inherits:[b.pointerEventsNone,b.WHOneHundred,b.displayBlock,b.overflowShow,b.backgroundColorTransparent,b.cursorDefault,b.noMarginNoBorderNoPadding,b.positionAbsolute,b.leftTopZero,b.zIndex1]};c[m]={transform:"translateX(-"+e+"px)","-webkit-transform":"translateX(-"+
e+"px)"};c[p]={transform:"translateX(0px)","-webkit-transform":"translateX(0px)"};c[q]={inherits:[b.borderRadius2px,b.pointerEventsAll,b.whiteSpaceNoWrap,b.displayBlock,b.overflowVisible,b.cursorDefault,b.noMargin,b.noPadding,b.positionAbsolute,b.zIndex1],left:"calc(100% + 1px)",top:f,background:g};c[r]={inherits:[b.borderRadius2px,b.baseImageButton,b.borderLeftD4,b.boxShadow01403,b.overflowHidden],width:"23px",height:h};c[r+":hover"]={border:"1px solid rgba(0,48,118,0.4)"};return c}var g,f,k,h;this.GetContentPane=
function(){return f};this.GetWrapper=function(){return g};this.CheckIsVisible=function(){var b=a.appContent.GetAppCtx().GetCtxAttribute(tf.TFMap.CAN_sidePanelVisible);h!=b&&d(b)};var l,n,m,p,q,r;l=tf.TFMap.CreateClassName("sidePane","Wrapper");n=tf.TFMap.CreateClassName("sidePane","Content");m=tf.TFMap.CreateClassName("sidePane","Collapsed");p=tf.TFMap.CreateClassName("sidePane","Visible");q=tf.TFMap.CreateClassName("sidePane","ToggleButtonWrapper");r=tf.TFMap.CreateClassName("sidePane","ToggleButton");
tf.styles.CreateCSSClasses(b());(function(){var b=a.appContent,h=a.appContent.GetAppCtx().GetCtxAttribute(tf.TFMap.CAN_sidePanelVisible),m=new tf.dom.Div({cssClass:q}),p=tf.TFMap.LayoutSettings,u={onClick:c,onHover:void 0,wrapper:m,delayMillis:0,toolTipClass:"center",toolTipArrowClass:"left",toolTipStyle:void 0};g=new tf.dom.Div({cssClass:l});f=new tf.dom.Div({cssClass:n});k=b.CreateToggleButton(tf.js.ShallowMerge(u,{offsetX:4,buttonClass:r+" ripple",classToggled:p.arrowLeftBackgroundClassName,classNotToggled:p.arrowRightBackgroundClassName,
isToggled:h,toolTipText:e}));m.AddContent(k.GetButton());g.AddContent(f,m);d(h)})();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(b())})};
tf.TFMap.BottomPane=function(a){function c(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=tf.TFMap.LayoutSettings,e=d.underBottomPaneHeightInt,t=d.marginBottomBottomPaneWrapperInt,w=t+"px",v=d.sidePanelWidthInt+"px";c[n]={inherits:[b.zIndex1,b.transitionPoint2s,b.displayBlock,b.overflowVisible,b.backgroundColorTransparent,b.cursorDefault,b.pointerEventsNone,b.noMarginNoBorderNoPadding,b.positionAbsolute],height:"1px"};c[m]={inherits:[b.pointerEventsNone,b.WHOneHundred,b.displayBlock,b.overflowShow,
b.backgroundColorTransparent,b.cursorDefault,b.noMarginNoBorderNoPadding,b.positionAbsolute,b.leftTopZero,b.zIndex1]};c[l]={inherits:[b.transitionPoint2s,b.displayBlock,b.overflowVisible,b.backgroundColorTransparent,b.cursorDefault,b.pointerEventsNone,b.noMarginNoBorderNoPadding,b.positionAbsolute],zIndex:""+(d.rootDivZIndex+d.underBottomWrapperZIndexAdd),bottom:w,top:"calc(100% + "+w+")",left:"0px",height:e+"px",width:"100%"};c[g+" ."+n]={bottom:e+t+"px"};c[f+" ."+n]={bottom:w};c[k+" ."+n]={inherits:[b.WOneHundred],
left:"0px"};c[h+" ."+n]={width:"calc(100% - "+v+")",left:v};return c}var e,d,b,g,f,k,h,l;this.GetPositionClasses=function(){return{upClassName:g,downClassName:f,fullWidthClassName:k,widthWithSidePanelClassName:h}};this.GetContentPane=function(){return d};this.GetWrapper=function(){return e};this.GetUnderBottomWrapper=function(){return b};var n,m;n=tf.TFMap.CreateClassName("bottomPane","Wrapper");m=tf.TFMap.CreateClassName("bottomPane","Content");l=tf.TFMap.CreateClassName("bottomPane","UnderBottomWrapper");
g=tf.TFMap.CreateClassName("bottomPane","Up");f=tf.TFMap.CreateClassName("bottomPane","Down");k=tf.TFMap.CreateClassName("bottomPane","FullWidth");h=tf.TFMap.CreateClassName("bottomPane","WithSidePanel");tf.styles.CreateCSSClasses(c());e=new tf.dom.Div({cssClass:n});d=new tf.dom.Div({cssClass:m});b=new tf.dom.Div({cssClass:l});d.AddContent(b);d.AddContent();e.AddContent(d);a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(c())})};
tf.TFMap.Compass=function(a){function c(b){var c,d=a.appContent.GetMap();switch(b.sender){case l:d.AnimatedResetRotation();break;case h:c=1;break;case n:c=-1}void 0!=c&&(b=d.GetRotationRad()+c*Math.PI/8,d.AnimatedSetRotation(b))}function e(a){return tf.TFMap.MapTwoLineSpan("Shift + Alt + mouse drag rotates the map",a)}function d(){l&&tf.GetStyles().RotateByDegree(l.GetButton(),a.appContent.GetMap().GetRotationDeg())}function b(a){d()}function g(){var b=a.appContent.GetAppStyles().GetCSSClasses(),
c=[],d=tf.TFMap.LayoutSettings,e=d.widthMapToolBarInt,f=e+"px";c[m]={inherits:[b.whiteSpaceNoWrap,b.boxShadow002003,b.pointerEventsAll,b.positionAbsolute],borderRadius:"4px",bottom:"0px",right:d.widthMapToolBarInt+d.leftMarginInt+d.toolBarToToolBarHorSpacingInt+"px",padding:"2px"};c[r]={inherits:[b.boxShadow002003,b.baseImageButton,b.verticalAlignMiddle,b.displayInlineBlock],width:Math.floor(e/1.6)+"px",height:f};c[r+" svg"]={width:"calc(100% - 9px)",height:"calc(100% - 9px)"};c[r+":hover"]={border:"none"};
c[p]={marginRight:"4px",marginLeft:"2px"};c[q]={marginLeft:"4px",marginRight:"2px"};c[t]={inherits:[b.boxShadow002003,b.displayInlineBlock]};c[t+" svg"]={width:"calc(100% - 1px)",height:"calc(100% - 1px)"};c[t+":hover"]={border:"none"};c[A]={inherits:[b.baseImageButton,b.verticalAlignMiddle],borderRadius:"50%",marginLeft:"4px",marginRight:"4px",width:f,height:f};return c}function f(a){tf.styles.CreateCSSClasses(g())}var k,h,l,n,m,p,q,r,A,t;this.GetWrapper=function(){return k};(function(){m=tf.TFMap.CreateClassName("mapCompass",
"Wrapper");r=tf.TFMap.CreateClassName("mapCompass","ClockAntiClockButton");A=tf.TFMap.CreateClassName("mapCompass","CompassButton");t=tf.TFMap.CreateClassName("mapCompass","CompassButtonSVG");p=tf.TFMap.CreateClassName("mapCompass","AntiClockButton");q=tf.TFMap.CreateClassName("mapCompass","ClockButton");tf.styles.CreateCSSClasses(g());var w=tf.TFMap.LayoutSettings;k=new tf.dom.Div({cssClass:m+" "+w.aerialOrMapColorScheme});var w=a.appContent,v={onClick:c,onHover:void 0,wrapper:k,delayMillis:tf.TFMap.toolTipDelayMillis,
toolTipClass:"*start",toolTipArrowClass:"bottom"},u=!1;a.compassButtons&&(n=w.CreateButton(tf.js.ShallowMerge(v,{svgHTML:w.GetAppStyles().GetArrowDownFlipSVG(),buttonClass:r+" "+p+" ripple",toolTipText:e("Rotate Counter-clockwise")})),l=w.CreateButton(tf.js.ShallowMerge(v,{svgHTML:w.GetAppStyles().GetCompassSVG(),buttonClass:t+" "+A+" ripple",toolTipText:e("Reset Rotation")})),h=w.CreateButton(tf.js.ShallowMerge(v,{svgHTML:w.GetAppStyles().GetArrowDownSVG(),buttonClass:r+" "+q+" ripple",toolTipText:e("Rotate Clockwise")})),
u=!0,k.AddContent(n.GetButton(),l.GetButton(),h.GetButton()));u||(w=tf.TFMap.LayoutSettings,v=k.GetHTMLElement().style,v.width="1px",v.padding=v.margin=v.border="0px",v.marginRight=-w.toolBarToToolBarHorSpacingInt+"px");d();w=a.appContent;w.GetAppStyles().AddOnLayoutChangeListener(f);w.GetMap().AddListener(tf.consts.mapRotationChangeEvent,b)})()};
tf.TFMap.MapToolBar=function(a){function c(){setTimeout(function(){a.appContent.OnMapLevelChange()},0)}function e(b){var d;switch(b.sender){case f:d=1;break;case k:d=-1;break;case g:a.appContent.ShowUserLocation()}void 0!=d&&(b=a.appContent.GetMap(),d=b.GetLevel()+d,d>=tf.TFMap.MinMapLevel&&d<=tf.TFMap.MaxMapLevel&&b.AnimatedSetLevel(d,c,200,void 0))}function d(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=tf.TFMap.LayoutSettings,e=d.widthMapToolBarInt+"px";c[h]={inherits:[b.boxShadow002003,
b.borderRadius2px,b.pointerEventsAll,b.positionAbsolute],bottom:d.topMarginInt+"px",right:d.leftMarginInt+"px",padding:"4px"};c[l]={inherits:[b.borderRadius2px,b.boxShadow002003,b.displayFlex,b.flexFlowRowNoWrap]};c[l+" svg"]={width:"calc(100% - 10px)",height:"calc(100% - 10px)",margin:"auto"};c[l+":hover"]={border:"none"};b={inherits:[b.baseImageButton,b.verticalAlignMiddle],width:e,height:e};c[n]={inherits:[b]};c[q]={marginBottom:"18px"};c[m]={inherits:[b],marginBottom:"6px"};c[p]={inherits:[b]};
return c}var b,g,f,k,h,l,n,m,p,q;this.GetWrapper=function(){return b};h=tf.TFMap.CreateClassName("mapToolBar","Wrapper");l=tf.TFMap.CreateClassName("mapToolBar","ToolBarButton");n=tf.TFMap.CreateClassName("mapToolBar","GeoLocationButton");m=tf.TFMap.CreateClassName("mapToolBar","ZoomInButton");p=tf.TFMap.CreateClassName("mapToolBar","ZoomOutButton");q=tf.TFMap.CreateClassName("mapToolBar","SeparatorMarginBottom");tf.styles.CreateCSSClasses(d());(function(){var c=tf.TFMap.LayoutSettings;b=new tf.dom.Div({cssClass:h+
" "+c.aerialOrMapColorScheme});var c=a.appContent,d={onClick:e,onHover:void 0,wrapper:b,delayMillis:tf.TFMap.toolTipDelayMillis,toolTipClass:"center",toolTipArrowClass:"right"},t=!1;a.userLocation&&(t=n,a.zoom&&(t+=" "+q),g=c.CreateButton(tf.js.ShallowMerge(d,{svgHTML:c.GetAppStyles().GetGeolocationSVG(),buttonClass:l+" "+t+" ripple",toolTipText:"Show Your Location"})),b.AddContent(g.GetButton()),t=!0);a.zoom&&(f=c.CreateButton(tf.js.ShallowMerge(d,{svgHTML:c.GetAppStyles().GetAddSVG(),buttonClass:l+
" "+m+" ripple",toolTipText:"Zoom In"})),k=c.CreateButton(tf.js.ShallowMerge(d,{svgHTML:c.GetAppStyles().GetMinusSVG(),buttonClass:l+" "+p+" ripple",toolTipText:"Zoom Out"})),b.AddContent(f.GetButton(),k.GetButton()),t=!0);t||(c=tf.TFMap.LayoutSettings,d=b.GetHTMLElement().style,d.width="1px",d.padding=d.margin=d.border="0px",d.marginRight=-(c.widthMapToolBarInt+c.toolBarToToolBarHorSpacingInt)+"px")})();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(d())})};
tf.TFMap.MapRevGeoCodedLocation=function(a){function c(){if(tf.js.GetFunctionOrNull(a.onShown))a.onShown({sender:l,isShowing:m})}function e(){n&&m&&(m=!1,a.layer.DelMapFeature(n),c())}function d(b){var c=b.sender;tf.js.GetFunctionOrNull(b.sender.GetSettings)||(c=b.toolTipSender);if(tf.js.GetFunctionOrNull(c.GetSettings))switch(c.GetSettings().buttonSettings.clickVerb){case "hide":e();a.appContent.ShowMapFeatureProps(void 0);break;case "godb":a.appContent.GoDB(n.GetPointCoords())}}function b(b){b=
a.appContent.GetMapFeaturePropsDisplayer();var c=n.GetSettings(),e="",f=c.notification,e=b.GetMapFeaturePropsTextButtonClass(),g=[];g.push({buttonClass:e,toolTipText:"Get Local Reports for this location",clickVerb:"godb",buttonText:"Reports"});g.push({buttonClass:e,toolTipText:"Remove location marker from map",clickVerb:"hide",buttonText:"Remove"});c.onClick=d;c.addButtons=g;e=b.CreateMapFeatureTitleSpan(a.locationName,"#fff");f?f.HTML?(b=f.HTML,b=b.replace(/<font color="#0000FF">/g,""),b=b.replace(/<\/font>/g,
""),e+=b):e+="Information not found":e+='<div style="width=100%;text-align: center;">Retrieving...</div>';return{innerHTML:e}}function g(b){a.dontHideWhenPropsClose||e()}function f(b){b&&tf.js.GetIsNonEmptyString(b.HTML)&&(n.GetSettings().notification=b,a.appContent.ShowMapFeatureProps(n));q=!1}function k(d){if(d){q=!0;var e=a.appContent,h=e.GetMap(),k=e.GetAppStyles(),p;if(n){n.GetSettings().notification=void 0;m||(a.layer.AddMapFeature(n),m=!0);var u=n.GetPointCoords();if(u[0]!=d[0]||u[1]!=d[1])n.SetPointCoords(d),
p=[d]}else p={toolTipText:a.locationName,keepOnHoverOutTarget:!1,offsetX:24},u=a.getMapFeatureStyle({sender:l,coords:d}),n=new tf.map.Feature(tf.js.ShallowMerge(u,{getDisplayProps:b,onClose:g,notification:void 0})),tf.TFMap.SetMapFeatureToolTipProps(n,p),a.layer.AddMapFeature(n),m=!0,p=[d];void 0!=p&&(k.FlashCoords(e.GetMap(),p,"#00f"),c());e=e.GetVidPassThrough();new tf.services.TFReverseGeocoder({callBack:f,pointCoords:d,resolution:h.GetResolution(),vidParam:e.passThrough.vid,passThrough:e.passThrough})}}
function h(){navigator.geolocation&&(p=!0,navigator.geolocation.getCurrentPosition(function(a){k([a.coords.longitude,a.coords.latitude])},function(a){p=!1}))}var l,n,m,p,q;this.PanToMapFeature=function(){n&&a.appContent.AnimatedSetCenterIfDestVisible(n.GetPointCoords())};this.GetMapFeature=function(){return n};this.GetIsGeoCoding=function(){return p};this.GetIsRevGeoCoding=function(){return q};this.GetIsShowing=function(){return m};this.Show=function(b){p=q=!1;b?(e(),k(b)):a.dontGeoLocate?k(b):(e(),
h())};l=this;p=m=!1};
tf.TFMap.MapClickedLocation=function(a){function c(b){var c=a.appContent;c.GetAppCtx().SetCtxAttribute(tf.TFMap.CAN_clickLocation,b.isShowing?d.GetMapFeature():void 0);b.isShowing&&c.ShowMapFeatureProps(d.GetMapFeature())}function e(b){var c=a.appContent.GetAppStyles();return c.GetSVGMapMarkerWithFrameGeom(b.coords,c.GetTapImage(),[24,24],32)}var d;d=this;(function(){var b=tf.js.ShallowMerge(a,{onShown:c,locationName:"Clicked Location",getMapFeatureStyle:e,dontHideWhenPropsClose:!0});tf.TFMap.MapRevGeoCodedLocation.call(d,
b)})()};tf.js.InheritFrom(tf.TFMap.MapClickedLocation,tf.TFMap.MapRevGeoCodedLocation);
tf.TFMap.MapUserLocation=function(a){var c;c=this;tf.TFMap.MapRevGeoCodedLocation.call(c,tf.js.ShallowMerge(a,{onShown:function(e){a.appContent.GetAppCtx().SetCtxAttribute(tf.TFMap.CAN_userLocation,e.isShowing?c.GetMapFeature():void 0);e.isShowing&&c.PanToMapFeature()},locationName:"Your Location",getMapFeatureStyle:function(c){var d=a.appContent.GetAppStyles();return d.GetSVGMapMarkerWithFrameGeom(c.coords,d.GetGeolocationImage(),[20,20],32)},dontHideWhenPropsClose:!0}))};
tf.js.InheritFrom(tf.TFMap.MapClickedLocation,tf.TFMap.MapRevGeoCodedLocation);
tf.TFMap.MapSearchLocation=function(a){function c(){k&&(k.Close(),k=void 0)}function e(c){var d=a.appContent;d.GetAppCtx().SetCtxAttribute(tf.TFMap.CAN_isSearchingAddress,c);d.ShowMapFeatureProps(b.GetMapFeature())}function d(d){if(d&&0<d.geocoderAccuracy&&tf.js.GetIsArrayWithMinLength(d.pointCoords,2))b.Show(d.pointCoords);else{b.Show(void 0);f=void 0;d=5E3;c();var g=a.appContent.GetToaster();g&&(void 0==d&&(d=0),k=g.Toast({text:"<span>Sorry! We can't find map coordinates for this address, please try a different one</span>",timeout:d}))}e(!1)}
var b,g,f,k;this.SetAddress=function(a,d){c();g&&g.Cancel();f=a;b.Show(d)};this.SearchAddress=function(a){c();a!=f?(g&&g.Cancel(),b.Show(void 0),e(!0),f=a,g=new tf.services.Geocoder({callBack:d,address:a})):void 0!=g&&g.GetIsInProgress()||(a=b.GetMapFeature(),b.Show(a.GetPointCoords()),b.PanToMapFeature())};b=this;tf.TFMap.MapRevGeoCodedLocation.call(b,tf.js.ShallowMerge(a,{onShown:function(c){a.appContent.GetAppCtx().SetCtxAttribute(tf.TFMap.CAN_searchAddressLocation,c.isShowing?b.GetMapFeature():
void 0);c.isShowing&&b.PanToMapFeature()},locationName:"Searched Location",getMapFeatureStyle:function(b){var c=a.appContent.GetAppStyles();return c.GetSVGMapMarkerWithFrameGeom(b.coords,c.GetMapMarkerSearchImage(),[20,20],32)},dontHideWhenPropsClose:!0,dontGeoLocate:!0}))};tf.js.InheritFrom(tf.TFMap.MapSearchLocation,tf.TFMap.MapRevGeoCodedLocation);
tf.TFMap.PinMapFeature=function(a){var c,e,d;this.GetMapFeature=function(){return c};this.GetLastToMapFeature=function(){return d};this.Update=function(b){if(b){d=b;b=b.GetPointCoords();c||(c=new tf.map.Feature(a.addStyles({type:"point",coordinates:[0,0]})),tf.TFMap.SetMapFeatureToolTipProps(c,{toolTipText:"Get Directions",keepOnHoverOutTarget:!1,offsetX:16}));var g=c.GetPointCoords();if(g[0]!=b[0]||g[1]!=b[1])c.SetPointCoords(b),c.RefreshStyle();e||(a.layer.AddMapFeature(c),e=!0)}else e&&(a.layer.DelMapFeature(c),
e=!1)};e=!1};
tf.TFMap.DataSetsBar=function(a){function c(b){a.appContent.GetAppCtx().SetCtxAttribute(tf.TFMap.CAN_dataSetsPanelVisible,w.GetIsToggled())}function e(){return(v?"Collapse":"Expand")+" markers panel"}function d(){for(var a in u)b(a)}function b(b){var c=u[b];if(c){c.dataSet.GetSettings();c.colorLabel.GetButton().style.backgroundColor=c.searchSetting.color;c.titleLabel.GetButton().innerHTML=b;if(c){var d=c.searchSetting,e=c.dataSet;b=c.searchingButton;var f=e.GetIsSearching();f||(d=a.appContent.GetAppCtx().GetCtxAttribute(d.autoRefreshVerb),e=
e.GetLastSearchCompletedOK(),b.SetClassNotToggled(d?e?T:U:S));b.SetIsToggled(f);b=v;tf.dom.ReplaceCSSClassCondition(c.visibilityToggle.GetButton(),b,R,O)}g(c)}}function g(b){if(b){var c=b.searchSetting,c=a.appContent.GetAppCtx().GetCtxAttribute(c.visibilityVerb);tf.dom.ReplaceCSSClassCondition(b.visibilityToggle.GetButton(),c,R,O)}}function f(b,c){c=(b.toolTipSender?b.toolTipSender:b.sender).searchSetting[c];if(tf.js.GetIsNonEmptyString(c)){var d=a.appContent.GetAppCtx();d.SetCtxAttribute(c,!d.GetCtxAttribute(c))}}
function k(a){f(a,"visibilityVerb")}function h(a){f(a,"autoRefreshVerb")}function l(a){return"'"+u[a.searchSetting.title].dataSet.GetDataSetTitle()+"' color"}function n(b){var c=b.searchSetting,d=c.autoRefreshVerb;b=tf.TFMap.LayoutSettings;var e=u[c.title].dataSet,c=e.GetLastSearchCompletedOK(),e=e.GetDataSetTitle(),f="<span class='"+b.defaultHorMarginsClassName+"'>",g="<span class='"+b.defaultHorMarginsClassName+" "+b.smallerTextClassName+" "+b.redFontColorShadowClassName+"'>",d=a.appContent.GetAppCtx().GetCtxAttribute(d),
h="<div class='"+b.defaultHorMarginsClassName+"' style='text-align:center;'>";b="<span class='"+b.defaultHorMarginsClassName+"'>"+("Switch it "+(d?"Off":"On"))+"</span>";h=h+(f+"'"+e+"' "+("is"+(d?" ":" <u>not</u>")+" searched ")+"<br/>when the map view changes</span>")+(c?"":"<br/>"+g+"last search failed</span>");h+="</div>";h+=tf.TFMap.MakeHRDivHTML();return h+=b}function m(b){b=b.searchSetting;var c=b.visibilityVerb,c=a.appContent.GetAppCtx().GetCtxAttribute(c);b=u[b.title].dataSet.GetDataSetTitle();
return tf.TFMap.MapTwoLineSpan("'"+b+"' "+("is"+(c?" ":" <u>not</u> ")+"visible"),"Switch it "+(c?"Off":"On"))}function p(){a.appContent.ToggleClusters()}function q(b){b=a.appContent.GetUsesClusters();return tf.TFMap.MapTwoLineSpan("Markers are "+(b?"":"<u>not</u> ")+"clustered","switch it "+(b?"Off":"On"))}function r(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=tf.TFMap.LayoutSettings,e=d.lightBackground,f=d.darkTextColor,g=d.darkTextShadow,h=d.leftMarginInt+"px",k=d.toggleButtonHeightInt+
"px";c[D]={inherits:[b.transitionPoint2s,b.displayBlock,b.overflowVisible,b.cursorDefault,b.pointerEventsNone,b.noMarginNoBorderNoPadding,b.positionAbsolute,b.zIndex2],marginTop:d.dataSetsWrapperMarginTopInt+"px"};c[F]={inherits:[b.borderRadius2px,b.boxShadow01403,b.transitionPoint2s,b.displayBlock,b.overflowVisible,b.cursorDefault,b.pointerEventsAll,b.noMarginNoBorderNoPadding,b.zIndex2],background:e};var m={inherits:[b.overflowVisible,b.whiteSpaceNoWrap,b.displayBlock,b.positionRelative,b.displayFlex],
borderRadius:"4px",lineHeight:"20px",fontSize:"18px",height:d.dataSetsRowHeightInt+"px",fontWeight:"400",alignItems:"center"},d=d.dataSetsToolBarHeightInt+"px";c[C]={inherits:[m,b.positionAbsolute,b.flexFlowRowReverseNoWrap,b.boxShadow01403],left:"0px",top:"calc(100% + 1px)",width:"calc(100%)",height:d,borderRadius:"2px",background:e};c[G]={inherits:[m,,b.flexFlowRowNoWrap]};c[da]={inherits:[b.robotoFontFamily,b.noBorder,b.noMargin,b.cursorDefault,b.outline0,b.verticalAlignMiddle,b.listStyleNone,
b.overflowVisible,b.backgroundColorTransparent],color:"inherit",boxShadow:"none"};m={inherits:[b.robotoFontFamily,b.noMarginNoBorderNoPadding,b.cursorDefault,b.outline0,b.verticalAlignMiddle,b.listStyleNone,b.overflowVisible,b.displayInlineBlock],marginLeft:"2px",marginTop:"1px",marginBottom:"1px",borderRadius:"4px",width:d,height:d,boxShadow:"none"};c[L]={inherits:[m,b.cursorNormal]};c[W]={inherits:[m,b.cursorPointer]};c[H]={inherits:[b.noMarginNoBorderNoPadding,b.cursorPointer,b.outline0,b.verticalAlignMiddle,
b.listStyleNone,b.overflowVisible,b.displayInlineBlock],borderRadius:"4px",width:d,height:d,boxShadow:"none",marginRight:"8px"};c[I]={inherits:[b.clusterBackground]};c[J]={inherits:[b.noClusterBackground]};c[N]={inherits:[b.flexGrowOne,b.displayInlineBlock],color:f,textShadow:g,fontSize:"14px",fontWeight:"400",padding:"2px",paddingRight:"10px",maxWidth:"20rem",verticalAlign:"text-bottom",overflow:"hidden",textOverflow:"ellipsis"};c[K]={inherits:[b.noMarginNoBorderNoPadding,b.flexGrowOne,b.flexShrinkZero,
b.positionRelative,b.displayInlineBlock],verticalAlign:"text-bottom"};c[Q]={inherits:[b.displayInlineBlock,b.overflowHidden,b.textOverflowEllipsis],verticalAlign:"text-bottom",width:"14px",height:"14px",marginLeft:"8px",marginRight:"8px",borderRadius:"27%",border:"1px solid rgba(0,0,0,0.3)"};c[M]={background:"transparent",marginRight:"8px"};c[R]={fill:"green"};c[O]={fill:"goldenrod"};f={marginRight:"8px"};c[T]={inherits:[f,b.loadedOKBackgroundTransparent]};c[U]={inherits:[f,b.failedToLoadBackground]};
c[S]={inherits:[f,b.refreshGrayBackground]};Z="LoadingButton";c[Z]={inherits:[b.loadingBackgroundTransparent],marginRight:"8px"};c[ca]={transform:"translateX(-100%)","-webkit-transform":"translateX(-100%)"};c[ea]={transform:"translateX("+h+")","-webkit-transform":"translateX("+h+")"};c[X]={background:"rgba(0,0,0,0.03)"};c[ba]={inherits:[b.borderRadius2px,b.pointerEventsAll,b.whiteSpaceNoWrap,b.displayBlock,b.overflowVisible,b.cursorDefault,b.noMargin,b.noPadding,b.positionAbsolute,b.zIndex1],top:"0px",
left:"calc(100% + 1px)",background:e};c[fa]={inherits:[b.borderRadius2px,b.baseImageButton,b.borderLeftD4,b.boxShadow01403,b.overflowHidden],width:"23px",height:k};c[fa+":hover"]={border:"1px solid rgba(0,48,118,0.4)"};return c}var A,t,w,v,u,B,E,D,F,C,G,H,I,J,K,N,Q,M,R,O,T,U,S,Z,X,da,L,W,ca,ea;this.GetContentPane=function(){return t};this.GetWrapper=function(){return A};this.CheckIsVisible=function(){var b=a.appContent.GetAppCtx().GetCtxAttribute(tf.TFMap.CAN_dataSetsPanelVisible);v!=b&&tf.dom.ReplaceCSSClassCondition(A,
v=b,ea,ca)};this.UpdateAll=function(){return d()};this.Update=function(a){return b(a)};var ba,fa;D=tf.TFMap.CreateClassName("dataSets","Wrapper");F=tf.TFMap.CreateClassName("dataSets","Content");C=tf.TFMap.CreateClassName("dataSets","ToolBarWrapper");G=tf.TFMap.CreateClassName("dataSets","DataSetWrapper");da=tf.TFMap.CreateClassName("dataSets","ButtonInactiveText");L=tf.TFMap.CreateClassName("dataSets","ButtonInactive");W=tf.TFMap.CreateClassName("dataSets","ButtonActive");H=tf.TFMap.CreateClassName("dataSets",
"ClusterButton");I=tf.TFMap.CreateClassName("dataSets","Cluster");J=tf.TFMap.CreateClassName("dataSets","NoCluster");K=tf.TFMap.CreateClassName("dataSets","TitleLabelWrapper");N=tf.TFMap.CreateClassName("dataSets","TitleLabel");Q=tf.TFMap.CreateClassName("dataSets","ColorLabel");M=tf.TFMap.CreateClassName("dataSets","OnOffButton");R=tf.TFMap.CreateClassName("dataSets","OnOffButtonOn");O=tf.TFMap.CreateClassName("dataSets","OnOffButtonOff");T=tf.TFMap.CreateClassName("dataSets","LoadedOK");U=tf.TFMap.CreateClassName("dataSets",
"FailedToLoad");S=tf.TFMap.CreateClassName("dataSets","RefreshingLoad");ca=tf.TFMap.CreateClassName("dataSets","Collapsed");ea=tf.TFMap.CreateClassName("dataSets","Visible");X=tf.TFMap.CreateClassName("dataSets","DarkenBackground");ba=tf.TFMap.CreateClassName("dataSets","ToggleButtonWrapper");fa=tf.TFMap.CreateClassName("dataSets","ToggleButton");tf.styles.CreateCSSClasses(r());(function(){var b=a.appContent.GetAppCtx().GetCtxAttribute(tf.TFMap.CAN_dataSetsPanelVisible),d=tf.TFMap.LayoutSettings;
A=new tf.dom.Div({cssClass:D});t=new tf.dom.Div({cssClass:F});var f=new tf.dom.Div({cssClass:ba}),r=a.appContent,U={onClick:c,onHover:void 0,wrapper:f,delayMillis:0,toolTipClass:"center",toolTipArrowClass:"left"};w=r.CreateToggleButton(tf.js.ShallowMerge(U,{offsetX:4,buttonClass:fa+" ripple",classToggled:d.arrowLeftBackgroundClassName,classNotToggled:d.arrowRightBackgroundClassName,isToggled:b,toolTipText:e}));f.AddContent(w.GetButton());var d=a.searchSettings,S=tf.js.GetIsNonEmptyArray(d)?d.length:
0;u={};for(var R=0;R<S;++R){var O=d[R],ma;ma=O;var ia=R,ja=a.appContent,V=ma.title,ha=a.getDataSet(V),na=new tf.dom.Div({cssClass:G}),za={wrapper:na,delayMillis:tf.TFMap.toolTipDataSetDelayMillis,toolTipClass:"*start",toolTipArrowClass:"left",toolTipStyle:void 0,offsetX:4},Y=ja.CreateButton(tf.js.ShallowMerge(za,{buttonClass:Q+" "+L,toolTipText:l}));Y.searchSetting=ma;var P=ja.CreateButton(tf.js.ShallowMerge(za,{svgHTML:ja.GetAppStyles().GetOnOffSVG(),onClick:k,buttonClass:M+" "+W,toolTipText:m}));
P.searchSetting=ma;var wa=new tf.dom.Div({cssClass:K}),Ma=ja.CreateDataSetListButton(A,wa,N+" "+da,ha);Ma.searchSetting=ma;wa.AddContent(Ma.GetButton());ja=ja.CreateToggleButton(tf.js.ShallowMerge(za,{onClick:h,buttonClass:W,classToggled:Z,classNotToggled:T,toolTipText:n,isToggled:!0,autoToggle:!1}));ja.searchSetting=ma;ja.isSearchingButton=!0;1==ia%2&&tf.dom.AddCSSClass(na,X);na.AddContent(Y.GetButton(),ja.GetButton(),P.GetButton(),wa);ma={title:V,searchSetting:ma,dataSet:ha,wrapper:na,colorLabel:Y,
titleLabel:Ma,searchingButton:ja,visibilityToggle:P};t.AddContent((u[ma.title]=ma).wrapper);g(u[O.title])}E=new tf.dom.Div({cssClass:C});U.wrapper=E;U.onClick=p;B=r.CreateToggleButton(tf.js.ShallowMerge(U,{buttonClass:H+" ripple",classToggled:I,classNotToggled:J,isToggled:a.appContent.GetUsesClusters(),toolTipText:q}));E.AddContent(B.GetButton());t.AddContent(E,f);A.AddContent(t);tf.dom.ReplaceCSSClassCondition(A,v=b,ea,ca)})();d();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(r())})};
tf.TFMap.LegendGroupItem=function(a){function c(){if(m){var c=f.GetIsVisible(),d;for(d in m.elements){var e=!1;switch(d){case a.itemVisibleCommand:e=c;break;default:case a.itemHiddenCommand:e=!c}tf.dom.ReplaceCSSClassCondition(m.elements[d].div,e,a.optionSelectedClassName,a.optionUnSelectedClassName)}}b()}function e(a){f.SetIsVisible(!f.GetIsVisible())}function d(a){}function b(){var b=f.GetIsVisible()?a.itemVisibleCommand:a.itemHiddenCommand;A.GetHTMLElement().innerHTML=a.item.name+" ("+b.toLowerCase()+
")"}function g(){a.appContent.GetAppStyles().GetCSSClasses();var b=[];b[t]={background:"rgb(255, 255, 240)"};return b}var f,k,h,l,n,m,p,q,r,A;this.GetWrapper=function(){return k};this.GetIsSelected=function(){return n};this.GetIsVisible=function(){return a.item.visible};this.SetDefaultVisible=function(a){return f.SetIsVisible(q,a)};this.GetIsOnResolution=function(){return r};this.OnMapResolutionChange=function(){r=!1;for(var b=a.appContent.GetMap().GetResolution(),c=a.item.composites.length,d=0;d<
c&&!r;++d){var e=a.item.composites[d];r=e.min-1E-5<=b&&e.max+1E-5>=b}b=r?"block":"none";k.GetHTMLElement().style.display=b;return r};this.SetIsVisible=function(b,d){var e=!1;a.item.visible!=(b=!!b)&&(e=!0,a.item.visible=b,c(),d||p&&p(tf.js.ShallowMerge(void 0,{sender:f})));return e};this.SetIsSelected=function(b){n!=(b=!!b)&&(n=b,tf.dom.ReplaceCSSClassCondition(h,n,a.itemSelectedClassName,a.itemUnSelectedClassName))};var t;f=this;q=a.item.visible;p=tf.js.GetFunctionOrNull(a.onChangeVisible);n=!1;
t=tf.TFMap.CreateClassName("LegendGroupItem","Wrapper");tf.styles.CreateCSSClasses(g());(function(){var g=a.item;A=new tf.dom.Div({cssClass:a.titleWrapperClassName});k=new tf.dom.Button({cssClass:t+" "+a.wrapperAddClassName,onClick:e,onHover:d});k.GetHTMLElement().style.cursor="pointer";h=new tf.dom.Div({cssClass:a.itemUnSelectedClassName});l=new tf.dom.Div({cssClass:a.rowContainerClassName});var m=new tf.dom.Div({cssClass:a.colContainerClassName});b();m.AddContent(A);if(g.desc!=g.name&&tf.js.GetIsNonEmptyString(g.desc)){var p=
new tf.dom.Div({cssClass:a.descWrapperClassName});p.GetHTMLElement().innerHTML=g.desc;m.AddContent(p)}l.AddContent(m);k.AddContent(h,l);a.wrapper.AddContent(k);f.SetIsSelected(a.isSelected);f.OnMapResolutionChange();c()})();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(g())})};
tf.TFMap.LegendGroupSetItem=function(a){function c(){tf.dom.ReplaceCSSClassCondition(A,p,a.itemSelectedClassName,a.itemUnSelectedClassName);d()}function e(){b();r&&r(tf.js.ShallowMerge(void 0,{sender:h}))}function d(){var b=p?"-":"+";t.GetHTMLElement().innerHTML=b+" "+a.item.name}function b(){if(n){for(var b=q.length,c=0,e="",f=e=0;f<b;++f){var g=q[f];g.GetIsOnResolution()&&(++e,g.GetIsVisible()&&++c)}var b=e,e=1==c?"is":"are",f=1==b?"group":"groups",g=1==b?"":"All ",h=" "+f+" "+(1==b?"is":"are")+
" ",e=0==c?g+b+h+a.itemHiddenCommand.toLowerCase():c==b?g+b+h+a.itemVisibleCommand.toLowerCase():c+" out of "+b+" "+f+" "+e+" "+a.itemVisibleCommand.toLowerCase();n.GetHTMLElement().innerHTML=e}d()}function g(a){h.ExpandCollapse(!h.GetIsExpanded())}function f(a){}function k(){a.appContent.GetAppStyles().GetCSSClasses();var b=[];b[w]={background:"rgb(240, 255, 255)"};b[v]={marginTop:"0px"};return b}var h,l,n,m,p,q,r,A,t;this.GetWrapper=function(){return l};this.OnMapResolutionChange=function(){for(var a=
0,c=q.length,d=0;d<c;++d)q[d].OnMapResolutionChange()&&++a;c=0<a?"block":"none";l.GetHTMLElement().style.display=c;0<a&&b()};this.GetIsExpanded=function(){return p};this.ExpandCollapse=function(a){p!=(a=!!a)&&(a=(p=a)?"block":"none",m.GetHTMLElement().style.display=a,l.GetHTMLElement().style.borderBottom=p?"1px solid "+tf.TFMap.LayoutSettings.directionsSelectedColor:"none",c())};this.SetIsVisible=function(a,c){for(var d=!1,f=q.length,g=0;g<f;++g)q[g].SetIsVisible(a,!0)&&(d=!0);d&&(c?b():e());return d};
this.SetDefaultVisible=function(a){for(var c=!1,d=q.length,f=0;f<d;++f)q[f].SetDefaultVisible(!0)&&(c=!0);c&&(a?b():e());return c};var w,v;h=this;r=tf.js.GetFunctionOrNull(a.onChangeVisible);w=tf.TFMap.CreateClassName("LegendGroupSetItem","Wrapper");v=tf.TFMap.CreateClassName("LegendGroupSetItem","groupsWrapper");tf.styles.CreateCSSClasses(k());(function(){var d=a.item,h=tf.TFMap.LayoutSettings;t=new tf.dom.Div({cssClass:a.titleWrapperClassName});l=new tf.dom.Div({cssClass:w});var k=l.GetHTMLElement().style;
k.border="1px solid "+h.directionsSelectedColor;k.borderBottom="none";A=new tf.dom.Div({cssClass:a.itemUnSelectedClassName});h=new tf.dom.Button({cssClass:w+" "+a.wrapperAddClassName,onClick:g,onHover:f});k=h.GetHTMLElement().style;k.borderBottom="none";k.cursor="pointer";h.AddContent(t);k=new tf.dom.Div({cssClass:a.colContainerClassName});k.AddContent(A,h);l.AddContent(k);m=new tf.dom.Div({cssClass:a.colContainerClassName+" "+v+" "+a.wrapperAddClassName});h=d.groups.length;k=tf.js.ShallowMerge(a,
{wrapper:m,isSelected:!0,onChangeVisible:e});q=[];for(var p=0;p<h;++p){var n=new tf.TFMap.LegendGroupItem(tf.js.ShallowMerge(k,{item:d.groups[p]}));q.push(n)}l.AddContent(m);m.GetHTMLElement().style.display="none";a.wrapper.AddContent(l);b();c()})();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(k())})};
tf.TFMap.LegendList=function(a){function c(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[];c[h]={inherits:[b.noMarginNoBorderNoPadding,b.overflowVisible],background:"transparent"};return c}var e,d,b,g,f,k;this.GetWrapper=function(){return d};this.GetDecodedLegend=function(){return b};this.OnMapResolutionChange=function(){for(var a in f)f[a].OnMapResolutionChange()};this.ExpandCollapseAll=function(a){for(var b in g)g[b].ExpandCollapse(a)};this.SetDefaultVisible=function(){var a=!1,b;for(b in f)f[b].SetDefaultVisible(!0)&&
(a=!0);a&&k&&k(tf.js.ShallowMerge(void 0,{sender:e}));return a};this.SetIsVisible=function(a){var b=!1,c;for(c in f)f[c].SetIsVisible(a,!0)&&(b=!0);b&&k&&k(tf.js.ShallowMerge(void 0,{sender:e}));return b};var h;e=this;k=tf.js.GetFunctionOrNull(a.onChangeVisible);b=tf.js.DecodeLegend(a.legendStr);h=tf.TFMap.CreateClassName("LegendList","Wrapper");tf.styles.CreateCSSClasses(c());(function(){d=new tf.dom.Div({cssClass:h});var c=tf.js.ShallowMerge(a,{wrapper:d,isSelected:!1});f=[];g=[];for(var e=0;e<
b.length;++e){var k=b[e],p=tf.js.GetIsNonEmptyArray(k.groups),k=new (p?tf.TFMap.LegendGroupSetItem:tf.TFMap.LegendGroupItem)(tf.js.ShallowMerge(c,{item:k}));p&&g.push(k);f.push(k)}})();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(c())})};
tf.TFMap.BaseLayersPanel=function(a){function c(){k.SetVisible(!1)}function e(b){b=B.GetDecodedLegend();var c=u?E.GetDecodedLegend():b;a.appContent.GetMap().SetDecodedLegends(b,c)}function d(b){try{var c=!1,d=!1;switch(b.callBackSettings.optionName){case G:D&&D.SetIsVisible(!0);break;case H:D&&D.SetIsVisible(!1);break;case I:D&&D.SetDefaultVisible();break;case ca:D&&(D.ExpandCollapseAll(!0),d=!0);break;case ea:D&&(D.ExpandCollapseAll(!1),d=!0);break;case ba:c=!a.appContent.GetIsShowingAerial();break;
case fa:c=a.appContent.GetIsShowingAerial()}d&&(A.GetHTMLElement().scrollTop=0);c&&a.appContent.SwitchMapType()}catch(e){console.log("exception while processing option click")}}function b(a,b){for(var c=tf.js.GetFunctionOrNull(b)?b:d,e=new tf.dom.Div({cssClass:U}),f=tf.js.GetIsNonEmptyArray(a)?a.length:0,g={},h=0;h<f;++h){var m=a[h],l=S+" "+X;h<f-1&&(l+=" "+da);l=new tf.dom.Button({cssClass:l,onClick:c,onClickSettings:{optionName:m},optionalScope:k});g[m]={div:l};l.GetHTMLElement().innerHTML=m;e.AddContent(l)}return{wrapper:e,
elements:g}}function g(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=tf.TFMap.LayoutSettings,e={backgroundColor:d.backgroundLivelyColor},f=d.directionsSelectedColor;c[J]={inherits:[b.positionRelative,b.noMarginNoBorderNoPadding,e,b.displayBlock],padding:"10px",width:"calc(100% - 20px)",paddingTop:d.baseLayersPaneTopCaptionVerPaddingInt+"px",paddingBottom:d.baseLayersPaneTopCaptionVerPaddingInt+"px",marginBottom:"4px",color:"white",fontSize:d.baseLayersPaneTopCaptionFontSizeInt+"px",lineHeight:d.baseLayersPaneTopCaptionLineHeightInt+
"px"};c[K]={inherits:[b.transparentImageButton,b.darkTextColor,b.darkTextShadow,b.noMarginNoBorderNoPadding,b.overflowVisible,b.positionRelative,b.displayBlock,b.cursorDefault],textAlign:"left",width:"calc(100% - 20px)",borderBottom:"1px solid #ebebeb",fontSize:d.baseLayersPaneDefaultFontSizeInt+"px",lineHeight:d.baseLayersPaneDefaultLineHeightInt+"px",padding:d.baseLayersPaneTitlePaddingtInt+"px",paddingLeft:"10px"};c[N]={inherits:[b.noMarginNoBorderNoPadding],lineHeight:d.baseLayersPaneTitleLineHeightInt+
"px"};c[Q]={inherits:[b.noMarginNoBorderNoPadding],paddingTop:"4px",paddingLeft:"10px",fontSize:d.baseLayersPaneDescFontSizeInt+"px",lineHeight:d.baseLayersPaneDescLineHeightInt+"px",color:"#555"};c[O]={inherits:[b.noMarginNoBorderNoPadding,b.displayFlex,b.flexFlowRowNoWrap,b.positionRelative]};c[T]={inherits:[b.noMarginNoBorderNoPadding,b.displayFlex,b.flexFlowColumnNoWrap,b.positionRelative,b.transitionWithColor]};c[U]={inherits:[b.displayFlex,b.flexFlowRowNoWrap,b.positionRelative],borderRadius:"2px",
width:"calc(100% - 4px)",padding:"2px",paddingTop:"0px",paddingBottom:"0px",borderBottom:"1px solid #ebebeb",fontSize:d.baseLayersOptionsRowFontSizeInt+"px",lineHeight:d.baseLayersOptionsRowLineHeightInt+"px",fontWeight:"500"};c[S]={inherits:[b.transparentImageButton,b.displayBlock,b.flexOne],lineHeight:"inherit",fontSize:"inherit",fontFamily:"inherit",fontWeight:"inherit",borderRadius:"2px",textAlign:"center"};c[S+":hover"]={textDecoration:"underline",cursor:"pointer"};c[da]={borderRight:"1px solid #ebebeb"};
c[X]={inherits:[b.darkTextColor,b.backgroundColorTransparent]};c[Z]={inherits:[e],color:"white"};b={inherits:[b.positionAbsolute,b.noMarginNoBorderNoPadding,b.overflowVisible,b.displayBlock],left:"0px",top:"-1px",zIndex:""+(d.rootDivZIndex+d.baseLayersItemCommonZIndexAdd),height:"calc(100% + 2px)",width:"1px"};c[M]={inherits:[b],borderLeft:"5px solid transparent"};c[R]={inherits:[b],borderLeft:"6px solid "+f};return c}function f(){ca="Expand all";ea="Collapse all";ba="Aerial view";fa="Map view";G=
"All "+L;H="All "+W;I="Defaults"}var k,h,l,n,m,p,q,r,A,t,w,v,u,B,E,D,F,C,G,H,I;this.OnMapResolutionChange=function(){q&&D&&D.OnMapResolutionChange()};this.GetPanelName=function(){return h};this.GetPanelNameShort=function(){return l};this.GetWrapper=function(){return n};this.UpdateForMapType=function(){if(u){var b=a.appContent.GetIsShowingAerial();if(v)for(var c in v.elements){var d=!1;switch(c){case ba:d=b;break;default:case fa:d=!b}tf.dom.ReplaceCSSClassCondition(v.elements[c].div,d,Z,X)}D=b?B:E;
b=b?E:B;k.OnMapResolutionChange();D.GetWrapper().GetHTMLElement().style.display="block";b.GetWrapper().GetHTMLElement().style.display="none"}};this.SetVisible=function(b){if(q!=(b=!!b)){var c=tf.TFMap.LayoutSettings;tf.dom.ReplaceCSSClassCondition(n,q=b,c.sidePanelWrapperVisibleClassName,c.sidePanelWrapperCollapsedClassName);q&&k.OnMapResolutionChange();a.appContent.SetHasSidePanelFullContent(q)}};this.GetIsVisible=function(){return q};this.GetOpenCloseToolTip=function(){return q?C:F};var J,K,N,Q,
M,R,O,T,U,S,Z,X,da,L,W,ca,ea,ba,fa;k=this;u=a.mapEngine!=tf.consts.mapnikEngine;L="On";W="Off";h="Map Layers";l="Layers";C="Close "+h;F="Select "+h;q=void 0;J=tf.TFMap.CreateClassName("baseLayersPanel","TopCaption");K=tf.TFMap.CreateClassName("baseLayersPanel","WrapperAdd");N=tf.TFMap.CreateClassName("baseLayersPanel","TitleWrapper");Q=tf.TFMap.CreateClassName("baseLayersPanel","DescWrapper");O=tf.TFMap.CreateClassName("baseLayersPanel","RowContainer");T=tf.TFMap.CreateClassName("baseLayersPanel",
"ColContainer");U=tf.TFMap.CreateClassName("baseLayersPanel","OptionsRow");S=tf.TFMap.CreateClassName("baseLayersPanel","OptionInRow");da=tf.TFMap.CreateClassName("baseLayersPanel","NotLastOptionInRow");X=tf.TFMap.CreateClassName("baseLayersPanel","OptionUnSelected");Z=tf.TFMap.CreateClassName("baseLayersPanel","OptionSelected");M=tf.TFMap.CreateClassName("baseLayersPanel","ItemUnSelected");R=tf.TFMap.CreateClassName("baseLayersPanel","ItemSelected");f();tf.styles.CreateCSSClasses(g());(function(){var d=
a.appContent.GetAppStyles(),f=tf.TFMap.LayoutSettings,g=f.customizedScrollBarClassName;n=new tf.dom.Div({cssClass:f.sidePanelWrapperClassName});m=new tf.dom.Div({cssClass:f.sidePanelContentWrapperClassName+" "+f.sidePaneFullHeightContentWrapperClassName});r=new tf.dom.Div({cssClass:f.sidePaneContentFixedHeightClassName});A=new tf.dom.Div({cssClass:f.sidePaneContentVariableHeightClassName+" "+g});g=tf.js.ShallowMerge({offsetY:0,onClick:void 0,onHover:void 0,delayMillis:0,toolTipClass:"*end",toolTipArrowClass:"top"},
{wrapper:m,toolTipClass:"*start",onClick:c});d=d.GetXMarkSVG();f=a.appContent.CreateButton(tf.js.ShallowMerge(g,{svgHTML:d,buttonClass:f.sidePanelCloseButtonClassName+" rippleWhite",toolTipText:C}));f.GetSettings().modeVerb=void 0;f.GetButton();p=f;f=new tf.dom.Div({cssClass:J});f.GetHTMLElement().innerHTML=h;r.AddContent(f);u&&a.allowChangeType&&(v=b([ba,fa]),r.AddContent(v.wrapper));t=b([G,H,I]);w=b([ca,ea]);r.AddContent(t.wrapper,w.wrapper);f={onChangeVisible:e,itemVisibleCommand:L,itemHiddenCommand:W,
showAllCommand:G,hideAllCommand:H,optionSelectedClassName:Z,optionUnSelectedClassName:X,appContent:a.appContent,createOptionsRow:b,wrapperAddClassName:K,titleWrapperClassName:N,descWrapperClassName:Q,itemSelectedClassName:R,itemUnSelectedClassName:M,rowContainerClassName:O,colContainerClassName:T};B=new tf.TFMap.LegendList(tf.js.ShallowMerge(f,{legendStr:a.legendH}));A.AddContent(B.GetWrapper());u&&(E=new tf.TFMap.LegendList(tf.js.ShallowMerge(f,{legendStr:a.legendM})),A.AddContent(E.GetWrapper()));
m.AddContent(p.GetButton(),r,A);n.AddContent(m)})();k.SetVisible(!1);k.UpdateForMapType();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){f();tf.styles.CreateCSSClasses(g())})};
tf.TFMap.BaseLayersToolBar=function(a){function c(){var b=a.appContent.GetBaseLayersPanel();return b?b.GetOpenCloseToolTip():void 0}function e(){var b=a.appContent.GetBaseLayersPanel();b&&b.SetVisible(!b.GetIsVisible())}function d(){a.appContent.GetPerspectiveMap().SetIsVisible(!a.appContent.GetPerspectiveMap().GetIsVisible())}function b(){var b=a.appContent.GetPerspectiveMap().GetIsVisible();return tf.TFMap.MapTwoLineSpan("displaying "+(b?"3D perspective view":"2D orthogonal view"),"switch to "+
(b?"2D orthogonal view":"3D perspective view"))}function g(){var b=a.appContent.GetPerspectiveMap().GetIsVisible()?"2D":"3D";n.GetButton().innerHTML=b}function f(){g()}function k(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=tf.TFMap.LayoutSettings,e=d.widthMapToolBarInt+"px",f=d.dimMapTypeAuxInt,g=d.dimMapTypeAuxMarginInt;c[m]={inherits:[b.whiteSpaceNoWrap,b.boxShadow002003,b.pointerEventsAll,b.positionAbsolute,b.displayFlex,b.flexFlowColumnNoWrap],borderRadius:"4px",left:(d.createAuxTypeMap?
g+f+d.toolBarToToolBarHorSpacingInt:g)+"px",bottom:d.scaleLineHeightInt+d.toolBarToScaleLineVerSpacingInt+"px",padding:"4px"};c[q]={inherits:[b.boxShadow002003,b.displayBlock]};c[q+" svg"]={width:"calc(100% - 6px)",height:"calc(100% - 6px)",margin:"auto"};c[q+":hover"]={border:"none"};c[p]={inherits:[b.baseImageButton,b.verticalAlignMiddle],height:e};c[r]={inherits:[{inherits:[b.baseImageButton,b.verticalAlignMiddle],width:e,height:e},b.borderRadius2px],fontSize:d.buttonTextFontSizeInt+"px",lineHeight:d.buttonTextFontSizeInt+
"px",color:"inherit",fontWeight:"600",width:e,height:e,marginLeft:"0px"};c[r+":hover"]={fontSize:d.buttonTextFontSizeInt+2+"px",lineHeight:d.buttonTextFontSizeInt+2+"px"};c[A]={marginTop:"6px"};return c}var h,l,n;this.GetWrapper=function(){return h};var m,p,q,r,A;m=tf.TFMap.CreateClassName("baseLayersToolBar","Wrapper");p=tf.TFMap.CreateClassName("baseLayersToolBar","Button");q=tf.TFMap.CreateClassName("baseLayersToolBar","ButtonSVG");r=tf.TFMap.CreateClassName("baseLayersToolBar","textButton");A=
tf.TFMap.CreateClassName("baseLayersToolBar","ButtonSpace");tf.styles.CreateCSSClasses(k());(function(){var k=tf.TFMap.LayoutSettings,p=a.appContent,v=p.GetAppStyles(),u=p.GetBaseLayersPanel();u&&u.GetPanelNameShort();h=new tf.dom.Div({cssClass:m+" "+k.aerialOrMapColorScheme});k={wrapper:h,delayMillis:tf.TFMap.toolTipDataSetDelayMillis,toolTipClass:"center",toolTipArrowClass:"left",toolTipStyle:void 0};u=q+" "+r+" ripple";a.usePerspectiveMap&&(n=a.appContent.CreateButton(tf.js.ShallowMerge(k,{onClick:d,
buttonClass:u,toolTipText:b,svgHTML:void 0})),h.AddContent(n.GetButton()),u=A+" "+u,p.GetPerspectiveMap().AddListener(tf.consts.perspectiveMapVisibilityChangeEvent,f),g());a.useBaseLayers&&(l=a.appContent.CreateButton(tf.js.ShallowMerge(k,{onClick:e,buttonClass:u,toolTipText:c,svgHTML:v.GetLayersSVG()})),h.AddContent(l.GetButton()))})();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(k())})};
tf.TFMap.AuxMapWrapper=function(a){function c(){tf.dom.ReplaceCSSClassCondition(d,a.appContent.GetIsShowingAerial(),h,l)}function e(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=tf.TFMap.LayoutSettings,e=d.toolTipContentBackground,g=d.dimMapTypeAuxInt+"px",t=d.auxMapBorderDimInt+"px";c[f]={inherits:[b.positionAbsolute,b.overflowVisible,b.pointerEventsAll,b.boxShadow01403],left:d.dimMapTypeAuxMarginInt+"px",bottom:d.scaleLineHeightInt+d.toolBarToScaleLineVerSpacingInt+"px",zIndex:""+(d.rootDivZIndex+
d.auxMapWrapperZIndexAdd),width:g,height:g};c[k]={inherits:[b.positionAbsolute,b.overflowVisible,b.pointerEventsNone,b.WHOneHundred,b.leftTopZero]};c[h]={border:t+" solid "+e};c[l]={border:t+" solid white"};c[n]={inherits:[b.noMarginNoBorderNoPadding,b.cursorPointer,b.outline0,b.verticalAlignMiddle,b.listStyleNone,b.overflowVisible,b.positionAbsolute,b.leftTopZero,b.WHOneHundred],zIndex:""+(d.rootDivZIndex+d.changeMapTypeButtonAddZIndex),color:"inherit",background:"inherit",boxShadow:"none"};return c}
var d,b,g;this.GetWrapper=function(){return d};this.GetMapWrapper=function(){return b};var f,k,h,l,n;f=tf.TFMap.CreateClassName("auxMap","Wrapper");k=tf.TFMap.CreateClassName("auxMap","MapWrapper");h=tf.TFMap.CreateClassName("auxMap","NotMap");l=tf.TFMap.CreateClassName("auxMap","Map");n=tf.TFMap.CreateClassName("auxMap","ChangeMapTypeButton");tf.styles.CreateCSSClasses(e());d=new tf.dom.Div({cssClass:f});g=a.appContent.CreateButton(tf.js.ShallowMerge({onClick:function(){a.appContent.SwitchMapType();
c()},wrapper:d,delayMillis:tf.TFMap.toolTipDataSetDelayMillis,toolTipClass:"center",toolTipArrowClass:"left",toolTipStyle:void 0},{buttonClass:n+" ripple",toolTipText:function(){return"Switch to "+a.appContent.GetSwitchToMapTypeName()+" view"}}));c();b=new tf.dom.Div({cssClass:k});d.AddContent(b,g.GetButton());a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(e())})};
tf.TFMap.DirectionsAddress=function(a){function c(){M||(M=!0,e(),k())}function e(){var b=v.GetIsValid(),c=ba,d=ca,e=ea,f=M?c:b?d:e,c=M?e+" "+d:b?c+" "+e:c+" "+d,d=a.itemVisibleClassName,e=a.itemHiddenClassName;O=b;tf.dom.ReplaceCSSClassCondition(D.GetInputBox(),!0,f,c);tf.dom.ReplaceCSSClassCondition(T,b,d,e)}function d(){J&&(J.Cancel(),J=void 0);K&&(K.Cancel(),K=void 0)}function b(a){void 0!=J&&(J=void 0,tf.js.GetIsValidObject(a)&&0<a.geocoderAccuracy&&4>a.geocoderAccuracy?a.requestProps.geoCoderCount==
N&&(v.GetIsValid()||v.SetValue({address:a.requestProps.address,coords:a.pointCoords})):c())}function g(a){if(!a.sender.WasCancelled()&&void 0!=K)if(K=void 0,tf.js.GetIsValidObject(a)&&a.success){if(a.requestProps.revGeocoderCount==Q){var b=a.address;tf.js.GetIsNonEmptyString(b)?v.SetValue({address:b,coords:a.requestProps.coords}):c()}}else c()}function f(a,b){tf.js.GetFunctionOrNull(a)&&a(tf.js.ShallowMerge({sender:v},b))}function k(b){R||f(a.onInputChange,{notification:b})}function h(a){!O&&M&&(M=
!1,e());e();k(a)}function l(){f(a.onGo)}function n(a){a.event.target==E.GetHTMLElement()&&(B=a.isInHover,F||m(!1))}function m(a){tf.dom.ReplaceCSSClassCondition(E,a,L,W)}function p(a){var b=a.hasFocus;a.event.target==D.GetInputBox()&&(a=document.activeElement,(F=b||a==C.GetButton())?m(!0):B||m(!1))}function q(a){a.event.target==E.GetHTMLElement()&&D.GetInputBox().focus()}function r(b){var c=a.appContent;c.GetAppStyles().FlashCoords(c.GetMap(),[b],"#0f0")}function A(b){b=b.sender;D.GetInputBox().focus();
switch(b){case C:l();break;case U:if(v.GetIsValid()){var c=H.coords.slice(0);a.appContent.AnimatedSetCenterIfDestVisible(c);setTimeout(function(){r(c)},500)}}}function t(){return 0<D.GetText().length?"Search":G}function w(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=tf.TFMap.LayoutSettings,e=d.backgroundLivelyColor,f=d.paddingLeftWayPointAddressInt,g=f+"px",h=d.sidePanelWidthInt-f-80,k=d.directionsHeightInputInt,m=d.directionsFontSizeInputInt+"px",l=k+"px";c[Z]={inherits:[b.positionRelative],
height:d.directionsHeightWayPointAddressInt+"px",width:"calc(100% - "+g+")",paddingLeft:g,paddingTop:"10px",paddingBottom:"10px",transform:"initial"};c[da]={inherits:[b.robotoFontFamily,b.positionAbsolute,b.overflowHidden,b.leftTopZero],color:"white",outline:"none",border:"none",fontSize:m,lineHeight:l+" !important",padding:"0",verticalAlign:"middle",listStyle:"none",borderRadius:"4px",background:"transparent",margin:"0 !important",paddingLeft:"4px",height:l+" !important",zIndex:""+(d.rootDivZIndex+
d.directionsInputZIndexAdd)};c[L+" ."+da]={width:h+"px",paddingRight:4+k+"px"};c[W+" ."+da]={width:h+k+"px",paddingRight:"4px"};c[X]={inherits:[b.cursorText,b.noMarginNoBorderNoPadding,b.positionAbsolute,b.overflowVisible],width:h+8+k+k+"px",height:l+" !important",left:f+"px"};c[ca]={borderBottom:"1px solid rgba(0,255,0,1)"};c[ea]={borderBottom:"1px solid rgba(255,255,255,0.3)"};c[ba]={borderBottom:"1px solid rgba(255,0,0,1)"};c[fa]={inherits:[b.noMarginNoBorderNoPadding,b.pointerEventsNone,b.positionAbsolute,
b.overflowVisible],top:"0px",background:"linear-gradient(to right, rgba(30, 144, 255,0),rgba(30, 144, 255, 1))",zIndex:""+(d.rootDivZIndex+d.directionsInputFadeZIndexAdd),padding:"0",paddingLeft:"4px",paddingRight:"4px",width:"20px",height:l+" !important"};c[L+" ."+fa]={left:h-20+"px"};c[W+" ."+fa]={left:k+h-20+"px"};c[ua]={inherits:[b.transparentImageButton,b.overflowHidden,b.displayBlock],fill:"rgba(255,255,255,0.5)",background:"transparent"};c[ua+":hover"]={fill:"white"};c[qa]={inherits:[b.positionAbsolute],
zIndex:""+(d.rootDivZIndex+d.diretionsSearchButtonZIndexAdd),background:e,borderRadius:"50%",height:l};c[pa]={disabled:"inherit",opacity:"inherit",visibility:"inherit",width:"16px",height:"16px",strokeWidth:"0"};c[L+" ."+qa]={inherits:[b.visibilityVisible],opacity:"1",disabled:"false",width:l,left:"initial",right:l};c[W+" ."+qa]={inherits:[b.visibilityHidden],opacity:"0",disabled:"true",width:"0px",right:"initial",left:"100%"};c[aa]={inherits:[b.noMarginNoBorderNoPadding,b.overflowVisible,b.positionAbsolute],
top:"8px",left:"12px",width:k+6+"px",height:k+6+"px"};c[oa]={inherits:[b.transparentImageButton],background:"lightblue",borderRadius:"50%",padding:"2px",width:"calc(100% - 2px)",height:"calc(100% - 2px)"};c[oa+":focus"]={background:"white"};c[oa+" img"]={width:"100%",height:"100%"};return c}var v,u,B,E,D,F,C,G,H,I,J,K,N,Q,M,R,O,T,U,S;this.SetSelected=function(){if(v.GetIsValid()){var b=H.coords.slice(0);a.appContent.MakeSureMapCoordsAreVisible(b);r(b)}D.GetInputBox().focus()};this.GetSettings=function(){return a};
this.GetPlaceHolder=function(){return a.placeHolder};this.GetValueForSwap=function(){return{value:H,inputBoxText:D.GetText(),isInError:M}};this.SetValueForSwap=function(a){R=!0;H=a.value;D.SetText(a.inputBoxText);M=a.isInError;e();R=!1};this.GetInputText=function(){return D.GetText()};this.GetHasInputText=function(){return 0<v.GetInputText().length};this.GetIsValid=function(){return O=void 0!=H&&D.GetUnTrimText()==H.address&&void 0!==H.coords};this.GetIsInError=function(){return M};this.SetValue=
function(a){M&&(M=!1,e());void 0!=a?(void 0===a.coords&&(O=!1),H={address:a.address,coords:a.coords?a.coords.slice(0):void 0},D.SetText(H.address)):(H=void 0,D.SetText(""));e()};this.GetValue=function(){return tf.js.ShallowMerge(H)};this.GetWrapper=function(){return u};this.GetHasCoords=function(a){return void 0!=H&&H.coords[0]==a[0]&&H.coords[1]==a[1]};this.Geocode=function(){var a=D.GetText();tf.js.GetIsNonEmptyString(a)&&(d(),J=new tf.services.Geocoder({callBack:b,address:a,requestProps:{address:a,
geoCoderCount:++N}}))};this.RevGeocode=function(){S.DelayCallBack()};var Z,X,da,L,W,ca,ea,ba,fa,qa,pa,ua,aa,oa;v=this;S=new tf.events.DelayedCallBack(tf.TFMap.DelayDirections,function(){if(void 0!=H){d();var a={coords:H.coords,revGeocoderCount:++Q};K=new tf.services.TFReverseGeocoder({callBack:g,pointCoords:H.coords,requestProps:a,getJSON:!0})}},v);R=M=!1;Q=N=0;F=B=!1;Z=tf.TFMap.CreateClassName("directionsAddress","Wrapper");da=tf.TFMap.CreateClassName("directionsAddress","Input");L=tf.TFMap.CreateClassName("directionsAddress",
"InputFocused");W=tf.TFMap.CreateClassName("directionsAddress","InputNonFocused");X=tf.TFMap.CreateClassName("directionsAddress","InputWrapper");ca=tf.TFMap.CreateClassName("directionsAddress","InputValid");ea=tf.TFMap.CreateClassName("directionsAddress","InputOK");ba=tf.TFMap.CreateClassName("directionsAddress","InputError");fa=tf.TFMap.CreateClassName("directionsAddress","InputFade");ua=tf.TFMap.CreateClassName("directionsAddress","Button");qa=tf.TFMap.CreateClassName("directionsAddress","SearchButton");
pa=tf.TFMap.CreateClassName("directionsAddress","SearchButtonSVG");aa=tf.TFMap.CreateClassName("directionsAddress","mapFeatureIconWrapper");oa=tf.TFMap.CreateClassName("directionsAddress","mapFeatureIconButton");tf.styles.CreateCSSClasses(w());(function(){u=new tf.dom.Div({cssClass:Z});var b=a.appContent,c=b.GetAppStyles(),d=tf.TFMap.toolTipDelayMillis;E=new tf.dom.Div({cssClass:X+" "+W});d={offsetY:6,onClick:A,onHover:void 0,wrapper:E,delayMillis:d,toolTipClass:"end",toolTipArrowClass:"top"};G="Search "+
a.placeHolder+" or select it on map";D=new tf.TFMap.InputBox({id:a.id,autocomplete:a.autocomplete,onChange:h,onGo:l,placeHolder:G,className:da,maxLength:tf.TFMap.maxCharsAddressInput});I=new tf.dom.Div({cssClass:fa});d.toolTipClass="start";var f=c.GetSearchSVG(),c=pa,g=tf.TFMap.directionModeDrive,f=a.appContent.CreateButton(tf.js.ShallowMerge(d,{svgHTML:f,buttonClass:ua+" "+qa+" rippleWhite",toolTipText:t}));f.GetSettings().modeVerb=g;g=f.GetButton().firstChild;tf.dom.AddCSSClass(g,c);C=f;e();c=D.GetInputBox();
E.AddContent(c,I,C.GetButton());d.toolTipClass="end";T=new tf.dom.Div({cssClass:aa+" "+a.itemHiddenClassName});U=b.CreateButton(tf.js.ShallowMerge(d,{buttonClass:oa+" ripple",toolTipText:"Center map to "+a.placeHolder}));b=U.GetButton();b.appendChild(a.mapFeatureIcon);T.AddContent(b);u.AddContent(T,E);new tf.events.DOMClickListener({target:E,callBack:q,optionalScope:v,callBackSettings:null});new tf.events.DOMMouseEnterLeaveListener({target:E,callBack:n,optionalScope:v,callBackSettings:null});new tf.events.DOMFocusBlurListener({target:D.GetInputBox(),
callBack:p,optionalScope:v,callBackSettings:null})})();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(w())})};
tf.TFMap.DirectionsResultsItem=function(a){function c(){if(void 0!=n){var b=n.properties,c=a.appContent.GetMap().GetIsUSScaleUnits(),b=tf.TFMap.GetDirectionsDistanceText(b.lengthMeters,c);l.GetHTMLElement().innerHTML=b}}function e(c){if(tf.js.GetFunctionOrNull(a.onClick))a.onClick({sender:b})}function d(){a.appContent.GetDirectionsPanel().PushDirections({fromCoords:r,toCoords:A,mode:tf.TFMap.directionModeWalk})}var b,g,f,k,h,l,n,m,p,q,r,A;this.GetMapFeature=function(){return p};this.SetSelected=function(b){tf.dom.ReplaceCSSClassCondition(m,
!!b,a.itemClassNames.wrapperVisibleClassName,a.itemClassNames.wrapperHiddenClassName)};this.GetWrapper=function(){return g};this.UpdateDistance=function(){return c()};this.Update=function(d,e){var g=a.appContent.GetAppStyles(),m=d.instructions[e],l=m.properties,E=l.instructionCode,D,F=g.GetDirectionsStepsSVGs(),C;if(d.transitInstructions){switch(E){case tf.Transit.PlanTripSteps.walkFromStartToStop:case tf.Transit.PlanTripSteps.walkFromStopToNearbyStop:case tf.Transit.PlanTripSteps.walkFromStopToEndLocation:case tf.Transit.PlanTripSteps.walkFromStartToEndLocation:D=
g.GetWalkSVG();C=!0;r=m.fromCoords;A=m.toCoords;break;case tf.Transit.PlanTripSteps.takeTripAtStop:D=g.GetBusSVG();break;case tf.Transit.PlanTripSteps.leaveTripAtStop:D=g.GetBusStopSVG()}g=l.instruction}else D=F[E],g=l.instruction+" "+l.streetName;f.GetHTMLElement().style.display=C?"block":"none";C=g;b.SetSelected(!1);n=m;h.GetHTMLElement().innerHTML=D;k.GetHTMLElement().innerHTML=C;c();void 0!=n&&(D=n,m=tf.js.ShallowMerge(D.geometry),C=D.properties,D={toolTipText:C.instruction+" "+C.streetName,keepOnHoverOutTarget:!1,
offsetX:20},C=C.postTurnDirection*Math.PI/180,void 0==p?(p=new tf.map.Feature(tf.js.ShallowMerge(m,a.itemMapFeatureStyles)),p.GetSettings().directionsResultsItem=b):p.SetPointCoords(m.coordinates),p.GetSettings().directionsAngle=C,p.RefreshStyle(),tf.TFMap.SetMapFeatureToolTipProps(p,D),a.itemsLayer.AddMapFeature(p),q=!0)};this.Hide=function(){p&&q&&(q=!1,a.itemsLayer.DelMapFeature(p))};b=this;(function(){var c=a.itemClassNames;g=new tf.dom.Div({cssClass:c.wrapperClassName});f=new tf.dom.Div({cssClass:c.subDirectionsClassName});
k=new tf.dom.Div({cssClass:c.contentClassName});h=new tf.dom.Div({cssClass:c.iconClassName});l=new tf.dom.Div({cssClass:c.itemDistanceClassName});m=new tf.dom.Div({cssClass:c.itemSelectedClassName});g.AddContent(h,f,k,l,m);new tf.events.DOMClickListener({target:g,callBack:e,optionalScope:b,callBackSettings:null});new tf.events.DOMClickListener({target:f,callBack:d,optionalScope:b,callBackSettings:null})})()};
tf.TFMap.DirectionsResultsContent=function(a){function c(){E=D=F=void 0;for(var a=q.GetObjects(),b=q.GetActiveCount(),c=0;c<b;++c)a[c].Hide()}function e(){if(F){var b=F.total_distance,c=F.total_time,d='<span class="'+C.summaryAddressClassName+'">',e=a.appContent.GetMap().GetIsUSScaleUnits(),b=tf.TFMap.GetDirectionsDistanceText(b,e);if(F.transitInstructions&&F.plan)var f=F.plan.steps,f=f[f.length-1],b=b+(" -- "+tf.TFMap.GetWalkRideDistanceStr(f.walkkm,f.tripkm,e));c='<br /><span class="'+C.summaryTimeClassName+
'">'+tf.js.ConvertToHourMinute2(c)+'</span> <span class="'+C.summaryDistanceClassName+'">('+b+")</span>";t.GetHTMLElement().innerHTML=d+E.GetInputText()+"</span>"+c;w.GetHTMLElement().innerHTML=d+D.GetInputText()+"</span>"+c}}function d(b,d,f){var g=f.instructions.length;p.ClearContent();r=void 0;c();q.Reset();a.scrollerWrapper.GetHTMLElement().scrollTop="0px";p.AddContent(t);E=b;D=d;F=f;if(F.transitInstructions&&(d=F.allPlans,1<d.length)){u.Clear();for(b=0;b<d.length;++b)u.AddOrSetOption({busPlanIndex:b,
value:b+"",innerHTML:"plan "+(b+1),id:b+""});u.SetCurrentOption(F.curPlanIndex+"");p.AddContent(v)}e();for(d=0;1>d;++d)for(b=0;b<g;++b){var h=q.GetNext();h.Update(f,b);p.AddContent(h.GetWrapper())}p.AddContent(w);B&&(B=!1,F&&a.appContent.SetMapExtent(F.extent,!0))}function b(b){F&&a.appContent.SetMapExtent(F.extent,!1)}function g(b){var c=a.appContent;c.GetAppStyles().FlashCoords(c.GetMap(),[b],"#0f0")}function f(b,c,d){void 0!=r&&r.SetSelected(!1);(r=b).SetSelected(!0);tf.dom.ScrollVerticallyToEnsureVisible(a.scrollerWrapper,
r.GetWrapper());var e=r.GetMapFeature().GetPointCoords();b=a.appContent;c?(b.AnimatedSetCenterIfDestVisible(e),d&&setTimeout(function(){g(e)},500)):d&&(b.MakeSureMapCoordsAreVisible(e),g(e))}function k(a){f(a.sender,!0,!0)}function h(b){b=u.GetCurrentOption();a.directionsResults.ChangeBusPlan(b.settings.busPlanIndex)}function l(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=tf.TFMap.LayoutSettings,e=d.darkTextColor,f=d.sidePanelWidthInt,g=d.directionsResultsIconDimInt,h=g+"px",k=d.directionsSelectedColor,
m=d.directionsItemDistanceFontSizeInt;c[C.wrapperClassName]={inherits:[b.noMarginNoBorderNoPadding,{backgroundColor:d.backgroundLivelyColor},b.overflowVisible,b.positionRelative],color:"black",background:"white",fontSize:"14px",fontWeight:"400",lineHeight:"20px"};c[C.contentClassName]={inherits:[b.overflowVisible,b.positionRelative],height:"100%"};var l=d.directionsSummaryCommonWidthSubInt,p={inherits:[b.noMarginNoBorderNoPadding,b.overflowVisible,b.displayInlineBlock,b.positionRelative,b.cursorPointer],
marginLeft:"6px",padding:d.directionsSummaryPaddingInt+"px",paddingLeft:"14px",width:"calc(100% - "+l+"px)",borderTop:"2px solid transparent",borderBottom:"2px solid transparent"};c[C.summaryTopClassName]={inherits:[p],paddingBottom:"6px"};c[C.summaryTopClassName+":hover"]={borderBottom:"2px solid "+k};c[C.summaryBotClassName]={inherits:[p],paddingTop:"6px"};c[C.summaryBotClassName+":hover"]={borderTop:"2px solid "+k};c[C.planSelectControlWrapper]={inherits:[p],border:"1px solid #ddd",borderRadius:"2px",
width:"calc(100% - "+(l+2)+"px)",marginTop:"6px",paddingTop:"6px",paddingBottom:"6px"};c[C.planSelectControl]={inherits:[b.robotoFontFamily],color:"inherit",outline:"none",border:"none",fontSize:"14px",background:"white",width:"calc(100% - 8px)",fontSize:d.itemInListTitletFontSizeInt+1+"px",lineHeight:d.itemInListTitleLineHeightInt+1+"px",borderRadius:"3px"};c[C.summaryTimeClassName]={color:"black",fontSize:d.directionsSummarySmallFontSizeInt+"px",fontWeight:"700"};c[C.summaryDistanceClassName]={color:"#778",
fontSize:d.directionsSummaryLargeFontSizeInt+"px",fontWeight:"300"};c[C.summaryAddressClassName]={color:e,fontSize:d.directionsSummaryLargeFontSizeInt+"px",fontWeight:"500"};c[G.wrapperClassName]={inherits:[b.noMarginNoBorderNoPadding,b.overflowVisible,b.displayBlock,b.positionRelative],color:"black",backgroundColor:"white",textAlign:"left",fontSize:"inherit",lineHeight:"inherit",fontWeight:"inherit",width:f-g-0+"px",marginBottom:"10px",paddingLeft:"10px"};c[G.wrapperVisibleClassName]={inherits:[b.displayBlock]};
c[G.wrapperHiddenClassName]={inherits:[b.displayNone]};c[G.contentClassName]={inherits:[b.noMarginNoBorderNoPadding,b.overflowVisible,b.displayInlineBlock,b.positionRelative],verticalAlign:"top",background:"transparent",borderBottom:"1px solid #e6e6e6",padding:"12px",paddingLeft:"0px",fontSize:d.directionsItemContentFontSizeInt+"px",lineHeight:d.directionsItemContentLineHeightInt+"px",paddingBottom:d.directionsItemContentPaddingBottomInt+"px",paddingTop:"6px",width:"calc(100% - 62px)"};c[G.iconClassName]=
{inherits:[b.displayInlineBlock,b.noMarginNoBorderNoPadding],background:"transparent",verticalAlign:"top",width:h,height:h};c[G.iconClassName+" svg"]={fill:d.darkTextColor,marginLeft:d.directionsResultsIconMarginLeftInt+"px",marginTop:d.directionsResultsIconMarginTopInt+"px",width:"16px",height:"16px"};c[G.itemSelectedClassName]={inherits:[b.noMarginNoBorderNoPadding,b.overflowVisible,b.positionAbsolute],top:"0px",left:"0px",height:"100%",width:"1px",borderLeft:"5px solid "+k};c[G.itemDistanceClassName]=
{inherits:[b.noMarginNoBorderNoPadding,b.overflowVisible,b.displayBlock,b.positionAbsolute],bottom:"0px",lineHeight:m+"px",background:"white",color:"#778",paddingRight:"6px",left:g+12+"px",fontSize:m+"px"};d=d.directionsSubDirectionsButtonDimPxInt+"px";c[G.subDirectionsClassName]={inherits:[b.overflowVisible,b.positionAbsolute,b.directionsButtonBackground,b.displayBlock,b.backgroundColorTransparent,b.cursorPointer],zIndex:1,bottom:"1px",left:"100%",transform:"translateX(-100%)","-webkit-transform":"translateX(-100%)",
width:d,height:d,borderRadius:"2px"};c[G.subDirectionsClassName+" svg"]={fill:"black",width:"100%",height:"100%"};return c}var n,m,p,q,r,A,t,w,v,u,B,E,D,F;this.SetAutoSetNextExtent=function(){B=!0};this.OnResize=function(){void 0!=E&&d(E,D,F)};this.SelectResultItem=function(a){return f(a,!1,!0)};this.UpdateDistances=function(){for(var a=q.GetObjects(),b=q.GetActiveCount(),c=0;c<b;++c)a[c].UpdateDistance();e()};this.Update=function(a,b,c){return d(a,b,c)};this.Show=function(b){b||c();var d=a.itemVisibleClassName,
e=a.itemHiddenClassName;tf.dom.ReplaceCSSClassCondition(m,b,d,e);tf.dom.ReplaceCSSClassCondition(a.contentBotWrapperFadeTop,b,d,e);tf.dom.ReplaceCSSClassCondition(a.contentBotWrapperFadeBot,b,d,e)};this.GetWrapper=function(){return m};var C,G;n=this;B=!1;(function(){function b(c,d){var e=d.GetIsDisplayingInHover(),f=d.GetSettings(),g=e?21:19,e=e?5:0,f=f.directionsAngle,h=a.appContent.GetAppStyles(),k=[],g=h.GetSVGMapMarkerStyle(h.GetDirectionsMapArrowImage(),[g+4,g+4],[.5,.5],0,++e);g.rotate_with_map=
!0;g.rotation_rad=f;g.snaptopixel=!1;k.push(g);return k}A={style:b,hoverStyle:b}})();q=new tf.js.ObjectCache({createNew:function(b){return new tf.TFMap.DirectionsResultsItem(tf.js.ShallowMerge(a,{itemClassNames:G,wrapper:p,scrollerWrapper:a.scrollerWrapper,onClick:k,itemMapFeatureStyles:A}))},onDelete:function(){}});C={wrapperClassName:tf.TFMap.CreateClassName("directionsContent","Wrapper"),contentClassName:tf.TFMap.CreateClassName("directionsContent","Content"),summaryTopClassName:tf.TFMap.CreateClassName("directionsContent",
"SummaryTop"),summaryBotClassName:tf.TFMap.CreateClassName("directionsContent","SummaryBot"),planSelectControl:tf.TFMap.CreateClassName("directionsContent","PlanSelectControl"),planSelectControlWrapper:tf.TFMap.CreateClassName("directionsContent","PlanSelectControlWrapper"),summaryTimeClassName:tf.TFMap.CreateClassName("directionsContent","STime"),summaryDistanceClassName:tf.TFMap.CreateClassName("directionsContent","SDist"),summaryAddressClassName:tf.TFMap.CreateClassName("directionsContent","SAddr")};
G={wrapperClassName:tf.TFMap.CreateClassName("directionsContent","DirItemWrapper"),wrapperVisibleClassName:tf.TFMap.CreateClassName("directionsContent","DirItemWrapperVisible"),wrapperHiddenClassName:tf.TFMap.CreateClassName("directionsContent","DirItemWrapperHidden"),contentClassName:tf.TFMap.CreateClassName("directionsContent","DirItemContent"),iconClassName:tf.TFMap.CreateClassName("directionsContent","DirItemIcon"),itemSelectedClassName:tf.TFMap.CreateClassName("directionsContent","DirItemItemSelected"),
itemDistanceClassName:tf.TFMap.CreateClassName("directionsContent","DirItemItemDistance"),subDirectionsClassName:tf.TFMap.CreateClassName("directionsContent","DirItemSubDirections")};tf.styles.CreateCSSClasses(l());(function(){var a=tf.TFMap.LayoutSettings;m=new tf.dom.Div({cssClass:C.wrapperClassName});p=new tf.dom.Div({cssClass:C.contentClassName});t=new tf.dom.Div({cssClass:C.summaryTopClassName});w=new tf.dom.Div({cssClass:C.summaryBotClassName});new tf.events.DOMClickListener({target:t,callBack:b,
optionalScope:n,callBackSettings:null});new tf.events.DOMClickListener({target:w,callBack:b,optionalScope:n,callBackSettings:null});v=new tf.dom.Div({cssClass:C.planSelectControlWrapper+" "+a.customizedScrollBarClassName});u=new tf.ui.Select({cssClass:C.planSelectControl+" "+a.customizedScrollBarClassName,optionsCSSClass:C.planSelectControl,onChange:h});v.AddContent(u);m.AddContent(p)})();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(l());n.OnResize()})};
tf.TFMap.DirectionsResults=function(a){function c(){a.wayPointsLayer.SetVisible(J!=tf.TFMap.directionModeBus)}function e(a){var b=!1,c=!1,d=!1,e=!1;switch(fa=a){case "addressError":S=void 0;b=d=!0;break;case "searching":b=e=!0;break;case "searchError":S="A route could not be found, please try different locations";b=d=!0;break;case "searchOK":b=c=!0}e?pa.DelayCallBack():(pa.CancelCallBack(),q(C,!1));c?(void 0!=X&&da.Update(L,W,X),da.Show(!0)):da.Show(!1);if(d)if(a=qa,q(D,!0),tf.js.GetIsNonEmptyString(S))F.GetHTMLElement().innerHTML=
S;else if(tf.js.GetIsNonEmptyArray(a)){if(c=a.length,0<c){d="Sorry! We could not find map coordinates for:";for(e=0;e<c;++e)var f=a[e],g=f.GetPlaceHolder(),f=f.GetInputText(),d=d+("<br><b>"+g+"</b>: <text>"+tf.TFMap.ReplaceHTML(f)+"</text>");d+="<br>Please try a different address, or select a location on the map";F.GetHTMLElement().innerHTML=d}}else console.log("unexpected error"),F.GetHTMLElement().innerHTML="unexpected error";else q(D,!1);b?u||(u=!0,q(v,u)):u&&(u=!1,q(v,u))}function d(a,b){return Z[J].style}
function b(a,b,c,d){return[{zindex:d++,line_cap:b,line:!0,line_opacity:1,line_color:"#fff",line_width:a},{zindex:d++,line_cap:b,line:!0,line_opacity:70,line_color:"#ebebeb",line_width:a+2,line_dash:c},{zindex:d++,line_cap:b,line:!0,line_color:"#1fa0ff",line_width:a,line_dash:c}]}function g(a,b){void 0==b&&(b="#f00");a=2;var c=2*a+1;return{style:[{line:!0,line_color:"#000",line_width:c+2,zindex:3,line_opacity:20},{line:!0,line_color:b,line_width:c,zindex:4,line_opacity:70},{line:!0,line_color:"#fff",
line_width:a+2,zindex:8,line_cap:"butt",line_opacity:100,line_dash:[16,10]}]}}function f(){S=void 0;T=X.total_distance;U=X.total_time;var b=tf.js.GetIsArray(O)?O:[O],c;for(c in b){var d=b[c];a.layer.AddMapFeature(d);K.push(d)}e("searchOK")}function k(a){if(N&&N==a.sender&&(N=void 0,!a.sender.WasCancelled())){var b=!1;if(a&&a.requestProps.routingCount==Q){var c=[],d="Routing server not available ",g=!1,h,k=0,m=0;if(void 0!=a)if(0==a.status||200==a.status){var l=0,p=a.route_instructions.length-1,d=
new tf.map.FeatureGeom({type:"linestring",coordinates:a.route_geometry}),n=a.route_summary,k=n.total_distance,m=n.total_time;ba=a.route_geometry;A();O.SetGeom(d);O.RefreshStyle();for(var d=a.status_message,g=!0,q=a.route_instructions.length,t=0;t<q;++t){var w=a.route_instructions[t],r=a.route_geometry[w[3]],v=tf.services.TranslateRoutingInstruction(w[0]),u;l!=p?(u=w[1],u=u.replace("{",""),u=u.replace("}",""),u=u.replace(":"," "),u=u.replace("_"," "),""==u&&(u=0==t?n.start_point:t==q-1?n.end_point:
"ahead"),void 0==v&&(console.log("unknown direction instruction"),v="Go")):(u="is ahead",v="Destination");w={geometry:{type:"point",coordinates:r},properties:{instructionCode:parseInt(w[0],10),instruction:v,streetName:u,lengthMeters:w[2],postTurnDirection:w[7]}};h=tf.js.UpdateMapExtent(h,r);++l;c.push(w)}}else d=a.status_message;X={total_distance:k,total_time:m,instructions:c,message:d,routeFeature:O,success:g,extent:h};X.success?(ra=X,Ha=J,f(),b=!0):ra=void 0}b||e("searchError")}}function h(b){var c,
d="<span class='"+tf.TFMap.LayoutSettings.defaultHorMarginsClassName+"'>";switch(b.mapFeature){case M:c=tf.TFMap.MapTwoLineSpan(tf.TFMap.StartLocationName,"drag to change");break;case R:B?(c=d+tf.TFMap.UserFriendlyModeVerbs[J]+"</span><br />",c+=d+tf.js.ConvertToHourMinute2(U),c+=" ("+tf.TFMap.GetDirectionsDistanceText(T,a.appContent.GetMap().GetIsUSScaleUnits())+")</span>",c=c+tf.TFMap.MakeHRDivHTML()+d+"drag to change</span>"):c=tf.TFMap.MapTwoLineSpan(tf.TFMap.EndLocationName,"drag to change")}return c}
function l(){N&&N==aa&&(ra=N=void 0,oa=aa.GetInstructionsAndRouteGeom(),oa.success?(a.layer.RemoveAllFeatures(),Ha=J,n(0)):(oa=void 0,e("searchError")))}function n(c){if(oa&&void 0!=oa.allPlans&&0<=c&&c<oa.allPlans.length){oa.curPlanIndex=c;ra=oa.allPlans[oa.curPlanIndex];ra.allPlans=oa.allPlans;ra.curPlanIndex=c;X=ra;a.layer.RemoveAllFeatures();O=[];for(var d in ra.routeGeom){c=ra.routeGeom[d];var e={type:"linestring",coordinates:c.coords};c.isWalk?e=tf.js.ShallowMerge(e,{style:b(9,"round",[1,10],
30)}):e.style=e=tf.js.ShallowMerge(e,g(9,c.colorStr));c=new tf.map.Feature(e);c.GetSettings().isDirectionRoute=!0;O.push(c)}f()}}function m(b){c();X=S=void 0;var d=b.length;if(0<d){var g=!0;if(void 0!=Da&&void 0!=ra&&Ha==J&&Da.length==d)for(var g=!1,h=0;h<d&&!g;++h)var g=b[h],m=Da[h],g=g[0]!=m[0]||g[1]!=m[1];g?(p(),ra&&(ra.instructions=[],ra.allPlans&&(ra.allPlans=[])),N&&N.Cancel(),b=b.slice(0),Da=b.slice(0),e("searching"),J==tf.TFMap.directionModeBus?(aa||(aa=new tf.Transit.PlanService({useStageBusDirections:a.useStageBusDirections,
onFullDirectionsLoaded:l,transitServerURL:a.transitServerURL})),aa&&(N=aa).GetPlan(b[0],b[b.length-1])):N=new tf.services.Routing({findAlternatives:!1,level:14,lineStringCoords:b,mode:J,optionalScope:w,instructions:!0,callBack:k,requestProps:{routingCount:++Q}})):(X=ra,f())}}function p(){X||(a.layer.RemoveAllFeatures(),O=[])}function q(b,c){tf.dom.ReplaceCSSClassCondition(b,c,a.itemVisibleClassName,a.itemHiddenClassName)}function r(a,b){tf.TFMap.SetMapFeatureToolTipProps(a,{toolTipText:b,keepOnHoverOutTarget:!1,
offsetX:24});return a}function A(){O=new tf.map.Feature({type:"linestring",coordinates:[[0,0],[0,0]],style:d,hoverStyle:d});O.GetSettings().isDirectionRoute=!0}function t(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d={backgroundColor:tf.TFMap.LayoutSettings.backgroundLivelyColor};c[ma]={inherits:[b.noMarginNoBorderNoPadding,b.overflowVisible],background:"transparent"};c[ia]={inherits:[b.noMarginNoBorderNoPadding,d,b.overflowVisible,b.positionRelative],color:"black",background:"beige",
fontSize:"0.8rem",lineHeight:"1.2rem"};c[ja]={inherits:[b.overflowVisible,b.positionRelative],padding:"8px"};c[V]={inherits:[b.noMarginNoBorderNoPadding,d,b.overflowVisible,b.positionRelative],color:"black",background:"white",fontSize:"14px",lineHeight:"20px"};c[ha]={inherits:[b.overflowVisible,b.positionRelative],height:"20px",padding:"8px"};c[na]={inherits:[b.loadingBackgroundTransparent,b.displayInlineBlock],verticalAlign:"top",width:"20px",height:"20px",marginRight:"6px"};return c}var w,v,u,B,
E,D,F,C,G,H,I,J,K,N,Q,M,R,O,T,U,S,Z,X,da,L,W,ca,ea,ba,fa,qa,pa,ua,aa;this.SetAutoSetNextExtent=function(){da.SetAutoSetNextExtent()};this.UpdateDistances=function(){return da.UpdateDistances()};this.SelectResultItem=function(a){return da.SelectResultItem(a)};this.GetModeOfTransportation=function(){return J};this.SetModeOfTransportation=function(a){J=a;B&&m(I)};this.GetWrapper=function(){return v};this.GetCanSearch=function(){return B};this.OnResize=function(){da.OnResize()};this.GetRouteCoordinates=
function(){return ba};this.ChangeBusPlan=function(a){return n(a)};this.CheckCanSearch=function(a,b,c){L=a;W=b;ca=c;B=!1;ea.DelayCallBack()};var oa,Da,ra,Ha,ma,ia,ja,V,ha,na;w=this;ua=tf.js.GetFunctionOrNull(a.onFoundOutCanSearch);pa=new tf.events.DelayedCallBack(tf.TFMap.DelayShowSearching,function(){"searching"==fa&&q(C,!0)},w);fa="idle";ea=new tf.events.DelayedCallBack(tf.TFMap.DelayDirections,function(){c();qa=[];H=[];I=[];E=B=!1;X=S=void 0;var b=[];void 0!=L&&b.push(L);void 0!=W&&b.push(W);if(tf.js.GetIsNonEmptyArray(b)){var d=
b.length;B=!0;for(var f=0;f<d;++f){var g=b[f];if(g.GetIsValid()){var h=0==f,k=f==d-1,g=g.GetValue().coords;H.push({coords:g,isStart:h,isEnd:k});I.push(g);h&&tf.js.GetIsNonEmptyArray(ca)&&Array.prototype.push.apply(I,ca)}else B=!1,g.GetIsInError()&&(E=!0,qa.push(g))}B&&m(I)}E?e("addressError"):B||e("idle");b=H;a.wayPointsLayer.SetVisible(!1);p();0<K.length&&(c(),a.pinLayer.RemoveAllFeatures(),K=[]);d=b.length;if(0<d){f=a.pinLayer;for(h=0;h<d;++h){var g=b[h],k=g.isStart,g=g.coords.slice(0),l=k?M:R;
l.GetSettings().directionsAddressItem=k?L:W;l.SetPointCoords(g);l.RefreshStyle();f.AddMapFeature(l,!0);K.push(l)}f.AddWithheldFeatures()}ua&&ua({sender:w})},w);J=tf.js.GetNonEmptyString(a.modeOfTransportation,tf.consts.routingServiceModeCar);Z={};Z[tf.consts.routingServiceModeFoot]={style:b(9,"round",[1,10],30)};Z[tf.consts.routingServiceModeBicycle]={style:b(9,"butt",[4.5,1.8],20)};Z[tf.consts.routingServiceModeCar]={style:b(7,"square",[9,9*1.2,4.5,9*1.2],10)};Z[tf.consts.routingServiceModeBus]=
g(9);Q=T=U=0;K=[];H=[];B=E=u=!1;ma=tf.TFMap.CreateClassName("directionsResults","Wrapper");ia=tf.TFMap.CreateClassName("directionsResults","ErrorsWrapper");ja=tf.TFMap.CreateClassName("directionsResults","ErrorsContent");V=tf.TFMap.CreateClassName("directionsResults","SearchingWrapper");ha=tf.TFMap.CreateClassName("directionsResults","SearchingContent");na=tf.TFMap.CreateClassName("directionsResults","SearchingIcon");tf.styles.CreateCSSClasses(t());v=new tf.dom.Div({cssClass:ma});D=new tf.dom.Div({cssClass:ia});
F=new tf.dom.Div({cssClass:ja});D.AddContent(F);C=new tf.dom.Div({cssClass:V});G=new tf.dom.Div({cssClass:ha});G.GetHTMLElement().innerHTML="<div class='"+na+"'></div>Searching...";C.AddContent(G);da=new tf.TFMap.DirectionsResultsContent(tf.js.ShallowMerge(a,{directionsResults:w}));v.AddContent(D,C,da.GetWrapper());q(D,!1);q(v,u);(function(){var b=a.appContent.GetAppStyles(),c=tf.TFMap.DirectionsFeatureDimMult,c=[20*c,30*c],d=[.5,1],e=4;M=new tf.map.Feature(b.GetSVGMapMarkerGeomAndStyles(void 0,b.GetFromImage(),
c,d,0,e++));r(M,h);R=new tf.map.Feature(b.GetSVGMapMarkerGeomAndStyles(void 0,b.GetToImage(),c,d,0,e++));r(R,h);A()})();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(t())})};
tf.TFMap.DirectionsPanel=function(a){function c(b){var c=a.appContent;U=[];S=[];a.appContent.OnDirectionWayPointsDiscarded();c.GetAppCtx().SetCtxAttribute(tf.TFMap.CAN_directionsMode,b.mode);f();d(J,b.fromCoords);d(K,b.toCoords);b.center&&(c=c.GetMap(),c.SetCenter(b.center),c.SetResolution(b.res))}function e(){for(var a=S.length,b=0;b<a;++b){var c=S[b];c.GetSettings().wayPointIndex=b;c.RefreshStyle()}}function d(a,b){var c=b[1].toFixed(5)+", "+b[0].toFixed(5);a.SetValue({address:c,coords:b});a.RevGeocode();
l()}function b(b){b=b.toolTipSender?b.toolTipSender:b.sender;var d;switch(b){case H:d=J.GetValueForSwap();J.SetValueForSwap(K.GetValueForSwap());K.SetValueForSwap(d);l();break;case v:Z&&(d=Z,Z=void 0,c(d));break;case u:a.appContent.GetAppCtx().SetCtxAttribute(tf.TFMap.CAN_showingDirections,!1);break;default:void 0!=(d=b.GetSettings().modeVerb)&&a.appContent.GetAppCtx().SetCtxAttribute(tf.TFMap.CAN_directionsMode,d)}}function g(b,c,d,e,f,g){b=a.appContent.CreateButton(tf.js.ShallowMerge(b,{svgHTML:c,
buttonClass:d+" rippleWhite",toolTipText:e}));b.GetSettings().modeVerb=g;g=b.GetButton().firstChild;void 0!=f&&tf.dom.AddCSSClass(g,f);return b}function f(){var b=a.appContent.GetAppCtx().GetCtxAttribute(tf.TFMap.CAN_directionsMode);if(b!=C){C=b;for(var c in G){var d=G[c],e=d.GetSettings().modeVerb;tf.dom.ReplaceCSSClassCondition(d.GetButton(),e==C,W,ca)}Q.SetModeOfTransportation(b)}b=Z?"inline-block":"none";v.GetButton().style.display=b}function k(a){l()}function h(a){a=a.sender;a.GetIsValid()||
a.Geocode()}function l(){N=J.GetIsValid()&&K.GetIsValid();Q.CheckCanSearch(J,K,U);m()}function n(a){m()}function m(){var a=Q.GetCanSearch(),b=tf.TFMap.LayoutSettings;tf.dom.ReplaceCSSClassCondition(I,a,oa,Da);tf.dom.ReplaceCSSClassCondition(M,a,Ha,b.sidePaneFullHeightContentWrapperClassName)}function p(b,c,d){return new tf.TFMap.DirectionsAddress({itemVisibleClassName:ma,itemHiddenClassName:ia,placeHolder:b,appContent:a.appContent,onInputChange:k,onGo:h,mapFeatureIcon:c,id:d,autocomplete:"off"})}
function q(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=tf.TFMap.LayoutSettings,e=d.darkTextColor,f=d.directionsCaptionPaddingTopInt,g=d.directionsCaptionContentHeightInt,h=g+"px",k=g+f+2,g=k-2,m=g+"px",l=g-8+"px",p=d.directionsDisclaimerWrapperHeightInt,g=d.directionsContentBotWrapperFadeHeightInt,n={backgroundColor:d.backgroundLivelyColor};c[ma]={inherits:[b.displayBlock]};c[ia]={inherits:[b.displayNone]};c[X]={inherits:[b.positionRelative,b.noMarginNoBorderNoPadding,b.WOneHundred,
n,b.displayFlex,b.flexFlowRowNoWrap],paddingTop:f/2+"px",paddingBottom:f/2+"px",marginBottom:d.directionsCaptionMarginBottomInt+"px",height:k+"px"};c[da]={inherits:[b.noMarginNoBorderNoPadding,b.positionRelative],height:"100%",paddingLeft:"30px"};c[L]={width:l,height:l,fill:"rgba(255, 255, 255, 0.9)",stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:"0.1px"};f={inherits:[b.transparentImageButton,b.overflowHidden,b.positionAbsolute,b.displayBlock,b.flexGrowZero],width:h,height:h};h={stroke:"darkgray",strokeWidth:"0.2px",
position:"relative",display:"inline-block",borderRadius:"50%",marginRight:"24px",width:m,height:m};c[W]={backgroundColor:e};c[ca]={inherits:[b.backgroundColorTransparent]};c[ea]={inherits:[f,h]};c[ba]={inherits:[b.noMarginNoBorderNoPadding,n,b.overflowVisible,b.positionRelative],paddingBottom:"8px"};c[fa]={inherits:[b.transparentImageButton,b.overflowHidden,b.displayBlock],fill:"rgba(255,255,255,0.5)",background:"transparent"};c[fa+":hover"]={fill:"white"};c[qa]={inherits:[b.overflowVisible,b.positionAbsolute,
b.noBorderNoPadding],background:"transparent",top:d.directionsSwitchStartEndTopInt+"px",right:"4px",width:"40px",height:"40px"};c[ua]={inherits:[b.positionRelative],borderRadius:"50%",width:"40px",height:"40px"};c[pa]={width:"24px",height:"24px",strokeWidth:"0"};c[aa]={inherits:[b.positionAbsolute,b.leftBotZero,b.overflowHidden],height:p+"px",background:"white",width:"100%"};c[oa]={inherits:[b.displayFlex]};c[Da]={inherits:[b.displayNone]};c[Ha]={height:"calc(100% - "+p+"px)"};c[ra]={inherits:[b.cursorDefault,
b.displayBlock,b.overflowHidden,b.marginAuto],textOverflow:"ellipsis",padding:"4px",textAlign:"center",width:"calc(100% - 8px)",fontSize:d.directionsDisclaimerFontSizeInt+"px",lineHeight:d.directionsDisclaimerLineHeightInt+"px",fontWeight:"300",color:"black"};b={inherits:[b.noMarginNoBorderNoPadding,b.pointerEventsNone,b.positionAbsolute,b.overflowVisible],left:"0px",zIndex:""+(d.rootDivZIndex+d.listFadeWrapperZIndexAdd),width:"calc(100% - 18px)",paddingLeft:"6px",height:g-0+"px !important"};c[ja]=
{inherits:[b],bottom:"-"+g+"px",background:"linear-gradient(to bottom, rgba(255,255,255,0.8),rgba(255,255,255,0))"};c[V]={inherits:[b],bottom:"0px",background:"linear-gradient(to top, rgba(255,255,255,0.8),rgba(255,255,255,0))"};return c}var r,A,t,w,v,u,B,E,D,F,C,G,H,I,J,K,N,Q,M,R,O,T,U,S,Z;this.PushDirections=function(b){if(C==tf.TFMap.directionModeBus){var d=a.appContent.GetMap();Z={fromCoords:J.GetValue().coords,toCoords:K.GetValue().coords,mode:tf.TFMap.directionModeBus,center:d.GetCenter(),res:d.GetResolution()};
c(b)}};this.SetAutoSetNextExtent=function(){Q.SetAutoSetNextExtent()};this.GetRouteCoordinates=function(){return Q.GetRouteCoordinates()};this.GetCanAddWayPoint=function(){return N&&U.length<tf.TFMap.MaxDirectionsWayPoints&&C!=tf.TFMap.directionModeBus};this.DeleteWayPoint=function(a){for(var b=S.length,c=0;c<b;++c)if(S[c]==a){a.GetSettings().wayPointIndex=void 0;U.splice(c,1);S.splice(c,1);break}e();l()};this.AddWayPoint=function(a){if(r.GetCanAddWayPoint()){var b=a.GetPointCoords().slice(0),c=U.length;
if(1>c)U=[b],S=[a],l();else{for(var d=r.GetRouteCoordinates(),f=tf.helpers.HitTestMapCoordinatesArray(d,b,void 0,void 0,void 0),g=c,h=[],k=0;k<c;++k)h.push(tf.helpers.HitTestMapCoordinatesArray(d,S[k].GetPointCoords(),void 0,void 0,void 0));h.sort(function(a,b){return a.minDistanceIndex<b.minDistanceIndex?-1:a.minDistanceIndex>b.minDistanceIndex?1:a.proj<b.proj?-1:a.proj<b.proj?1:0});for(k=0;k<c;++k)if(d=h[k],d.minDistanceIndex>f.minDistanceIndex||d.minDistanceIndex==f.minDistanceIndex&&d.proj>f.proj){g=
k;break}U.splice(g,0,b);S.splice(g,0,a)}e()}};this.OnWayPointChangedCoords=function(a){for(var b in S)if(S[b]==a){U[b]=a.GetPointCoords().slice(0);l();break}};this.OnResize=function(){return Q.OnResize()};this.OnAddressMapFeatureChangedCoords=function(a,b){a!=J&&a!=K||d(a,b)};this.SelectAddressItem=function(b){a.appContent.EnsureDirectionsVisible();b.SetSelected()};this.SelectResultItem=function(b){a.appContent.EnsureDirectionsVisible();return Q.SelectResultItem(b)};this.UpdateDistances=function(){return Q.UpdateDistances()};
this.GetWrapper=function(){return A};this.GetNeedsAddress=function(){return!J.GetHasInputText()||!K.GetHasInputText()};this.SetDirectionsAddress=function(a,b){if(tf.js.GetIsNonEmptyString(a)){var c=b?J:K;c.SetValue({address:a});c.Geocode()}};this.SetDirectionsTargetToCoords=function(b,c,e){var f=a.appContent;f.GetAppCtx();e||f.EnsureDirectionsVisible();J.GetHasCoords(b)||K.GetHasCoords(b)||(c=c||J.GetIsValid()||J.GetHasInputText()?K:J,U=[],S=[],a.appContent.OnDirectionWayPointsDiscarded(),d(c,b),
e||f.MakeSureMapCoordsAreVisible(b))};this.UpdateVisibility=function(){var a=r.GetShouldBeVisible();if(t!=a){var b=tf.TFMap.LayoutSettings;tf.dom.ReplaceCSSClassCondition(A,t=a,b.sidePanelWrapperVisibleClassName,b.sidePanelWrapperCollapsedClassName)}};this.UpdateMode=function(){f()};this.GetShouldBeVisible=function(){return a.appContent.GetAppCtx().GetCtxAttribute(tf.TFMap.CAN_showingDirections)};var X,da,L,W,ca,ea,ba,fa,qa,pa,ua,aa,oa,Da,ra,Ha,ma,ia,ja,V;r=this;U=[];S=[];N=!1;C=t=void 0;ma=tf.TFMap.CreateClassName("directionsPanel",
"ItemVisible");ia=tf.TFMap.CreateClassName("directionsPanel","ItemHidden");X=tf.TFMap.CreateClassName("directionsPanel","Caption");da=tf.TFMap.CreateClassName("directionsPanel","CaptionToolBar");L=tf.TFMap.CreateClassName("directionsPanel","ModeSVGs");W=tf.TFMap.CreateClassName("directionsPanel","CBSelected");ca=tf.TFMap.CreateClassName("directionsPanel","CBUnselected");ea=tf.TFMap.CreateClassName("directionsPanel","ModeButton");ba=tf.TFMap.CreateClassName("directionsPanel","AllWayPointAddressesWrapper");
fa=tf.TFMap.CreateClassName("directionsPanel","DirectionsButtonBase");qa=tf.TFMap.CreateClassName("directionsPanel","SwitchStartEndWrapper");ua=tf.TFMap.CreateClassName("directionsPanel","SwitchStartEndButton");pa=tf.TFMap.CreateClassName("directionsPanel","SwitchStartEndSVGs");aa=tf.TFMap.CreateClassName("directionsPanel","DisclaimerWrapper");oa=tf.TFMap.CreateClassName("directionsPanel","DisclaimerWrapperVisible");Da=tf.TFMap.CreateClassName("directionsPanel","DisclaimerWrapperHidden");Ha=tf.TFMap.CreateClassName("directionsPanel",
"ContentWithDisclaimer");ra=tf.TFMap.CreateClassName("directionsPanel","DisclaimerContent");ja=tf.TFMap.CreateClassName("directionsPanel","ContentBotFadeTop");V=tf.TFMap.CreateClassName("directionsPanel","ContentBotFadeBot");tf.styles.CreateCSSClasses(q());(function(){var c=a.appContent,d=c.GetAppStyles(),e=tf.TFMap.LayoutSettings,h=e.customizedScrollBarClassName,k=!!a.useBusDirections;A=new tf.dom.Div({cssClass:e.sidePanelWrapperClassName});M=new tf.dom.Div({cssClass:e.sidePanelContentWrapperClassName});
w=new tf.dom.Div({cssClass:X});var l={offsetY:0,onClick:b,onHover:void 0,wrapper:w,delayMillis:0,toolTipClass:"*end",toolTipArrowClass:"top"},q=new tf.dom.Div({cssClass:da});v=g(l,d.GetArrowLeftSVGNoColor(),ea+" "+ca,"Back to bus directions",L);B=g(l,c.GetAppStyles().GetCarSVG(),ea,tf.TFMap.UserFriendlyModeVerbs[tf.TFMap.directionModeDrive],L,tf.TFMap.directionModeDrive);E=g(l,c.GetAppStyles().GetWalkSVG(),ea,tf.TFMap.UserFriendlyModeVerbs[tf.TFMap.directionModeWalk],L,tf.TFMap.directionModeWalk);
D=g(l,c.GetAppStyles().GetBikeSVG(),ea,tf.TFMap.UserFriendlyModeVerbs[tf.TFMap.directionModeBike],L,tf.TFMap.directionModeBike);G=[B,E,D];k&&(F=g(l,c.GetAppStyles().GetBusSVG(),ea,tf.TFMap.UserFriendlyModeVerbs[tf.TFMap.directionModeBus],L,tf.TFMap.directionModeBus),G.push(F));l.toolTipClass="*start";u=g(tf.js.ShallowMerge(l,{wrapper:M}),d.GetXMarkSVG(),e.sidePanelCloseButtonClassName,"Close directions",void 0);q.AddContent(v.GetButton(),B.GetButton(),E.GetButton(),D.GetButton());k&&q.AddContent(F.GetButton());
w.AddContent(q);k=new tf.dom.Div({cssClass:ba});J=p(tf.TFMap.StartLocationName,d.GetFromImage());K=p(tf.TFMap.EndLocationName,d.GetToImage());k.AddContent(J.GetWrapper(),K.GetWrapper());d=new tf.dom.Div({cssClass:qa});l.delayMillis=tf.TFMap.toolTipDelayMillis;l.offsetX=-10;l.wrapper=d;l.toolTipClass="end";l.toolTipArrowClass="right";H=g(l,c.GetAppStyles().GetUpDownArrowSVG(),fa+" "+ua,"Reverse "+tf.TFMap.StartLocationName+" and "+tf.TFMap.EndLocationName,pa);d.AddContent(H.GetButton());I=new tf.dom.Div({cssClass:aa});
c=new tf.dom.Div({cssClass:ra});c.GetHTMLElement().innerHTML="Use TerraFly directions as a trip planning aid; you are responsible for observing applicable laws and local ordinances at all times.";I.AddContent(c);c=new tf.dom.Div({cssClass:e.sidePaneContentFixedHeightClassName});R=new tf.dom.Div({cssClass:e.sidePaneContentVariableHeightClassName+" "+h});O=new tf.dom.Div({cssClass:ja+" "+ia});T=new tf.dom.Div({cssClass:V+" "+ia});Q=new tf.TFMap.DirectionsResults({onFoundOutCanSearch:n,appContent:a.appContent,
layer:a.layer,pinLayer:a.pinLayer,itemsLayer:a.itemsLayer,modeOfTransportation:a.appContent.GetAppCtx().GetCtxAttribute(tf.TFMap.CAN_directionsMode),wayPointsLayer:a.wayPointsLayer,scrollerWrapper:R,itemVisibleClassName:ma,itemHiddenClassName:ia,contentBotWrapperFadeTop:O,contentBotWrapperFadeBot:T,useStageBusDirections:!!a.useStageBusDirections,transitServerURL:a.transitServerURL});m();c.AddContent(w,k,d,O);R.AddContent(Q.GetWrapper());M.AddContent(u.GetButton(),c,R);M.AddContent(T);A.AddContent(M,
I);f()})();r.UpdateVisibility();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(q())})};
tf.TFMap.OverMapCanvas=function(a){function c(a){return[Math.round(a[0]),Math.round(a[1])]}function e(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=tf.TFMap.LayoutSettings,d=[];d[p]={inherits:[b.displayBlock,b.overflowHidden,b.backgroundColorTransparent,b.cursorDefault,b.noMarginNoBorderNoPadding,b.positionAbsolute,b.leftTopZero,b.pointerEventsNone],zIndex:""+(c.rootDivZIndex+c.overMapCanvasZIndexAdd),height:"100%",width:"100%"};d[q]={inherits:[b.displayBlock,b.overflowHidden,b.backgroundColorTransparent,
b.cursorDefault,b.noMarginNoBorderNoPadding,b.positionAbsolute,b.leftTopZero,b.zIndex1],height:"100%",width:"100%"};return d}var d,b,g,f,k,h,l,n,m;this.Clear=function(){var a=g.getContext("2d"),b=[Math.round(g.clientWidth),Math.round(g.clientHeight)];if(g.width!=b[0]||g.height!=b[1])g.width=b[0],g.height=b[1];a.clearRect(0,0,b[0],b[1]);return b};this.DrawCircle=function(a,b,c){var d=tf.browser.GetDevicePixelRatio(),e=g.getContext("2d");e.save();e.beginPath();e.fillStyle=c;e.beginPath();e.arc(a[0]*
d,a[1]*d,b*d,0,2*Math.PI,!1);e.closePath();e.fill();e.restore()};this.GetIsModified=function(){if(!k&&0<n){var b=a.appContent.GetMap().GetCenter();k=void 0==m||m[0]!=b[0]||m[1]!=b[1]}return k};this.Draw=function(){m=a.appContent.GetMap().GetCenter();d.Clear();var b=g.getContext("2d"),e;for(e in l){var h=l[e];switch(h.type){case f:var p=b,n=h,q=a.appContent.GetMap(),h=c(n.startPixelCoord),n=c(q.MapToPixelCoords(n.endCoord)),q=n[0]-h[0],B=n[1]-h[1],E=Math.sqrt(q*q+B*B)-10-1,D=E-10-1;0>D&&(D=0);E=D/
E;q=c([h[0]+q*E,h[1]+B*E]);B=tf.TFMap.LayoutSettings.backgroundLivelyColor;E=tf.browser.GetDevicePixelRatio();p.save();p.fillStyle="rgba(255, 255, 255, 0.3)";p.beginPath();p.strokeStyle=B;p.lineWidth=3;p.lineCap="round";p.lineDashOffset=0;p.moveTo(h[0]*E,h[1]*E);p.lineTo(q[0]*E,q[1]*E);p.closePath();p.stroke();p.beginPath();p.arc(n[0]*E,n[1]*E,10*E,0,2*Math.PI,!1);p.closePath();p.stroke();p.fill();p.beginPath();p.fillStyle=B;p.arc(h[0]*E,h[1]*E,5*E,0,2*Math.PI,!1);p.closePath();p.stroke();p.fill();
p.restore()}}k=!1};this.GetCount=function(){return n};this.AddOMCLine=function(a,b,c){var d=""+h++;a={key:d,type:f,startCoord:a,endCoord:b,startPixelCoord:c};l[d]=a;k=!0;++n;return a};this.DelOMCLine=function(a){tf.js.GetIsValidObject(a)&&void 0!=l[a.key]&&(--n,delete l[a.key],k=!0)};this.GetWrapper=function(){return b};var p,q;d=this;f="line";n=0;k=!1;h=1;l={};p=tf.TFMap.CreateClassName("overMapCanvas","Wrapper");q=tf.TFMap.CreateClassName("overMapCanvas","Canvas");tf.styles.CreateCSSClasses(e());
b=new tf.dom.Div({cssClass:p});g=document.createElement("canvas");g.className=q;b.AddContent(g);a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(e())})};
tf.TFMap.PhotoDisplayer=function(a){function c(a,b,c,d){d.GetIsValid()&&d.GetDimensions();return h&&!!t&&t.photoName==a}function e(a,b){h!=(a=!!a)&&(h=a,tf.dom.ReplaceCSSClassCondition(h?b:void 0!=b?b:p,h,u,v),h?(l.GetHTMLElement().disabled=!1,p=b):(l.GetHTMLElement().disabled=!0,p=void 0))}function d(b){k.Hide();a.appContent.OnPhotoDisplayHidden()}function b(){return A}function g(a){r&&r({sender:k,photoSettings:t})}function f(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=tf.TFMap.LayoutSettings,
d=c.underBottomPaneHeightInt,e=[];e[w]={inherits:[b.transitionPoint2s,b.displayBlock,b.overflowVisible,b.cursorDefault,b.pointerEventsNone,b.noMarginNoBorderNoPadding,b.positionAbsolute],top:"0px",zIndex:""+(c.rootDivZIndex+c.photoDisplayerWrapperZIndexAdd),backgroundColor:"black",height:"100%"};e[v+" ."+w]={left:"100%",width:"0px"};e[u+" ."+w]={left:"0px",width:"100%"};e[B]={inherits:[b.whiteSpaceNoWrap,b.displayBlock,b.pointerEventsAll,b.overflowVisible,b.cursorPointer,b.noMarginNoBorderNoPadding,
b.positionRelative],marginLeft:"0px",marginRight:"0px",zIndex:""+(c.rootDivZIndex+c.photoDisplayerContentWrapperZIndexAdd),height:"calc(100% - "+(d+2)+"px)",width:"100%"};e[E]={inherits:[b.whiteSpaceNoWrap,b.displayBlock,b.pointerEventsAll,b.overflowVisible,b.cursorPointer,b.noMarginNoBorderNoPadding,b.positionAbsolute,b.transitionBackground,{"-webkit-background-size":"contain","-moz-background-size":"contain","-o-background-size":"contain",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",
backgroundColor:"black"}],color:"white",fontSize:"11px",left:"0px",top:"0px",zIndex:""+(c.rootDivZIndex+c.photoDisplayerContentZIndexAdd),height:"100%",width:"100%"};e[D]={inherits:[b.positionAbsolute,b.pointerEventsAll,b.transparentImageButton,b.displayFlex,b.flexFlowRowNoWrap,b.borderRadius2px],background:"darkblue",padding:"4px",zIndex:""+(c.rootDivZIndex+c.photoDisplayerButtonZIndexAdd),width:"32px",height:"32px",top:"8px"};e[D+" svg"]={fill:"white",stroke:"none"};e[D+":hover"]={background:"white"};
e[D+":hover svg"]={fill:c.darkTextColor,stroke:"none"};c=8;e[C]={left:c+"px"};c+=70;e[G]={left:c+"px"};e[H]={left:c+38+"px"};e[F]={inherits:[b.flexGrowOne],width:"70%",height:"70%"};return e}var k,h,l,n,m,p,q,r,A,t;this.OnClose=function(){k.GetIsShowing()&&d()};this.GetWrapper=function(){return l};this.GetIsShowing=function(){return h};this.Show=function(a,b){t=b;var d=m.GetButton().style;(r=tf.js.GetFunctionOrNull(b.onClick))?(d.cursor="pointer",A=b.toolTipText):(d.cursor="default",A=void 0);var d=
b.photoName,f=m.GetButton(),g=f.style;f.innerHTML="";g.backgroundImage="url("+d+")";e(!0,a);tf.TFMap.ValidateImageOrDisplayMessage(d,m.GetButton(),c)};this.Hide=function(a){m.GetButton().style.background=void 0;e(!1,a)};var w,v,u,B,E,D,F,C,G,H;k=this;h=void 0;w=tf.TFMap.CreateClassName("photoDisplay","Wrapper");v=tf.TFMap.CreateClassName("photoDisplay","WrapperHidden");u=tf.TFMap.CreateClassName("photoDisplay","WrapperVisible");B=tf.TFMap.CreateClassName("photoDisplay","ContentWrapper");E=tf.TFMap.CreateClassName("photoDisplay",
"Content");D=tf.TFMap.CreateClassName("photoDisplay","Buttons");C=tf.TFMap.CreateClassName("photoDisplay","CloseButton");G=tf.TFMap.CreateClassName("photoDisplay","PrevButton");H=tf.TFMap.CreateClassName("photoDisplay","NextButton");F=tf.TFMap.CreateClassName("photoDisplay","ButtonSVG");tf.styles.CreateCSSClasses(f());(function(){var c=a.appContent,e=tf.TFMap.toolTipDelayMillis;l=new tf.dom.Div({cssClass:w});n=new tf.dom.Div({cssClass:B});l.GetHTMLElement().disabled=!0;e={wrapper:n,delayMillis:e,
toolTipClass:"center",toolTipArrowClass:"*right"};m=c.CreateButton(tf.js.ShallowMerge(e,{offsetX:4,buttonClass:E,toolTipText:b,onClick:g,wrapper:n,keepOnHoverOutTarget:!0}));var f=m.GetButton();n.AddContent(f);e.offsetX=0;e.wrapper=l;e.insertWrapper=l;e.toolTipClass="end";e.toolTipArrowClass="top";q=c.CreateButton(tf.js.ShallowMerge(e,{offsetY:8,svgHTML:c.GetAppStyles().GetXMarkSVG(),width:"24px",height:"24px",buttonClass:D+" "+C+" ripple",toolTipText:"Close viewer",onClick:d}));tf.dom.AddCSSClass(q.GetButton().firstChild,
F);f=c.CreateButton(tf.js.ShallowMerge(e,{offsetY:8,svgHTML:c.GetAppStyles().GetArrowLeftSVGNoColor(),width:"24px",height:"24px",buttonClass:D+" "+G+" ripple",toolTipText:"View previous photo",onClick:function(){t&&t.photoListDisplayer&&t.photoListDisplayer.OnNextPrev(!1)}}));tf.dom.AddCSSClass(f.GetButton().firstChild,F);c=c.CreateButton(tf.js.ShallowMerge(e,{offsetY:8,svgHTML:c.GetAppStyles().GetArrowRightSVGNoColor(),width:"24px",height:"24px",buttonClass:D+" "+H+" ripple",toolTipText:"View next photo",
onClick:function(){t&&t.photoListDisplayer&&t.photoListDisplayer.OnNextPrev(!0)}}));tf.dom.AddCSSClass(c.GetButton().firstChild,F);l.AddContent(n,q.GetButton(),f.GetButton(),c.GetButton())})();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(f())})};
tf.TFMap.PhotoListDisplayer=function(a){function c(a){var b=v.GetHTMLElement();b.scrollLeft+=100*(a.isUp?-1:1)}function e(){return{onClick:k,onHover:void 0,wrapper:w,delayMillis:tf.TFMap.toolTipDelayMillis,toolTipClass:"start",toolTipArrowClass:"bottom",toolTipText:"View Photo",buttonClass:O+" ripple"}}function d(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=G+"px",e=G/2+"px",f=tf.TFMap.LayoutSettings,g=f.backgroundLivelyColor,h=f.underBottomPaneHeightInt,k=9*(h-30)/4,m=Math.floor(k/
3)+"px";c[M]={inherits:[b.transitionPoint2s,b.displayBlock,b.overflowVisible,b.backgroundColorTransparent,b.cursorDefault,b.pointerEventsNone,b.noMarginNoBorderNoPadding,b.positionAbsolute],left:"0px",bottom:"0px",zIndex:""+(f.rootDivZIndex+f.photoListDisplayerWrapperZIndexAdd),height:h+"px",width:"100%"};c[R]={inherits:[b.whiteSpaceNoWrap,b.displayBlock,b.cursorDefault,b.pointerEventsAll,b.noMarginNoBorderNoPadding,b.positionRelative],background:g,overflowY:"hidden",overflowX:"auto",zIndex:""+(f.rootDivZIndex+
f.photoListDisplayerContentZIndexAdd),flexFlow:"row nowrap",height:"100%",paddingLeft:e,paddingRight:e,width:"calc(100% - "+d+")"};c[O]={inherits:[b.displayInlineBlock,b.overflowVisible,b.cursorPointer,b.pointerEventsAll,b.noMarginNoBorderNoPadding,b.positionRelative,b.whiteSpaceNormal,b.verticalAlignMiddle],marginLeft:"0px",marginRight:"0px",height:"calc(100% - 12px)",marginTop:"4px",width:k+"px",borderRadius:"2px",border:"2px solid transparent"};c[T]={inherits:[b.displayBlock,b.overflowHidden,b.cursorPointer,
b.pointerEventsAll,b.noMarginNoBorderNoPadding,b.positionRelative,b.whiteSpaceNormal],left:"0px",top:"0px",background:"transparent",height:"100%",width:"100%",color:"white",fontSize:"11px"};c[U]={inherits:[b.transitionPoint2s,b.displayBlock,b.overflowVisible,b.cursorDefault,b.pointerEventsNone,b.noMarginNoBorderNoPadding,b.positionAbsolute,b.whiteSpaceNormal],left:"-2px",top:"-2px",background:"rgba(0, 0, 0, 0.5)",height:"calc(100% + 4px)",width:m,borderRadius:"0px",color:"white",fontSize:"11px",borderRight:"2px solid rgba(0, 0, 0, 0.2)"};
c[S]={inherits:[b.positionAbsolute,b.pointerEventsAll,b.transparentImageButton,b.directionsCloseSVG,b.backgroundColorTransparent],zIndex:""+(f.rootDivZIndex+f.photoListDisplayerSelectRecordButtonZIndexAdd),width:"100%",height:"calc(100% + 4px)",left:"0px",top:"0px"};c[Z]={width:"45%",height:"45%"};return c}function b(a,b){var c=tf.dom.GetHTMLElementFrom(a.wrapper).style,d=9*(tf.TFMap.LayoutSettings.underBottomPaneHeightInt-30)/4;b?(c.border="2px solid white",c.width=d+G+"px"):(c.border="2px solid transparent",
c.width=d+"px",c.marginLeft="0px")}function g(c,d){var e=c.GetSettings(),f=e.imageItem;F?F!=f&&(b(F,!1),F=f):F=f;F&&b(F,!0);C?(e=C,f=c.GetSettings(),e({sender:t,photoName:f.photoName,index:f.photoIndex,button:c,photoList:H,isSelect:d})):a.appContent.ShowPhoto({photoName:e.photoName},sender.GetButton())}function f(a){Q&&g(Q,!0)}function k(a){a=a.sender;tf.js.GetIsValidObject(a)&&tf.js.GetFunctionOrNull(a.GetButton)&&g(a,!1)}function h(a,b){var c="click to "+(b?"select":"view");if(J)var d=a.GetSettings(),
c=tf.TFMap.MapTwoLineSpan(c,J[d.photoIndex]);return c}function l(a){return h(Q,!0)}function n(a){return h(a,!1)}function e(){return{onClick:k,onHover:void 0,wrapper:w,delayMillis:tf.TFMap.toolTipDelayMillis,toolTipClass:"start",toolTipArrowClass:"bottom",toolTipText:n,buttonClass:T+" ripple"}}function m(a){var b=a.hasFocus,c=a.event.target;c==a.callBackSettings.wrapper&&b&&tf.dom.ScrollHorizontallyToEnsureVisible(v,c)}function p(){K&&(clearTimeout(K),K=void 0);if(N){var b=a.appContent.GetOverMapCanvas();
b.DelOMCLine(N);N=void 0;b.Draw()}u.GetHTMLElement().style.opacity="0";Q=void 0;u.RemoveFromParent()}function q(b){var c=b.GetSettings(),d=c.imageItem.wrapper;Q=b;u.AppendTo(d);K=setTimeout(function(){var d=a.appContent,e=d.GetMap(),d=d.GetOverMapCanvas(),f=I[c.photoIndex],g=b.GetButton().getBoundingClientRect(),g=[g.left+g.width/2,g.top-4],e=e.PixelToMapCoords(g);N=d.AddOMCLine(e,f,g);u.GetHTMLElement().style.opacity="1";a.appContent.GetOverMapCanvas().Draw()},400)}function r(a){if(H&&I&&a.event.target==
tf.dom.GetHTMLElementFrom(a.callBackSettings.wrapper)){var b=a.callBackSettings.imgButton;p();a.isInHover&&q(b)}}function A(){var a=D.GetNext();b(a,!1);return a}var t,w,v,u,B,E,D,F,C,G,H,I,J,K,N,Q;this.OnNextPrev=function(a){if(F){var b=F.button.GetSettings().photoIndex,c=D.GetObjects(),d=D.GetActiveCount();a=b+(a?1:-1);a>=d?a=0:0>a&&(a=d-1);g(c[a].button,!1)}};this.GetWrapper=function(){return w};this.GetLastPhotoList=function(){return H};this.Update=function(a){p();v.ClearContent();D.Reset();Q=
F=void 0;var b=a.GetPhotoNames(),c=b.length;C=tf.js.GetFunctionOrNull(a.GetOnClick());tf.js.GetFunctionOrNull(a.GetToolTipText());H=a;I=a.GetLastContentSettings().photosToMapCoords;J=a.GetLastContentSettings().photoTitles;tf.js.GetIsArrayWithLength(I,c)||(I=void 0);for(a=0;a<c;++a){var d=b[a],e=A(),f=e.wrapper,g=e.button,h=g.GetSettings(),g=g.GetButton();h.photoName=d;h.imageItem=e;h.photoIndex=a;h=tf.dom.GetHTMLElementFrom(f).style;g.innerHTML="";h.background=tf.TFMap.LayoutSettings.backgroundLivelyColor+
" url("+d+") center/100% no-repeat";v.AddContent(f);tf.TFMap.ValidateImageOrDisplayMessage(d,g,function(a,b,c){return a==c.button.GetSettings().photoName},e)}};var M,R,O,T,U,S,Z;t=this;G=16;M=tf.TFMap.CreateClassName("photoListDisplayer","Wrapper");R=tf.TFMap.CreateClassName("photoListDisplayer","Content");O=tf.TFMap.CreateClassName("photoListDisplayer","ItemWrapper");T=tf.TFMap.CreateClassName("photoListDisplayer","ItemButton");U=tf.TFMap.CreateClassName("photoListDisplayer","ItemToolBar");S=tf.TFMap.CreateClassName("photoListDisplayer",
"SelectRecordButton");Z=tf.TFMap.CreateClassName("photoListDisplayer","SelectRecordButtonSVG");tf.styles.CreateCSSClasses(d());(function(){var b=tf.TFMap.LayoutSettings.customizedScrollBarClassName,d=a.appContent.GetAppStyles();w=new tf.dom.Div({cssClass:M});E=e();v=new tf.dom.Div({cssClass:R+" "+b});u=new tf.dom.Div({cssClass:U});B=a.appContent.CreateButton(tf.js.ShallowMerge(E,{buttonClass:S+" ripple",svgHTML:d.GetMapMarker1SVG(),toolTipText:l,toolTipClass:"end",onClick:f}));b=B.GetButton().firstChild;
tf.dom.AddCSSClass(b,Z);u.AddContent(B.GetButton());new tf.events.DOMWheelListener({target:v,callBack:c,optionalScope:t});w.AddContent(v)})();D=new tf.js.ObjectCache({createNew:function(){var b=a.appContent.CreateButton(tf.js.ShallowMerge(E)),c=b.GetButton(),d=new tf.dom.Div({cssClass:O}),e=new tf.events.DOMFocusBlurListener({target:d,callBack:m,optionalScope:t,callBackSettings:{imgButton:b,wrapper:d}}),f=new tf.events.DOMMouseEnterLeaveListener({target:d,callBack:r,optionalScope:t,callBackSettings:{imgButton:b,
wrapper:d}});d.AddContent(c);return{wrapper:d,button:b,blurListener:e,hoverListener:f}},onDelete:function(a){}});a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(d());a=D.GetActiveCount();if(0<a)for(var b=9*(tf.TFMap.LayoutSettings.underBottomPaneHeightInt-30)/4+"px",c=D.GetObjects(),e=0;e<a;++e)tf.dom.GetHTMLElementFrom(c[e].wrapper).style.width=b})};
tf.TFMap.PhotoList=function(a){var c,e,d,b;this.GetLastContentSettings=function(){return b};this.GetPhotoNames=function(){return c};this.GetOnClick=function(){return e};this.GetToolTipText=function(){return d};this.SetContent=function(a){b=void 0;c=[];b=a;var f,k;tf.js.GetIsNonEmptyString(a.photoNamesStr)?f=a.photoNamesStr.split(" "):tf.js.GetIsNonEmptyArray(a.photoNames)&&(f=a.photoNames);k=tf.js.GetIsNonEmptyArray(f)?f.length:0;for(var h=0;h<k;++h){var l=f[h].trim();0<l.length&&c.push(l)}e=a.onClick;
d=a.toolTipText};b=void 0;c=[]};
tf.TFMap.LSEd=function(a){function c(){return ta.length<hb}function e(a,b){return(void 0==a?hb+1:b?hb+2:a)*wa+P}function d(a,b){var c=n(a);return e(c?c.index:void 0,b)}function b(a){a=Ma;return[{line:!0,line_width:12,line_color:"#fff",line_opacity:1,zindex:a++},{line:!0,line_width:8,line_color:"#aaf",zindex:a++}]}function g(a){return Ua?Ua({sender:ma,minZIndex:Ma,mapFeature:a,isHover:a.GetIsDisplayingInHover()}):b(a)}function f(a,c){var d;mb?d=mb({sender:ma,minZIndex:pb,mapFeature:c,isHover:c.GetIsDisplayingInHover()}):
(d=b(a,c),d[1].line_dash=[10,20],d[1].line_width-=2,d[1].zindex=pb,d=d[1]);return d}function k(a){var b=1;return Ta?Ta({sender:ma,minZIndex:b,mapFeature:a,isHover:a.GetIsDisplayingInHover()}):{zindex:b++,fill:!0,fill_color:"#fff",fill_opacity:35}}function h(a,b){var c=n(b),d=b.GetIsDisplayingInHover(),c=c.index,f=e(c,d);qb?d=qb({sender:ma,mapFeature:b,minZIndex:f,index:c,isVertex:void 0!=c,isHover:d}):(d=[{snaptopixel:!1,zindex:f++,circle:!0,circle_radius:18,line:!0,fill:!0,fill_color:"#fdfdff",line_color:"#026",
line_width:2,line_opacity:70,fill_opacity:100}],f={snaptopixel:!1,font:"400 36px Roboto",zindex:f++,text:!0,fill:!0,fill_color:"#026",line:!0,line_opacity:30,line_color:"#bfbfbf",line_width:1,label:"+"},void 0!=c&&(f.font="600 18px Roboto",f.label="#"+(1+c)),d.push(f));return d}function l(){return new tf.map.Feature({type:"point",coordinates:[0,0],style:h,hoverStyle:h,LSEdSettings:{isVertex:!0,index:void 0},showToolTip:!0})}function n(a){return a.GetSettings().LSEdSettings}function m(a){}function p(){var a=
Wa.GetNext();n(a).index=void 0;var b=tf.TFMap.MapTwoLineSpan("Add point","click or drag");tf.TFMap.SetMapFeatureToolTipProps(a,{toolTipText:b,offsetX:20,delayMillis:tf.TFMap.AddWayPointToolTipDelayMillis});return a}function q(){return 2<=ta.length?{type:"linestring",coordinates:ta.slice(0)}:void 0}function r(){if(3<=ta.length){var a=ta.slice(0);a.push(a[0]);return{type:"polygon",coordinates:[a]}}}function A(a,b){var c,d,e;a?(d="polygon",e=k,c=ta.slice(0),0<c.length&&c.push(c[0]),c=[c]):(d="linestring",
b?(e=ta.length,0<e?(c=[ta[0]],c.push(ta[e-1])):c=[],e=f):(c=ta,e=g));return{type:d,coordinates:c,style:e,hoverStyle:e,LSEdSettings:{isLineString:!a,isArea:a}}}function t(){if(Fa){var a=ta.length;if(2<a){var b=ta[0],a=ta[a-1],b=[b[0]+(a[0]-b[0])/2,b[1]+(a[1]-b[1])/2];Ea.GetSettings().toolTipCoords=b;$a?Qa||($a=!1,ja.DelMapFeature(Fa)):Qa&&($a=!0,ja.AddMapFeature(Fa))}else $a&&($a=!1,ja.DelMapFeature(Fa))}}function w(a){Qa!=(a=!!a)&&(Qa=a,jb=!0,ib?(Qa?V.AddMapFeature(Ea):V.DelMapFeature(Ea),t()):jb&&
(jb=!1,ba(za,{})))}function v(){return Qa}function u(){var a=A(!1,!1),b=A(!0,!1),c=A(!1,!0);Pa?(Pa.SetGeom(new tf.map.FeatureGeom(a)),Fa.SetGeom(new tf.map.FeatureGeom(c)),Ea.SetGeom(new tf.map.FeatureGeom(b))):(Pa=new tf.map.Feature(a),Ea=new tf.map.Feature(b),tf.TFMap.MapTwoLineSpan("Add point","click or drag"),Fa=new tf.map.Feature(c));a=(a=Ea?Ea.GetGeom():void 0)?a.GetArea():void 0;Ga=tf.js.CalcVertexInfos(ta,a);1<ta.length?ib?t():(ja.AddMapFeature(Pa),Qa&&(V.AddMapFeature(Ea),t()),ib=!0):ib&&
(ja.DelMapFeature(Pa),Qa&&(V.DelMapFeature(Ea),$a&&(ja.DelMapFeature(Fa),$a=!1)),ib=!1);jb=!0}function B(a,b,c){var d=b.slice(0);ta.splice(a,0,d);F(void 0);b=p();var e=n(b);Ba.splice(a,0,b);e.index=ta.length-1;b.SetPointCoords(d);a=tf.TFMap.MapTwoLineSpan("drag to move","click to delete");tf.TFMap.GetMapFeatureToolTipProps(b).toolTipText=a;ja.AddMapFeature(b);b.RefreshStyle();u();c||(Oa&&Oa(void 0,void 0),ia.Render())}function E(){for(var a=Ba.length,b=0;b<a;++b){var c=Ba[b];n(c).index=b;c.RefreshStyle()}}
function D(a){var b=a.mapFeature,c=n(b);c&&c.isLineString&&(a.isInHover&&b==Pa&&1<ta.length?F(a.eventCoords):F(void 0))&&ia.Render();return!1}function F(a){var b=!1;void 0!=a?c()&&(a=tf.helpers.HitTestMapCoordinatesArray(ta,a,void 0,void 0,void 0),void 0!=a.closestPoint&&(a=a.closestPoint,void 0==Ca||a[0]!=Ca[0]||a[1]!=Ca[1]))&&(db.SetPointCoords(Ca=a),Oa&&Oa(db,void 0),b=!0):void 0!=Ca&&(Ca=void 0,Oa&&Oa(void 0,void 0),b=!0);return b}function C(a){F(a.mapFeature==Pa?a.eventCoords:void 0)&&ia.Render()}
function G(a,b){if(b){var c=tf.helpers.HitTestMapCoordinatesArray(ta,b,void 0,void 0,void 0);void 0!=c.closestPoint&&(c=c.minDistanceIndex,c<ta.length-1&&++c,B(c,b),E())}}function H(a){var b=c();b&&B(ta.length,a.eventCoords,void 0);return b}function I(a){var b=!1;a=n(a.mapFeature);(b=!!a)&&void 0==a.index&&G(!0,Ca);return b}function J(a){var b=!1,c=a.mapFeature,d=n(c);if(b=!!d)if(void 0==d.index)c==Pa?G(!1,Ca):B(ta.length,a.eventCoords,void 0);else if(c=d.index,1<ta.length){if(a.mapEvent.originalEvent.ctrlKey){ta.splice(0,
c);for(a=0;a<c;++a)ja.DelMapFeature(Ba[a]);Ba.splice(0,c)}else ta.splice(c,1),ja.DelMapFeature(Ba[c]),Ba.splice(c,1);E();u()}else R();return b}function K(a){a.dragProps.editorProps.isVertex&&(ta[a.dragProps.editorProps.index]=a.mapFeatureToDrag.GetPointCoords(),u())}function N(a){if((a=n(a.mapFeature))&&a.isVertex&&void 0!=a.index)return{isVertex:!0,index:a.index}}function Q(a,b,c,d){c=a.MapToPixelCoords(c);a=a.MapToPixelCoords(d);b.moveTo(c[0],c[1]);b.lineTo(a[0],a[1])}function M(b){Ca&&b.showFeatureImmediately(db);
Ib&&Ib({sender:ma,notification:b});if(lb){b=b.canvas.getContext("2d");var c=ia.GetVisibleExtent(),d=uc;if(1!=d){var c=tf.js.ScaleMapExtent(c,d),e=ia,f=c,g=[f[0],f[1]],h=[f[2],f[1]],k=[f[2],f[3]],f=[f[0],f[3]];b.lineWidth=3;b.strokeStyle="#00f";b.beginPath();g=[g,h,k,f];h=g.length;if(1<h){for(k=0;k<h-1;++k)Q(e,b,g[k],g[k+1]);2<h&&Q(e,b,g[h-1],g[0])}b.closePath();b.stroke();e=ia;g=Ga;h=c;k=g.length;if(2<=k)for(f=0;f<k;++f){var m=g[f],l=e,p=b,m=tf.js.ClipMapLineSegment(h,m.coords,m.nextCoords);m.intersects&&
(p.line_width=20,p.strokeStyle="#fc0",p.beginPath(),Q(l,p,m.startCoord,m.endCoord),p.closePath(),p.stroke())}}2<=Ga.length&&(e=ia.GetMapType()!=tf.consts.typeNameMap,Bb=tf.js.DrawMeasuredVertices({map:ia,ctx:b,distances3Units:Kb,vertexInfos:Ga,showArea:Qa,showingHybrid:e,colorTic:e?Jb:ab,colorSeg:e?a.optionalColorSegHybrid:a.optionalColorSegMap,extent:c,showIntermediateLenghts:wb,textStyle:e?a.optionalHybridTextStyle:a.optionalMapTextStyle,lineWidth:a.optionalSegWidth}),ub&&void 0!=Bb.vertexExtent&&
(c=ia,e=Bb.vertexExtent,g=e[0],h=e[1],k=e[2],f=e[3],g=[[g,f],[k,f],[k,h],[g,h]],h=tf.js.CalcPolyAreaInSquareMeters(g),g=tf.js.CalcVertexInfos(g,h),h=ia.GetMapType()!=tf.consts.typeNameMap,Cb=tf.js.DrawMeasuredVertices({map:c,ctx:b,distances3Units:Kb,vertexInfos:g,showArea:!0,showingHybrid:h,colorTic:h?Jb:ab,colorSeg:h?a.optionalExtentColorSegHybrid:a.optionalExtentColorSegMap,extent:e,showIntermediateLenghts:!0,textStyle:h?a.optionalHybridTextStyle:a.optionalMapTextStyle,lineWidth:a.optionalExtentSegWidth})),
1!=d&&console.log("nTics: "+Bb.nTics+" drawn: "+Bb.nTicsDrawn))}jb&&(jb=!1,ba(za,{}))}function R(a){ja.RemoveAllFeatures();Wa.Reset();db=p();$a=!1;ta=[];Ba=[];Ga=[];ib=!1;sb&&sb({sender:ma});jb=!0;a||ia.Render()}function O(){return ta}function T(){return Ga}function U(){Oa&&Oa(void 0,void 0);jb=!0;ia.Render()}function S(){ha?console.log("double activation"):(ha=!0,Da(),a.fillLayer.SetVisible(!0),a.layer.SetVisible(!0),jb=!0,ia.Render(),ba(Y,{}))}function Z(){ha?(ha=!1,a.fillLayer.SetVisible(!1),a.layer.SetVisible(!1),
ba(Y,{})):console.log("double deactivation")}function X(){return ha}function da(){return lb}function L(a){lb!=(a=!!a)&&(lb=a,ia.Render())}function W(){return ub}function ca(a){ub!=(a=!!a)&&(ub=a,ia.Render())}function ea(){return Kb}function ba(a,b){na.Notify(a,tf.js.ShallowMerge(b,{sender:ma,senderI:hc,eventName:a}))}function fa(a){na.AddListener(za,a)}function qa(a){na.AddListener(Y,a)}function pa(){var a,b,c,d=Ga.length;if(2<=d){var e=Ga[d-1];a=e.totalDistance;2<d&&(b=a+e.distanceToNext,c=e.area)}return{lineString:ta,
lastExtentDrawResult:Cb,lastDrawResult:Bb,nPoints:d,lengthOpen:a,lengthClosed:b,area:c}}function ua(a){wb!=(a=!!a)&&(wb=a,ia.Render())}function aa(){return wb}function oa(a){if(Ja){var b=n(a.mapFeature);Ja({sender:ma,notification:a,isEditorFeature:void 0!=b})}}function Da(){Pa&&Pa.RefreshStyle();Ea&&Ea.RefreshStyle();Fa&&Fa.RefreshStyle();for(var a in Ba)Ba[a].RefreshStyle()}function ra(a){Da();xa&&xa({sender:ma,notification:a})}function Ha(a){if(tf.js.GetLooksLikeLineStringCoords(a)){R(!0);var b=
a.length;b>hb&&(b=hb);for(var c=0;c<b;++c)B(ta.length,a[c],!0);Oa&&Oa(void 0,void 0);ia.Render()}}var ma,ia,ja,V,ha,na,za,Y,P,wa,Ma,pb,ta,Pa,Ea,Fa,Ba,Ga,db,Wa,Ca,Oa,Ja,xa,hb,qb,Ua,Ta,mb,Qa,wb,ib,$a,Ib,sb,lb,ub,ab,Jb,Kb,uc,Bb,hc,jb,Cb;ma=this;(function(){tf.js.GetFunctionOrNull(a.setInterface)&&(na=new tf.events.MultiEventNotifier({eventNames:[za="geomUpdate",Y="actvation"]}),pb=20,Ma=50,P=100,wa=5,hb=tf.js.GetIntNumberInRange(a.maxPoints,2,5E4,5E4),ia=a.map,ja=a.layer,V=a.fillLayer,ta=[],Ba=[],Ga=
[],Oa=tf.js.GetFunctionOrNull(a.showMapFeatureToolTip),Ib=tf.js.GetFunctionOrNull(a.onPostCompose),sb=tf.js.GetFunctionOrNull(a.onClear),tf.js.GetFunctionOrNull(a.requestClose),Ja=tf.js.GetFunctionOrNull(a.onDoubleClickFeature),Wa=new tf.js.ObjectCache({createNew:l,onDelete:m}),ab=void 0!=a.colorTicNormalMap?a.colorTicNormalMap:"#1E90FF",Jb=void 0!=a.colorTicNormalHybrid?a.colorTicNormalHybrid:"#fff",Kb=tf.js.GetIsValidObject(a.distances3Units)?a.distances3Units:tf.js.CalcDistances3Units(),a.useNativeMapFeatureStyles||
(qb=tf.js.GetFunctionOrNull(a.getVertexStyle),Ua=tf.js.GetFunctionOrNull(a.getLineStringStyle),Ta=tf.js.GetFunctionOrNull(a.getAreaStyle),mb=tf.js.GetFunctionOrNull(a.getClosePolyEdgeStyle)),uc=void 0!=a.scaleExtent?a.scaleExtent:1,lb=!!a.showMeasures,ub=!!a.showExtent,Qa=!!a.showArea,wb=!0,ib=$a=!1,db=p(),a.layer.SetVisible(!1),xa=tf.js.GetFunctionOrNull(a.onLayoutChange),ha=!1,hc={sender:ma,onLayoutChange:ra,activate:S,deActivate:Z,getIsActive:X,getInfo:pa,setShowArea:w,getShowArea:v,setShowExtent:ca,
getShowExtent:W,getShowMeasures:da,setShowMeasures:L,setShowIntermediateLengths:ua,getShowIntermediateLengths:aa,getDistance3Units:ea,getAreaFeature:function(){return Ea},getLineStringFeature:function(){return Pa},getClosePolyEdgeFeature:function(){return Fa},getLineString:O,setLineString:Ha,getVertexInfos:T,getLineStringGeom:q,getPolygonGeom:r,addActivationListener:qa,addUpdateGeomListener:fa,canAdd:c,clear:R,onDrag:K,onClickMap:H,onHoverFeature:D,onMouseMoveFeature:C,onDragFeature:I,onClickFeature:J,
onDoubleClickFeature:oa,onPostCompose:M,checkCanStartDrag:N,getMinZIndexForMapFeature:d,onMapScaleUnit:U},a.setInterface(hc))})()};
tf.TFMap.MapFeatureDrag=function(a){function c(){return{sender:h,isDragging:n,dragProps:q,mapFeatureToDrag:m}}function e(a,b){a&&a(tf.js.ShallowMerge(b,c()))}function d(){return n}function b(a,b,c,d){k();a&&tf.js.GetIsValidObject(c)&&(q=c,m=a,l.RemoveDragPan(),a=l.MapToPixelCoords(b),b=l.MapToPixelCoords(m.GetPointCoords()),p=[a[0]-b[0],a[1]-b[1]],n=!0,d||e(t,{verb:"start"}));return n}function g(a){var c=a.mapFeature;a=a.eventCoords;n||b(c,a,r?r({sender:h,mapFeature:c}):{},!1);return n}function f(a){n&&
(a=a.eventCoords,A?A(tf.js.ShallowMerge(c(),{pointCoords:a})):1)&&(a=l.ActualMapToPixelCoords(a),a[0]-=p[0],a[1]-=p[1],a=l.ActualPixelToMapCoords(a),m.SetPointCoords(a),e(w,{verb:"drag"}));return n}function k(){var a=n;n&&(n=!1,m=void 0,l.AddDragPan(),e(v,{verb:"end"}));return a}var h,l,n,m,p,q,r,A,t,w,v;h=this;tf.js.GetFunctionOrNull(a.setInterface)&&(r=tf.js.GetFunctionOrNull(a.checkCanStartDrag),t=tf.js.GetFunctionOrNull(a.onStartDrag),w=tf.js.GetFunctionOrNull(a.onDrag),v=tf.js.GetFunctionOrNull(a.onEndDrag),
A=tf.js.GetFunctionOrNull(a.checkCanDragTo),l=a.map,n=!1,a.setInterface({sender:h,getIsDragging:d,onDrag:g,onDragMove:f,onEndDrag:k,startDrag:b}))};
tf.TFMap.MapMeasureTool=function(a){function c(){return a.map.GetMapType()!=tf.consts.typeNameMap}function e(a){var b=a.minZIndex,c=a.isVertex,d=tf.TFMap.LayoutSettings.measureToolVertexRadiusInt;a.isHover&&++d;return[{snaptopixel:!1,zindex:b++,circle:!0,circle_radius:d+8,fill:!0,fill_color:"#fff",fill_opacity:1},{snaptopixel:!1,zindex:b++,circle:!0,circle_radius:d,line:!0,fill:!0,fill_color:"#fdfdff",line_color:c?"#026":"#cc4422",line_width:2,line_opacity:70,fill_opacity:100}]}function d(a){var b=
a.minZIndex,d=tf.TFMap.LayoutSettings.measureToolEdgeWidthInt;a=a.isHover?6:4;var e=c()?A:r;return[{line:!0,line_width:d+a,line_color:"#000",line_opacity:5,zindex:b++},{line:!0,line_width:d,line_color:e,zindex:b++}]}function b(a){a=a.minZIndex;return{line:!0,line_width:3,line_color:c()?"#ddd":"#777",zindex:a++,line_dash:[5,5],line_opacity:70}}function g(a){var b=a.minZIndex,d=a.isHover?35:25;a=c()?"#bebebe":"#fff";return{zindex:b++,fill:!0,fill_color:a,fill_opacity:d}}function f(a){a=c();if(void 0!=
q&&a!=q){var b=p.getAreaFeature();b&&b.RefreshStyle();(b=p.getLineStringFeature())&&b.RefreshStyle();(b=p.getClosePolyEdgeFeature())&&b.RefreshStyle()}q=a}function k(){a.map.Render()}function h(a){t&&t({sender:m})}function l(b){var c={sender:m,updateForMapType:k};a.setInterface(tf.js.ShallowMerge(p=b,c))}function n(a){if(a.isEditorFeature){var b=p.getLineStringGeom();if(void 0!=b){var c=p.getInfo();a={type:"FeatureCollection",features:[]};a.features.push({type:"Feature",geometry:b,properties:{name:"measure distance linestring",
lengthInMeters:void 0!=c.lengthOpen?c.lengthOpen:0}});b=p.getPolygonGeom();void 0!=b&&a.features.push({type:"Feature",geometry:b,properties:{name:"measure area polygon",lengthInMeters:void 0!=c.lengthClosed?c.lengthClosed:0,areaInSqMeters:void 0!=c.area?c.area:0}});if(c=window.open(null,"_blank"))b=c.document,b.write(JSON.stringify(a)),b.title="Measure Tool GeoJSON",c.focus()}}}var m,p,q,r,A,t;m=this;(function(){if(tf.js.GetFunctionOrNull(a.setInterface)){t=tf.js.GetFunctionOrNull(a.onClear);r="#1E90FF";
A="#fff";var c=tf.js.ShallowMerge(a,{onDoubleClickFeature:n,optionalMapTextStyle:{fontFamily:"Roboto",lineWidth:1,textFill:"rgba(30, 144, 255, 1)",textLine:"rgba(0, 0, 0, 0.7)",fontSize:"11px",fontWeight:"300"},optionalHybridTextStyle:{fontFamily:"Roboto",lineWidth:4,textFill:"#fff",textLine:"rgba(0, 0, 0, 0.7)",fontSize:"12px",fontWeight:"400"},colorTicNormalMap:r,colorTicNormalHybrid:A,showMeasures:!0,requestCloseSender:m,onClear:h,onPostCompose:f,useNativeMapFeatureStyles:!1,showArea:!0,getVertexStyle:e,
getLineStringStyle:d,getAreaStyle:g,getClosePolyEdgeStyle:b,setInterface:l});new tf.TFMap.LSEd(c)}})()};
tf.TFMap.MapDownloadTool=function(a){function c(a){var b=a.minZIndex,c=a.isVertex,d=tf.TFMap.LayoutSettings.measureToolVertexRadiusInt;a.isHover&&++d;return[{snaptopixel:!1,zindex:b++,circle:!0,circle_radius:d+8,fill:!0,fill_color:"#fff",fill_opacity:1},{snaptopixel:!1,zindex:b++,circle:!0,circle_radius:d,line:!0,fill:!0,fill_color:"#fdfdff",line_color:c?"#026":"#cc4422",line_width:2,line_opacity:70,fill_opacity:100}]}function e(b){var c=b.minZIndex;b=b.isHover?6:4;var d=a.map.GetMapType()!=tf.consts.typeNameMap?
m:n;return[{line:!0,line_width:7+b,line_color:"#000",line_opacity:5,zindex:c++},{line:!0,line_width:7,line_color:d,zindex:c++}]}function d(b){h.getVertexInfos();b=a.map.GetMapType()!=tf.consts.typeNameMap;if(void 0!=l&&b!=l){var c=h.getAreaFeature();c&&c.RefreshStyle();(c=h.getLineStringFeature())&&c.RefreshStyle();(c=h.getClosePolyEdgeFeature())&&c.RefreshStyle()}l=b}function b(){a.map.Render()}function g(a){p&&p({sender:k})}function f(c){var d={sender:k,updateForMapType:b};a.setInterface(tf.js.ShallowMerge(h=
c,d))}var k,h,l,n,m,p;k=this;(function(){if(tf.js.GetFunctionOrNull(a.setInterface)){var b=tf.TFMap.LayoutSettings;p=tf.js.GetFunctionOrNull(a.onClear);n="#1E90FF";m="#fff";b=tf.js.ShallowMerge(a,{optionalColorSegMap:b.backgroundLivelyColor,optionalColorSegHybrid:"#fff",optionalSegWidth:3,optionalExtentColorSegMap:b.darkTextColor,optionalExtentColorSegHybrid:b.lightTextColor,optionalExtentSegWidth:2,optionalMapTextStyle:{fontFamily:"Roboto",lineWidth:1,textFill:"rgba(30, 144, 255, 1)",textLine:"rgba(0, 0, 0, 0.7)",
fontSize:"11px",fontWeight:"300"},optionalHybridTextStyle:{fontFamily:"Roboto",lineWidth:4,textFill:"#fff",textLine:"rgba(0, 0, 0, 0.5)",fontSize:"12px",fontWeight:"400"},colorTicNormalMap:n,colorTicNormalHybrid:m,maxPoints:2,showMeasures:!0,requestCloseSender:k,onClear:g,onPostCompose:d,useNativeMapFeatureStyles:!1,showArea:!1,showExtent:!0,getVertexStyle:c,getLineStringStyle:e,setInterface:f});new tf.TFMap.LSEd(b)}})()};
tf.TFMap.MoreMapTools=function(a){function c(a){var b=a.senderI,c=a="",d="click map to add points",e=!0;if(b){var f=b.getInfo();a=(b=b.getShowArea())?"Distance<br />and Area":" Distance<br />only";2<=f.nPoints?(d=f.lastDrawResult.distances,b&&2<f.nPoints&&void 0!=f.lengthClosed?(b=tf.js.FormatDistanceText(f.lengthClosed,d.distanceUnitText,!1),f=tf.js.FormatDistanceText(f.area,d.distanceUnitText,!0),c+=b+" : "+f):void 0!=f.lengthOpen&&(f=tf.js.FormatDistanceText(f.lengthOpen,d.distanceUnitText,!1),
c+=f),d="click map to add more points"):1<=f.nPoints?c="additional point needed":(e=!1,c="two points needed")}t.GetButton().style.display=e?"block":"none";q.GetButton().innerHTML=a;a=c;w.infoContentTop.GetHTMLElement().innerHTML=a;a=d;w.infoContentBottom.GetHTMLElement().innerHTML=a}function e(a){var b=a.senderI;a="";var c=!1,d="click map to add points";D=void 0;if(b)if(b=b.getInfo(),2<=b.nPoints){var d=b.lastExtentDrawResult,e=d.distances,c=d.area,b=tf.js.FormatDistanceText(d.totalDistance,e.distanceUnitText,
!1),e=tf.js.FormatDistanceText(c,e.distanceUnitText,!0);D=0!=c&&void 0!=d.vertexExtent?d.vertexExtent.slice(0):void 0;a+=b+" : "+e;d="drag points to adjust area";c=!0}else 1<=b.nPoints?(a="additional point needed",c=!0):a="two points needed";b=void 0!=D?"block":"none";c=c?"block":"none";F.GetButton().style.display=c;E.GetButton().style.display=b;u.infoContentTop.GetHTMLElement().innerHTML=a;a=d;u.infoContentBottom.GetHTMLElement().innerHTML=a}function d(b){var c=a.appContent,d=a.appContent.GetMeasureToolInterface(),
e=a.appContent.GetDownloadToolInterface();switch(b.sender){case E:void 0!=D&&(b=a.appContent.GetMap(),(c=a.appContent.GetVidPassThrough().passThrough)||(c=""),b="http://vn4.cs.fiu.edu/cgi-bin/tfrectdisp.cgi?"+c+"&dt=51306.25&X1l="+D[0]+"&Y1l="+D[3]+"&X2l="+D[2]+"&Y2l="+D[1]+"&Source=best_available&Res="+b.GetResolution()+"&Overlay=wcity",window.open(b,"_blank"));break;case F:e&&e.clear();break;case v:c.ToggleDownloadTool();break;case t:d&&d.clear();break;case q:d&&d.setShowArea(!d.getShowArea());
break;case p:c.ToggleMeasureTool()}}function b(){return a.appContent.IsMeasureToolOn()?"Hide measurements":A}function g(){return a.appContent.IsDownloadToolOn()?"Hide download information area":"Download information"}function f(){var b=a.appContent.GetMeasureToolInterface();return b?(b=b.getShowArea(),tf.TFMap.MapTwoLineSpan("Measuring "+(b?"distance <u>and</u> area":"distance <u>only</u>"),"Switch to "+(b?"distance <u>only</u>":"distance <u>and</u> area"))):A}function k(b,c,d,e,f,g){var h=tf.TFMap.LayoutSettings,
k=a.appContent,m=new tf.dom.Div({cssClass:N}),l=new tf.dom.Div({cssClass:M}),p=new tf.dom.Div({cssClass:Q}),n=new tf.dom.Div({cssClass:I}),h=h.aerialOrMapColorScheme+" "+H+" "+G;g&&(h+=" "+K);b=k.CreateButton(tf.js.ShallowMerge(b,{svgHTML:c,buttonClass:h+" ripple",toolTipText:d}));l.AddContent(p,n);for(var q in e)m.AddContent(e[q]);m.AddContent(l);for(q in f)m.AddContent(f[q]);return{infoWrapper:m,infoContentWrapper:l,infoContentTop:p,infoContentBottom:n,button:b}}function h(b){b=a.appContent.CreateButton(tf.js.ShallowMerge(b,
{toolTipClass:"*start",buttonClass:J+" ripple",toolTipText:"Remove all points from the map"}));b.GetButton().innerHTML="Clear<br />Points";return b}function l(){var b=a.appContent.GetAppStyles().GetCSSClasses(),c=[],d=tf.TFMap.LayoutSettings,e=d.darkTextColor,f=d.widthMapToolBarInt+"px";c[C]={inherits:[b.whiteSpaceNoWrap,b.boxShadow002003,b.pointerEventsAll,b.positionAbsolute,b.displayFlex,b.flexFlowRowNoWrap],borderRadius:"4px",bottom:"0px",right:"calc(100% + "+d.toolBarToToolBarHorSpacingInt+"px)",
padding:"2px"};c[H]={inherits:[b.boxShadow002003,b.displayInlineBlock]};c[H+" svg"]={width:"calc(100% - 1px)",height:"calc(100% - 1px)",margin:"auto"};c[G]={inherits:[b.baseImageButton,b.verticalAlignMiddle],width:f,height:f,borderRadius:"2px",border:"1px solid transparent"};c[G+":hover"]={border:"none"};var g={fontSize:d.moreMapToolsFontSizeInt+"px",lineHeight:d.moreMapToolsLineHeightInt+"px"};c[J]={inherits:[b.transparentImageButton,g],borderRadius:"0px",border:"1px solid",borderLeft:"0px",borderRight:"0px",
fontWeight:"600",paddingLeft:"4px",paddingRight:"4px",height:f,marginLeft:"-2px"};c[N]={inherits:[b.transitionWithColor,b.displayFlex,b.flexFlowRowNoWrap]};c[M]={inherits:[b.noMarginNoBorderNoPadding,b.displayFlex,b.flexFlowColumnNoWrap,b.lightBackground,b.darkTextShadow,g],marginLeft:"4px",marginRight:"1px",paddingTop:"1px",paddingBottom:"1px",paddingLeft:"5px",paddingRight:"5px",borderLeft:"1px solid",borderRight:"1px solid",zIndex:""+(d.rootDivZIndex+d.moreMapToolsInfoContentWrapperZIndexAdd),
borderRadius:"8px",fontWeight:"600",marginLeft:"-2px"};c[Q]={inherits:[b.overflowHidden,b.whiteSpaceNoWrap,b.displayBlock,b.flexFlowRowNoWrap,b.flexGrowOne,b.flexShrinkZero],textAlign:"center",marginTop:"1px",marginBottom:"0px"};c[I]={inherits:[c[Q],b.flexGrowZero,b.flexShrinkOne,g],fontWeight:"500",textAlign:"left",marginTop:"0px",marginBottom:"1px"};c[R]={inherits:[b.overflowVisible],width:"initial",opacity:"1"};c[O]={inherits:[b.overflowHidden],width:"1px",opacity:"0"};c[R+" ."+Q]={color:e};c[O+
" ."+Q]={color:"white"};c[R+" ."+I]={color:"black"};c[O+" ."+I]={color:"white"};c[K]={marginLeft:"8px"};return c}var n,m,p,q,r,A,t,w,v,u,B,E,D,F;this.UpdateToolsVisibility=function(){if(a.measure){var b=a.appContent.IsMeasureToolOn();if(b&&void 0==r){var d=a.appContent.GetMeasureToolInterface();d?r=d.addUpdateGeomListener(c):b=!1}tf.dom.ReplaceCSSClassCondition(w.infoWrapper,b,R,O)}a.download&&((b=a.appContent.IsDownloadToolOn())&&void 0==B&&((d=a.appContent.GetDownloadToolInterface())?B=d.addUpdateGeomListener(e):
b=!1),tf.dom.ReplaceCSSClassCondition(u.infoWrapper,b,R,O))};this.GetWrapper=function(){return m};var C,G,H,I,J,K,N,Q,M,R,O;n=this;A="Measure distance and area";C=tf.TFMap.CreateClassName("mapMoreTools","Wrapper");G=tf.TFMap.CreateClassName("mapMoreTools","Button");H=tf.TFMap.CreateClassName("mapMoreTools","ButtonSVG");J=tf.TFMap.CreateClassName("mapMoreTools","textButton");N=tf.TFMap.CreateClassName("mapMoreTools","InfoWrapper");M=tf.TFMap.CreateClassName("mapMoreTools","InfoContentWrapper");Q=tf.TFMap.CreateClassName("mapMoreTools",
"InfoContent");I=tf.TFMap.CreateClassName("mapMoreTools","InfoContentBottom");R=tf.TFMap.CreateClassName("mapMoreTools","InfoContentVisible");O=tf.TFMap.CreateClassName("mapMoreTools","InfoContentHidden");K=tf.TFMap.CreateClassName("mapMoreTools","MarginRight");tf.styles.CreateCSSClasses(l());(function(){var c=tf.TFMap.LayoutSettings;m=new tf.dom.Div({cssClass:C+" "+c.aerialOrMapColorScheme});var e=a.appContent,l={onClick:d,onHover:void 0,wrapper:m,delayMillis:tf.TFMap.toolTipDelayMillis,toolTipClass:"*start",
toolTipArrowClass:"bottom"},r=!1,c=c.aerialOrMapColorScheme+" "+J+" ripple";a.measure&&(t=h(l),q=e.CreateButton(tf.js.ShallowMerge(l,{buttonClass:c,toolTipText:f})),w=k(l,e.GetAppStyles().GetMeasureSVG(),b,[q.GetButton()],[t.GetButton()],r),p=w.button,m.AddContent(p.GetButton(),w.infoWrapper),r=!0);a.download&&(F=h(l),E=e.CreateButton(tf.js.ShallowMerge(l,{toolTipClass:"*start",buttonClass:c,toolTipText:"Download information from selected area"})),c=E.GetButton(),c.innerHTML="Download<br />Information",
u=k(l,e.GetAppStyles().GetDownloadSVG(),g,[c],[F.GetButton()],r),v=u.button,m.AddContent(v.GetButton(),u.infoWrapper));n.UpdateToolsVisibility()})();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(l())})};tf.TFMap.KeyedListItemContentStartVerb="start";tf.TFMap.KeyedListItemContentEndVerb="end";tf.TFMap.KeyedListItemContentAddVerb="add";tf.TFMap.KeyedListItemContentDelVerb="del";tf.TFMap.KeyedListItemContentUpdateVerb="upd";
tf.TFMap.KeyedListContent=function(a){var c,e,d,b;this.GetItemFromContent=function(a){return a?a[d]:void 0};this.GetContentFromItem=function(a){return a?a[e]:void 0};this.OnKLChange=function(g){var f,k=a.contentWrapper.GetHTMLElement().style,h=tf.js.GetNonEmptyString(a.contentWrapperDisplayVisibleVerb,"block");k.display="none";var l=g.addedItems,n;for(n in l){var m=l[n];if(m){var p=m,q=m,r=void 0;0<b.length?(r=b.pop(),tf.js.GetFunctionOrNull(a.prepareSpareContent)&&(r=a.prepareSpareContent(r,q))):
r=a.createNewContent(q);p&&r&&(p[e]=r,r[d]=p,a.contentWrapper.AddContent(r.wrapper));c.UpdateContentForItem(m)}}var l=g.updatedItems,A;for(A in l)c.UpdateContentForItem(l[A]);g=g.deletedItems;for(var t in g)if(A=g[t],l=c.GetContentFromItem(A)){if(tf.js.GetFunctionOrNull(a.onContentBecameSpare))a.onContentBecameSpare(l,A);a.contentWrapper.RemoveContent(l.wrapper);delete A[e];delete l[d];b.push(l)}k.display=h;h=a.compareContent;k=!0;if(tf.js.GetFunctionOrNull(h)&&(g=a.KL.GetItemCount(),1<g)){g=a.KL.GetKeyedItemList();
t=[];f=[];for(var w in g)if(A=g[w],l=c.GetContentFromItem(A))t.push(A),f.push({item:A,itemData:A.GetData(),content:l});if(0<(g=t.length))for(f.sort(h),w=0;w<g&&k;++w)k=f[w].item==t[w]}if(!k){w=f.length;k=a.contentWrapper;h=k.GetHTMLElement().style;t=tf.js.GetNonEmptyString(a.contentWrapperDisplayVisibleVerb,"block");h.display="none";a.contentWrapper.ClearContent();for(g=0;g<w;++g)k.AddContent(f[g].content.wrapper);h.display=t}};this.UpdateContentForItem=function(b){return a.updateContentForItem(b)};
c=this;e=tf.js.GetNonEmptyString(a.contentInItemAttributeName,"contentInItem");d=tf.js.GetNonEmptyString(a.itemInContentAttributeName,"itemInContent");b=[]};
tf.TFMap.KeyedListMapFeatures=function(a){function c(a){var c=a?a[b]:void 0;c&&(delete a[b],delete c.GetSettings()[g])}function e(a){return n?n(a):a[l].slice(0)}var d,b,g,f,k,h,l,n;this.GetMapFeatureType=function(){return h};this.RefreshStyles=function(a){if(a){a=a.GetKeyedItemList();for(var b in a){var c=d.GetMapFeatureFromItem(a[b]);c&&c.RefreshStyle()}}};this.GetIsPoint=function(){return"point"===h};this.RefreshPositions=function(a){if(a&&d.GetIsPoint()){a=a.GetKeyedItemList();for(var b in a){var c=
a[b],f=d.GetMapFeatureFromItem(c);f&&(c=c.GetData(),(c=e(c))&&f.SetPointCoords(c))}}};this.GetSelectedMapFeature=function(){return f};this.SetSelectedMapFeature=function(a){a!=f&&(f&&f.SetIsAlwaysInHover(!1),(f=a)&&f.SetIsAlwaysInHover(!0))};this.OnKLChange=function(m){var l=m.deletedItems,n=a.layer,r=a.appContent.GetAppCtx(),A=r.GetCtxAttribute(tf.TFMap.CAN_selectedToolTipSender),t=0,w;for(w in l){var v=l[w],u=v?v[b]:void 0;u&&(f==u&&(f=void 0),A==u&&r.SetCtxAttribute(tf.TFMap.CAN_selectedToolTipSender,
void 0),n.DelMapFeature(u,!0),c(v),++t)}n.DelWithheldFeatures();var l=m.addedItems,n=a.layer,r=a.toolTipProps,B;for(B in l)if(A=l[B],w=void 0,A&&(t=A.GetData(),v=e(t))&&(w={type:h,coordinates:v},t=k?k({sender:d,item:A,itemData:t}):{},t[g]=A,A[b]=w=new tf.map.Feature(tf.js.ShallowMerge(a.styles,w,t,{onCustomAppClick:a.onClick}))),A=w)r&&tf.TFMap.SetMapFeatureToolTipProps(A,r),n.AddMapFeature(A,!0);n.AddWithheldFeatures();m=m.updatedItems;if(d.GetIsPoint())for(var E in m)if(B=(l=m[E])?l[b]:void 0)l=
l.GetData(),B.SetPointCoords(l.coords),a.refreshStyleOnUpdate&&B.RefreshStyle()};this.GetMapFeatureFromItem=function(a){return a?a[b]:void 0};this.GetItemFromMapFeature=function(a){return a?a.GetSettings()[g]:void 0};this.Clear=function(b){if(b){b=b.GetKeyedItemList();for(var d in b)c(b[d])}a.layer.RemoveAllFeatures()};d=this;n=tf.js.GetFunctionOrNull(a.itemDataFieldNameWithCoords);l=tf.js.GetNonEmptyString(a.itemDataFieldNameWithCoords,"coords");h=tf.js.GetNonEmptyString(a.mapFeatureType,"point").toLowerCase();
k=tf.js.GetFunctionOrNull(a.getOptionalSettings);b=tf.js.GetNonEmptyString(a.mapFeatureInItemAttributeName,"mapFeatureInItem");g=tf.js.GetNonEmptyString(a.itemInMapFeatureAttributeName,"itemInMapFeature")};
tf.TFMap.CustomAppContent=function(a){function c(){return da}function e(a){da!=(a=!!a)&&(da=a,X.GetHTMLElement().style.display=da?"none":"block")}function d(){return T}function b(){return U}function g(){return a}function f(){return R}function k(){return O}function h(){return a.appContent.GetAppStyles().GetIsSmallScreen()?O:R}function l(){return M}function n(b){if(M!=(b=!!b)&&(M=b,tf.dom.ReplaceCSSClassCondition(T,M,L.visibleClassName,L.collapsedClassName),S.SetIsToggled(M),m(),tf.js.GetFunctionOrNull(a.onVisibilityChange)))a.onVisibilityChange({sender:Q,
isVisible:M})}function m(){var b=a.appContent,c=b.GetRootDiv().GetHTMLElement().style,d=M?"calc(100% - "+h()+"px)":"100%";Z||d==c.width||(Z=!0,c.width=d,b.OnLayoutChange(),Z=!1)}function p(a){n(!M)}function q(){return tf.js.GetFunctionOrNull(a.toggleButtonToolTipText)?a.toggleButtonToolTipText():tf.js.GetIsNonEmptyString(a.toggleButtonToolTipText)?a.toggleButtonToolTipText:M?"Collapse application panel":"Expand application panel"}function r(){var b=a.appContent.GetAppStyles(),c=b.GetCSSClasses(),
d=[],e=tf.TFMap.LayoutSettings,b=b.GetIsSmallScreen(),f=e.toggleButtonHeightInt+"px",g=b?O:R,h=e.darkTextColor,k=b?2:4,m=k+"px",l={backgroundColor:e.backgroundLivelyColor},p=.5*e.baseLayersPaneTopCaptionVerPaddingInt,n=p+"px",q=b?6:10,t=e.directionsSummarySmallFontSizeInt;d[L.wrapperClassName]=tf.js.ShallowMerge({backgroundColor:e.backgroundLivelyColor},a.wrapperStyles,{inherits:[c.transitionPoint2s,c.HOneHundred,c.displayBlock,c.overflowVisible,c.boxShadow002003,c.cursorDefault,c.pointerEventsAll,
c.noMarginNoBorderNoPadding,c.positionAbsolute],right:0,top:"0px",zIndex:""+(e.rootDivZIndex+e.customAppContentWrapperZIndexAdd),width:g+"px"});d[L.collapsedClassName]={transform:"translateX("+g+"px)","-webkit-transform":"translateX("+g+"px)"};d[L.visibleClassName]={transform:"translateX(0px)","-webkit-transform":"translateX(0px)"};d[L.toggleButtonWrapperClassName]={inherits:[c.borderRadius2px,c.pointerEventsAll,c.whiteSpaceNoWrap,c.displayBlock,c.overflowVisible,c.cursorDefault,c.noMargin,c.noPadding,
c.positionAbsolute,c.zIndex1,c.lightBackground],right:"calc(100% + 1px)",top:"calc(50% - "+e.toggleButtonHeightInt/2+"px)"};d[L.toggleButtonClassName]={inherits:[c.borderRadius2px,c.baseImageButton,c.borderLeftD4,c.boxShadow01403,c.overflowHidden],width:"23px",height:f};d[L.toggleButtonClassName+":hover"]={border:"1px solid rgba(0,48,118,0.4)"};d[L.topCaptionClassName]={inherits:[c.positionRelative,c.noMarginNoBorderNoPadding,l,c.robotoFontFamily,c.displayFlex,c.flexFlowRowNoWrap],width:"calc(100% - 0px)",
color:"white",borderTop:"2px solid "+e.backgroundLivelyColor,borderBottom:"2px solid "+e.backgroundLivelyColor,fontSize:e.baseLayersPaneTopCaptionFontSizeInt+"px",lineHeight:e.baseLayersPaneTopCaptionLineHeightInt+"px"};d[L.captionLogoClassName]={inherits:[c.positionRelative,c.flexGrowZero,c.displayFlex,c.flexFlowColumnNoWrap],margin:"auto",backgroundColor:"white",padding:"2px",borderRadius:"2px",marginRight:b?"4px":"8px",border:"1px solid "+h,width:2*p+e.baseLayersPaneTopCaptionLineHeightInt+t+"px"};
d[L.captionLogoClassName+" svg"]={width:"100%",height:"initial",margin:"auto"};d[L.captionTitleDescWrapperClassName]={inherits:[c.positionRelative,c.flexFlowColumnNoWrap,c.flexGrowZero,c.displayFlex],alignItems:"flex-start",paddingLeft:q+"px",paddingRight:q+"px",margin:"0px"};d[L.captionTitleClassName]={inherits:[c.positionRelative,c.flexGrowOne,c.displayFlex],padding:"6px",paddingLeft:"0px",paddingTop:n,paddingBottom:"0px",margin:"0px"};d[L.captionDescClassName]={inherits:[c.positionRelative,c.flexGrowOne,
c.displayFlex],padding:"6px",paddingLeft:b?"2px":"4px",borderTop:"1px solid white",paddingTop:"4px",paddingBottom:n,fontSize:t+"px",lineHeight:t+2+"px",margin:"0px"};d[L.toolBarWrapperClassName]={inherits:[c.positionRelative,c.noMarginNoBorderNoPadding,,c.displayBlock],fontSize:e.baseLayersPaneDefaultFontSizeInt+"px",lineHeight:e.baseLayersPaneDefaultLineHeightInt+"px",width:"100%"};d[L.toolBarContentClassName]={inherits:[c.positionRelative,c.displayFlex,c.flexFlowRowWrap,c.overflowHidden,c.darkTextShadow],
textAlign:"left",fontSize:e.baseLayersPaneDefaultFontSizeInt+"px",lineHeight:e.baseLayersPaneDefaultLineHeightInt+"px",margin:"auto",padding:"2px",width:"calc(100% - 4px)"};d[L.mainToolBarContentClassName]={background:"navajowhite",fontSize:e.baseLayersPaneTopCaptionFontSizeInt+"px",lineHeight:e.baseLayersPaneTopCaptionLineHeightInt+"px"};f=b?6:-2;d[L.toolBarButtonClassName]={inherits:[c.positionRelative,c.transparentImageButton,c.backgroundColorTransparent,c.displayFlex,c.flexFlowRowNoWrap,c.flexGrowZero,
c.flexShrinkZero],height:e.baseLayersPaneDefaultLineHeightInt+f+"px",width:e.baseLayersPaneDefaultLineHeightInt+f+"px",color:e.backgroundLivelyColor,fontSize:b?"11px":"18px",marginLeft:"2px",marginRight:"2px",margin:"auto"};d[L.toolBarButtonClassName+" svg"]={width:"100%",height:"100%",fill:e.backgroundLivelyColor};W=e.baseLayersPaneTopCaptionLineHeightInt+4;d[L.mainToolBarButtonClassName]={inherits:[c.transitionPoint2s,d[L.toolBarButtonClassName]],height:W+"px",width:W+"px",backgroundColor:"rgba(255, 255, 255, 0.5)",
borderRadius:"2px",border:"1px solid "+e.darkTextColor,lineHeight:W+"px",padding:"1px",margin:"auto"};d[L.mainToolBarButtonClassName+" svg"]={width:"100%",height:"100%",fill:e.darkTextColor};d[L.toolBarSpanClasses]={inherits:[c.positionRelative,c.displayFlex,c.flexFlowRowNoWrap,c.flexGrowOne,c.flexShrinkOne,c.pointerEventsNone],fontSize:e.baseLayersPaneDefaultFontSizeInt+"px",lineHeight:e.baseLayersPaneDefaultLineHeightInt-6+"px",padding:"2px",margin:"auto"};f=b?4:8;d[L.mainToolBarSpanClasses]={inherits:[c.positionRelative,
c.displayFlex,c.flexFlowRowNoWrap,c.flexGrowOne,c.flexShrinkOne,c.pointerEventsNone],fontSize:e.baseLayersPaneTopCaptionFontSizeInt-0+"px",lineHeight:e.baseLayersPaneTopCaptionLineHeightInt+"px",padding:(b?2:4)+"px",paddingLeft:f+"px",paddingRight:f+"px"};d[L.footerWrapperClassName]={inherits:[c.positionRelative,c.noMarginNoBorderNoPadding,l,c.robotoFontFamily,c.displayBlock]};d[L.footerContentClassName]={inherits:[c.displayFlex,c.flexFlowColumnNoWrap,c.lightTextShadow],minHeight:"0px",width:"calc(100% - "+
2*k+"px)",textAlign:"center",padding:m,color:"white",fontSize:e.directionsSummarySmallFontSizeInt+"px",lineHeight:e.directionsSummarySmallLineHeightInt+"px"};d[L.variableFontSizeClassName]={fontSize:e.baseLayersPaneDefaultFontSizeInt+"px",lineHeight:e.baseLayersPaneDefaultLineHeightInt+"px"};d[L.fullWidthClassName]={width:"100%"};d[L.fullWidthWithPaddingClassName]={width:"100%"};d[L.nonScrollVariableHeightClassName]={inherits:[c.displayFlex,c.flexFlowColumnNoWrap,c.flexGrowOne,c.flexShrinkOne],minHeight:"0px"};
ca=b?4:8;k=ca+"px";m="1px solid "+e.listBorderColor;c={inherits:[c.noMarginNoBorderNoPadding,c.pointerEventsNone,c.positionAbsolute,c.overflowVisible],left:"0px",zIndex:""+(e.rootDivZIndex+e.listFadeWrapperZIndexAdd),width:"100%",height:ca+"px !important"};d[L.zIndexListItem]={zIndex:""+(e.rootDivZIndex+e.listFadeWrapperZIndexAdd+20)};d[L.borderTopClassName]={borderTop:m};d[L.fadeTopClassName]={inherits:[c],top:"0px",borderTop:m,background:"linear-gradient(to bottom, rgba(255,255,255,1),rgba(255,255,255,0))"};
d[L.fadeBotClassName]={inherits:[c],borderBottom:m,bottom:"0px",background:"linear-gradient(to top, rgba(255,255,255,1),rgba(255,255,255,0))"};d[L.minHeightPaneClassName]={minHeight:(b?100:200)+"px"};d[L.minHeightListClassName]={backgroundColor:e.lightBackground,paddingTop:k,paddingBottom:k};return d}function A(){return new tf.dom.Div({cssClass:tf.TFMap.LayoutSettings.sidePaneContentFixedHeightClassName+" "+L.variableFontSizeClassName+" "+L.fullWidthClassName})}function t(a){var b=tf.TFMap.LayoutSettings.sidePaneContentFixedHeightClassName+
" "+L.variableFontSizeClassName+" "+L.nonScrollVariableHeightClassName+" "+L.fullWidthClassName;tf.js.GetIsNonEmptyString(a)&&(b+=" "+a);return new tf.dom.Div({cssClass:b})}function w(a){var b=tf.TFMap.LayoutSettings,b=b.sidePaneContentVariableHeightClassName+" "+L.fullWidthWithPaddingClassName+" "+L.variableFontSizeClassName+" "+b.customizedScrollBarClassName;tf.js.GetIsNonEmptyString(a)&&(b+=" "+a);return new tf.dom.Div({cssClass:b})}function v(a,b,c,d){tf.js.GetIsNonEmptyString(c)&&(a+=" "+c);
tf.js.GetIsNonEmptyString(d)&&(b+=" "+d);c=new tf.dom.Div({cssClass:a});d=new tf.dom.Div({cssClass:b});c.AddContent(d);return{wrapper:c,content:d}}function u(){return v(L.toolBarWrapperClassName,L.toolBarContentClassName+" "+L.mainToolBarContentClassName)}function B(a,b){return v(L.toolBarWrapperClassName,L.toolBarContentClassName,a,b)}function E(){return v(L.footerWrapperClassName,L.footerContentClassName)}function D(){var a=t(L.minHeightListClassName),b=new tf.dom.Div({cssClass:L.fadeTopClassName}),
c=new tf.dom.Div({cssClass:L.fadeBotClassName}),d=w();a.AddContent(b,c,d);a.GetHTMLElement().style.overflow="hidden";return{scrollWrapper:a,scrollContent:d}}function F(){return L.toolBarButtonClassName}function C(){return F()+" "+L.mainToolBarButtonClassName}function G(){return L}function H(){return ca}function I(a,b,c){var d=new tf.dom.Div({cssClass:L.topCaptionClassName}),e=new tf.dom.Div({cssClass:L.captionTitleDescWrapperClassName}),f=new tf.dom.Div({cssClass:L.captionTitleClassName}),g=new tf.dom.Div({cssClass:L.captionDescClassName}),
h=new tf.dom.Div({cssClass:L.captionLogoClassName});f.GetHTMLElement().innerHTML=a;g.GetHTMLElement().innerHTML=tf.js.GetNonEmptyString(b,"A TerraFly application");e.AddContent(f,g);h.GetHTMLElement().innerHTML=c;d.AddContent(e,h);return{wrapper:d,titleDescWrapper:e,title:f,desc:g,logo:h}}function J(){return L.toolBarSpanClasses}function K(){return J()+" "+L.mainToolBarSpanClasses}function N(a){ea=tf.js.GetFunctionOrNull(a)}var Q,M,R,O,T,U,S,Z,X,da,L,W,ca,ea;this.OnMapPostCompose=function(a){ea&&
ea(a)};this.UpdateForMapType=function(){tf.js.GetFunctionOrNull(a.updateForMapType)&&a.updateForMapType({sender:Q})};Q=this;R=tf.js.GetFloatNumberInRange(a.widthInt,0,99999999,400);O=tf.js.GetFloatNumberInRange(a.widthIntSmall,0,99999999,300);L={wrapperClassName:tf.TFMap.CreateClassName("customAppContent","Wrapper"),collapsedClassName:tf.TFMap.CreateClassName("customAppContent","Collapsed"),visibleClassName:tf.TFMap.CreateClassName("customAppContent","Visible"),toggleButtonWrapperClassName:tf.TFMap.CreateClassName("customAppContent",
"ToggleButtonWrapper"),toggleButtonClassName:tf.TFMap.CreateClassName("customAppContent","ToggleButton"),topCaptionClassName:tf.TFMap.CreateClassName("customAppContent","TopCaption"),fullWidthClassName:tf.TFMap.CreateClassName("customAppContent","FullWidthNoOverflow"),captionLogoClassName:tf.TFMap.CreateClassName("customAppContent","CaptionLogo"),captionTitleClassName:tf.TFMap.CreateClassName("customAppContent","CaptionTitle"),captionDescClassName:tf.TFMap.CreateClassName("customAppContent","CaptionDesc"),
captionTitleDescWrapperClassName:tf.TFMap.CreateClassName("customAppContent","TitleDescWrapper"),footerWrapperClassName:tf.TFMap.CreateClassName("customAppContent","FooterWrapper"),footerContentClassName:tf.TFMap.CreateClassName("customAppContent","FooterContent"),fullWidthWithPaddingClassName:tf.TFMap.CreateClassName("customAppContent","FullWidthWithPadding"),toolBarWrapperClassName:tf.TFMap.CreateClassName("customAppContent","ToolBarWrapper"),toolBarContentClassName:tf.TFMap.CreateClassName("customAppContent",
"ToolBarContent"),mainToolBarContentClassName:tf.TFMap.CreateClassName("customAppContent","MainToolBarContent"),toolBarButtonClassName:tf.TFMap.CreateClassName("customAppContent","ToolBarButton"),mainToolBarButtonClassName:tf.TFMap.CreateClassName("customAppContent","MainToolBarButton"),variableFontSizeClassName:tf.TFMap.CreateClassName("customAppContent","variableFontSize"),nonScrollVariableHeightClassName:tf.TFMap.CreateClassName("customAppContent","NonScroll"),toolBarSpanClasses:tf.TFMap.CreateClassName("customAppContent",
"ToolBarSpan"),mainToolBarSpanClasses:tf.TFMap.CreateClassName("customAppContent","MainToolBarSpan"),borderTopClassName:tf.TFMap.CreateClassName("customAppContent","BorderTop"),fadeTopClassName:tf.TFMap.CreateClassName("customAppContent","FadeTop"),fadeBotClassName:tf.TFMap.CreateClassName("customAppContent","FadeBot"),minHeightPaneClassName:tf.TFMap.CreateClassName("customAppContent","MinHeightPane"),minHeightListClassName:tf.TFMap.CreateClassName("customAppContent","MinHeightList"),zIndexListItem:tf.TFMap.CreateClassName("customAppContent",
"ZIndexListItem")};tf.styles.CreateCSSClasses(r());(function(){var b=tf.TFMap.LayoutSettings,c=a.appContent,d=!!a.visible;X=new tf.dom.Div({cssClass:L.toggleButtonWrapperClassName});T=new tf.dom.Div({cssClass:L.wrapperClassName});S=c.CreateToggleButton(tf.js.ShallowMerge({onHover:void 0,wrapper:X,delayMillis:0,toolTipClass:"center",toolTipArrowClass:"right",toolTipStyle:void 0},{offsetX:4,onClick:p,buttonClass:L.toggleButtonClassName+" ripple",classToggled:b.arrowRightBackgroundClassName,classNotToggled:b.arrowLeftBackgroundClassName,
isToggled:d,toolTipText:q}));X.AddContent(S.GetButton());e(!!a.toggleButtonHidden);b=tf.TFMap.LayoutSettings;U=new tf.dom.Div({cssClass:b.sidePanelContentWrapperClassName+" "+b.sidePaneFullHeightContentWrapperClassName});T.AddContent(X,U);n(d);c.GetAppDiv().AddContent(T)})();a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(r());m()});(function(){tf.js.GetFunctionOrNull(a.setInterface)&&a.setInterface({sender:Q,setOnMapPostCompose:N,getMainToolBarButtonDimInt:function(){return W},
createTitleDescSVGLogo:I,createNonScrollContent:A,createNonScrollVariableHeightContent:t,createVertScrollWrapperAndContentWithFade:D,createScrollContent:w,createMainToolBar:u,createToolBar:B,createFooter:E,getClassNames:G,getVerListWithFadePaddingTopBotInt:H,getToolBarSpanClasses:J,getMainToolBarSpanClasses:K,getToolBarButtonClasses:F,getMainToolBarButtonClasses:C,getToggleButtonHidden:c,setToggleButtonHidden:e,getWrapper:d,getContentWrapper:b,getSettings:g,getWidthInt:f,getWidthIntSmall:k,getCurrentWidthInt:h,
getIsVisible:l,setVisible:n})})()};
tf.TFMap.CustomApp=function(a){function c(){var a;b&&(a=(b.getIsVisible()?"Collapse ":"Expand ")+e+" panel");return a}var e,d,b,g,f,k,h,l,n;this.GetTFMapApp=function(){return d};e=tf.js.GetNonEmptyString(a.appName,"TerraFly App");g=tf.consts.appStartCollapsedValue;f=tf.consts.appStartExpandedValue;n=tf.js.GetFunctionOrNull(a.onCreated);l=tf.js.GetFunctionOrNull(a.onParametersParsed);a.sidePanelWidthInt=tf.js.GetFloatNumberInRange(a.sidePanelWidthInt,0,99999999,400);a.sidePanelWidthSmallInt=tf.js.GetFloatNumberInRange(a.sidePanelWidthSmallInt,
0,99999999,300);a.onCreated=function(a){k&&h&&(b.setVisible(!0),b.setToggleButtonHidden(!1));n&&n(a)};a.onAddComponents=function(e){d.GetContent().CreateCustomAppContent({transitServerURL:a.transitServerURL,onVisibilityChange:a.onVisibilityChange,updateForMapType:a.updateForMapType,widthInt:a.widthInt,widthIntSmall:a.widthIntSmall,visible:k&&!h,toggleButtonHidden:k&&h,toggleButtonToolTipText:c,wrapperStyles:{background:"transparent"},setInterface:function(c){b=c;if(tf.js.GetFunctionOrNull(a.onContentSetInterface))a.onContentSetInterface(c)}})};
a.onParametersParsed=function(a){var b=a.params,b=tf.js.GetIsValidObject(b)?b[tf.consts.appStartParamName]:void 0,b=tf.js.GetNonEmptyString(b,"slide");switch(b.toLowerCase()){default:case "slide":k=!0;h=!1;break;case g:k=h=!1;break;case f:k=!0,h=!1}l&&l(a)};a.appTitle=e;d=new tf.TFMap.App(a)};
tf.TFMap.Content=function(a){function c(a,b){var c=b.GetIsDisplayingInHover(),d=10*tf.TFMap.DirectionsFeatureDimMult,e=c?40:20,c=[{snaptopixel:!1,zindex:e++,circle:!0,circle_radius:d,line:!0,fill:!0,fill_color:"#fdfdff",line_color:"#026",line_width:2,line_opacity:70,fill_opacity:100}],f=b.GetSettings(),d=void 0!=f.wayPointIndex?{snaptopixel:!1,font:"600 "+d+"px Roboto",zindex:e++,text:!0,fill:!0,fill_color:"#026",line:!0,line_opacity:30,line_color:"#bfbfbf",line_width:1,label:"#"+(1+f.wayPointIndex)}:
{snaptopixel:!1,font:"400 "+2*d+"px Roboto",zindex:e++,text:!0,fill:!0,fill_color:"#026",line:!0,line_opacity:30,line_color:"#bfbfbf",line_width:1,label:"+"};c.push(d);return c}function e(){var a=new tf.map.Feature({type:"point",coordinates:[0,0],style:c,hoverStyle:c}),b=tf.TFMap.MapTwoLineSpan("Add via location","click or drag");tf.TFMap.SetMapFeatureToolTipProps(a,{toolTipText:b,offsetX:20,delayMillis:tf.TFMap.AddWayPointToolTipDelayMillis});b=a.GetSettings();b.wayPointIsInLayer=!1;b.wayPointIndex=
void 0;return a}function d(a){}function b(){var a=dc.GetNext(),b=a.GetSettings();b.wayPointIsInLayer=!1;b.wayPointIndex=void 0;return a}function g(a,c){var d=tf.TFMap.MapTwoLineSpan("drag to move","click to delete");tf.TFMap.GetMapFeatureToolTipProps(vb).toolTipText=d;xa.AddWayPoint(vb);Cb.AddMapFeature(vb);vb.GetSettings().wayPointIsInLayer=!0;Pb=void 0;c&&La&&La.startDrag(vb,a.eventCoords,{},!0);vb=b();T();Y.Render()}function f(a,b){T();if(a){void 0==b&&(b=a.GetPointCoords());var c=C(a,b);na.SetCtxAttribute(tf.TFMap.CAN_selectedToolTipSender,
c)}}function k(a){var b=!1;void 0!=Pb&&(b=!0,void 0!=a.eventCoords&&(Pb=a.eventCoords,a=tf.helpers.HitTestMapCoordinatesArray(xa.GetRouteCoordinates(),Pb,void 0,void 0,void 0),void 0!=a.closestPoint&&(a=a.closestPoint,vb.SetPointCoords(a),a=C(vb,a),T(),na.SetCtxAttribute(tf.TFMap.CAN_selectedToolTipSender,a))));return b}function h(a){sb.Update(Ja.GetLastMapFeature());k(a)&&a.showFeatureImmediately(vb);Ja.OnPostCompose(a);kb&&kb.OnMapPostCompose(a);if(la&&tf.js.GetFunctionOrNull(la.onPostCompose))la.onPostCompose(a);
Qa.GetIsModified()&&Qa.Draw()}function l(a){if(!La||!La.getIsDragging()){if(la&&tf.js.GetFunctionOrNull(la.onMouseMoveFeature))la.onMouseMoveFeature(a);k(a)&&Y.Render()}}function n(a){if(!(La&&La.getIsDragging()||la&&tf.js.GetFunctionOrNull(la.onHoverFeature)&&la.onHoverFeature(a))){var b=a.mapFeature,c=b.GetSettings();if(c.isDirectionRoute)a.isInHover?xa.GetCanAddWayPoint()&&(Pb=a.eventCoords):(Pb=void 0,T());else if(tf.TFMap.GetMapFeatureToolTipProps(b)){var d,e=!0;if(a.isInHover)if(Mb=[],tf.js.GetIsValidObject(a.featureCluster)&&
tf.js.GetIsNonEmptyArray(a.featureCluster.clusterFeatures)){if(b=a.featureCluster.clusterFeatures,a=a.featureCluster.clusterCoords,d=C(b[0],a),d.offsetX=8,d){c=b.length;d.toolTipText=[];for(var f=[],g=0;g<c;++g){var h=b[g],k=C(h,a),k=tf.js.GetFunctionOrNull(k.toolTipText)?k.toolTipText(k):k.toolTipText;f.push({toolTipText:k,mapFeature:h})}f.sort(function(a,b){return a.toolTipText<b.toolTipText?-1:a.toolTipText>b.toolTipText?1:-1});for(g=0;g<f.length;++g)d.toolTipText.push(f[g].toolTipText);Mb=f;d.onClick=
G}}else f=!0,c=b.GetSettings(),tf.TFMap.GetSearchProps(b)&&(f=c.showToolTip),f&&(d=c.toolTipCoords,d=void 0!=d?d:b.GetIsPoint()?b.GetPointCoords():a.eventCoords,d=C(b,d));else(b=na.GetCtxAttribute(tf.TFMap.CAN_selectedToolTipSender))&&b.keepOnHoverOutTarget&&(e=!Ea.GetIsInHover());e&&na.SetCtxAttribute(tf.TFMap.CAN_selectedToolTipSender,d)}}}function m(a){if(La&&La.getIsDragging())La.onDragMove(a)}function p(a){if(La&&La.getIsDragging())La.onEndDrag()}function q(a){if(La)if(La.getIsDragging()){if(La.onDragMove(a))return}else if(La.onDrag(a))return;
la&&tf.js.GetFunctionOrNull(la.onDragFeature)&&la.onDragFeature(a)||void 0!=Pb&&g(a,!0)}function r(a){la&&tf.js.GetFunctionOrNull(la.onDoubleClickFeature)&&la.onDoubleClickFeature(a)}function A(a){if(!(la&&tf.js.GetFunctionOrNull(la.onClickFeature)&&la.onClickFeature(a)))if(void 0!=Pb)g(a,!1);else{var b=a.mapFeature,c=tf.TFMap.GetSearchFeature(b)?b:void 0;na.SetCtxAttribute(tf.TFMap.CAN_selectedSearch,c);c&&V.ShowMapFeatureProps(c);if(b==$a.GetMapFeature()||b==ib.GetMapFeature()||b==Ib.GetMapFeature())Ja.ShowProps(b);
else if(b==sb.GetMapFeature())V.SetDirectionsTargetToMapFeature(sb.GetLastToMapFeature(),!0);else if(c=b.GetSettings(),void 0!=c.directionsAddressItem)xa.SelectAddressItem(c.directionsAddressItem);else if(void 0!=c.directionsResultsItem)xa.SelectResultItem(c.directionsResultsItem);else if(c.wayPointIsInLayer)xa.DeleteWayPoint(b),Cb.DelMapFeature(b);else if(tf.js.GetFunctionOrNull(c.onCustomAppClick))c.onCustomAppClick(a)}}function t(a){la&&tf.js.GetFunctionOrNull(la.onClickMap)&&la.onClickMap(a)||
yc&&ib.Show(a.eventCoords)}function w(){var a=tf.TFMap.LayoutSettings,b=V.GetIsShowingAerial();tf.dom.ReplaceCSSClassCondition(Fa,b,a.showingAerialClassName,a.showingMapClassName)}function v(){var a=tf.TFMap.LayoutSettings,b=V.GetIsShowingAerial();ta&&tf.dom.ReplaceCSSClassCondition(ta.element.firstChild,b,a.wrapperAerialModeClassName,a.wrapperMapModeClassName)}function u(a){a&&a!=sb&&wa[tf.TFMap.CAN_showingDirections]&&xa.GetNeedsAddress()&&V.SetDirectionsTargetToMapFeature(a,!1)}function B(a){var b=
a.sender;if(tf.js.GetFunctionOrNull(b.onClick))b.onClick(a);Ea.RefreshToolTip()}function E(a){var b=a.sender,c=a.notification.isInHover?b:b.keepOnHoverOutTarget?b:void 0,d=!0,e=na.GetCtxAttribute(tf.TFMap.CAN_selectedToolTipSender);e&&e.keepOnHoverOutTarget&&(d=!Ea.GetIsInHover());d&&na.SetCtxAttribute(tf.TFMap.CAN_selectedToolTipSender,c);if(tf.js.GetFunctionOrNull(b.onHover))b.onHover(a)}function D(a){var b=a.GetSettings().searchMapFeatures.GetSearchFeaturesForToolTip(),c=[],d=[];Mb=[];for(var e in b){var f=
b[e],g=C(f,f.GetPointCoords()),g=tf.js.GetFunctionOrNull(g.toolTipText)?g.toolTipText(g):g.toolTipText;c.push({toolTipText:g,mapFeature:f})}if(0<c.length){c.sort(function(a,b){return a.toolTipText<b.toolTipText?-1:a.toolTipText>b.toolTipText?1:-1});for(e=0;e<c.length;++e)d.push(c[e].toolTipText);Mb=c}else d="'"+a.GetDataSetTitle()+"' dataset";return d}function F(a,b){return{wrapper:a,onClick:G,toolTipFunction:function(a){return D(b)},toolTipClass:"*start",toolTipArrowClass:"left"}}function C(a,b){var c=
V.GetHasEffectiveSidePanelFullContent()?tf.TFMap.LayoutSettings.sidePanelWidthInt:0;if(c=tf.TFMap.GetDynamicMapFeatureToolTipProps(Y,a,b,c))var d=V.GetMapDiv(),c=tf.TFMap.GetMapFeatureToolTipInfo(a,Y,c.toolTipText,d,c.delayMillis,c.toolTipClass,c.toolTipArrowClass,c.toolTipStyle,b,c.offsetX,c.offsetY,c.onClick,c.keepOnHoverOutTarget);return c}function G(a){if(void 0!=a.toolTipSender&&void 0!=a.order&&void 0!=Mb&&a.order<Mb.length){a=Mb[a.order].mapFeature;var b=a.GetSettings();if(tf.js.GetFunctionOrNull(b.onCustomAppClick))b.onCustomAppClick({mapFeature:a});
else tf.TFMap.GetSearchFeature(a)&&(na.SetCtxAttribute(tf.TFMap.CAN_selectedSearch,a),V.ShowMapFeatureProps(a))}}function H(a){0==a.nMapFeatures&&T()}function I(a){V.Search()}function J(a){}function K(a){a=Y.GetCenter();void 0!=na.GetCtxAttribute(tf.TFMap.CAN_selectedToolTipSender)&&(a[0]==cc[0]&&a[1]==cc[1]||T());if(P){var b=P.GetCenter();(a[0]!=b[0]||a[1]!=b[1])&&P&&P.SetCenter(Y.GetCenter());a=Y.GetRotationRad();a!=P.GetRotationRad()&&P.SetRotationRad(a)}}function N(a){xa.UpdateDistances();if(la&&
tf.js.GetFunctionOrNull(la.onMapScaleUnit))la.onMapScaleUnit(a);Y.Render()}function Q(a){nb&&nb.OnMapResolutionChange()}function M(a){P&&P.SetLevel(Y.GetLevel()-nd);nb&&nb.OnMapResolutionChange()}function R(a){var b=a.ctx;a=wa[tf.TFMap.CAN_directionsMode]!=b[tf.TFMap.CAN_directionsMode];var c=wa[tf.TFMap.CAN_showingDirections]!=b[tf.TFMap.CAN_showingDirections],d=b[tf.TFMap.CAN_selectedToolTipSender],e=wa[tf.TFMap.CAN_selectedToolTipSender]!=d,f=wa[tf.TFMap.CAN_sidePanelVisible]!=b[tf.TFMap.CAN_sidePanelVisible],
g=wa[tf.TFMap.CAN_isSearchingAddress]!=b[tf.TFMap.CAN_isSearchingAddress],h=wa[tf.TFMap.CAN_dataSetsPanelVisible]!=b[tf.TFMap.CAN_dataSetsPanelVisible],k=[],l=[],m=[],p;for(p in Ta){var n=Ta[p],q=n.GetSettings(),t=q.updateVerb,w=q.visibilityVerb,r=q.autoRefreshVerb,q=b[t],t=wa[t]!=q,w=wa[w]!=b[w],r=wa[r]!=b[r];t&&(q||k.push(n),l.push(n));if(w||r)t||l.push(n),w&&m.push(n)}wa=tf.js.ShallowMerge(b);e&&(cc=Y.GetCenter(),Ea.Show(d));if(0<k.length)for(p in k)n=k[p],n.GetSettings().searchMapFeatures.UpdateSearchFeatures(n.GetAddedAndDeletedSearchResults());
if(0<l.length)for(p in l)n=l[p],mb.Update(n.GetTitle());if(0<m.length)for(p in m)n=m[p],b=n.GetSettings().searchMapFeatures,b.UpdateVisibility(),b.GetIsVisible()&&!n.GetIsSearching()&&n.Search();f&&(Ea.Show(void 0),Wa.CheckIsVisible());h&&(Ea.Show(void 0),mb.CheckIsVisible());g&&Oa.CheckSearchActive();if(c||f)O(),c&&(T(),xa.UpdateVisibility());a&&xa.UpdateMode()}function O(){var a=Ca.GetPositionClasses();tf.dom.ReplaceCSSClassCondition(Ba,V.GetHasEffectiveSidePanelFullContent(),a.widthWithSidePanelClassName,
a.fullWidthClassName)}function T(){void 0!=wa[tf.TFMap.CAN_selectedToolTipSender]&&na.SetCtxAttribute(tf.TFMap.CAN_selectedToolTipSender,void 0);Ea.Show(void 0)}function U(b,c,d,e,f){var g=a.mapSettings;b={vidParam:g.vidParam,passThroughString:g.passThroughString,container:b,mapEngine:g.mapEngine,legendH:g.legendH,legendM:g.legendM,decodedLegendH:Ob,decodedLegendM:Lc,fullScreenContainer:Ba,center:g.center,mapType:c,panels:void 0,noScaleLine:!d,panOnClick:!1,goDBOnDoubleClick:!1,level:g.level,resolution:g.resolution,
noNativePopups:!0,noNativeControls:!0,showMapCenter:!1};d&&(b.scaleElemTarget=Ca.GetContentPane().GetHTMLElement());b.mapCenterSVG=ha.GetMapCenterSVG();b=new tf.map.Map(b);e?b.SetView({minLevel:tf.TFMap.MinMapLevel,maxLevel:tf.TFMap.MaxMapLevel,enableRotation:f}):b.SetView({minLevel:tf.TFMap.MinMapLevel,maxLevel:tf.TFMap.MaxMapLevel});b.SetFractionalZoomInteraction(!0);b.SetGoDBOnDoubleClick(!1);b.SetHasInteractions(e);b.SetIsUSScaleUnits(!0);d&&(ta=b.GetPanelElement(tf.consts.panelNameMapScale),
S(),v());return b}function S(){if(ta){var a=ha.GetIsSmallScreen(),b=ta.element.firstChild;tf.dom.AddCSSClass(b,"ripple");var c=ta.element.style,b=b.style;c.pointerEvents="all";c.left="initial";a?(c.fontSize="10px",c.height="12px",b.height="12px",b.marginTop="0px",c.bottom=2-tf.TFMap.LayoutSettings.marginBottomBottomPaneWrapperInt+"px"):(c.fontSize="11px",c.bottom=4-tf.TFMap.LayoutSettings.marginBottomBottomPaneWrapperInt+"px");c.left="2px";c.zIndex="0"}}function Z(){return{zindex:Ma,circle:!0,circle_radius:tf.TFMap.LayoutSettings.clusterCircleRadius,
fill:!0,fill_color:"#037",line:!0,line_color:"#fff",line_width:2,line_opacity:30}}function X(a,b,c){b=tf.TFMap.LayoutSettings;c={isVisible:!0,isHidden:!0,useClusters:!1,zIndex:c,name:"bottomCustomAppLayer"};Ad=a.AddFeatureLayer(c);++c.zIndex;c.name="bfme";vc=a.AddFeatureLayer(c);++c.zIndex;c.name="bfdl";ld=a.AddFeatureLayer(c);++c.zIndex;c.name="additionalFeatures";cd=a.AddFeatureLayer(c);++c.zIndex;b={useClusters:$b,clusterFeatureDistance:b.clusterFeatureDistance,clusterStyle:Z(),clusterLabelStyle:{font:"600 12px Roboto",
zindex:Ma+1,text:!0,fill:!0,fill_color:"#fff",line:!0,line_opacity:70,line_color:"#000",line_width:2}};Lb=Y.AddFeatureLayer(tf.js.ShallowMerge(c,b,{name:"slHB",isVisible:Ya}));++c.zIndex;Zb=Y.AddFeatureLayer(tf.js.ShallowMerge(c,b,{name:"slMB",isVisible:!Ya}));++c.zIndex;c.name="clickedLocation";Jb=a.AddFeatureLayer(c);++c.zIndex;c.zIndex=2E3;c.name="userLocation";Kb=a.AddFeatureLayer(c);++c.zIndex;c.name="directions";Bb=a.AddFeatureLayer(c);++c.zIndex;c.name="pins";uc=a.AddFeatureLayer(c);++c.zIndex;
c.name="directionItems";jb=a.AddFeatureLayer(c);++c.zIndex;c.name="directionWaypoints";Cb=a.AddFeatureLayer(c);++c.zIndex;c.name="directionPins";hc=a.AddFeatureLayer(c);++c.zIndex;c.name="measureToolLayer";kd=a.AddFeatureLayer(c);++c.zIndex;c.name="downloadToolLayer";Tb=a.AddFeatureLayer(c);++c.zIndex}function da(b,c){for(var d={},e=b.length,f=a.mapSettings.dlayerPreClick,g=0;g<e;++g){var h=b[g],k=10*(e-g-1)+1,l=h.title,m=0==g?c:void 0,p=0==g?f:!1;void 0==d[l]?d[l]=new tf.TFMap.DataSetSearch({appContent:V,
title:l,updateVerb:h.updateVerb,visibilityVerb:h.visibilityVerb,markerNameField:h.markerNameField,autoRefreshVerb:h.autoRefreshVerb,maxRecords:h.maxRecords,nDLayerExtent:m,urlStart:h.urlStart,searchMapFeatures:new tf.TFMap.SearchMapFeatures({appContent:V,minZIndex:k,visibilityVerb:h.visibilityVerb,addStyles:ha.AddSearchFeatureStyles,color:h.color,nDLayerExtent:m,dlayerPreClick:p,layerMapB:Zb,layerHybridB:Lb})}):console.log("duplicate search title: "+l)}return d}function L(b){if(tf.js.GetIsNonEmptyArray(a.dlayerParams)){var c=
a.dlayerParams.length,d="#f00 #44f #0a0 #d3d #3dd #b63 #f80 #08f #80f #8f0 #0f8 #f08".split(" "),e;for(e in d)d[e]=ha.GetLighterColor(d[e]);b=[];for(e=0;e<c;++e){var f=a.dlayerParams[e],f={title:f.dLayerLegend,urlStart:f.dLayerData,isVisible:f.dLayerSelect,markerNameField:f.dLayerField,color:d[e%d.length],maxRecords:100};b.push(f)}}else b=b?[{title:"Businesses2",urlStart:"http://n00.cs.fiu.edu/cgi-bin/arquery1.cgi?vid=ramb&y1=25.787794538070614&x1=-80.362932146016&category=callreal",isVisible:!0,
markerNameField:"L",color:"#f00",maxRecords:100},{title:"Restaurants",urlStart:"http://n00.cs.fiu.edu/cgi-bin/arquery.cgi?category=us_companies_2013&tfaction=shortdisplayflash&arcriteria=1&Industry=Eating&numfind=20",isVisible:!0,markerNameField:"L",color:"#00f",maxRecords:100},{title:"Stores",urlStart:"http://n00.cs.fiu.edu/cgi-bin/arquery.cgi?category=us_companies_2013&tfaction=shortdisplayflash&numfind=20&arcriteria=1&SIC_CODE_Description|=store+stores",isVisible:!0,markerNameField:"L",color:"#0c0",
maxRecords:100}]:[];c=b.length;for(e=0;e<c;++e)f=b[e],f.updateVerb="sIsSearching"+e,f.visibilityVerb="sIsVisible"+e,f.autoRefreshVerb="sAutoRefreshes"+e;return b}function W(a,b,c){var d={},e=[tf.TFMap.CAN_directionsMode,tf.TFMap.CAN_showingDirections,tf.TFMap.CAN_isSearchingAddress,tf.TFMap.CAN_sidePanelVisible,tf.TFMap.CAN_dataSetsPanelVisible,tf.TFMap.CAN_selectedSearch,tf.TFMap.CAN_selectedToolTipSender,tf.TFMap.CAN_userLocation,tf.TFMap.CAN_clickLocation,tf.TFMap.CAN_searchAddressLocation],f;
for(f in e)d[e[f]]=void 0;d[tf.TFMap.CAN_sidePanelVisible]=!0;d[tf.TFMap.CAN_dataSetsPanelVisible]=void 0!=b?!!b:!0;d[tf.TFMap.CAN_showingDirections]=!1;d[tf.TFMap.CAN_directionsMode]=c;for(f in a)b=a[f],d[b.updateVerb]=!1,d[b.visibilityVerb]=b.isVisible,d[b.autoRefreshVerb]=!0;return d}function ca(){var a=Ca.GetPositionClasses();tf.dom.ReplaceCSSClassCondition(Ba,bc,a.upClassName,a.downClassName);bc||Ca.GetUnderBottomWrapper().ClearContent()}function ea(a){la&&a.sender==la.sender&&ba()}function ba(){if(la){var a=
V.IsMeasureToolOn()||V.IsDownloadToolOn();tf.js.GetFunctionOrNull(la.deActivate)&&la.deActivate();la=void 0;a&&Ua&&Ua.UpdateToolsVisibility();Y.Render()}}function fa(a){ba();a&&(la=a,tf.js.GetFunctionOrNull(la.activate)&&la.activate(),(V.IsMeasureToolOn()||V.IsDownloadToolOn())&&Ua&&Ua.UpdateToolsVisibility(),Y.Render())}function qa(){var b=a.mapSettings,c=b.mapEngine!=tf.consts.mapnikEngine;Ob=tf.js.DecodeLegend(b.legendH);Lc=c?tf.js.DecodeLegend(b.legendM):Ob}function pa(){qa();tf.TFMap.LayoutSettings.distances3Units=
tf.js.CalcDistances3Units();lb=new tf.TFMap.PhotoList({appContent:V});ub=new tf.TFMap.PhotoListDisplayer({appContent:V});ab=new tf.TFMap.PhotoDisplayer({appContent:V});Qa=new tf.TFMap.OverMapCanvas({appContent:V});var c=a.mapSettings,g=c.panels,k=!1,v=!1,u=!1,B=!1,C=!0,E=!0,D=!1,F=!0,G=!0,ua=!1;Qb=Db=!1;Pc=void 0!=a.params[tf.consts.paramNameDirectionsUseBus];Dd=void 0!=a.params[tf.consts.paramNameDirectionsUseBusStage];tf.webgl.GetWebGL().GetHasWebGL()&&void 0!=(Qb=a.params[tf.consts.paramNamePerspectiveMap])&&
(Db=tf.js.GetBoolFromValue(Qb),Qb=!0);if(tf.js.GetIsNonEmptyString(g))for(var g=g.split(tf.consts.charSplitStrings),aa=g.length,S=0;S<aa;++S)switch(g[S].toLowerCase()){case tf.consts.panelNameTFLogo:ua=!0;break;case tf.consts.panelNameNoMapCenter:G=!1;break;case tf.consts.panelNameNoMapRotate:F=!1;break;case tf.consts.panelNameZoom:D=!0;break;case tf.consts.panelNameNoUserLocation:E=!1;break;case tf.consts.panelNameLayers:B=!0;break;case tf.consts.panelNameType:u=!0;break;case tf.consts.panelNameMeasure:k=
!0;break;case tf.consts.panelNameDownload:v=!0;break;case tf.consts.markersPanelCollapsed:C=!1}tf.TFMap.LayoutSettings.createAuxTypeMap=u;$b=!0;dc=new tf.js.ObjectCache({createNew:e,onDelete:d});vb=b();a.appContent=V;Ya=c.mapType!=tf.consts.typeNameMap;ha.SetIsShowingAerial(Ya);c=L(!1);g=tf.services.GetDirectionModeFrom(a.params[tf.consts.paramNameDirectionsMode],tf.consts.routingServiceModeCar,Pc);wa=W(c,C,g);na=new tf.js.Context({appContent:V,ctx:wa});na.AddListener(R);a.multiMenus=Pa=new tf.ui.MultiMenus;
Ea=new tf.TFMap.ToolTipDisplayer({appContent:V});Ga=new tf.dom.Div({cssClass:Sc});db=new tf.dom.Div({cssClass:Tc});Ga.AddContent(db);Ca=new tf.TFMap.BottomPane({appContent:V});Y=U(db,Ya?tf.consts.typeNameHybrid:tf.consts.typeNameMap,!0,!0,F);X(Y,c,1);Ga.AddContent(Qa.GetWrapper());nd=3;u&&(wb=new tf.TFMap.AuxMapWrapper({appContent:V}),P=U(wb.GetMapWrapper(),Ya?tf.consts.typeNameMap:tf.consts.typeNameAerial,!1,!1,!1),M());Y.AddListener(tf.consts.mapFeatureHoverInOutEvent,n);Y.AddListener(tf.consts.mapFeatureClickEvent,
A);Y.AddListener(tf.consts.mapFeatureDblClickEvent,r);Y.AddListener(tf.consts.mapFeatureMouseMoveEvent,l);Y.AddListener(tf.consts.mapFeatureMouseDragEvent,q);Y.AddListener(tf.consts.mapEndDragEvent,p);Y.AddListener(tf.consts.mapClickEvent,t);Y.AddListener(tf.consts.mapMouseMoveEvent,H);Y.AddListener(tf.consts.mapMouseDragEvent,m);Y.AddListener(tf.consts.mapMoveEndEvent,I);Y.AddListener(tf.consts.mapMoveStartEvent,J);Y.AddListener(tf.consts.mapLevelChangeEvent,M);Y.AddListener(tf.consts.mapResolutionChangeEvent,
Q);Y.AddListener(tf.consts.mapPostComposeEvent,h);Y.AddListener(tf.consts.mapPreComposeEvent,K);Y.AddListener(tf.consts.mapToggleScaleUnitEvent,N);ib=new tf.TFMap.MapClickedLocation({appContent:V,layer:Jb});$a=new tf.TFMap.MapUserLocation({appContent:V,layer:Kb});Ib=new tf.TFMap.MapSearchLocation({appContent:V,layer:Jb});Ja=new tf.TFMap.MapFeaturePropsDisplayer({appContent:V,additionalFeaturesLayer:cd});g=Ja.GetCSSClasseNames();aa=a.mapSettings.nDLayerExtent;C=tf.js.GetNonEmptyString(a.params[tf.consts.paramNameDirectionsDest],
void 0);if(void 0!=C){S=C;C=void 0;try{S=tf.js.JSONParse("["+S+"]"),tf.js.GetIsArrayWithMinLength(S,2)&&(C=tf.js.GetMapCoordsFrom(S))}catch(Z){C=void 0}}void 0!=C&&(aa=0);Ta=da(c,aa);Fa=new tf.dom.Div({cssClass:Rc});w();Ba=new tf.dom.Div({cssClass:Ac+" "+g.hiddenClassName});pb=new tf.ui.Toaster({container:Ba,timeout:2E3,className:"",style:{zIndex:20,position:"absolute",right:"0px",top:"0px"},toastClassName:Uc,toastStyle:{display:"inline-block",margin:"6px",boxShadow:"3px 3px 6px rgba(0,0,0,0.5)"},
addBefore:!0});Wa=new tf.TFMap.SidePane({appContent:V});0<c.length&&(mb=new tf.TFMap.DataSetsBar({appContent:V,searchSettings:c,getDataSet:function(a){return Ta[a]}}));c=a.mapSettings.addressBarText;Oa=new tf.TFMap.SearchBar({appContent:V,placeHolder:"Type an address or a place",initialText:c});Wa.GetContentPane().AddContent(Oa.GetWrapper());g=Ca.GetContentPane();Oc=Fa;Oc.AddContent(ab.GetWrapper());ab.Hide(Oc);Ba.AddContent(Ja.GetWrapper());mb&&Wa.GetContentPane().AddContent(mb.GetWrapper());hb=
new tf.TFMap.MapToolBar({appContent:V,userLocation:E,zoom:D});qb=new tf.TFMap.Compass({appContent:V,compassButtons:F});hb.GetWrapper().AddContent(qb.GetWrapper());if(k||v)Ua=new tf.TFMap.MoreMapTools({appContent:V,measure:k,download:v}),qb.GetWrapper().AddContent(Ua.GetWrapper());g.AddContent(hb.GetWrapper());B&&(nb=new tf.TFMap.BaseLayersPanel({appContent:V,mapEngine:a.mapSettings.mapEngine,legendH:a.mapSettings.legendH,legendM:a.mapSettings.legendM,allowChangeType:u}));u&&g.AddContent(wb.GetWrapper());
ca();Ba.AddContent(Ga,Wa.GetWrapper(),Ca.GetWrapper());O();sb=new tf.TFMap.PinMapFeature({appContent:V,layer:uc,addStyles:ha.AddMapMarker1Style});xa=new tf.TFMap.DirectionsPanel({transitServerURL:a.transitServerURL,useBusDirections:Pc,useStageBusDirections:Dd,appContent:V,layer:Bb,pinLayer:hc,itemsLayer:jb,wayPointsLayer:Cb});Wa.GetContentPane().AddContent(xa.GetWrapper());B&&Wa.GetContentPane().AddContent(nb.GetWrapper());new tf.TFMap.MapFeatureDrag({map:Y,checkCanStartDrag:ma,checkCanDragTo:ia,
onStartDrag:Da,onDrag:ra,onEndDrag:Ha,setInterface:function(a){La=a}});k={map:Y,showMapFeatureToolTip:f,requestClose:ea};new tf.TFMap.MapMeasureTool(tf.js.ShallowMerge(k,{fillLayer:vc,layer:kd,setInterface:function(a){xc=a},distances3Units:tf.TFMap.LayoutSettings.distances3Units}));new tf.TFMap.MapDownloadTool(tf.js.ShallowMerge(k,{fillLayer:ld,layer:Tb,setInterface:function(a){jc=a},distances3Units:tf.TFMap.LayoutSettings.distances3Units}));var oa=new tf.dom.Div({cssClass:Qc});Fa.AddContent(Ba);
if(tf.js.GetFunctionOrNull(a.onAddComponents))a.onAddComponents({sender:V});Qb&&(Nc=new tf.webgl.PerspectiveMap({map:Y,isVisible:Db,appContent:V}));if(B||Qb)ud=new tf.TFMap.BaseLayersToolBar({appContent:V,useBaseLayers:B,usePerspectiveMap:Qb}),g.AddContent(ud.GetWrapper());G&&(rb=new tf.dom.Div({cssClass:Eb}),rb.GetHTMLElement().innerHTML=ha.GetMapCenterSVG(),Ga.AddContent(rb));ua&&(ec=new tf.dom.Div({cssClass:fc}),ec.GetHTMLElement().innerHTML=ha.GetPoweredByTerraFlySVGForMap(),Ga.AddContent(ec));
document.body.appendChild(oa.GetHTMLElement());document.body.appendChild(Fa.GetHTMLElement());za.OnResize();document.addEventListener("contextmenu",function(a){T();if(La&&La.getIsDragging())La.onEndDrag();a.preventDefault&&a.preventDefault();a.cancelBubble=!0;return!1});if(pc=tf.js.GetIsNonEmptyString(c))Ib.SetAddress(c,Y.GetCenter()),V.SetDirectionsTargetToCoords(Y.GetCenter(),!1,!0);void 0!=C&&(V.SetDirectionsTargetToCoords(C,!0,!0),xa.SetAutoSetNextExtent(),V.EnsureDirectionsVisible());a.splashScreen&&
setTimeout(function(){var b=a.splashScreen.GetHTMLElement().style;b.opacity="0";b.pointerEvents="none";setTimeout(function(){document.body.removeChild(a.splashScreen.GetHTMLElement())},1E3)},1E3);setTimeout(function(){document.body.removeChild(oa.GetHTMLElement());if(tf.js.GetFunctionOrNull(a.onCreated))a.onCreated({sender:V})},2500)}function ua(){var a=V.GetAppStyles().GetCSSClasses(),b=[],c=tf.TFMap.LayoutSettings,d=c.darkTextColor;b[c.showingAerialClassName]={};b[c.showingMapClassName]={};var e=
{inherits:[a.robotoFontFamily,a.fontSize16px,a.overflowHidden,a.backgroundColorTransparent,a.noMarginNoBorderNoPadding]},f={inherits:[e,a.WHOneHundred,a.displayBlock,a.cursorDefault,a.positionAbsolute,a.leftTopZero,a.zIndex1],color:d},g={"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","-webkit-tap-highlight-color":"transparent"};b[sc]={inherits:[e]};b[Qc]={inherits:[f,g],zIndex:""+(c.rootDivZIndex+
c.overRootZIndexAdd)};b[Ac]={inherits:[f,g]};b[Sc]={inherits:[f,a.transitionPoint2s]};b[Tc]={inherits:[f]};b[Rc]={inherits:[f,g]};b[Uc]={inherits:[a.lightBackground,a.darkTextColor],maxWidth:"16rem",textAlign:"center",border:"2px solid red",borderRadius:"6px",padding:"8px",fontSize:"1rem",lineHeight:"1rem",textShadow:"2px 2px 3px white",cursor:"default",zIndex:""+(c.rootDivZIndex+c.toastZIndexAdd)};b[va+"::-webkit-scrollbar"]={width:"8px",height:"8px",backgroundColor:"#aaa"};b[va+"::-webkit-scrollbar-thumb"]=
{background:"#000"};b[mc]={marginLeft:"4px",marginRight:"4px"};b[Vc]={fontSize:"90%"};b[kc]={inherits:[a.overflowHidden,a.displayBlock],border:"none !important",padding:"0 !important",marginTop:"0.5em !important",marginBottom:"0.5em !important",width:"100% !important",height:"2px !important",backgroundColor:"navajowhite !important"};b[Wc]={inherits:[a.lightTextShadow],color:"red"};b[c.aerialOrMapColorScheme]={};b[yb]={inherits:[a.lightBackground,a.darkTextShadow,a.fillActiveSVGColor,a.darkTextColor],
borderColor:d};b[Fb]={inherits:[a.toolTipBackground,a.lightTextShadow],fill:"white",color:"white",borderColor:"white"};b[c.showingMapClassName+" ."+c.aerialOrMapColorScheme]={inherits:[b[yb]]};b[c.showingAerialClassName+" ."+c.aerialOrMapColorScheme]={inherits:[b[Fb]]};b[Yb]={inherits:[a.arrowLeftBackground]};b[lc]={inherits:[a.arrowRightBackground]};b[c.sidePanelWrapperClassName]={inherits:[a.transitionPoint2s,a.positionAbsolute,a.overflowVisible,a.pointerEventsAll,a.robotoFontFamily,a.boxShadow002003,
a.noMarginNoBorderNoPadding,a.leftTopZero,a.WHOneHundred,a.backgroundColorWhite],zIndex:""+(c.rootDivZIndex+c.sidePanelWrapperZIndexAdd)};b[c.sidePanelWrapperCollapsedClassName]={inherits:[a.visibilityHidden],transform:"translateX(-100%)","-webkit-transform":"translateX(-100%)"};b[c.sidePanelWrapperVisibleClassName]={inherits:[a.visibilityVisible],transform:"translateX(0px)","-webkit-transform":"translateX(0px)"};b[c.sidePanelContentWrapperClassName]={inherits:[a.noMarginNoBorderNoPadding,a.overflowVisible,
a.displayFlex,a.positionRelative,a.flexFlowColumnNoWrap],background:"white"};b[c.sidePaneFullHeightContentWrapperClassName]={inherits:[a.noMarginNoBorderNoPadding,a.overflowVisible,a.displayFlex,a.positionRelative,a.flexFlowColumnNoWrap],minHeight:"0px",height:"100%"};d=c.sidePanelCloseButtonDimInt+"px";b[c.sidePanelCloseButtonClassName]={inherits:[a.transparentImageButton,a.overflowHidden,a.positionAbsolute,a.displayBlock,a.flexGrowZero,a.backgroundColorTransparent],top:c.sidePanelCloseButtonTopInt+
"px",right:"12px",width:d,height:d,zIndex:""+(c.rootDivZIndex+c.sidePanelCloseButtonZIndexAdd)};b[c.sidePanelCloseButtonClassName+" svg"]={fill:"white",stroke:"none",width:"calc(100% - 1px)",height:"calc(100% - 1px)",margin:"auto"};d=c.sidePanelWidthInt+"px";b[c.sidePaneContentFixedHeightClassName]={inherits:[a.positionRelative,a.displayBlock],width:d};b[c.sidePaneContentVariableHeightClassName]={inherits:[a.positionRelative,a.displayBlock,a.flexGrowOne],overflowY:"auto",overflowX:"hidden",background:"transparent",
width:d};b[Eb]={inherits:[a.noMarginNoBorderNoPadding,a.displayBlock,a.pointerEventsNone,a.absoluteCenter],width:c.mapCenterDimStr,height:c.mapCenterDimStr,zIndex:""+(c.rootDivZIndex+c.mapLogoAndCenterZIndexAdd)};b[c.showingAerialClassName+" ."+Eb]={fill:"rgba(255, 255, 255, 0.22)",stroke:"rgba(0, 0, 0, 0.4)"};b[c.showingMapClassName+" ."+Eb]={fill:"rgba(50, 100, 200, 0.075)",stroke:"rgba(100, 149, 237, 0.4)"};b[fc]={inherits:[a.noMarginNoBorderNoPadding,a.displayBlock,a.positionAbsolute,a.pointerEventsNone],
right:c.mapLogoRightStr,top:c.mapLogoTopStr,width:c.mapLogoDimStr,height:c.mapLogoDimStr,borderRadius:"50%",paddingLeft:c.mapLogoPaddingLeftStr,paddingTop:c.mapLogoPaddingTopStr,paddingRight:c.mapLogoPaddingRightStr,paddingBottom:c.mapLogoPaddingBottomStr,backgroundColor:"rgba(255,255,255,0.5)",zIndex:""+(c.rootDivZIndex+c.mapLogoAndCenterZIndexAdd),strokeWidth:"0.3px"};b[c.showingAerialClassName+" ."+fc]={opacity:"0.8",border:"1px solid rgba(0, 0, 0, 0.3)",stroke:"white"};b[c.showingMapClassName+
" ."+fc]={opacity:"0.6",border:"1px solid rgba(100, 149, 237, 0.3)",stroke:"darkgoldenrod"};return b}function aa(a){tf.styles.CreateCSSClasses(ua());S();var b=tf.TFMap.LayoutSettings,c=Z();Lb&&(Lb.SetClusterFeatureDistance(b.clusterFeatureDistance),Lb.SetClusterStyle(c));Zb&&(Zb.SetClusterFeatureDistance(b.clusterFeatureDistance),Zb.SetClusterStyle(c));if(la&&tf.js.GetFunctionOrNull(la.onLayoutChange))la.onLayoutChange(a)}function oa(){Aa="content";sc=tf.TFMap.CreateClassName(Aa,"Body");Qc=tf.TFMap.CreateClassName(Aa,
"OverRoot");Ac=tf.TFMap.CreateClassName(Aa,"Root");Sc=tf.TFMap.CreateClassName(Aa,"Map");Tc=tf.TFMap.CreateClassName(Aa,"MapMap");Rc=tf.TFMap.CreateClassName(Aa,"App");Uc=tf.TFMap.CreateClassName(Aa,"Toast");va=tf.TFMap.CreateClassName(Aa,"CustScroll");mc=tf.TFMap.CreateClassName(Aa,"HorMargins");Vc=tf.TFMap.CreateClassName(Aa,"SmallerText");kc=tf.TFMap.CreateClassName(Aa,"hrDiv");Wc=tf.TFMap.CreateClassName(Aa,"redFontCS");yb=tf.TFMap.CreateClassName(Aa,"MapMode");Fb=tf.TFMap.CreateClassName(Aa,
"AerialMode");Yb=tf.TFMap.CreateClassName(Aa,"alb");lc=tf.TFMap.CreateClassName(Aa,"arb");Eb=tf.TFMap.CreateClassName(Aa,"mccn");fc=tf.TFMap.CreateClassName(Aa,"mlcn");var a=tf.TFMap.LayoutSettings;a.sidePanelWrapperClassName=tf.TFMap.CreateClassName(Aa,"SidePanelWrapper");a.sidePanelWrapperCollapsedClassName=tf.TFMap.CreateClassName(Aa,"SidePanelWrapperCollapsed");a.sidePanelWrapperVisibleClassName=tf.TFMap.CreateClassName(Aa,"SidePanelWrapperVisible");a.sidePanelContentWrapperClassName=tf.TFMap.CreateClassName(Aa,
"SidePanelContentWrapper");a.sidePaneFullHeightContentWrapperClassName=tf.TFMap.CreateClassName(Aa,"SidePaneFullHeightContentWrapper");a.sidePanelCloseButtonClassName=tf.TFMap.CreateClassName(Aa,"SidePanelCloseButton");a.sidePaneContentFixedHeightClassName=tf.TFMap.CreateClassName(Aa,"SidePaneContentFixedHeight");a.sidePaneContentVariableHeightClassName=tf.TFMap.CreateClassName(Aa,"SidePaneContentVariableHeight");a.aerialOrMapColorScheme=tf.TFMap.CreateClassName(Aa,"AerialOrMapColorScheme");a.showingAerialClassName=
tf.TFMap.CreateClassName(Aa,"ShowingAerial");a.showingMapClassName=tf.TFMap.CreateClassName(Aa,"ShowingMap");tf.styles.CreateCSSClasses(ua());document.body.className=sc;a=tf.TFMap.LayoutSettings;a.arrowLeftBackgroundClassName=Yb;a.arrowRightBackgroundClassName=lc;a.customizedScrollBarClassName=va;a.defaultHorMarginsClassName=mc;a.smallerTextClassName=Vc;a.hrDivClassName=kc;a.redFontColorShadowClassName=Wc;a.wrapperAerialModeClassName=Fb;a.wrapperMapModeClassName=yb;pa()}function Da(a){T()}function ra(a){var b=
a.mapFeatureToDrag,c=b.GetPointCoords();V.MakeSureMapCoordsAreVisible(c,void 0,!0);if(a.dragProps.editorProps){if(la&&tf.js.GetFunctionOrNull(la.onDrag))la.onDrag(a)}else{var d=b.GetSettings();if(tf.js.GetFunctionOrNull(d.onDragged))d.onDragged(a);else void 0!=d.directionsAddressItem?xa.OnAddressMapFeatureChangedCoords(d.directionsAddressItem,c):d.wayPointIsInLayer&&xa.OnWayPointChangedCoords(b)}}function Ha(a){if(a.dragProps.editorProps){if(la&&tf.js.GetFunctionOrNull(la.onEndDrag))la.onEndDrag(a)}else if(a.dragProps.onDragged)a.dragProps.onDragged(void 0)}
function ma(a){var b,c=la&&tf.js.GetFunctionOrNull(la.checkCanStartDrag)?la.checkCanStartDrag(a):void 0;if(c)b={editorProps:c};else if(c=a.mapFeature,a=c.GetSettings(),(c=tf.js.GetFunctionOrNull(a.onDragged)&&tf.js.GetFunctionOrNull(a.canDrag)&&a.canDrag({sender:V,mapFeature:c}))||void 0!=a.directionsAddressItem||a.wayPointIsInLayer)b={onDragged:c?a.onDragged:void 0};return b}function ia(a){return a.editorProps?la&&tf.js.GetFunctionOrNull(la.checkCanDragTo)?la.checkCanDragTo(a):!0:!0}var ja,V,ha,
na,za,Y,P,wa,Ma,pb,ta,Pa,Ea,Fa,Ba,Ga,db,Wa,Ca,Oa,Ja,xa,hb,qb,Ua,Ta,mb,Qa,wb,ib,$a,Ib,sb,lb,ub,ab,Jb,Kb,uc,Bb,hc,jb,Cb,kd,Tb,Ad,vc,ld,cd,Lb,Zb,Ya,$b,bc,pc,nd,Mb,cc,nb,ud,Ob,Lc,dc,Pb,vb,Nc,Oc,La,xc,jc,la,tb,kb,Ia,rb,ec,Qb,Db,Pc,Dd,yc;this.GetDirectionsPanel=function(){return xa};this.GetPerspectiveMap=function(){return Nc};this.GetBottomCustomAppLayer=function(){return Ad};this.StartLayoutChange=function(){Ia||(Ia=!0,Fa.GetHTMLElement().style.display="none")};this.EndLayoutChange=function(){Ia&&(Ia=
!1,Fa.GetHTMLElement().style.display="block",za.OnResize())};this.CreateCustomMapLayer=function(a,b){var c=tf.js.GetIntNumberInRange(a.zIndex,0,99999999,0);a.zIndex=c+ja;b&&Qb&&(a.overrideClass=tf.webgl.PerspectiveLayer,a.appContent=V);return Y.AddFeatureLayer(a)};this.GetCustomAppMinMapLayerZIndex=function(){return ja};this.CreateCustomAppContent=function(a){void 0==kb&&(kb=new tf.TFMap.CustomAppContent(tf.js.ShallowMerge(a,{appContent:V})))};this.SetHasSidePanelFullContent=function(a){tb!=(a=!!a)&&
(tb=a,O())};this.GetHasSidePanelFullContent=function(){return tb};this.GetHasEffectiveSidePanelFullContent=function(){return wa[tf.TFMap.CAN_sidePanelVisible]?V.GetHasSidePanelFullContent()||wa[tf.TFMap.CAN_showingDirections]:!1};this.GetBaseLayersPanel=function(){return nb};this.GetMeasureToolInterface=function(){return xc};this.GetDownloadToolInterface=function(){return jc};this.IsMeasureToolOn=function(){return void 0!=xc&&la==xc};this.ToggleMeasureTool=function(){V.IsMeasureToolOn()?ba():fa(xc)};
this.IsDownloadToolOn=function(){return void 0!=jc&&la==jc};this.ToggleDownloadTool=function(){V.IsDownloadToolOn()?ba():fa(jc)};this.OnDirectionWayPointsDiscarded=function(){Cb.RemoveAllFeatures();dc.Reset();vb=b()};this.GetMapFeaturePropsDisplayer=function(){return Ja};this.GetOverMapCanvas=function(){return Qa};this.SetBottomContent=function(a,b){var c=Ca.GetUnderBottomWrapper();c.ClearContent();switch(a){case tf.TFMap.BottomContentTypes.photos:lb.SetContent(b),ub.Update(lb),c.AddContent(ub.GetWrapper())}V.SetBottomPaneUp(!0)};
this.GetIsBottomPaneUp=function(){return bc};this.SetBottomPaneUp=function(a){bc!=(a=!!a)&&(bc=a,ca())};this.ToggleBottomPaneUp=function(){V.SetBottomPaneUp(!V.GetIsBottomPaneUp())};this.ShowPhoto=function(a,b){if(!ab.GetIsShowing()){var c=ub.GetWrapper();V.SetBottomPaneUp(!1);Ca.GetUnderBottomWrapper().RemoveContent(c);ab.GetWrapper().AddContent(c)}ab.Show(Oc,a);b&&setTimeout(function(){b.focus()},500)};this.GetIsShowingPhoto=function(){return ab.GetIsShowing()};this.GetPhotoDisplayer=function(){return ab};
this.OnPhotoDisplayHidden=function(){var a=ub.GetWrapper(),b=Ca.GetUnderBottomWrapper();ab.GetWrapper().RemoveContent(a);b.AddContent(a);V.SetBottomPaneUp(!0)};this.RefreshDataSetFeatures=function(){for(var a in Ta)Ta[a].GetSettings().searchMapFeatures.RefreshStyles()};this.GetUsesClusters=function(){return $b};this.ToggleClusters=function(){$b=!$b;Lb.SetUseClusters($b);Zb.SetUseClusters($b)};this.MakeSureMapCoordsAreVisible=function(a,b,c){if(!c)return V.AnimatedSetCenterIfDestVisible(a);void 0==
b&&(b=50);c=Y.GetPixelSize();var d=b,e=b;d>c[0]/2&&(d=c[0]/2);e>c[1]/2&&(e=c[1]/2);var f=Y.MapToPixelCoords(a);a=f[0]-d;d=f[0]+d;b=f[1]-e;var g=f[1]+e,h=f=e=0,k=c[0];c=c[1];var l=tf.TFMap.LayoutSettings,m=l.underBottomPaneHeightInt;V.GetHasEffectiveSidePanelFullContent()&&(h=l.sidePanelWidthInt);bc&&(c-=m);a<h?e=a-h:d>k&&(e=d-k);0>b?f=b-0:g>c&&(f=g-c);if(0!=e||0!=f)a=Y.GetCenter(),a=Y.ActualMapToPixelCoords(a),a=Y.ActualPixelToMapCoords([a[0]+e,a[1]+f]),Y.SetCenter(a)};this.IsPerspectiveMapShowing=
function(){return!!Nc&&Nc.GetIsVisible()};this.SetMapExtent=function(a,b){var c=V.IsPerspectiveMapShowing()?2:1.5;a=tf.js.ScaleMapExtent(a,c);b||na.GetCtxAttribute(tf.TFMap.CAN_showingDirections)&&na.SetCtxAttribute(tf.TFMap.CAN_showingDirections,!1);Y.SetVisibleExtent(a)};this.EnsureDirectionsVisible=function(){if(!na.GetCtxAttribute(tf.TFMap.CAN_sidePanelVisible)||!na.GetCtxAttribute(tf.TFMap.CAN_showingDirections)){var a=na.GetCtx();a[tf.TFMap.CAN_sidePanelVisible]=a[tf.TFMap.CAN_showingDirections]=
!0;na.SetCtx(a)}};this.AnimatedSetCenterIfDestVisible=function(a){V.GetHasEffectiveSidePanelFullContent()&&(a=Y.ActualMapToPixelCoords(a),a[0]-=tf.TFMap.LayoutSettings.sidePanelWidthInt/2,a=Y.ActualPixelToMapCoords(a));Y.AnimatedSetCenterIfDestVisible(a,void 0,void 0,void 0,tf.units.EaseLinear)};this.SetDirectionsAddress=function(a,b){xa.SetDirectionsAddress(a,b)};this.SetDirectionsTargetToCoords=function(a,b,c){xa.SetDirectionsTargetToCoords(a,b,c)};this.SetDirectionsTargetToMapFeature=function(a,
b,c){V.SetDirectionsTargetToCoords(a.GetPointCoords(),b,c)};this.OnCloseMapFeatureProps=function(){sb.Update(Ja.GetLastMapFeature())};this.GetVidPassThrough=function(){var b=a.mapSettings;return{vid:b.vidParam,passThrough:b.passThroughString}};this.GoDB=function(a){var b=tf.js.GetLongitudeFrom(a[0]);a=tf.js.GetLatitudeFrom(a[1]);if(0!=a&&0!=b){b="http://vn4.cs.fiu.edu/cgi-bin/gnis.cgi?Res="+Y.GetResolution()+"&Lat="+a+"&Long="+b;a=Y.GetVIDParamStr();var c=Y.GetTFPassThroughString();a&&(b+="&vid="+
a);c&&(b="&"==c.charAt(0)?b+c:b+("&"+c));window.open(b,"_top")}};this.GetToaster=function(){return pb};this.GetAppCtx=function(){return na};this.GetAppStyles=function(){return ha};this.GetMap=function(){return Y};this.GetMultiMenus=function(){return Pa};this.OnLayoutChange=function(){za.OnResize()};this.GetLastCtx=function(){return wa};this.GetAppDiv=function(){return Fa};this.GetRootDiv=function(){return Ba};this.GetMapDiv=function(){return Ga};this.GetMapMapDiv=function(){return db};this.GetSidePane=
function(){return Wa};this.GetBottomPane=function(){return Ca};this.GetToolTipDisplayer=function(){return Ea};this.ShowUserLocation=function(){$a.Show();$a.PanToMapFeature()};this.RefreshProps=function(a){Ja.RefreshProps(a);u(a)};this.ShowMapFeatureProps=function(a){pc?pc=!1:Ja.ShowProps(a);pc=!1;u(a)};this.SearchAddress=function(a){Ib.SearchAddress(a)};this.Search=function(){for(var a in Ta){var b=Ta[a];b.GetIsSearching()||b.GetSettings().searchMapFeatures.GetIsVisible()&&b.Search()}};this.CreateDataSetListButton=
function(a,b,c,d){return V.CreateButton(tf.js.ShallowMerge({buttonClass:c,wrapper:b,insertWrapper:a,keepOnHoverOutTarget:!0,offsetX:-8,offsetY:0,delayMillis:tf.TFMap.dataSetListButtonToolTipDelayMillis},F(b,d)))};this.CreateButton=function(a){var b=new tf.TFMap.IconButton({onClick:B,cssClass:a.buttonClass,onHover:E,buttonSettings:a,svgHTML:a.svgHTML});b.onClick=a.onClick;b.onHover=a.onHover;tf.TFMap.SetButtonToolTipInfo(b,a.toolTipText,a.wrapper,a.delayMillis,a.toolTipClass,a.toolTipArrowClass,a.toolTipStyle,
a.keepOnHoverOutTarget,a.toolTipFunction,a.insertWrapper,a.offsetX,a.offsetY);return b};this.CreateToggleButton=function(a){var b=new tf.TFMap.ToggleButton({svgHTML:a.svgHTML,onClick:B,onHover:E,buttonClassName:a.buttonClass,classToggled:a.classToggled,classNotToggled:a.classNotToggled,isToggled:a.isToggled,autoToggle:void 0!=a.autoToggle?a.autoToggle:!0});b.onClick=a.onClick;b.onHover=a.onHover;tf.TFMap.SetButtonToolTipInfo(b,a.toolTipText,a.wrapper,a.delayMillis,a.toolTipClass,a.toolTipArrowClass,
a.toolTipStyle,a.keepOnHoverOutTarget,a.toolTipFunction,a.insertWrapper,a.offsetX,a.offsetY);return b};this.OnMapLevelChange=function(){return M()};this.GetIsShowingAerial=function(){return Ya};this.GetSwitchToMapTypeName=function(){return Ya?"Map":"Aerial"};this.SwitchMapType=function(){var a,b;(Ya=!Ya)?(a=tf.consts.typeNameHybrid,b=tf.consts.typeNameMap):(a=tf.consts.typeNameMap,b=tf.consts.typeNameAerial);w();v();nb&&nb.UpdateForMapType();Y.SetMapType(a);P&&P.SetMapType(b);ha.SetIsShowingAerial(Ya);
Lb.SetVisible(Ya);Zb.SetVisible(!Ya);la&&tf.js.GetFunctionOrNull(la.updateForMapType)&&la.updateForMapType();kb&&kb.UpdateForMapType()};var zc,Aa,sc,Qc,Rc,Ac,Sc,Tc,Uc,va,mc,Vc,kc,Wc,Fb,yb,Yb,lc,Eb,fc;this.SetProcessMapClickedLocation=function(a){yc=!!a;return V.GetProcessMapClickedLocation()};this.GetProcessMapClickedLocation=function(){return yc};V=this;yc=!0;ja=500;Ma=100;-1==tf.TFMap.CompressClassNames&&console.log("*** full css class names");document.title=a.documentTitle;bc=!1;if(tf.js.GetFunctionOrNull(a.onParametersParsed))a.onParametersParsed({sender:V,
params:a.params,mapSettings:a.mapSettings,dlayerParams:a.dlayerParams});za=new tf.TFMap.AppSizer({onResize:function(){void 0!=ha||zc||(zc=!0,ha=new tf.TFMap.Styles({appContent:V,onLoaded:oa,sidePanelWidthInt:a.sidePanelWidthInt}),ha.AddOnLayoutChangeListener(aa));void 0!=ha&&(ha.CheckLayoutChange(),Y&&(Y.OnResize(),P&&P.OnResize(),Pa.UpdateMenuPositions(),xa&&xa.OnResize(),T()))}});za.OnResize()};
tf.TFMap.App=function(a){function c(){k&&k({sender:b})}function e(b){a.appContent=new tf.TFMap.Content(tf.js.ShallowMerge({mapSettings:b.mapSettings,dlayerParams:g,params:f,onCreated:c},a))}function d(a){function b(){var l=v?tf.urlapi.RemovePlugInPhotoFromLegend(d[tf.consts.paramNameLegendM]).legendStr:null,E=v?d[tf.consts.paramNameLegendH]:d[tf.consts.paramNameLegend],E=tf.urlapi.RemovePlugInPhotoFromLegend(E).legendStr,D=tf.js.GetFloatNumberInRange(d[tf.consts.paramNameMessageTimeout],tf.consts.minMessageTimeout,
tf.consts.maxMessageTimeout,tf.consts.defaultMessageTimeout);c.call(a.optionalScope,{mapSettings:{dlayerPreClick:e,nDLayerExtent:f,center:[k,g],mapType:d[tf.consts.paramNameType],mapAerialSource:d[tf.consts.paramNameSource],mapLayerSourceURL:d[tf.consts.mapLayerSourceName],mapEngine:w,panels:t,addressBarText:d[tf.consts.paramNameAddress],addressBarHelp:d[tf.consts.paramNameHelp],panOnClick:!0,goDBOnDoubleClick:!0,legendH:E,legendM:l,messageTimeout:D,vidParam:d[tf.consts.paramNameVid],passThroughString:d[tf.consts.paramNamePassThrough],
level:d[tf.consts.paramNameLevel],resolution:d[tf.consts.paramNameRes],linkTargetStr:u}})}if(tf.js.GetIsValidObject(a)){var c=tf.js.GetFunctionOrNull(a.onCreated);if(c){var d=a.parameters;tf.js.GetIsValidObject(d)||(d=tf.js.GetIsString(d)?tf.urlapi.ParseURLAPIParameters(d):{});var e=void 0!=d[tf.consts.paramNameDLPreClick],f=tf.js.GetIntNumberInRange(d[tf.consts.paramNameDLExtent],0,999,0);if(e||0==f)f=void 0;var g=tf.js.GetLatitudeFrom(d[tf.consts.paramNameLat]),k=tf.js.GetLongitudeFrom(d[tf.consts.paramNameLon]);
d[tf.consts.paramNamePanels]||(d[tf.consts.paramNamePanels]=tf.consts.defaultPanels);d[tf.consts.paramNameTFLogo]=d[tf.consts.paramNameTFLogo]===tf.consts.tfLogoOffStr?!1:!0;var t=tf.js.GetNonEmptyString(d[tf.consts.paramNamePanels],""),w=tf.map.GetMapEngineFrom(d[tf.consts.paramNameFMap]);d[tf.consts.paramNameTFLogo]&&(t+=tf.consts.charSplitStrings+tf.consts.paramNameTFLogo);var v=w==tf.consts.mapnik2Engine;v?delete d[tf.consts.paramNameLegend]:delete d[tf.consts.paramNameLegendH];var u=d[tf.consts.paramLinkTargetStr];
tf.urlapi.LoadRemoteParameters(d,b)}}}var b,g,f,k;this.GetContent=function(){return a.appContent};b=this;(function(){k=tf.js.GetFunctionOrNull(a.onCreated);document.addEventListener("keydown",function(a){var b=a.keyCode?a.keyCode:a.which;if(0==b||9==b)try{a.preventDefault()}catch(c){}},!1);a.app=b;a.documentTitle=tf.js.GetNonEmptyString(a.appTitle,"TerraFly Maps");a.transitServerURL=tf.js.GetNonEmptyString(a.transitServerURL,"http://transit.cs.fiu.edu/api/v1/");f=tf.urlapi.ParseURLAPIParameters(a.fullURL);
g=tf.urlapi.GetDLayersInfoFromURLParameters(f);d({onCreated:e,parameters:f})})()};tf.Transit={};tf.Transit.BusLineDirectionsCount=0;
tf.Transit.BusLineDirections={eastbound:{ab:"EB",order:++tf.Transit.BusLineDirectionsCount},westbound:{ab:"WB",order:++tf.Transit.BusLineDirectionsCount},northbound:{ab:"NB",order:++tf.Transit.BusLineDirectionsCount},southbound:{ab:"SB",order:++tf.Transit.BusLineDirectionsCount},clockwise:{ab:"CW",order:++tf.Transit.BusLineDirectionsCount},cntrclockwise:{ab:"CC",order:++tf.Transit.BusLineDirectionsCount},loop:{ab:"LP",order:++tf.Transit.BusLineDirectionsCount}};
tf.Transit.BusLineDirectionUnknown={ab:"??",order:++tf.Transit.BusLineDirectionsCount};tf.Transit.GetLineDirection=function(a){var c;tf.js.GetIsNonEmptyString(a)&&(c=tf.Transit.BusLineDirections[a.toLowerCase()]);void 0==c&&(c=tf.Transit.BusLineDirectionUnknown);return c};
tf.Transit.BackendService=function(a){function c(a){k!=(a=!!a)&&((k=a)?g():f.Cancel())}function e(){void 0!=n&&(clearTimeout(n),n=void 0)}function d(){void 0!=h&&(h.Cancel(),h=void 0)}function b(b){h=void 0;var c;tf.js.GetIsValidObject(b)&&tf.js.GetIsValidObject(b.requestProps)&&b.requestProps.refreshCounter==l&&(c=b.data);b=c;n=void 0;tf.js.GetFunctionOrNull(a.preProcessServiceData)&&(b=a.preProcessServiceData(b));a.KL&&tf.js.GetIsArray(b)&&a.KL.UpdateFromNewData(b);k&&(a.refreshTimeoutMillis?n=
setTimeout(g,a.refreshTimeoutMillis):g());if(tf.js.GetFunctionOrNull(a.onPostRefresh))a.onPostRefresh({sender:f})}function g(c){n=void 0;d();a.clearBeforeRefresh&&a.KL.UpdateFromNewData([]);h=new tf.ajax.JSONGet;if(tf.js.GetFunctionOrNull(a.onPreRefresh))a.onPreRefresh({sender:f});if(a.skipAgency){var e="";!tf.js.GetIsString(c)&&tf.js.GetIsValidObject(c)&&(c=tf.js.ObjectToURLParams(c));tf.js.GetIsNonEmptyString(c)&&(e+="?"+c)}else e="?agency="+q,!tf.js.GetIsString(c)&&tf.js.GetIsValidObject(c)&&(c=
tf.js.ObjectToURLParams(c)),tf.js.GetIsNonEmptyString(c)&&(e+="&"+c);c=m+p+r+e;h.Request(c,b,f,{refreshCounter:++l},!1,void 0,void 0,void 0)}var f,k,h,l,n,m,p,q,r;this.GetSettings=function(){return a};this.SetServiceURL=function(b){a.serviceURL=b};this.SetAutoRefreshes=function(a){return c(a)};this.GetAutoRefreshes=function(){return k};this.GetIsRefreshing=function(){return void 0!=h};this.RefreshNow=function(a){e();g(a)};this.Cancel=function(){e();d()};f=this;m=tf.js.GetNonEmptyString(a.transitServerURL,
"http://transit.cs.fiu.edu/api/v1/");q=tf.js.GetNonEmptyString(a.agencyPrefix,"MDT");r=a.serviceName;p="transit/";l=0;c(a.autoRefreshes)};tf.Transit.IsBusUpdated=function(a,c){return a.coords[0]!=c.coords[0]||a.coords[1]!=c.coords[1]||a.updated.getTime()!=c.updated.getTime()};
tf.Transit.CompareBuses=function(a,c){var e=a.itemData,d=c.itemData,b=parseInt(e.route_id_in_feed,10),g=parseInt(d.route_id_in_feed,10);if(b!=g)return b-g;b=e.lineDirection.order;g=d.lineDirection.order;if(b!=g)return b-g;e=parseInt(e.name,10);d=parseInt(d.name,10);return e!=d?e-d:0};
tf.Transit.PreProcessBusItemData=function(a){var c=Math.PI/180;a.key=a.id+"|"+a.trip_id;a.coords=[a.lon,a.lat];a.direction_rad=-1!=a.heading?a.heading*c:void 0;a.updated=tf.js.GetDateFromTimeStamp(a.position_updated);a.lineDirection=tf.Transit.GetLineDirection(a.direction);return a};
tf.Transit.PreProcessHistoryBusData=function(a){var c=[],e=0,d,b=0,g=void 0;if(a){var f=a.events,e=tf.js.GetIsArray(f)?f.length:0;if(0<e){var k={};d=new Date(a.baseDate);b=a.nsecs;for(a=0;a<e;++a){var h=f[a];tf.Transit.PreProcessBusItemData(h);var l=h.key,n=k[l];n||(h.events=[],c.push(n=k[l]=h));h={position_updated:h.position_updated,updated:h.updated,updatedMillis:h.updated.getTime(),updated_hms:h.updated_hms,offset_hms:h.offset_hms,coords:[h.lon,h.lat],direction_rad:h.direction_rad,dist_to_shape:h.dist_to_shape,
stop_index:h.stop_index,stop_id:h.stop_id,next_stop_index:h.next_stop_index,next_stop_id:h.next_stop_id,is_finished:h.is_finished};void 0==g&&(g=h.updatedMillis);n.events.push(h)}}}return{newData:c,props:{nEvents:e,firstEventMillis:g,totalSeconds:b,startDate:d}}};
tf.Transit.BusKL=function(a){var c;this.GetKL=function(){return c};(function(){c=new tf.js.KeyedList({name:tf.js.GetNonEmptyString(a.KLName,"transitBusKL"),getKeyFromItemData:function(a){return a.key},needsUpdateItemData:function(a){return tf.Transit.IsBusUpdated(a.itemData,a.itemDataSet)},filterAddItem:function(a){return 0<=a.trip_id}})})()};
tf.Transit.BusService=function(a){tf.Transit.BackendService.call(this,tf.js.ShallowMerge({serviceName:a.isRT?"rtbuses":"bushistory",preProcessServiceData:function(c){var e=tf.js.GetFunctionOrNull(a.preProcessServiceDataItem)?a.preProcessServiceDataItem:tf.Transit.PreProcessBusItemData;if(tf.js.GetIsArray(c))for(var d=c.length,b=0;b<d;++b)c[b]=e(c[b]);return c}},a))};tf.js.InheritFrom(tf.Transit.BusService,tf.Transit.BackendService);
tf.Transit.BusPointFeatures=function(a){var c;this.GetFlashBusSelectStyle=function(c){var d=a.appContent.GetIsShowingAerial()?"#fff":"#c30",b=4+32*Math.pow(c,.5),g=1-Math.pow(c,2);return{circle:!0,circle_radius:b,snapToPixel:!1,line:!0,line_width:12-c,line_color:d,line_opacity:100*g}};this.GetPointFeatures=function(){return c};this.UpdateForMapType=function(a){c.RefreshStyles(a)};c=new tf.TFMap.KeyedListMapFeatures({refreshStyleOnUpdate:!1,onClick:function(c){if(tf.js.GetFunctionOrNull(a.onClick))a.onClick(c)},
mapFeatureInItemAttributeName:"busMapFeature",itemInMapFeatureAttributeName:"busItem",styles:function(){function c(d,b){var e=a.appContent,f=e.GetAppStyles(),k=e.GetIsShowingAerial(),h=(e=b.GetIsDisplayingInHover())?200:100,l=e?"rgba(255, 0, 0, 0.8)":k?"rgba(0, 0, 0, 0.9)":"rgba(128, 160, 0, 0.7)",k=k?"rgba(255, 255, 255, 0.35)":"rgba(255, 255, 255, 0.15)",n=e?16:14,m=[n,n+(e?3:2)],p=f.GetBusPNGImage();return f.GetSVGMapMarkerWithFrameStyle(h,p,[m[0],m[1]],n+18,l,[.5,.5],0,k,e?2:1)}return{style:c,
hoverStyle:c}}(),toolTipProps:{toolTipText:function(a){var d="Bus";if(a=c.GetItemFromMapFeature(a.mapFeature))a=a.GetData(),d=a.lineDirection.ab+" "+a.headsign,a="updated "+tf.js.GetAMPMHourWithSeconds(a.updated),d=tf.TFMap.MapTwoLineSpan(d,a);return d},keepOnHoverOutTarget:!1,offsetX:24},layer:a.layer,appContent:a.appContent})};
tf.Transit.BusListItemContentClasses=function(a){function c(){var c=a.appContent.GetAppStyles(),b=c.GetCSSClasses(),c=c.GetIsSmallScreen(),g=[],f=tf.TFMap.LayoutSettings,k={inherits:[b.pointerEventsNone],overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",verticalAlign:"middle"};g[e.itemWrapperClassName]={inherits:[b.noMarginNoBorderNoPadding,b.positionRelative,b.displayBlock,b.overflowHidden],padding:"1px",borderRadius:"0px",width:"calc(100% - 2px)"};g[e.itemWrapperClassName+":hover"]=
{backgroundColor:"rgba(0, 0, 0, 0.1)"};g[e.itemWrapperSelectedClassName]={backgroundColor:"red"};g[e.itemWrapperSelectedClassName+":hover"]={backgroundColor:"red"};g[e.itemContentWrapperClassName]={inherits:[b.noMarginNoBorderNoPadding,b.positionRelative,b.transparentImageButton,b.backgroundColorTransparent,b.displayBlock,b.pointerEventsNone],marginLeft:"2px",marginRight:"2px",borderRadius:"2px",lineHeight:"0px",width:"calc(100% - 0px)"};g[e.itemButtonClassName]={inherits:[b.noMarginNoBorderNoPadding,
b.transparentImageButton,b.backgroundColorTransparent,b.displayBlock,b.positionAbsolute],borderRadius:"0px",left:"0px",top:"0px",width:"100%",height:"100%"};var h=b.displayInlineBlock;g[e.itemDirectionColorClassName]={inherits:[b.noMarginNoBorderNoPadding,b.positionRelative,b.lightTextShadow,k,h],borderRadius:"2px",textAlign:"center",width:(c?20:30)+"px",color:"white",borderLeft:"1px solid darkgoldenrod",fontSize:f.itemInListTitletFontSizeInt+"px",lineHeight:f.itemInListTitleLineHeightInt+"px"};g[e.itemTitleClassName]=
{inherits:[b.noMarginNoBorderNoPadding,b.positionRelative,h,b.darkTextShadow,k],textAlign:"left",paddingLeft:"4px",width:"calc(100% - "+(c?108:158)+"px)",color:"#444",background:"white",fontSize:f.itemInListTitletFontSizeInt+"px",lineHeight:f.itemInListTitleLineHeightInt+"px"};g[e.itemNameClassName]={inherits:[b.noMarginNoBorderNoPadding,b.positionRelative,h,b.darkTextShadow,k],borderLeft:"1px solid #ebebeb",textAlign:"center",paddingLeft:"2px",fontWeigth:"500",width:(c?36:56)+"px",color:"black",
background:"white",fontSize:.8*f.itemInListTitletFontSizeInt+"px",lineHeight:f.itemInListTitleLineHeightInt+"px"};return g}var e;this.GetClassNames=function(){return e};e={itemWrapperClassName:tf.TFMap.CreateClassName("busListItemContent","ItemWrapper"),itemWrapperSelectedClassName:tf.TFMap.CreateClassName("busListItemContent","ItemWrapperSelected"),itemContentWrapperClassName:tf.TFMap.CreateClassName("busListItemContent","ItemContentWrapper"),itemTitleClassName:tf.TFMap.CreateClassName("busListItemContent",
"ItemTitle"),itemNameClassName:tf.TFMap.CreateClassName("busListItemContent","ItemName"),itemDirectionColorClassName:tf.TFMap.CreateClassName("busListItemContent","ItemDirectionColor"),itemButtonClassName:tf.TFMap.CreateClassName("busListItemContent","ItemButton")};tf.styles.CreateCSSClasses(c());a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(c())})};
tf.Transit.BusListContent=function(a){function c(b){var c=tf.js.GetFunctionOrNull(a.onItemClick);c&&(b=b?b.domObj:void 0)&&(b=k.GetItemFromContent(b.content))&&c({sender:f,item:b})}function e(b){var c=k.GetContentFromItem(b);if(c){var d=a.isRT;b=b.GetData();var e="#"+b.route_color,f=b.name,g=b.headsign,h=c.title.GetHTMLElement(),t=c.name.GetHTMLElement(),w=c.updated.GetHTMLElement();h.innerHTML=g;t.innerHTML=f;w.innerHTML=d?tf.js.GetAMPMHourWithMinutes(b.updated):b.events.length;c=c.directionColor.GetHTMLElement();
c.style.backgroundColor=e;c.innerHTML=b.lineDirection.ab}}function d(b,c){c?tf.dom.AddCSSClass(b.wrapper,a.busListItemClassNames.itemWrapperSelectedClassName):tf.dom.RemoveCSSClass(b.wrapper,a.busListItemClassNames.itemWrapperSelectedClassName)}function b(a){d(a,!1);return a}function g(){var b=a.isRT,d=new tf.dom.Div({cssClass:a.busListItemClassNames.itemWrapperClassName}),e=new tf.dom.Div({cssClass:a.busListItemClassNames.itemContentWrapperClassName}),f=new tf.dom.Button({cssClass:a.busListItemClassNames.itemButtonClassName,
onClick:c}),g=new tf.dom.Div({cssClass:a.busListItemClassNames.itemTitleClassName}),h=new tf.dom.Div({cssClass:a.busListItemClassNames.itemNameClassName}),k=new tf.dom.Div({cssClass:a.busListItemClassNames.itemNameClassName}),t=new tf.dom.Div({cssClass:a.busListItemClassNames.itemDirectionColorClassName});e.AddContent(t,g,h,k);d.AddContent(f,e);t.GetHTMLElement().title="route direction";g.GetHTMLElement().title="bus headsign";k.GetHTMLElement().title=b?"last updated":"number of events";h.GetHTMLElement().title=
"bus name";b={wrapper:d,button:f,contentWrapper:e,title:g,directionColor:t,name:h,updated:k};return f.content=b}var f,k,h;this.OnKLChange=function(a){k.OnKLChange(a);h&&(k.GetItemFromContent(h)||(h=void 0))};this.GetSelectedContent=function(){return h};this.SetSelectedContent=function(a){a!=h&&(h&&d(h,!1),(h=a)&&d(h,!0))};this.EnsureContentVisible=function(b){b&&tf.dom.ScrollVerticallyToEnsureVisible(a.contentWrapper,b.wrapper,a.customAppContentI.getVerListWithFadePaddingTopBotInt())};this.GetKeyedListContent=
function(){return k};f=this;(function(){var c=tf.js.GetNonEmptyString(a.contentInItemAttributeName,"busContent"),d=tf.js.GetNonEmptyString(a.itemInContentAttributeName,"busItem");k=new tf.TFMap.KeyedListContent({KL:a.KL,wrapper:a.wrapper,contentWrapper:a.contentWrapper,contentWrapperDisplayVisibleVerb:a.busListClasses.GetContentWrapperDisplayVisibleVerb(),contentInItemAttributeName:c,itemInContentAttributeName:d,createNewContent:g,prepareSpareContent:b,updateContentForItem:e,compareContent:a.compareContent})})()};
tf.Transit.BusListClasses=function(a){function c(){var b=a.customAppContentI,c=a.appContent.GetAppStyles(),e=c.GetCSSClasses(),k=c.GetIsSmallScreen(),c=[],h=tf.TFMap.LayoutSettings,b=b.getMainToolBarButtonDimInt()+"px";c[d.loadingDivClassName]={inherits:[e.positionRelative,e.transparentImageButton,e.backgroundColorTransparent,e.displayNone,e.loadingBackgroundTransparent,e.cursorDefault],height:b,width:b,margin:"auto"};c[d.textAlignCenterClassName]={marginLeft:"4px",marginRight:"4px",width:"initial",
textAlign:"center",justifyContent:"center"};c[d.textAlignCenterClassName+":hover"]={textDecoration:"underline"};b=k?20:30;k=b/2;tf.styles.AddRangeClasses({cssClasses:c,className:d.rangeClassName,thumbHeightInt:k,thumbBorderInt:1,rangeSettings:{inherits:[e.noMarginNoBorderNoPadding],width:"100%",height:b+"px",background:"transparent",cursor:"pointer",marginLeft:"4px",marginRight:"4px"},trackSettings:{inherits:[e.noMarginNoBorderNoPadding],width:"100%",height:"4px",cursor:"pointer",background:h.backgroundLivelyColor,
borderColor:"transparent",color:"transparent"},thumbSettings:{inherits:[e.noMarginNoBorderNoPadding],border:"1px solid "+h.darkTextColor,height:k+"px",width:"4px",borderRadius:"0px",background:"#ffffff",cursor:"pointer",boxShadow:"0px 0px 1px "+h.backgroundLivelyColor+", 0px 0px 1px "+h.backgroundLivelyColor}});c[d.rangeClassName]=tf.js.ShallowMerge(c[d.rangeClassName],{overflow:"hidden"});return c}var e,d;this.GetClassNames=function(){return d};this.GetContentWrapperDisplayVisibleVerb=function(){return"block"};
this.CreateToolBarListFooter=function(b){var c=a.customAppContentI,e=c.getClassNames(),e=c.createNonScrollVariableHeightContent(e.minHeightPaneClassName),k=c.createMainToolBar(),h=c.createFooter(),l=c.createVertScrollWrapperAndContentWithFade();b=b?c.createToolBar(void 0,d.rangeClassName):void 0;e.AddContent(k.wrapper);b&&(tf.dom.AddCSSClass(b.wrapper,c.getClassNames().borderTopClassName),e.AddContent(b.wrapper));e.AddContent(l.scrollWrapper,h.wrapper);return{wrapper:e,toolBar:k,replay:b,scrollWrapper:l.scrollWrapper,
scrollContent:l.scrollContent,footer:h}};this.SetListVisible=function(a,c){a&&(a.wrapper.GetHTMLElement().style.display=c?"flex":"none")};this.CreateList=function(b){var c=a.appContent,f=c.GetAppStyles(),k=a.customAppContentI,h=b.isRT,l={offsetY:0,onClick:void 0,onHover:void 0,delayMillis:0,toolTipClass:"*start",toolTipArrowClass:"top"},n=e.CreateToolBarListFooter(!h),m=k.getToolBarButtonClasses();k.getToolBarSpanClasses();var p=k.getMainToolBarButtonClasses(),q=k.getMainToolBarSpanClasses();n.busTitleButton=
tf.TFMap.CreateSVGButton(c,tf.js.ShallowMerge(l,{wrapper:n.toolBar.wrapper,onClick:b.onClickBusTitleButton}),f.GetBusSVG(),p,b.busTitleButtonToolTipText,void 0,"busButton");n.busListTitleSpan=document.createElement("span");n.busListTitleSpan.className=q;n.busLoadingDiv=new tf.dom.Div({cssClass:d.loadingDivClassName});n.toolBar.content.AddContent(n.busTitleButton.GetButton(),n.busListTitleSpan,n.busLoadingDiv);h||(n.busTitleRefreshButton=tf.TFMap.CreateSVGButton(c,tf.js.ShallowMerge(l,{toolTipClass:"*start",
wrapper:n.toolBar.wrapper,onClick:b.onClickRefreshButton}),f.GetRefreshSVG(),p,"Refresh list",void 0,"refreshButton"),n.toolBar.content.AddContent(n.busTitleRefreshButton.GetButton()),n.replaySlider=document.createElement("input"),n.replaySlider.type="range",n.replay.content.AddContent(n.replaySlider),f=f.GetPlayerSVGs(),n.replayStopButton=tf.TFMap.CreateSVGButton(c,tf.js.ShallowMerge(l,{wrapper:n.replay.wrapper,onClick:b.onClickReplayStop}),f.stop,m,b.replayStopToolTipText,void 0,"playButton"),n.replayPlayButton=
tf.TFMap.CreateSVGButton(c,tf.js.ShallowMerge(l,{wrapper:n.replay.wrapper,onClick:b.onClickReplayPlay}),f.play,m,b.replayPlayToolTipText,void 0,"playButton"),n.replayLabelSpan=tf.TFMap.CreateSVGButton(c,tf.js.ShallowMerge(l,{wrapper:n.replay.wrapper,onClick:b.onClickReplaySpan}),"",m+" "+d.textAlignCenterClassName,b.replaySpanToolTipText,void 0,"labelButton"),h=n.replayLabelSpan.GetButton().style,h.display="block",h.width="50%",n.replaySpeedButton=tf.TFMap.CreateSVGButton(c,tf.js.ShallowMerge(l,{wrapper:n.replay.wrapper,
onClick:b.onClickReplaySpeed}),"100x",m+" "+d.textAlignCenterClassName,b.replaySpeedToolTipText,void 0,"speedButton"),n.replayAutoRepeatButton=tf.TFMap.CreateSVGButton(c,tf.js.ShallowMerge(l,{wrapper:n.replay.wrapper,onClick:b.onClickReplayAutoRepeat}),f.noAutoRepeat,m,b.replayAutoRepeatToolTipText,void 0,"autoRepeatButton"),n.replay.content.AddContent(n.replayStopButton.GetButton(),n.replayPlayButton.GetButton(),n.replayLabelSpan.GetButton(),n.replaySpeedButton.GetButton(),n.replayAutoRepeatButton.GetButton()));
k.getContentWrapper().AddContent(n.wrapper);return new tf.Transit.BusList(tf.js.ShallowMerge(b,{busListClasses:e,appContent:c,customAppContentI:k,busTLF:n}))};e=this;d={loadingDivClassName:tf.TFMap.CreateClassName("busListClasses","LoadingDiv"),textAlignCenterClassName:tf.TFMap.CreateClassName("busListClasses","TextAlign"),rangeClassName:tf.TFMap.CreateClassName("busListClasses","Range")};tf.styles.CreateCSSClasses(c());a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(c())})};
tf.Transit.BusList=function(a){function c(){if(a.isRT)e(" currently","");else{var b=0<a.getHistoryNEvents()?"block":"none";a.busTLF.replay.wrapper.GetHTMLElement().style.display=b;e(""," during the past hour")}}function e(b,c){var d=a.KL.GetItemCountAfterUpdate(),d=0==d?"No bus activity found":d+" "+(1==d?"bus":"buses")+b+" in circulation"+c;a.busTLF.footer.content.GetHTMLElement().innerHTML=d}var d,b,g;this.GetBusTLF=function(){return a.busTLF};this.GetListContent=function(){return g};this.OnServiceRefresh=
function(b){b=b.sender.GetIsRefreshing();a.busTLF.busTitleButton.GetButton();var c,d=a.isRT;b?(c="block",d||(a.busTLF.replay.wrapper.GetHTMLElement().style.display="none",a.busTLF.footer.content.GetHTMLElement().innerHTML="Retrieving most recent transit activity...")):c="none";a.busTLF.busLoadingDiv.GetHTMLElement().style.display=c;d||(a.busTLF.busTitleRefreshButton.GetButton().style.display=b?"none":"block")};this.OnKLChange=function(a){g.OnKLChange(a);c()};this.SetVisible=function(c){b!=(c=!!c)&&
(b=c,a.busListClasses.SetListVisible(a.busTLF,b))};this.GetIsVisible=function(){return b};this.GetListContent=function(){return g};d=this;(function(){var b=a.busTLF;d.SetVisible(!!a.isVisible);b.busListTitleSpan.innerHTML=a.isRT?"Real time activity":"Recent activity";g=new tf.Transit.BusListContent(tf.js.ShallowMerge(a,{wrapper:b.scrollWrapper,contentWrapper:b.scrollContent}));a.isRT&&c()})()};
tf.Transit.BusServiceFeaturesContent=function(a){function c(a,b){var c=!1,d=a.GetData(),e=d.events,f=e.length,g,h,k=0,l,m,p,n=K.GetHistoryStartDate();n&&(b+=n.getTime());var n=tf.js.BinarySearch(e,b,function(a,b){return a-b.updatedMillis}),q;if(0>n){n=-(n+1);if(0==n||n>=f)c=!0;if(0==n)q=0;else if(n>=f-1)q=f-1,k=1;else{var t=n-1,f=e[t],k=f.updatedMillis,n=e[n];m=n.updatedMillis-k;var w=0<m?(b-k)/m:0,k=w;m=f.next_stop_index;0<w?(g=f.coords,h=f.direction_rad,l=f.offset_hms,t=n.coords,p=n.direction_rad,
n=n.offset_hms,g=[g[0]+(t[0]-g[0])*w,g[1]+(t[1]-g[1])*w],p=tf.units.GetShortestArcBetweenAngles(h,p),h+=p*w,l=void 0!=l&&void 0!=n?Math.floor(l+w*(n-l)):0,p=f.updated):q=t}}else q=n;void 0!=q&&(e=e[q],g=e.coords,h=e.direction_rad,l=e.offset_hms,m=e.next_stop_index,p=e.updated);isNaN(l)&&void 0!=l&&(c=!0);d.isExcluded=c;d.coords=g;d.direction_rad=h;d.posSeg01=k;d.offset_hms=l;d.next_stop_index=m;d.updated=p;return c}function e(b){O.OnKLChange(b);R.GetPointFeatures().OnKLChange(b);a.isRT||(L=void 0,
K.PositionAtTimeMillis(0))}function d(a){R.GetPointFeatures().SetSelectedMapFeature(a)}function b(a){return R.GetPointFeatures().GetItemFromMapFeature(a)}function g(a){O.GetListContent().SetSelectedContent(a)}function f(a){return O.GetListContent().GetKeyedListContent().GetContentFromItem(a)}function k(b){var c;c=b.item;if(c=R.GetPointFeatures().GetMapFeatureFromItem(c)){var e=c.GetPointCoords();a.appContent.MakeSureMapCoordsAreVisible(e,150);R.GetPointFeatures().GetSelectedMapFeature()!=c?(d(c),
new tf.map.PointsStyleAnimator({maps:[a.appContent.GetMap()],pointProviders:[e],duration:1E3,getStyle:R.GetFlashBusSelectStyle})):d(void 0)}(b=f(b.item))&&(O.GetListContent().GetSelectedContent()!=b?g(b):g(void 0))}function h(a){if(R.GetPointFeatures().GetSelectedMapFeature()!=a.mapFeature){var c=b(a.mapFeature);c&&d(a.mapFeature)}else d(void 0);if(c=b(a.mapFeature))if(a=f(c))O.GetListContent().GetSelectedContent()!=a?(g(a),O.GetListContent().EnsureContentVisible(a)):g(void 0)}function l(b){if(T&&
!a.isRT&&0<K.GetHistoryNEvents()&&!W.GetIsPaused()){var c=W.GetElapsedTime();K.PositionAtTimeMillis(c)&&B(c);b.continueAnimation()}}function n(a){a=tf.Transit.PreProcessHistoryBusData(a);var b=O.GetBusTLF();X=a.props;var c=1E3*X.totalSeconds;b.replaySlider.min=0;b.replaySlider.max=c;W.SetLimit(c);B(0);S||(S=!0,0<K.GetHistoryNEvents()&&m(!1));return a.newData}function m(a){W.Pause(a);r(a)}function p(a,b){var c=parseInt(b.current,10);K.PositionAtTimeMillis(c);B(c,!1)}function q(b){b.sender.GetIsRefreshing()&&
!a.isRT&&(X=void 0,m(!0),B(0));O.OnServiceRefresh(b)}function r(b){var c=O.GetBusTLF();if(c.replayPlayButton){var d=a.appContent.GetAppStyles().GetPlayerSVGs();b=b?d.play:d.pause;c.replayPlayButton.GetButton().innerHTML=b}}function A(){0<K.GetHistoryNEvents()&&(W.GetIsPaused()?(m(!1),a.appContent.GetMap().Render()):m(!0))}function t(){return W.GetIsPaused()?"resume replay":"pause replay"}function w(){0<K.GetHistoryNEvents()&&(m(!0),B(0))}function v(){return"stop replay"}function u(b){if(ca!=(b=!!b)&&
(ca=b,!a.isRT)){b=O.GetBusTLF();W&&W.SetWrap(ca);var c=a.appContent.GetAppStyles().GetPlayerSVGs(),c=ca?c.autoRepeat:c.noAutoRepeat;b.replayAutoRepeatButton.GetButton().innerHTML=c}}function B(b,c){if(!a.isRT){var d=O.GetBusTLF();D(b);W.SetElapsedTime(b);c||(d.replaySlider.value=b)}}function E(b){ea!=b&&(ea=b,a.isRT||(b=O.GetBusTLF(),W&&W.SetSpeed(ea),b.replaySpeedButton.GetButton().innerHTML=ea+"x"))}function D(b){if(!a.isRT){if(void 0!=X){var c=new Date;c.setTime(X.startDate.getTime()+b);ba?(b=
tf.js.GetTimeStampFromDate(c),b=b.substring(0,19)):b=tf.js.GetAMPMHourWithSeconds(c)}else b="";O.GetBusTLF().replayLabelSpan.GetButton().innerHTML=b}}function F(){var a=10*ea;100<a&&(a=1);E(a)}function C(){return tf.TFMap.MapTwoLineSpan("replaying at "+(1==ea?"normal":ea+" x normal")+" speed","click to change")}function G(){u(!ca)}function H(){return tf.TFMap.MapTwoLineSpan("replay auto repeat is <u>"+(ca?"on":"off")+"</u>","switch it "+(ca?"off":"on"))}function I(){ba=!ba;D(L)}function J(){return"change time stamp format"}
var K,N,Q,M,R,O,T,U,S,Z,X,da,L,W,ca,ea,ba,fa,qa,pa;this.GetKL=function(){return N.GetKL()};this.GetLayer=function(){return M};this.AddUpdateListener=function(a){qa.AddListener(pa,a)};this.RefreshNow=function(){Q.RefreshNow()};this.GetNextAvailableZIndex=function(){return Z};this.UpdateForMapType=function(){R&&R.UpdateForMapType(N.GetKL())};this.GetIsVisible=function(){return T};this.SetVisible=function(b){T!=(b=!!b)&&(T=b,M.SetVisible(T),O.SetVisible(T),a.isRT?Q.SetAutoRefreshes(T):T?(void 0!=fa&&
W.Pause(fa),a.appContent.GetMap().Render(),U||(U=!0,Q.RefreshNow())):(fa=W.GetIsPaused(),W.Pause(!0)))};this.ClearHistory=function(){X=void 0;N.GetKL().UpdateFromNewData([])};this.PositionAtTimeMillis=function(b){var d=!1,e=N.GetKL();if(0<e.GetItemCount()&&(void 0==L||Math.abs(L-b)>=da)){d=e.GetKeyedItemList();L=b;for(var f in d)c(d[f],b);R.GetPointFeatures().RefreshPositions(N.GetKL());d=!0}d&&qa.Notify(pa,tf.js.ShallowMerge(void 0,{sender:K,eventName:pa,isRT:a.isRT}));return d};this.GetHistoryStartDate=
function(){return X?X.startDate:void 0};this.GetHistoryNEvents=function(){return X?X.nEvents:0};K=this;qa=new tf.events.MultiEventNotifier({eventNames:[pa="upd"]});da=50;ba=!1;(function(){Z=a.layerZIndex;var b={name:a.layerName,isVisible:!0,isHidden:!0,useClusters:!1,zIndex:Z++};M=a.appContent.CreateCustomMapLayer(b,!1)})();(function(){var b=a.isRT,c=!!a.isVisible;N=new tf.Transit.BusKL({KLName:b?"rtBusKL":"histBusKL"});var d=N.GetKL();R=new tf.Transit.BusPointFeatures({layer:M,appContent:a.appContent,
onClick:h});var f={onClickReplayPlay:A,replayPlayToolTipText:t,onClickReplayStop:w,replayStopToolTipText:v,onClickReplaySpeed:F,replaySpeedToolTipText:C,onClickReplayAutoRepeat:G,replayAutoRepeatToolTipText:H,onClickReplaySpan:I,replaySpanToolTipText:J,getHistoryNEvents:K.GetHistoryNEvents,onClickRefreshButton:a.onClickRefreshButton,onClickBusTitleButton:a.onClickBusTitleButton,busTitleButtonToolTipText:a.busTitleButtonToolTipText,isVisible:c,busListClasses:a.busListClasses,busListItemClassNames:a.busListItemContentClasses.GetClassNames(),
isRT:b,compareContent:tf.Transit.CompareBuses,KL:d,onItemClick:k};O=a.busListClasses.CreateList(f);f=O.GetBusTLF();d.AddAggregateListener(e);d={isRT:b,autoRefreshes:b,clearBeforeRefresh:!b,refreshTimeoutMillis:1E4,KL:d,transitServerURL:a.transitServerURL,onPreRefresh:q,onPostRefresh:q};b||(d.preProcessServiceData=n);Q=new tf.Transit.BusService(d);b||(a.appContent.GetMap().AddListener(tf.consts.mapPostComposeEvent,l),tf.dom.OnRangeChange(f.replaySlider,p),W=new tf.helpers.Timer,W.SetLimit(1),B(0),
r(!0),u(!0),E(100));K.SetVisible(c)})()};
tf.Transit.BusRTAndHistoryContent=function(a){function c(){f&&f.SetVisible(g);k&&k.SetVisible(!g)}var e,d,b,g,f,k,h,l,n;this.GetRTContent=function(){return f};this.GetHistoryContent=function(){return k};this.GetNextAvailableZIndex=function(){return h};this.UpdateForMapType=function(){f&&f.UpdateForMapType();k&&k.UpdateForMapType()};this.OnVisibilityChange=function(a){a.isVisible?c():(f&&f.SetVisible(!1),k&&k.SetVisible(!1))};this.AddListChangeListener=function(a){l.AddListener(n,a)};this.GetIsShowingRT=
function(){return g};this.SetShowingRT=function(a){g!=(a=!!a)&&(a&&f||!a&&k)&&(g=a,c(),l.Notify(n,tf.js.ShallowMerge(void 0,{sender:e,eventName:n})))};e=this;(function(){l=new tf.events.MultiEventNotifier({eventNames:[n="chg"]});var c=!1;a.showHistory?a.showRT&&(c=!0):a.showRT=!0;g=a.showRT;a.showHistory&&a.startWithHistory&&(g=!1);d=new tf.Transit.BusListClasses(a);b=new tf.Transit.BusListItemContentClasses(a);h=a.layerZIndex;a.showRT&&(f=new tf.Transit.BusServiceFeaturesContent(tf.js.ShallowMerge(a,
{onClickBusTitleButton:function(){c?e.SetShowingRT(!1):a.customAppContentI.setVisible(!1)},busTitleButtonToolTipText:c?"Switch to recent activity":"Collapse panel",isVisible:g,isRT:!0,busListClasses:d,busListItemContentClasses:b,layerZIndex:h})),h=f.GetNextAvailableZIndex());a.showHistory&&(k=new tf.Transit.BusServiceFeaturesContent(tf.js.ShallowMerge(a,{onClickRefreshButton:function(){k.RefreshNow()},onClickBusTitleButton:function(){c?e.SetShowingRT(!0):a.customAppContentI.setVisible(!1)},busTitleButtonToolTipText:c?
"Switch to real time activity":"Collapse panel",isVisible:!g,isRT:!1,busListClasses:d,busListItemContentClasses:b,layerZIndex:h})),h=k.GetNextAvailableZIndex())})()};tf.Transit.PlanTripSteps={fromStartLocation:0,walkFromStartToStop:1,takeTripAtStop:2,leaveTripAtStop:3,walkFromStopToNearbyStop:4,walkFromStopToEndLocation:5,walkFromStartToEndLocation:6,arriveAtEndLocation:1E3};
tf.Transit.PlanService=function(a){function c(a,b,c){var d,e=[],f=[];b=a.plans[b];for(var g=b.steps,h=g.length,k=g[h-1],l,n=0,D=b.endHMS-b.startHMS,k=1E3*(k.tripkm+k.walkkm),F=0;F<h;++F){var C=g[F],G=C.coords,H=1E3*(C.tripkm+C.walkkm),I={index:F,step:C,geometry:{type:"point",coordinates:G},properties:{instructionCode:C.type,streetName:"",instruction:C.desc,lengthMeters:H-n,postTurnDirection:0}},n=H,H=tf.js.TranslateHourMinSec(b.startHMS),J=tf.js.TranslateHourMinSec(C.hms);switch(C.type){case tf.Transit.PlanTripSteps.walkFromStartToEndLocation:D=
b.endHMS-C.hms_start_walk_from_start_to_end;I.fromCoords=a.startCoords;I.toCoords=G;I.properties.instruction=tf.js.TranslateHourMinSec(C.hms_start_walk_from_start_to_end).HM+" - "+I.properties.instruction;break;case tf.Transit.PlanTripSteps.walkFromStartToStop:I.fromCoords=a.startCoords;I.toCoords=G;I.properties.instruction=H.HM+" - "+I.properties.instruction;break;case tf.Transit.PlanTripSteps.walkFromStopToNearbyStop:I.fromCoords=l.coords;I.toCoords=G;I.properties.instruction=J.HM+" - "+I.properties.instruction;
break;case tf.Transit.PlanTripSteps.walkFromStopToEndLocation:I.fromCoords=l.coords;I.toCoords=G;I.properties.instruction=J.HM+" - "+I.properties.instruction;break;case tf.Transit.PlanTripSteps.leaveTripAtStop:case tf.Transit.PlanTripSteps.takeTripAtStop:I.properties.instruction=J.HM+" - "+I.properties.instruction}e.push(I);d=tf.js.UpdateMapExtent(d,G);tf.js.GetIsNonEmptyString(C.tripCls)&&(G=c.DecodeLineString(JSON.parse(C.tripCls),6),I=l.sindex,H=C.sindex+2<=G.length?C.sindex+2:G.length,G=G.slice(I,
H),I<H&&(G[0]=l.coords,G[G.length-1]=C.coords),l=tf.js.GetIsNonEmptyString(C.colorStr)?"#"+C.colorStr:"#f00",f.push({coords:G,isWalk:!1,colorStr:l}));tf.js.GetIsNonEmptyArray(C.wg)&&f.push({coords:C.wg,isWalk:!0});l=C}return{plan:b,transitInstructions:!0,total_distance:k,total_time:D,instructions:e,message:"Found route between points",routeGeom:f,success:!0,extent:d}}function e(a,b){return{allPlans:b,message:a?n:f,success:a}}function d(a){if(tf.js.GetIsValidObject(a)&&a.success&&0<a.nPlans){for(var b=
new tf.map.PolyCode,d=[],f=0;f<a.nPlans;++f)d.push(c(a,f,b));return e(!0,d)}return e(!1,[])}var b,g,f,k,h,l,n;this.GetInstructionsAndRouteGeom=function(){return k};this.GetPlan=function(a,c){var d=tf.js.GetTimeStampFromDate(new Date);g.date=d;g.x1=a[0];g.y1=a[1];g.x2=c[0];g.y2=c[1];b.RefreshNow(g)};b=this;l=tf.js.GetFunctionOrNull(a.onFullDirectionsLoaded);n="Found route between points";f="Transit server not available ";g={use_stage_agencies:!!a.useStageBusDirections,includetg:!0,includewi:!0,x1:0,
y1:0,x2:0,y2:0,r1:3,r2:3,maxmins:360,maxtrips:9,maxstopr:1,maxplans:2E3,returnfirst:!0,mintripdist:.4};k=d(void 0);tf.Transit.BackendService.call(b,tf.js.ShallowMerge({serviceName:"plans",preProcessServiceData:function(a){k=d(a);l&&l({sender:b})},skipAgency:!0},a));h=b.Cancel;b.Cancel=function(){h.apply(b,arguments)}};tf.js.InheritFrom(tf.Transit.PlanService,tf.Transit.BackendService);tf.MDTBusesApp={};
tf.MDTBusesApp.Content=function(a){var c;this.OnVisibilityChange=function(a){c&&c.OnVisibilityChange(a)};this.UpdateForMapType=function(){c&&c.UpdateForMapType()};(function(){var c=a.appContent.GetAppStyles(),d=a.customAppContentI,c=d.createTitleDescSVGLogo(a.panelName,a.appDesc,c.GetPoweredByTerraFlySVGForMap()),b=d.createNonScrollContent();b.AddContent(c.wrapper);d.getContentWrapper().AddContent(b)})();c=new tf.Transit.BusRTAndHistoryContent(tf.js.ShallowMerge(a,{startWithHistory:a.startWithHistory,
showRT:a.showRT,showHistory:a.showHistory,layerZIndex:a.layerZIndex}))};
tf.MDTBusesApp.App=function(a){var c,e;a.showHistory||(a.showRT=!0);c=new tf.TFMap.CustomApp(tf.js.ShallowMerge(a,{onVisibilityChange:function(a){e&&e.OnVisibilityChange(a)},updateForMapType:function(){e&&e.UpdateForMapType()},appName:"MDT Buses",sidePanelWidthInt:340,sidePanelWidthSmallInt:240,onContentSetInterface:function(d){e=new tf.MDTBusesApp.Content({appContent:c.GetTFMapApp().GetContent(),customAppContentI:d,panelName:"MDT Buses",appDesc:"Miami Dade Transit authority",startWithHistory:a.startWithHistory,
showRT:a.showRT,showHistory:a.showHistory,transitServerURL:a.transitServerURL})},onCreated:function(a){},onParametersParsed:function(a){}}))};tf.GeoFences={};tf.GeoFences.fenceTypes={extent:"extent",polygon:"polygon"};tf.GeoFences.instantFenceKeys={mtInstantFence:"mtInstantFence",dtInstantFence:"dtInstantFence",propsInstantFence:"propsInstantFence"};
tf.GeoFences.TargetPointFeatures=function(a){var c;this.GetPointFeatures=function(){return c};this.UpdateForMapType=function(a){c.RefreshStyles(a)};c=new tf.TFMap.KeyedListMapFeatures({getOptionalSettings:a.getOptionalSettings,refreshStyleOnUpdate:!1,onClick:function(c){if(tf.js.GetFunctionOrNull(a.onClick))a.onClick(c)},mapFeatureInItemAttributeName:"fenceMapFeature",itemInMapFeatureAttributeName:"pointItem",styles:function(){function c(d,b){a.appContent.GetIsShowingAerial();var e=b.GetIsDisplayingInHover(),
f=b.GetSettings().nFences,e={shape:!0,shape_points:4,shape_radius:0<f?e?26:24:0,line:!0,line_width:e?3:2,line_color:"#f00",zindex:50,rotation_rad:Math.PI/4};return 2>f?e:[e,{marker:!0,label:" "+f+" ",marker_arrowlength:20,zindex:51}]}return{style:c,hoverStyle:c}}(),toolTipProps:{toolTipText:function(a){a=a.mapFeature.GetSettings().nFences;return"Inside "+a+" "+(1==a?"fence":"fences")},keepOnHoverOutTarget:!1,offsetX:24},layer:a.layer,appContent:a.appContent})};
tf.GeoFences.TargetList=function(a){function c(){g.GetPointFeatures().RefreshPositions(a.targetList.GetKL());d()}function e(a){g.GetPointFeatures().OnKLChange(a);d()}function d(){f=a.list.CalcGeoFenceState(a.targetList.GetKL(),g);if(k)a.onCurrentCountChange()}function b(a){return{nFences:0,fences:[]}}var g,f,k;this.SetIsCurrent=function(a){return k=!!a};this.GetIsCurrent=function(){return k};this.UpdateForMapType=function(){g&&g.UpdateForMapType(a.targetList.GetKL())};this.OnFencesChanged=function(){return d()};
this.GetTargetsByFence=function(){return f};(function(){var d=a.appContent,f=a.targetList,k=f.GetLayer(),f=f.GetKL();g=new tf.GeoFences.TargetPointFeatures({layer:k,appContent:d,getOptionalSettings:b});a.targetList.AddUpdateListener(c);f.AddAggregateListener(e);c()})()};
tf.GeoFences.TargetLists=function(a){function c(){g.Notify(f,tf.js.ShallowMerge(void 0,{sender:e,eventName:f}))}var e,d,b,g,f;this.UpdateForMapType=function(){for(var a in d)d[a].UpdateForMapType()};this.AddCountChangeListener=function(a){return g.AddListener(f,a)};this.GetCurrentTargetsByFence=function(){return b?b.GetTargetsByFence():void 0};this.AddTargetList=function(b,e){tf.js.GetIsNonEmptyString(b)&&e&&(d[b]=new tf.GeoFences.TargetList(tf.js.ShallowMerge(a,{targetList:e,onCurrentCountChange:c})))};
this.GetTargetList=function(a){return d[a]};this.SetCurrentTargetList=function(a){a=e.GetTargetList(a);a!=b&&(b&&b.SetIsCurrent(!1),(b=a)&&b.SetIsCurrent(!0))};this.GetCurrentTargetList=function(){return b};e=this;g=new tf.events.MultiEventNotifier({eventNames:[f="cnt"]});d={};a.list.AddChangeListener(function(){for(var a in d)d[a].OnFencesChanged()})};tf.GeoFences.CompareFences=function(a,c){return a.itemData.GetOrder()-c.itemData.GetOrder()};
tf.GeoFences.Fence=function(a){var c,e,d,b,g,f,k;this.OnMapPostCompose=function(b){return a.onMapPostCompose(b)};this.GetMapFeature=function(){return a.getMapFeature()};this.GetKey=function(){return g};this.SetKey=function(a){g=a};this.GetType=function(){return e};this.GetIsInstant=function(){return f};this.SetOrder=function(a){b=a};this.GetOrder=function(){return b};this.GetFromStr=function(){return d};this.GetEditorNameStr=function(){return k};this.GetIsInList=function(){return c};this.SetIsInList=
function(a){c!=(a=!!a)&&(c=a)};this.CreateCopy=function(){return a.createCopy()};this.CheckCoordsInside=function(b){return a.checkCoordsInside(b)};this.SetMapExtent=function(){return a.setMapExtent()};this.SetIsInList(!!a.isInList);e=a.type;d=a.fromStr;b=a.order;g=a.key;f=!!a.isInstant;k=a.editorNameStr};
tf.GeoFences.PolyFence=function(a){var c,e;this.GetPolyFeature=function(){return e};this.SetPolyFeature=function(d){c.GetIsInstant()?e=d:d?(d=d.GetGeom().GetCoordinates(),d={type:"polygon",coordinates:[tf.js.CopyLineStringCoords(d[0])]},d.style=d.hoverStyle=a.getStyle,e=new tf.map.Feature(d)):e=void 0};c=this;tf.GeoFences.Fence.call(c,tf.js.ShallowMerge({onMapPostCompose:function(c){a.isInstant||e&&c.showFeatureImmediately(e)},getMapFeature:function(){return c.GetPolyFeature()},checkCoordsInside:function(a){return e?
e.GetGeom().GetContainsCoords(a):!1},type:tf.GeoFences.fenceTypes.polygon,createCopy:function(){var c=new tf.GeoFences.PolyFence(tf.js.ShallowMerge(a,{isInstant:!1}));c.SetPolyFeature(e);return c},setMapExtent:function(){e&&a.appContent.SetMapExtent(e.GetGeom().GetExtent())}},a))};tf.js.InheritFrom(tf.GeoFences.PolyFence,tf.GeoFences.Fence);
tf.GeoFences.ExtentFence=function(a){var c,e,d;this.GetLineString=function(){return d};this.GetExtent=function(){return e};this.SetExtent=function(b,g){if(e=c.GetIsInstant()?b:void 0!=b?b.slice(0):void 0){var f=tf.js.GetPolyGeomFromExtent(e);f.style=a.getStyle;c.SetPolyFeature(new tf.map.Feature(f));d=void 0!=g?tf.js.CopyLineStringCoords(g):void 0}else c.SetPolyFeature(void 0),d=void 0};c=this;tf.GeoFences.PolyFence.call(c,tf.js.ShallowMerge(a,{checkCoordsInside:function(a){return e?tf.js.GetExtentContainsCoord(e,
a):!1},type:tf.GeoFences.fenceTypes.extent,createCopy:function(){var b=new tf.GeoFences.ExtentFence(tf.js.ShallowMerge(a,{isInstant:!1}));b.SetExtent(e,d);return b},setMapExtent:function(){e&&a.appContent.SetMapExtent(e)}}))};tf.js.InheritFrom(tf.GeoFences.PolyFence,tf.GeoFences.Fence);
tf.GeoFences.FenceList=function(a){function c(a,b){w.Notify(a,tf.js.ShallowMerge(b,{sender:p,eventName:a}))}function e(a,b){if(a){if(b){++B;var c=u++;a.SetOrder(c);a.SetKey(""+c)}q.AddOrGetItem(a)}}function d(a){a&&(a.GetData().GetIsInstant()||--B,q.RemoveItemByKey(a.GetKey(),!1,!1))}function b(a,b,c){var f=!1;b?(e(a,!1),a.SetIsInList(!0),f=!0):c&&(d(q.GetItem(a.GetKey())),a.SetIsInList(!1),f=!0);return f}function g(d){var e=a.appContent.GetMeasureToolInterface(),f=e.getIsActive(),g=r.GetIsInList(),
h=!1,k=!1;f?(f=2<e.getInfo().nPoints,g?k=!f:h=f,f&&r.SetPolyFeature(e.getAreaFeature())):k=!0;(d|=b(r,h,k))&&c(v)}function f(a){g(!0)}function k(a){g()}function h(d){var e=a.appContent.GetDownloadToolInterface(),f=e.getIsActive(),g=A.GetIsInList(),h=!1,k=!1;if(f){var e=e.getInfo(),f=2<=e.nPoints?e.lastExtentDrawResult.vertexExtent:void 0,l=void 0!=f;g?k=!l:h=l;l&&A.SetExtent(f,e.lineString)}else k=!0;(d|=b(A,h,k))&&c(v)}function l(a){h(!0)}function n(a){h()}function m(d){var e=d=!1,f=!1,g=t.GetIsInList(),
h=a.appContent.GetMapFeaturePropsDisplayer(),h=(h=h.GetIsVisible()?h.GetLastMapFeature():void 0)?h.GetSettings().polyMapFeature:void 0;void 0!=h?(e=!g,t.SetPolyFeature(h)):f=g;(d|=b(t,e,f))&&c(v)}var p,q,r,A,t,w,v,u,B;this.AddChangeListener=function(a){return w.AddListener(v,a)};this.GetKL=function(){return q};this.AddFence=function(a){e(a,!0);c(v)};this.RemoveFence=function(a){d(a);c(v)};this.GetHasNonInstantFences=function(){return 0<p.GetNonInstantFenceCount()};this.GetNonInstantFenceCount=function(){return B};
this.RemoveNonInstantFences=function(){if(p.GetHasNonInstantFences()){var a=q.GetKeyedItemList(),b;for(b in a){var e=a[b];e.GetData().GetIsInstant()||d(e)}c(v)}};this.SetMapExtentFromItem=function(a){a&&a.GetData().SetMapExtent()};this.CalcGeoFenceState=function(a,b){var c={};if(a){q.GetItemCount();var d=b.GetPointFeatures(),e=a.GetKeyedItemList(),f=q.GetKeyedItemList(),g;for(g in e){var h=e[g],k=d.GetMapFeatureFromItem(h);if(k){var l=k.GetSettings(),m=l.nFences,p=k.GetPointCoords();l.fences=[];for(var n in f){var t=
f[n],w=t.GetKey(),r=c[w];void 0==r&&(r=c[w]={count:0,targets:{}});t.GetData().CheckCoordsInside(p)&&(l.fences.push({fenceItem:t}),++r.count,r.targets[h.GetKey()]=h)}l.nFences=l.fences.length;m!=l.nFences&&k.RefreshStyle()}}}return c};p=this;w=new tf.events.MultiEventNotifier({eventNames:[v="chg"]});(function(){q=new tf.js.KeyedList({name:tf.js.GetNonEmptyString(a.KLName,"geoFencesKL"),getKeyFromItemData:function(a){return a.GetKey()},needsUpdateItemData:function(a){return!0},filterAddItem:function(a){return!0}})})();
(function(){u=1;var b=tf.js.ShallowMerge(a,{isInstant:!0,getStyle:a.getStyle});r=new tf.GeoFences.PolyFence(tf.js.ShallowMerge(b,{key:tf.GeoFences.instantFenceKeys.mtInstantFence,fromStr:"measure tool",editorNameStr:"measure tool",order:u++}));A=new tf.GeoFences.ExtentFence(tf.js.ShallowMerge(b,{key:tf.GeoFences.instantFenceKeys.dtInstantFence,fromStr:"download tool",editorNameStr:"download tool",order:u++}));t=new tf.GeoFences.PolyFence(tf.js.ShallowMerge(b,{key:tf.GeoFences.instantFenceKeys.propsInstantFence,
fromStr:"marker",editorNameStr:"measure tool",order:u++}))})();(function(){var b=a.appContent,c=b.GetMeasureToolInterface(),d=b.GetDownloadToolInterface();c.addUpdateGeomListener(f);c.addActivationListener(k);d.addUpdateGeomListener(l);d.addActivationListener(n);b.GetMapFeaturePropsDisplayer().AddVisibilityChangeListener(m)})();B=0};
tf.GeoFences.FencesMapFeatures=function(a){function c(b){if(tf.js.GetFunctionOrNull(a.onMapFeatureClick))a.onMapFeatureClick({sender:d,item:b.mapFeature.GetSettings().fenceItem})}function e(){var d=a.appContent.GetBottomCustomAppLayer(),e=a.list.GetKL().GetKeyedItemList();++g;for(var l in e){var n=e[l],m=n.GetKey(),p=b[m];if(p)p.fenceUpdateSeq=g;else if(p=n.GetData(),!p.GetIsInstant()&&(p=p.GetMapFeature())){var q=p.GetSettings();q.onCustomAppClick=c;q.fenceItem=n;b[m]={fenceUpdateSeq:g,mapFeature:p,
fenceItem:n};d.AddMapFeature(p,!0)}}for(l in b)e=b[l],e.fenceUpdateSeq!=g&&(f==e.mapFeature&&(f=void 0),d.DelMapFeature(e.mapFeature,!0),delete b[l]);d.AddWithheldFeatures();d.DelWithheldFeatures()}var d,b,g,f;this.OnVisibilityChange=function(b){a.appContent.GetBottomCustomAppLayer().SetVisible(b.isVisible)};this.UpdateForMapType=function(a){for(var c in b)b[c].mapFeature.RefreshStyle()};this.GetMapFeatureFromItem=function(a){return(a=a?b[a.GetKey()]:udnefined)?a.mapFeature:void 0};this.GetItemFromMapFeature=
function(a){return a?a.GetSettings().fenceItem:void 0};this.GetSelectedMapFeature=function(){return f};this.GetSelectedItem=function(){return d.GetItemFromMapFeature(f)};this.SetSelectedItem=function(a){var b=d.GetSelectedItem();a!=b&&(b&&(b=f,f=void 0,b.SetIsAlwaysInHover(!1)),a&&(a=d.GetMapFeatureFromItem(a))&&(f=a).SetIsAlwaysInHover(!0))};d=this;g=0;b={};a.list.AddChangeListener(function(){e()});e()};
tf.GeoFences.CSSClasses=function(a){function c(){var c=a.appContent.GetAppStyles(),b=c.GetCSSClasses(),c=c.GetIsSmallScreen(),g=[],f=tf.TFMap.LayoutSettings,k={inherits:[b.pointerEventsNone],overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",verticalAlign:"middle"},h=b.displayInlineBlock;g[e.itemWrapperClassName]={inherits:[b.noMarginNoBorderNoPadding,b.positionRelative,b.displayBlock,b.overflowHidden],padding:"1px",borderRadius:"0px",width:"calc(100% - 2px)"};g[e.itemWrapperClassName+
":hover"]={backgroundColor:"rgba(0, 0, 0, 0.1)"};g[e.itemWrapperSelectedClassName]={backgroundColor:"red"};g[e.itemWrapperSelectedClassName+":hover"]={backgroundColor:"red"};g[e.itemButtonClassName]={inherits:[b.noMarginNoBorderNoPadding,b.transparentImageButton,b.backgroundColorTransparent,b.displayBlock,b.positionAbsolute],backgroundColor:"white",borderRadius:"0px",left:"4px",top:"1px",width:"calc(100% - 8px)",height:"calc(100% - 2px)"};g[e.itemContentWrapperClassName]={inherits:[b.noMarginNoBorderNoPadding,
b.positionRelative,b.transparentImageButton,b.backgroundColorTransparent,b.displayBlock,b.pointerEventsNone],marginLeft:"2px",marginRight:"2px",borderRadius:"2px",lineHeight:"0px",width:"calc(100% - 4px)"};g[e.itemTitleClassName]={inherits:[b.noMarginNoBorderNoPadding,b.positionRelative,h,b.darkTextShadow,k],textAlign:"left",paddingLeft:"4px",paddingRight:"4px",width:"auto",color:"#444",background:"white",fontSize:f.itemInListTitletFontSizeInt+"px",lineHeight:f.itemInListTitleLineHeightInt+1+"px"};
g[e.itemCountClassName]={inherits:[g[e.itemTitleClassName]]};g[e.itemToolBarClassName]={inherits:[b.noMarginNoBorderNoPadding,b.backgroundColorTransparent,h],borderRadius:"0px",left:"0px",top:"0px",width:"auto",paddingLeft:"4px",paddingRight:"4px",lineHeight:f.itemInListTitleLineHeightInt+"px","float":"right"};g[e.itemToolBarTextButton]={inherits:[b.noMarginNoBorderNoPadding,b.transparentImageButton,b.backgroundColorTransparent,h,b.pointerEventsAll],borderRadius:"2px",border:"1px solid "+f.darkTextColor,
marginLeft:"2px",marginRight:"2px",padding:"2px",fontSize:f.itemInListTitletFontSizeInt-3+"px",lineHeight:f.itemInListTitleLineHeightInt-5+"px"};g[e.itemToolBarFixWidthTextButton]={width:(c?36:56)+"px",backgroundColor:"#f0f8ff"};g[e.listItemsPlaceHolderClassName]={position:"absolute",fontSize:f.itemInListTitletFontSizeInt+"px",lineHeight:f.itemInListTitleLineHeightInt+10+"px",backgroundColor:"white",borderRadius:"6px",color:f.darkTextColor,textShadow:f.darkTextShadow,left:"0px",top:"0px",margin:"6px",
marginTop:"4px",padding:"4px",width:"calc(100% - 20px)",textAlign:"center"};g[e.listItemsPlaceHolderClassName+" svg"]={verticalAlign:"center",fill:f.darkTextColor,width:f.itemInListTitleLineHeightInt+"px",height:f.itemInListTitleLineHeightInt+"px"};g[e.listItemsPlaceHolderClassName+" a"]={borderRadius:"4px",padding:"4px",paddingTop:"6px",backgroundColor:"rgba(0, 0, 80, 0.1)",cursor:"pointer",textDecoration:"none"};g[e.listItemsPlaceHolderClassName+" a:hover"]={textDecoration:"underline"};return g}
var e;this.GetClassNames=function(){return e};this.GetContentWrapperDisplayVisibleVerb=function(){return"block"};this.SetListVisible=function(a,b){a&&(a.wrapper.GetHTMLElement().style.display=b?"flex":"none")};this.CreateToolBarListFooter=function(c){var b=a.appContent,g=b.GetAppStyles(),f=a.customAppContentI,k={offsetY:0,onClick:void 0,onHover:void 0,delayMillis:0,toolTipClass:"*start",toolTipArrowClass:"top"},h;h=a.customAppContentI;var l=h.getClassNames(),l=h.createNonScrollVariableHeightContent(l.minHeightPaneClassName),
n=h.createMainToolBar(),m=h.createFooter();h=h.createVertScrollWrapperAndContentWithFade();l.AddContent(n.wrapper);l.AddContent(h.scrollWrapper,m.wrapper);h={wrapper:l,toolBar:n,scrollWrapper:h.scrollWrapper,scrollContent:h.scrollContent,footer:m};l=f.getMainToolBarButtonClasses();f=f.getMainToolBarSpanClasses();h.titleButton=tf.TFMap.CreateSVGButton(b,tf.js.ShallowMerge(k,{wrapper:h.toolBar.wrapper,onClick:c.onClickTitleButton}),g.GetFenceSVG(),l,c.titleButtonToolTipText,void 0,"titleButton");h.clearButton=
tf.TFMap.CreateSVGButton(b,tf.js.ShallowMerge(k,{wrapper:h.toolBar.wrapper,onClick:c.onClickClearButton}),g.GetDustBinSVG(),l,"Remove all added fences",void 0,"titleButton");h.listTitleSpan=document.createElement("span");h.listTitleSpan.className=f;h.toolBar.content.AddContent(h.titleButton.GetButton(),h.listTitleSpan,h.clearButton.GetButton());h.listItemsPlaceHolder=new tf.dom.Div({cssClass:e.listItemsPlaceHolderClassName});c=h.listItemsPlaceHolder.GetHTMLElement();h.measureAId=tf.dom.CreateDomElementID("fenceLink");
h.downloadAId=tf.dom.CreateDomElementID("fenceLink");c.innerHTML='Design custom fences with<br><a id="'+h.measureAId+'">Measure '+g.GetMeasureSVG()+'</a> or <a id="'+h.downloadAId+'">Download '+g.GetDownloadSVG()+"</a>";h.scrollWrapper.AddContent(h.listItemsPlaceHolder);return h};e={itemWrapperClassName:tf.TFMap.CreateClassName("geoFenceClasses","ItemWrapper"),itemWrapperSelectedClassName:tf.TFMap.CreateClassName("geoFenceClasses","ItemWrapperSelected"),itemContentWrapperClassName:tf.TFMap.CreateClassName("geoFenceClasses",
"ItemContentWrapper"),itemTitleClassName:tf.TFMap.CreateClassName("geoFenceClasses","ItemTitle"),itemCountClassName:tf.TFMap.CreateClassName("geoFenceClasses","itemCount"),itemButtonClassName:tf.TFMap.CreateClassName("geoFenceClasses","ItemButton"),itemToolBarClassName:tf.TFMap.CreateClassName("geoFenceClasses","ItemToolBar"),itemToolBarTextButton:tf.TFMap.CreateClassName("geoFenceClasses","ItemToolBarTextButton"),itemToolBarFixWidthTextButton:tf.TFMap.CreateClassName("geoFenceClasses","ItemToolBarAddDelTextButton"),
listItemsPlaceHolderClassName:tf.TFMap.CreateClassName("geoFenceClasses","listItemsPlaceHolder")};tf.styles.CreateCSSClasses(c());a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(c())})};
tf.GeoFences.FenceListView=function(a){function c(){var b=a.list.GetKL().GetItemCount(),c=0==b?"fence list is empty":b+" "+(1==b?"fence is":"fences are")+" active";B.footer.content.GetHTMLElement().innerHTML=c;b=0==b?"block":"none";B.listItemsPlaceHolder.GetHTMLElement().style.display=b;h()}function e(a){D.OnKLChange(a);F&&(D.GetItemFromContent(F)||(F=void 0));d();setTimeout(c,0)}function d(){var b=a.list.GetHasNonInstantFences()?"inline-block":"none";B.clearButton.GetButton().style.display=b}function b(){var b=
a.appContent;b.IsDownloadToolOn()||b.ToggleDownloadTool()}function g(){var b=a.appContent;b.IsMeasureToolOn()||b.ToggleMeasureTool()}function f(a){b()}function k(a){g()}function h(){B.measureA||(B.measureA=document.getElementById(B.measureAId))&&B.measureA.addEventListener("click",k);B.downloadA||(B.downloadA=document.getElementById(B.downloadAId))&&B.downloadA.addEventListener("click",f)}function l(b){a.list.RemoveNonInstantFences()}function n(b){var c=tf.js.GetFunctionOrNull(a.onItemClick);c&&(b=
b?b.domObj:void 0)&&(b=D.GetItemFromContent(b.content))&&c({sender:u,item:b})}function m(a){var b=D.GetContentFromItem(a);if(b){var c=a.GetData();a=c.GetType();var d;c.GetIsInstant()?(a=c.GetFromStr()+" "+a,c="ADD",d="none"):(c="DEL",d="inline-block");b.title.GetHTMLElement().innerHTML=a;b.toolBarAddDelButton.GetButton().innerHTML=c;b.toolBarEditButton.GetButton().style.display=d}}function p(b,c){var d=a.cssClasses.GetClassNames();c?tf.dom.AddCSSClass(b.wrapper,d.itemWrapperSelectedClassName):tf.dom.RemoveCSSClass(b.wrapper,
d.itemWrapperSelectedClassName)}function q(a,b){a.toolBarAddDelButton.fenceItem=b;a.toolBarEditButton.fenceItem=b;p(a,!1);return a}function r(a){var b="Add or remove";if(a=a.fenceItem)a.GetData().GetIsInstant()?(b="Fence only active while being edited",a="Add its current shape to the list"):(b="Fence always active",a="Remove it from the list"),b=tf.TFMap.MapTwoLineSpan(b,a);return b}function A(b){if(b=b.sender.fenceItem){var c=b.GetData();c.GetIsInstant()?a.list.AddFence(c.CreateCopy()):a.list.RemoveFence(b)}}
function t(a){var b="Redesign";if(a=a.fenceItem)a=a.GetData(),a.GetIsInstant()||(b="Redesign fence with the "+a.GetEditorNameStr());return b}function w(c){if(c=c.sender.fenceItem){var d=c.GetData();if(!d.GetIsInstant()){var e=a.appContent,f,h,k;switch(d.GetType()){case tf.GeoFences.fenceTypes.polygon:f=e.GetMeasureToolInterface();h=g;if(d=d.GetPolyFeature())k=d.GetGeom().GetCoordinates()[0],k=k.slice(0,k.length-1);break;case tf.GeoFences.fenceTypes.extent:f=e.GetDownloadToolInterface(),h=b,k=d.GetLineString()}void 0!=
f&&(f.setLineString(k),h(),a.list.RemoveFence(c))}}}function v(b){var c=a.appContent,d=a.cssClasses.GetClassNames(),e=new tf.dom.Div({cssClass:d.itemWrapperClassName}),f=new tf.dom.Div({cssClass:d.itemContentWrapperClassName}),g=new tf.dom.Button({cssClass:d.itemButtonClassName,onClick:n}),h=new tf.dom.Div({cssClass:d.itemToolBarClassName}),k=new tf.dom.Div({cssClass:d.itemTitleClassName}),l=new tf.dom.Div({cssClass:d.itemCountClassName}),m={wrapper:B.toolBar.wrapper,offsetY:0,onClick:void 0,onHover:void 0,
delayMillis:0,toolTipClass:"*start",toolTipArrowClass:"top"},p=tf.TFMap.CreateSVGButton(c,tf.js.ShallowMerge(m,{onClick:w}),void 0,d.itemToolBarTextButton+" "+d.itemToolBarFixWidthTextButton,t,void 0,"toolBarEdit"),c=tf.TFMap.CreateSVGButton(c,tf.js.ShallowMerge(m,{onClick:A}),void 0,d.itemToolBarTextButton+" "+d.itemToolBarFixWidthTextButton,r,void 0,"toolBarAddDel");p.GetButton().innerHTML="EDIT";h.AddContent(p.GetButton(),c.GetButton());f.AddContent(k,l,h);e.AddContent(g,f);p.fenceItem=b;c.fenceItem=
b;b={wrapper:e,button:g,contentWrapper:f,toolBar:h,title:k,count:l,toolBarAddDelButton:c,toolBarEditButton:p};return g.content=b}var u,B,E,D,F;this.UpdateCounts=function(b){var c=a.list.GetKL().GetKeyedItemList(),d;for(d in c){var e=c[d],f=D.GetContentFromItem(e);f&&(e=e.GetKey(),e=b[e],e=void 0!=e?e.count:0,f.count.GetHTMLElement().innerHTML="[ "+e+" ]")}};this.OnCreated=function(a){h()};this.OnVisibilityChange=function(a){u.SetIsVisible(a.isVisible)};this.SetIsVisible=function(b){E!=(b=!!b)&&(E=
b,a.cssClasses.SetListVisible(B,E))};this.GetTLF=function(){return B};this.GetSelectedContent=function(){return F};this.SetSelectedContent=function(a){if(a!=F){if(F){var b=F;F=void 0;p(b,!1)}(F=a)&&p(F,!0)}};this.SetSelectedItem=function(a){return u.SetSelectedContent(D.GetContentFromItem(a))};this.GetSelectedItem=function(){var a=u.GetSelectedContent();return D.GetItemFromContent(a)};this.EnsureContentVisible=function(b){b&&tf.dom.ScrollVerticallyToEnsureVisible(a.contentWrapper,b.wrapper,a.customAppContentI.getVerListWithFadePaddingTopBotInt())};
u=this;void 0==a.cssClasses&&(a.cssClasses=new tf.GeoFences.CSSClasses(a));(function(){B=a.cssClasses.CreateToolBarListFooter({onClickTitleButton:function(){a.customAppContentI.setVisible(!1)},onClickClearButton:l,titleButtonToolTipText:"Collapse panel"});B.listTitleSpan.innerHTML="Fences";u.SetIsVisible(void 0!=a.startVisible?!!a.startVisible:!0);c();a.customAppContentI.getContentWrapper().AddContent(B.wrapper);a.list.GetKL().AddAggregateListener(e);d();h()})();(function(){var b=tf.js.GetNonEmptyString(a.contentInItemAttributeName,
"fenceContent"),c=tf.js.GetNonEmptyString(a.itemInContentAttributeName,"fenceItem");D=new tf.TFMap.KeyedListContent({KL:a.list.GetKL(),wrapper:B.scrollWrapper,contentWrapper:B.scrollContent,contentWrapperDisplayVisibleVerb:a.cssClasses.GetContentWrapperDisplayVisibleVerb(),contentInItemAttributeName:b,itemInContentAttributeName:c,createNewContent:v,prepareSpareContent:q,updateContentForItem:m,compareContent:tf.GeoFences.CompareFences})})()};
tf.GeoFences.ListViewTargetListsCombo=function(a){function c(a,c){d.SetSelectedItem(a);b.SetSelectedItem(a);c&&e.SetMapExtentFromItem(a)}var e,d,b,g,f;this.OnCreated=function(a){return b.OnCreated(a)};this.UpdateForMapType=function(){g.UpdateForMapType();d.UpdateForMapType()};this.OnVisibilityChange=function(a){b.OnVisibilityChange(a);d.OnVisibilityChange(a)};this.AddTargetList=function(a,b){return g.AddTargetList(a,b)};this.SetCurrentTargetList=function(a){g.SetCurrentTargetList(a);b.UpdateCounts(g.GetCurrentTargetsByFence())};
f=new tf.GeoFences.CSSClasses(a);e=new tf.GeoFences.FenceList(tf.js.ShallowMerge(a,{getStyle:function(b,c){a.appContent.GetIsShowingAerial();var e=c.GetIsDisplayingInHover(),f=d.GetSelectedMapFeature()==c,g=tf.TFMap.LayoutSettings.darkTextColor,p=f?10:e?20:0;return[{fill:!1,line:!0,line_width:7,line_color:g,zindex:p++},{fill:!1,line:!0,line_width:5,line_color:e?"#f00":"#F0C789",zindex:p++},{fill:!1,line:!0,line_width:15,line_color:g,line_join:"bevel",line_cap:"butt",line_dash:[6,11],zindex:p++},{fill:!1,
line:!0,line_width:13,line_color:f?"#f00":"#FFDEAD",line_join:"bevel",line_cap:"butt",line_dash:[4,13],zindex:p++}]}}));d=new tf.GeoFences.FencesMapFeatures(tf.js.ShallowMerge(a,{list:e,onMapFeatureClick:function(a){a=a.item;d.GetSelectedItem()==a?c(void 0):c(a,!1)}}));b=new tf.GeoFences.FenceListView(tf.js.ShallowMerge(a,{list:e,cssClasses:f,onItemClick:function(a){a=a.item;b.GetSelectedItem()==a?c(void 0):c(a,!0)}}));g=new tf.GeoFences.TargetLists(tf.js.ShallowMerge(a,{list:e}));g.AddCountChangeListener(function(a){b.UpdateCounts(g.GetCurrentTargetsByFence())})};
tf.GeoFenceApp={};
tf.GeoFenceApp.Content=function(a){var c,e;this.OnCreated=function(a){return e.OnCreated(a)};this.OnVisibilityChange=function(a){e&&e.OnVisibilityChange(a);c&&c.OnVisibilityChange(a)};this.UpdateForMapType=function(){e&&e.UpdateForMapType();c&&c.UpdateForMapType()};(function(){var c=a.appContent.GetAppStyles(),b=a.customAppContentI,c=b.createTitleDescSVGLogo(a.panelName,a.appDesc,c.GetPoweredByTerraFlySVGForMap()),e=b.createNonScrollContent();e.AddContent(c.wrapper);b.getContentWrapper().AddContent(e)})();e=
new tf.GeoFences.ListViewTargetListsCombo(a);c=new tf.Transit.BusRTAndHistoryContent(tf.js.ShallowMerge(a,{startWithHistory:a.startWithHistory,showRT:a.showRT,showHistory:a.showHistory,layerZIndex:a.layerZIndex}));e.AddTargetList("rttargets",c.GetRTContent());e.AddTargetList("historytargets",c.GetHistoryContent());c.AddListChangeListener(function(a){e.SetCurrentTargetList(c.GetIsShowingRT()?"rttargets":"historytargets")});e.SetCurrentTargetList(c.GetIsShowingRT()?"rttargets":"historytargets")};
tf.GeoFenceApp.App=function(a){var c,e;a.showHistory||(a.showRT=!0);c=new tf.TFMap.CustomApp(tf.js.ShallowMerge(a,{onVisibilityChange:function(a){e&&e.OnVisibilityChange(a)},updateForMapType:function(){e&&e.UpdateForMapType()},appName:"GeoFences",sidePanelWidthInt:340,sidePanelWidthSmallInt:240,onContentSetInterface:function(d){e=new tf.GeoFenceApp.Content({appContent:c.GetTFMapApp().GetContent(),customAppContentI:d,panelName:"GeoFences",appDesc:"Applied to Miami Dade Transit<br/>Real time and Recent vehicle activity",
startWithHistory:a.startWithHistory,showHistory:a.showHistory,showRT:a.showRT})},onCreated:function(a){e.OnCreated(a)},onParametersParsed:function(a){a=a.mapSettings;a.panels=tf.urlapi.AddStringsWithSeparatorsIfAbsent(a.panels,[tf.consts.panelNameMeasure,tf.consts.panelNameDownload])}}))};tf.GTFS={};tf.GTFS.DumpKL=function(a){a=a.GetKeyedItemList();for(var c in a){var e=a[c].GetData();console.log(e)}};
tf.GTFS.CSSClasses=function(a){function c(){var b=a.appContent.GetAppStyles(),c=b.GetCSSClasses(),e=b.GetIsSmallScreen(),b=[],f=tf.TFMap.LayoutSettings,g={inherits:[c.pointerEventsNone,c.overflowHidden,c.whiteSpaceNoWrap,c.textOverflowEllipsis],verticalAlign:"middle"},h=c.displayInlineBlock,k={inherits:[c.noMarginNoBorderNoPadding,c.positionRelative,c.displayBlock,c.overflowHidden],padding:"1px",borderRadius:"0px",width:"calc(100% - 2px)"};b[d.itemWrapperClassName]={inherits:[k]};b[d.itemRowWrapperClassName]=
{inherits:[k,c.pointerEventsNone],backgroundColor:"cornflowerblue",borderTop:"1px solid navy"};b[d.itemWrapperClassName+":hover"]={backgroundColor:"rgba(0, 0, 0, 0.1)"};b[d.itemWrapperSelectedClassName]={backgroundColor:"cornflowerblue"};b[d.itemWrapperSelectedClassName+":hover"]={backgroundColor:"royalblue"};k={inherits:[c.noMarginNoBorderNoPadding,c.transparentImageButton,c.backgroundColorTransparent,c.displayBlock,c.positionAbsolute],borderRadius:"0px"};b[d.itemButtonClassName]={inherits:[k],left:"4px",
top:"3px",width:"calc(100% - 8px)",height:"calc(100% - 6px)",backgroundColor:"white"};b[d.topToolBarCellButton]={inherits:[k,c.backgroundColorTransparent,c.pointerEventsAll],left:"0px",top:"0px",width:"calc(100% - 0px)",height:"calc(100% - 0px)"};b[d.itemContentWrapperClassName]={inherits:[c.noMarginNoBorderNoPadding,c.positionRelative,c.transparentImageButton,c.backgroundColorTransparent,c.displayBlock,c.pointerEventsNone],color:"black",fontWeight:"600",textShadow:"none",marginTop:"5px",marginLeft:"2px",
marginRight:"2px",borderRadius:"2px",lineHeight:"0px",width:"calc(100% - 4px)"};b[d.itemTitleClassName]={inherits:[c.noMarginNoBorderNoPadding,c.positionRelative,c.displayBlock,c.darkTextShadow,g,c.whiteSpaceNormal],textAlign:"left",paddingLeft:"4px",paddingRight:"4px",margin:"3px",width:"auto",color:"#444",background:"beige",fontSize:f.itemInListTitletFontSizeInt+"px",lineHeight:f.itemInListTitleLineHeightInt+1+"px"};b[d.itemTitleSubClassName]={inherits:[b[d.itemTitleClassName]],background:"white",
borderTop:"1px solid darkgray",paddingTop:"2px",fontSize:f.itemInListTitletFontSizeInt-1+"px",lineHeight:f.itemInListTitleLineHeightInt+"px"};b[d.itemWrapperSelectedClassName+" ."+d.itemTitleClassName]={fontSize:f.itemInListTitletFontSizeInt+2+"px",lineHeight:f.itemInListTitleLineHeightInt+3+"px",textAlign:"center"};b[d.itemCountClassName]={inherits:[b[d.itemTitleClassName]]};b[d.itemToolBarClassName]={inherits:[c.noMarginNoBorderNoPadding,c.backgroundColorTransparent,h],borderRadius:"0px",left:"0px",
top:"0px",width:"auto",paddingLeft:"4px",paddingRight:"4px",lineHeight:f.itemInListTitleLineHeightInt+"px","float":"right"};b[d.itemRowToolBarClassName]={inherits:[c.noMarginNoBorderNoPadding,c.backgroundColorTransparent,h],borderRadius:"0px",left:"0px",top:"0px",width:"auto",padding:"4px",lineHeight:f.itemInListTitleLineHeightInt+"px"};b[d.itemToolBarTextButton]={inherits:[c.noMarginNoBorderNoPadding,c.transparentImageButton,c.backgroundColorTransparent,h,c.pointerEventsAll],borderRadius:"2px",border:"1px solid "+
f.darkTextColor,marginLeft:"2px",marginRight:"2px",padding:"2px",fontSize:f.itemInListTitletFontSizeInt-2+"px",lineHeight:f.itemInListTitleLineHeightInt-4+"px"};b[d.itemToolBarFixWidthTextButton]={backgroundColor:"white",color:"black",minWidth:(e?36:56)+"px",textShadow:"1px 1px 2px gray"};b[d.itemToolBarFixWidthTextButtonWide]={backgroundColor:"white",color:"black",minWidth:(e?46:66)+"px",textShadow:"1px 1px 2px gray"};e={minWidth:"1px",width:"auto",height:"24px",padding:"0",verticalAlign:"middle",
listStyle:"none",overflow:"hidden"};b[d.emailPasswordInputClassName]={inherits:[{inherits:[c.robotoFontFamily,e,c.positionRelative,c.displayFlex,c.flexGrowOne,c.flexShrinkOne,c.pointerEventsAll],color:"inherit",outline:"none",border:"none",fontSize:"16px",paddingLeft:"4px",paddingRight:"4px",marginLeft:"1px",marginRight:"1px",borderLeft:"2px solid transparent",borderRight:"2px solid transparent",background:"white",lineHeight:"24px"}]};g={inherits:[c.noMarginNoBorderNoPadding,c.positionRelative,c.displayFlex,
c.flexFlowRowNoWrap,c.overflowHidden,c.pointerEventsAll],width:"100%",borderRadius:"3px",marginBottom:"1px"};b[d.agenciesSelectClassName]={inherits:[g,c.robotoFontFamily,e],color:"inherit",outline:"none",border:"none",fontSize:"16px",paddingLeft:"4px",paddingRight:"4px",margin:"4px",borderLeft:"2px solid transparent",borderRight:"2px solid transparent",background:"white",width:"calc(100% - 8px)",fontSize:f.itemInListTitletFontSizeInt+1+"px",lineHeight:f.itemInListTitleLineHeightInt+1+"px",borderRadius:"3px"};
b[d.emailPasswordWrapper]={inherits:[g,c.pointerEventsAll],paddingBottom:"3px"};b[d.topBotPaddedRowWrapper]={inherits:[g,c.pointerEventsAll],paddingTop:"3px",paddingBottom:"3px"};b[d.signInButtonsWrapper]={inherits:[g]};b[d.emailPasswordStatus]={inherits:[c.noMarginNoBorderNoPadding,c.positionRelative,c.displayBlock,c.overflowHidden,c.textOverflowEllipsis,c.flexFlowRowNoWrap,c.flexGrowOne,c.flexShrinkOne],backgroundColor:"royalblue",textShadow:"1px 1px 2px black",color:"white",minWidth:"1px",width:"calc(100% - 8px)",
padding:"4px",fontSize:"12px",lineHeight:"14px",fontWeight:"500",textAlign:"center",borderTop:"1px solid azure",borderBottom:"1px solid navajowhite"};b[d.signInButtonClassName]={inherits:[c.transparentImageButton,c.noMarginNoBorderNoPadding,c.backgroundColorTransparent,c.positionRelative,c.displayBlock,c.flexFlowRowNoWrap,c.flexGrowOne,c.flexShrinkOne],borderRadius:"2px",backgroundColor:"royalblue",textShadow:"1px 1px 2px black",color:"white",minWidth:"1px",width:"calc(100% - 2px)",padding:"4px",
fontSize:"14px",lineHeight:"16px",fontWeight:"500",textAlign:"center",paddingTop:"6px",marginBottom:"1px",borderBottom:"1px solid transparent"};b[d.signedInButtonClassName]={inherits:[c.transparentImageButton,c.noMarginNoBorderNoPadding,c.backgroundColorTransparent,c.positionRelative,c.displayInlineBlock,c.flexFlowRowNoWrap,c.flexGrowOne,c.flexShrinkOne,c.pointerEventsAll],borderRadius:"6px",backgroundColor:"royalblue",textShadow:"1px 1px 2px black",color:"white",minWidth:"1px",padding:"4px",fontSize:"12px",
lineHeight:"14px",fontWeight:"500",textAlign:"center",paddingTop:"6px",marginLeft:"2px",marginRight:"2px",marginBottom:"1px",borderBottom:"1px solid transparent"};b[d.signInButtonClassName+":hover"]={textDecoration:"underline"};b[d.signedInButtonClassName+":hover"]={textDecoration:"underline"};b[d.fileInputClassName]={inherits:[c.noMarginNoBorderNoPadding,c.overflowHidden,c.positionAbsolute,c.pointerEventsAll],width:"0.1px",height:"0.1px",zIndex:"-1"};b[d.contentWrapper]={inherits:[c.noMarginNoBorderNoPadding,
c.positionRelative,c.displayFlex,c.flexFlowColumnNoWrap],alignItems:"center",background:"rgb(30,144,255)"};b[d.horContentWrapper]={inherits:[c.noMarginNoBorderNoPadding,c.positionRelative,c.displayFlex,c.flexFlowRowNoWrap],background:"rgb(30,144,255)",padding:"2px",width:"calc(100% - 4px)"};b[d.chatBoxList]={inherits:[c.noMarginNoBorderNoPadding,c.positionRelative,c.listStyleTypeNone,c.listStyleNone,c.pointerEventsAll],border:"1px solid navajowhite",overflowX:"hidden",overflowY:"auto",margin:"2px",
width:"calc(100% - 10px)",backgroundColor:"darkgray",padding:"1px",height:"200px"};b[d.chatBoxItemWrapper]={inherits:[c.noMarginNoBorderNoPadding,c.positionRelative,c.pointerEventsAll,c.overflowVisible,c.displayFlex,c.flexFlowRowNoWrap],textAlign:"left",alignItems:"flex-end",marginBottom:"2px",width:"100%",backgroundColor:"transparent",borderBottom:"1px solid gray"};b[d.chatBoxMessage]={inherits:[c.noMarginNoBorderNoPadding,c.positionRelative,c.pointerEventsAll,c.overflowHidden,c.displayInlineBlock],
userSelect:"text",padding:"4px",paddingTop:"10px",paddingBottom:"10px",fontWeight:"500",width:"calc(100%)",lineHeight:"18px",fontSize:"14px",backgroundColor:"white",color:"black"};e={inherits:[c.noMarginNoBorderNoPadding,c.positionAbsolute,c.pointerEventsAll,c.overflowHidden,c.displayInlineBlock],border:"1px solid gray",top:"100%",transform:"translateY(-50%)",padding:"1px",paddingLeft:"4px",paddingRight:"4px",borderRadius:"4px",lineHeight:"12px",fontSize:"11px",color:"black",zIndex:"1",backgroundColor:"white"};
b[d.chatBoxMessageDate]={inherits:[e],right:"4px"};b[d.chatBoxMessageEmail]={inherits:[e],left:"4px"};b[d.fullEditorClassName]={inherits:[c.positionAbsolute,c.leftTopZero,c.displayBlock,c.WHOneHundred],backgroundColor:f.lightBackground,zIndex:"50"};b[d.emptyBlockDivClassName]={inherits:[c.positionRelative,c.displayBlock,c.overflowVisible,c.pointerEventsAll,c.noMarginNoBorderNoPadding]};b[d.attributeNameClassName]={marginLeft:"2px",marginRight:"2px",padding:"2px",backgroundColor:"white",color:"black",
fontWeight:"600",fontSize:f.itemInListTitletFontSizeInt-2+"px",lineHeight:f.itemInListTitleLineHeightInt-4+"px"};b[d.attributeValueClassName]={marginLeft:"2px",marginRight:"2px",padding:"2px",backgroundColor:"#037",color:"white",fontSize:f.itemInListTitletFontSizeInt-1+"px",lineHeight:f.itemInListTitleLineHeightInt+1+"px"};b[d.attributeValueClassName+" a:link"]=b[d.attributeValueClassName+" a:hover"]=b[d.attributeValueClassName+" a:active"]={backgroundColor:"#037",color:"white"};b[d.attributeValueClassName+
" a:visited"]={backgroundColor:"#037",color:"lightgray"};b[d.attributeDescClassName]={borderBottom:"1px solid "+f.darkTextColor,marginLeft:"2px",marginRight:"2px",backgroundColor:"white",color:"black",padding:"2px",fontSize:f.itemInListTitletFontSizeInt-2+"px",lineHeight:f.itemInListTitleLineHeightInt-4+"px"};b[d.rowPromptClassName]={margin:"auto",textAlign:"center",padding:"2px",backgroundColor:"white",color:"black",fontWeight:"600",minWidth:"70px",fontSize:f.itemInListTitletFontSizeInt-2+"px",lineHeight:f.itemInListTitleLineHeightInt-
4+"px"};return b}var e,d,b,g,f,k,h,l,n;this.SetTLFIsExpanded=function(a,b){b?(n!=a&&void 0!=n&&n.SetIsExpanded(!1),n=a):n==a&&(n=void 0)};this.CreateFullRowControlWrapper=function(){var a=new tf.dom.Div({cssClass:d.topBotPaddedRowWrapper}),b=a.GetHTMLElement().style;b.borderTop="1px solid navy";b.backgroundColor="beige";return a};this.CreateButtons=function(a,b,c){var d={},e;for(e in a){var f=a[e],g=new tf.dom.Button({cssClass:b,onClick:f.handler}),h={button:g,settings:f};h.rename=function(a,b){return function(c){c=
tf.js.GetNonEmptyString(c,b.settings.innerHTML);b.settings.innerHTML=a.GetButton().innerHTML=c}}(g,h);d[e]=h;h.rename(f.innerHTML);c.AddContent(g.GetButton())}return d};this.GetIsEmailValid=function(a){return b.test(tf.js.GetNonEmptyString(a,""))};this.ValidatePassword=function(a){var b=!1,c="";if((a=tf.js.GetNonEmptyString(a,""))&&a.length>=g){var b=f.test(a),c=k.test(a),d=h.test(a);a=l.test(a);c=(b=3<=b+c+d+a)?"password valid":"password must contain upper and lower case <br />letters and at least one symbol or digit"}else c=
"password must contain at least "+g+" characters";return{ok:b,message:c}};this.CreateEmailPasswordGroup=function(b,c,d,e,f,g){var h=a.cssClasses.GetClassNames(),k=new tf.dom.Div({cssClass:h.emailPasswordWrapper});b={onChange:void 0,onGo:b,className:h.emailPasswordInputClassName,maxLength:100};e=tf.js.ShallowMerge({placeHolder:e},b);f=tf.js.ShallowMerge({placeHolder:f},b);b=new tf.TFMap.InputBox(e);var h=new tf.TFMap.InputBox(f),l=b.GetInputBox(),n=h.GetInputBox();e.nextFocusTarget=e.prevFocusTarget=
n;f.nextFocusTarget=f.prevFocusTarget=l;g=!!g;c&&(l.id=c);d&&(n.id=d);n.type="password";l.autocomplete=g?"on":"off";n.autocomplete=g?"on":"new-password";k.AddContent(l,n);return{wrapper:k,emailInput:b,passwordInput:h}};this.GetClassNames=function(){return d};this.GetContentWrapperDisplayVisibleVerb=function(){return"block"};this.SetAbsoluteScrollWrapperStyles=function(a){a=a.GetHTMLElement().style;a.position="absolute";a.left=a.top="0px";a.width="100%";a.height="100%";a.padding="0px"};this.CreateTLF=
function(b){var c=a.customAppContentI,f=c.getClassNames(),f=c.createNonScrollVariableHeightContent(f.minHeightPaneClassName+" "+f.zIndexListItem),g=c.createMainToolBar(),h=c.createFooter(),k=c.createVertScrollWrapperAndContentWithFade(),l=new tf.dom.Button({cssClass:d.topToolBarCellButton+" ripple",onClick:void 0}),n;g.content.AddContent(l.GetButton());f.AddContent(g.wrapper);f.GetHTMLElement().style.overflow="visible";b.absoluteScrollers?(n=c.createNonScrollVariableHeightContent(d.minHeightListClassName),
e.SetAbsoluteScrollWrapperStyles(k.scrollWrapper),n.AddContent(k.scrollWrapper),f.AddContent(n)):f.AddContent(k.scrollWrapper);f.AddContent(h.wrapper);return{cellButton:l,wrapper:f,toolBar:g,scrollWrapperContainer:n,scrollWrapper:k.scrollWrapper,scrollContent:k.scrollContent,footer:h}};this.CreateVertScrollWrapperAndContentWithFade=function(){return a.customAppContentI.createVertScrollWrapperAndContentWithFade()};e=this;b=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
f=/[A-Z]/;k=/[a-z]/;h=/\d/;l=/\W/;g=8;a.customAppContentI.getContentWrapper().GetHTMLElement().style.backgroundColor="azure";d={chatBoxItemWrapper:tf.TFMap.CreateClassName("GTFSClasses","ChatBoxItemWrapper"),chatBoxMessage:tf.TFMap.CreateClassName("GTFSClasses","ChatBoxMessage"),chatBoxMessageDate:tf.TFMap.CreateClassName("GTFSClasses","ChatBoxMessageDate"),chatBoxMessageEmail:tf.TFMap.CreateClassName("GTFSClasses","ChatBoxMessageEmail"),chatBoxList:tf.TFMap.CreateClassName("GTFSClasses","ChatBoxList"),
fileInputClassName:tf.TFMap.CreateClassName("GTFSClasses","FileInput"),fileLabelClassName:tf.TFMap.CreateClassName("GTFSClasses","FileLabel"),itemWrapperClassName:tf.TFMap.CreateClassName("GTFSClasses","ItemWrapper"),itemWrapperSelectedClassName:tf.TFMap.CreateClassName("GTFSClasses","ItemWrapperSelected"),itemContentWrapperClassName:tf.TFMap.CreateClassName("GTFSClasses","ItemContentWrapper"),itemTitleClassName:tf.TFMap.CreateClassName("GTFSClasses","ItemTitle"),itemTitleSubClassName:tf.TFMap.CreateClassName("GTFSClasses",
"ItemTitleSub"),itemCountClassName:tf.TFMap.CreateClassName("GTFSClasses","itemCount"),itemButtonClassName:tf.TFMap.CreateClassName("GTFSClasses","ItemButton"),itemToolBarClassName:tf.TFMap.CreateClassName("GTFSClasses","ItemToolBar"),itemToolBarTextButton:tf.TFMap.CreateClassName("GTFSClasses","ItemToolBarTextButton"),itemToolBarFixWidthTextButtonWide:tf.TFMap.CreateClassName("GTFSClasses","ItemToolBarTextButtonWide"),topToolBarCellButton:tf.TFMap.CreateClassName("GTFSClasses","TopBarCellButton"),
itemRowWrapperClassName:tf.TFMap.CreateClassName("GTFSClasses","ItemRowWrapper"),itemRowToolBarClassName:tf.TFMap.CreateClassName("GTFSClasses","ItemRowToolBar"),agenciesSelectClassName:tf.TFMap.CreateClassName("GTFSClasses","AgenciesSelect"),attributeNameClassName:tf.TFMap.CreateClassName("GTFSClasses","AttributeNameClassName"),attributeValueClassName:tf.TFMap.CreateClassName("GTFSClasses","AttributeValueClassName"),attributeDescClassName:tf.TFMap.CreateClassName("GTFSClasses","AttributeDescClassName"),
rowPromptClassName:tf.TFMap.CreateClassName("GTFSClasses","RowPromptClassName"),contentWrapper:tf.TFMap.CreateClassName("GTFSClasses","ContentWrapper"),horContentWrapper:tf.TFMap.CreateClassName("GTFSClasses","HorContentWrapper"),signInButtonClassName:tf.TFMap.CreateClassName("GTFSClasses","signInButton"),signedInButtonClassName:tf.TFMap.CreateClassName("GTFSClasses","signedInButton"),signInButtonsWrapper:tf.TFMap.CreateClassName("GTFSClasses","SignInButtonsWrapper"),topBotPaddedRowWrapper:tf.TFMap.CreateClassName("GTFSClasses",
"topBotPaddedRowWrapper"),emailPasswordWrapper:tf.TFMap.CreateClassName("GTFSClasses","EmailPasswordWrapper"),emailPasswordStatus:tf.TFMap.CreateClassName("GTFSClasses","EmailPasswordStatus"),emailPasswordInputClassName:tf.TFMap.CreateClassName("GTFSClasses","InputEmailPassword"),emptyBlockDivClassName:tf.TFMap.CreateClassName("GTFSClasses","EmptyDivBlock"),fullEditorClassName:tf.TFMap.CreateClassName("GTFSClasses","FullEditor")};tf.styles.CreateCSSClasses(c());a.appContent.GetAppStyles().AddOnLayoutChangeListener(function(a){tf.styles.CreateCSSClasses(c())})};
tf.GTFS.TLF=function(a){function c(){var a=d&&!b;g.wrapper.GetHTMLElement().style.display=a?f?"flex":"block":"none"}var e,d,b,g,f;this.AddScrollArea=function(){var b=a.cssClasses.CreateVertScrollWrapperAndContentWithFade();g.scrollWrapperContainer?(a.cssClasses.SetAbsoluteScrollWrapperStyles(b.scrollWrapper),g.scrollWrapperContainer.AddContent(b.scrollWrapper)):g.wrapper.InsertContentBefore(b.scrollWrapper,g.footer.wrapper);return b};this.SetIsVisible=function(a){d!=(a=!!a)&&(d=a,c())};this.SetIsHidden=
function(a){b!=(a=!!a)&&(b=a,c())};this.Get=function(){return g};this.GetIsExpanded=function(){return f};this.SetIsExpanded=function(c){if(f!=(c=!!c)){f=c;a.cssClasses.SetTLFIsExpanded(e,f);c=f?"block":"none";var h=f?"flex":"none",l=g.wrapper.GetHTMLElement();g.footer.wrapper.GetHTMLElement().style.display=c;a.noScrollWrapperVisibility||(g.scrollWrapper.GetHTMLElement().style.display=h);!b&&d&&(l.style.display=f?"flex":"block");l.style.overflow=f?"visible":"hidden";l.style.minHeight="0px";l.style.flexGrow=
"0";l.style.borderBottom="1px solid gray";g.scrollWrapper.GetHTMLElement().style.minHeight="0px";if(tf.js.GetFunctionOrNull(a.onToggleExpanded))a.onToggleExpanded({sender:e})}};this.ToggleIsExpanded=function(){e.SetIsExpanded(!e.GetIsExpanded())};e=this;g=a.cssClasses.CreateTLF({absoluteScrollers:a.absoluteScrollers});g.cellButton.SetOnClick(e.ToggleIsExpanded);a.customAppContentI.getContentWrapper().AddContent(g.wrapper);e.SetIsHidden(a.isHidden);e.SetIsVisible(a.isVisible);e.SetIsExpanded(a.isExpanded)};
tf.GTFS.TextButtonRow=function(a){var c;this.Show=function(a){c.wrapper.GetHTMLElement().style.display=a?"flex":"none"};this.GetAllContent=function(){return c};(function(){var e=a.cssClasses,d=e.GetClassNames(),b=new tf.dom.Div({cssClass:d.topBotPaddedRowWrapper}),e=e.CreateButtons(a.buttonSpecs,d.signedInButtonClassName,b);c={wrapper:b,buttons:e}})()};
tf.GTFS.ModifyCancelTextButonRow=function(a){function c(c){if(tf.js.GetFunctionOrNull(a.onModify))a.onModify({sender:e,confirmed:c})}var e;this.Rename=function(a,b){var c=e.GetAllContent().buttons;c.modify.rename(a);c.cancel.rename(b)};e=this;(function(){tf.GTFS.TextButtonRow.call(e,tf.js.ShallowMerge(a,{buttonSpecs:{modify:{innerHTML:"Modify",handler:function(){c(!0)}},cancel:{innerHTML:"Cancel",handler:function(){c(!1)}}}}))})()};tf.js.InheritFrom(tf.GTFS.ModifyCancelTextButonRow,tf.GTFS.TextButtonRow);
tf.GTFS.IsAdminButtonRow=function(a){function c(){var a="administrator?&nbsp;&nbsp;"+(d?"YES":"NO"),a=void 0==b?d?a+"&nbsp;&nbsp;( CHANGE )":a+"&nbsp;&nbsp;( default )":d==b?a+"&nbsp;&nbsp;( unchanged )":a+"&nbsp;&nbsp;( CHANGE )";e.GetAllContent().buttons.isadmin.rename(a)}var e,d,b;this.SetIsAdmin=function(a){b=d=a;c()};this.GetIsAdmin=function(){return d};e=this;(function(){tf.GTFS.TextButtonRow.call(e,tf.js.ShallowMerge(a,{buttonSpecs:{isadmin:{innerHTML:"",handler:function(){d=!d;c()}}}}))})()};
tf.js.InheritFrom(tf.GTFS.ModifyCancelTextButonRow,tf.GTFS.TextButtonRow);
tf.GTFS.EmailPasswordInputs=function(a){function c(){var c=b.GetEmailPasswordStrs(),d=a.cssClasses.GetIsEmailValid(c.email),c=a.cssClasses.ValidatePassword(c.password);if(d!=f||c.ok!=k.ok||c.message!=k.message)if(f=d,k=c,tf.js.GetFunctionOrNull(a.onHasEmailPasswordChange))a.onHasEmailPasswordChange({sender:b})}function e(c){if(tf.js.GetFunctionOrNull(a.onGo))a.onGo({sender:b})}function d(a){c()}var b,g,f,k;this.Reset=function(){g.emailInput.SetText("");g.passwordInput.SetText("");c()};this.GetAllContent=
function(){return g};this.SetFocusToEmail=function(){g.emailInput.GetInputBox().focus()};this.GetEmailStr=function(){return g.emailInput.GetText()};this.GetPasswordStr=function(){return g.passwordInput.GetText()};this.GetEmailPasswordStrs=function(){var a=b.GetEmailStr(),c=b.GetPasswordStr();return{both:f&&k.ok,hasValidEmail:f,hasValidPassword:k.ok,passwordMessage:k.message,email:a,password:c,hasAnyEmail:0<a.length,hasAnyPassword:0<c.length}};b=this;(function(){var b=a.cssClasses.GetClassNames(),
c=new tf.dom.Div({cssClass:b.emailPasswordWrapper}),f={onChange:d,onGo:e,className:b.emailPasswordInputClassName,maxLength:100},b=tf.js.ShallowMerge({placeHolder:tf.js.GetNonEmptyString(a.emailPlaceHolder,"")},f),f=tf.js.ShallowMerge({placeHolder:tf.js.GetNonEmptyString(a.passwordPlaceHolder,""),type:"password"},f),k=new tf.TFMap.InputBox(b),p=new tf.TFMap.InputBox(f),q=k.GetInputBox(),r=p.GetInputBox(),A=!!a.autoComplete;b.nextFocusTarget=b.prevFocusTarget=r;f.nextFocusTarget=f.prevFocusTarget=q;
a.emailId&&(q.id=a.emailId);a.passwordId&&(r.id=a.passwordId);q.autocomplete=A?"on":"off";r.autocomplete=A?"on":"new-password";c.AddContent(q,r);g={wrapper:c,emailInput:k,passwordInput:p}})();f=!1;k=a.cssClasses.ValidatePassword("");c()};
tf.GTFS.AgencyPrefixInput=function(a){function c(){var b=f.GetPrefixStr(),b=e(b);if(b.ok!=h.ok||b.message!=h.message)if(h=b,tf.js.GetFunctionOrNull(a.onPrefixChange))a.onPrefixChange({sender:f})}function e(a){var b=(a=tf.js.GetIsStringWithMinLength(a,l)&&a.length<=n)?"":g();return{ok:a,message:b}}function d(b){if(tf.js.GetFunctionOrNull(a.onGo))a.onGo({sender:f})}function b(a){c()}function g(){return"enter prefix ("+l+" to "+n+" characters)"}var f,k,h,l,n;this.Show=function(a){k.wrapper.GetHTMLElement().style.display=
a?"flex":"none"};this.Reset=function(){k.prefixInput.SetText("");c()};this.GetAllContent=function(){return k};this.SetFocusToPrefix=function(){k.prefixInput.GetInputBox().focus()};this.GetPrefixStr=function(){return k.prefixInput.GetText().toUpperCase()};this.GetPrefixStatus=function(){var a=f.GetPrefixStr();return{prefix:a,hasValidPrefix:h.ok,prefixMessage:h.message,hasAnyPrefix:0<a.length}};f=this;n=8;l=3;(function(){var c=a.cssClasses.GetClassNames(),e=new tf.dom.Div({cssClass:c.emailPasswordWrapper}),
c={onChange:b,onGo:d,className:c.emailPasswordInputClassName,maxLength:n,style:"text-transform:uppercase"},c=tf.js.ShallowMerge({placeHolder:tf.js.GetNonEmptyString(a.prefixPlaceHolder,g())},c),c=new tf.TFMap.InputBox(c),f=c.GetInputBox();f.autocomplete="off";e.AddContent(f);k={wrapper:e,prefixInput:c}})();h=e("");c()};
tf.GTFS.AutoHideStatus=function(a){var c,e,d,b;this.GetAllContent=function(){return e};this.Show=function(a,d,k){var h=e.statusWrapper.GetHTMLElement(),l=h.style;if(a=!!a)h.innerHTML=d||"";l.display=a?"block":"none";if(b=a)k||c.HideDelayed()};this.GetIsShowing=function(){return b};this.HideDelayed=function(){d.DelayCallBack()};this.HideNow=function(){d.CancelCallBack();c.Show(!1)};c=this;(function(){var b=a.cssClasses.GetClassNames(),b=new tf.dom.Div({cssClass:b.emailPasswordStatus});b.GetHTMLElement().style.backgroundColor=
"firebrick";e={statusWrapper:b}})();c.Show(!1);d=new tf.events.DelayedCallBack(5E3,c.HideNow,c)};
tf.GTFS.UserModifyControl=function(a){function c(a){}function e(){if(b.changeEmailPassword.GetEmailPasswordStrs()){if(tf.js.GetFunctionOrNull(a.onGo))a.onGo({sender:d})}else console.log("on go failed")}var d,b;this.GetIsAdmin=function(){return b.isAdminButtonRow.GetIsAdmin()};this.GetEmailPasswordStrs=function(){return b.changeEmailPassword.GetEmailPasswordStrs()};this.Show=function(a,c){if(a=!!a)b.isAdminButtonRow.SetIsAdmin(c?c.isAdmin:void 0),b.changeEmailPassword.Reset();b.wrapper.GetHTMLElement().style.display=
a?"block":"none";a&&d.SetFocusToEmail()};this.SetFocusToEmail=function(){b.changeEmailPassword.SetFocusToEmail()};this.GetAllContent=function(){return b};d=this;(function(){var d=a.cssClasses.GetClassNames(),d=new tf.dom.Div({cssClass:d.itemRowWrapperClassName}),f=new tf.GTFS.EmailPasswordInputs(tf.js.ShallowMerge(a,{onGo:e,emailPlaceHolder:"enter new email address",passwordPlaceHolder:"enter new password",autoComplete:!1,onHasEmailPasswordChange:c})),k=new tf.GTFS.IsAdminButtonRow(tf.js.ShallowMerge(a,
{}));d.AddContent(f.GetAllContent().wrapper,k.GetAllContent().wrapper);b={changeEmailPassword:f,isAdminButtonRow:k,wrapper:d}})()};
tf.GTFS.ListSelectedContent=function(a){function c(b){if(a.onAttachDetach)a.onAttachDetach({sender:h,isAttached:b})}function e(a,b){var c=l.titleWrapper.GetHTMLElement(),d=c.style;if(a=!!a)c.innerHTML=b||"";d.display=a?"block":"none"}function d(a){l.toolBar.GetHTMLElement().style.display=a?"block":"none"}function b(){var b=a.verbs;if(void 0!=b[m]&&tf.js.GetFunctionOrNull(b[m].onShow))b[m].onShow(!1);m=void 0;e(!1);l.modifyCancelRow.Show(!1);l.autoHideStatus.GetIsShowing()&&l.autoHideStatus.HideDelayed();
d(!0)}function g(){return m}function f(){return settins.verbs}function k(){var c=a.apiClient.GetAuth().isAdmin?"inline-block":"none";b();for(var d in l.buttons){var e=l.buttons[d];e.verb.isAdmin&&(e.button.GetButton().style.display=c)}}var h,l,n,m;this.GetAllContent=function(){return l};this.GetCurrentContent=function(){return n};this.AttachTo=function(d){h.DetachIfAttached();if(d&&d.wrapper){l.autoHideStatus.HideNow();n=d;if(a.onContentChange)a.onContentChange({});b();n.wrapper.AddContent(l.wrapper);
c(!0)}};this.DetachIfAttached=function(){n&&(l.autoHideStatus.HideNow(),n.wrapper.RemoveContent(l.wrapper),n=void 0,c(!1))};h=this;(function(){var b=a.appContent,c=a.cssClasses.GetClassNames(),f=new tf.dom.Div({cssClass:c.itemRowWrapperClassName}),g=new tf.dom.Div({cssClass:c.itemRowToolBarClassName}),h={wrapper:a.toolTipWrapper,offsetY:-4,onClick:void 0,onHover:void 0,delayMillis:0,toolTipClass:"*start",toolTipArrowClass:"top"},k={},n=a.verbs;g.GetHTMLElement().style.textAlign="right";for(var u in n){var B=
n[u],E=tf.TFMap.CreateSVGButton(b,tf.js.ShallowMerge(h,{onClick:function(b){return function(){var c=a.verbs;l.autoHideStatus.HideNow();l.modifyCancelRow.Show(!1);if(void 0!=c[b])if(c=c[b],tf.js.GetFunctionOrNull(c.onShow))m=b,d(!1),c.onShow(!0),c.noModifyCancel||l.modifyCancelRow.Show(!0);else if(tf.js.GetFunctionOrNull(c.onClick))c.onClick()}}(u)}),void 0,c.itemToolBarTextButton+" "+c.itemToolBarFixWidthTextButton,B.toolTip,void 0,"toolBarEdit");E.GetButton().innerHTML=B.text;g.AddContent(E.GetButton());
k[u]={verb:B,button:E}}b=new tf.GTFS.ModifyCancelTextButonRow(a);b.Show(!1);c=new tf.dom.Div({cssClass:c.emailPasswordStatus});h=new tf.GTFS.AutoHideStatus(a);f.AddContent(g,c,b.GetAllContent().wrapper,h.GetAllContent().statusWrapper);l={autoHideStatus:h,titleWrapper:c,modifyCancelRow:b,toolBar:g,buttons:k,wrapper:f};e(!1)})();a.apiClient.AddAuthListener(k);k();tf.js.GetFunctionOrNull(a.setInterface)&&a.setInterface({getVerbs:f,getCurrentVerb:g,backToToolBar:b,showTitle:e,showToolbar:d})};
tf.GTFS.ListContent=function(a){function c(){var b=a.apiClient.GetAuth();p.SetIsHidden(!b.email)}function e(){var b=a.KL.GetItemCount(),b=0==b?"empty list":b+" "+(1==b?a.itemNameSingle:a.itemNamePlural);p.Get().footer.content.GetHTMLElement().innerHTML=b}function d(a){return q.GetItemFromContent(a)}function b(a){return q.GetContentFromItem(a)}function g(b,c){var d=a.cssClasses.GetClassNames();c?tf.dom.AddCSSClass(b.wrapper,d.itemWrapperSelectedClassName):tf.dom.RemoveCSSClass(b.wrapper,d.itemWrapperSelectedClassName);
if(tf.js.GetFunctionOrNull(a.onSelectedStyleChange))a.onSelectedStyleChange({sender:m,content:b,isSelected:c})}function f(a){if(a=a?a.domObj:void 0)a=a.content,d(a)&&m.SetSelectedContent(a==r?void 0:a)}function k(c){var f,g;if(r){if(h=d(r))f=h.GetData().id;g=A?A.GetCurrentContent():void 0;m.SetSelectedContent(void 0)}A&&A.DetachIfAttached();q.OnKLChange(c);if(void 0!=f){var h=a.KL.GetItem(f);m.SetSelectedContent(b(h));g&&r&&A&&A.AttachTo(r)}setTimeout(e,0)}function h(b,c){g(b,!1);return a.prepareSpareContent(b,
c)}function l(){if(p){var b=p.GetIsExpanded()?"-":"+",b="<b>"+b+"</b>&nbsp;&nbsp;"+a.listTitle;p.Get().listTitleSpan.innerHTML=b}}function n(b){l();if(tf.js.GetFunctionOrNull(a.onToggleExpanded))a.onToggleExpanded(b)}var m,p,q,r,A;this.GetAttachedSelectedContent=function(){return A};this.OnCreated=function(a){};this.OnVisibilityChange=function(a){m.SetIsVisible(a.isVisible)};this.SetIsVisible=function(a){p.SetIsVisible(a)};this.GetTLF=function(){return p};this.SetSelectedContent=function(a){if(a!=
r){if(r){var b=r;r=void 0;g(b,!1);A&&A.DetachIfAttached()}if(r=a)g(r,!0),A&&A.AttachTo(r)}};this.SetSelectedItem=function(a){return m.SetSelectedContent(b(a))};this.GetSelectedContent=function(){return r};this.GetSelectedItem=function(){return d(r)};m=this;(function(){a.appContent.GetAppStyles();var b=a.customAppContentI;b.getToolBarButtonClasses();var c=b.getToolBarSpanClasses();p=new tf.GTFS.TLF(tf.js.ShallowMerge(a,{isVisible:!0,isExpanded:!1,isHidden:!0,onToggleExpanded:n}));var e=p.Get();e.listTitleSpan=
document.createElement("div");e.listTitleSpan.className=c;l();e.footer.content.GetHTMLElement().innerHTML="";e.toolBar.content.AddContent(e.listTitleSpan);a.attachedSelectedContentType&&(b=b.getContentWrapper(),A=new a.attachedSelectedContentType(tf.js.ShallowMerge(a,{toolTipWrapper:b,getItemFromContent:d})))})();(function(){var b=p.Get();q=new tf.TFMap.KeyedListContent({KL:a.KL,wrapper:b.scrollWrapper,contentWrapper:b.scrollContent,contentWrapperDisplayVisibleVerb:"block",contentInItemAttributeName:a.contentInItemAttributeName,
itemInContentAttributeName:a.itemInContentAttributeName,createNewContent:a.createNewContent,prepareSpareContent:h,onContentBecameSpare:a.onContentBecameSpare,updateContentForItem:a.updateContentForItem,compareContent:a.compareContent});a.KL.AddAggregateListener(k)})();a.apiClient.AddAuthListener(c);tf.js.GetFunctionOrNull(a.setInterface)&&a.setInterface({getContentFromItem:b,getItemFromContent:d,onItemClick:f});e();c()};
tf.GTFS.AddDelCancelRow=function(a){function c(c,b){if(tf.js.GetFunctionOrNull(a.onAddDelCancel))a.onAddDelCancel({sender:e,isAdd:c,confirmed:b})}var e;this.Rename=function(a,b,c){var f=e.GetAllContent().buttons;f.add.rename(a);f.del.rename(b);f.cancel.rename(c)};e=this;(function(){tf.GTFS.TextButtonRow.call(e,tf.js.ShallowMerge(a,{buttonSpecs:{add:{innerHTML:"Add",handler:function(){c(!0,!0)}},del:{innerHTML:"Remove",handler:function(){c(!1,!0)}},cancel:{innerHTML:"Cancel",handler:function(){c(!1,
!1)}}}}))})()};tf.js.InheritFrom(tf.GTFS.ModifyCancelTextButonRow,tf.GTFS.TextButtonRow);
tf.GTFS.FileSelectInput=function(a){function c(a){a=e.GetFirstFile();d.fileLabel.innerHTML=a?a.name:g}var e,d,b,g;this.GetAllContent=function(){return d};this.Show=function(a){c();d.fileLabel.htmlFor=b;d.wrapper.GetHTMLElement().style.display=a?"flex":"none"};this.GetFirstFile=function(){var a,b=d.fileInput.files;0<(b?b.length:0)&&(a=b[0]);return a};e=this;g=tf.js.GetNonEmptyString(a.label,"Choose file");(function(){var f=a.cssClasses.GetClassNames(),g=new tf.dom.Div({cssClass:f.topBotPaddedRowWrapper}),
h=document.createElement("input"),l=document.createElement("label");b=tf.dom.CreateDomElementID("file-input");h.id=b;h.type="file";h.accept=tf.js.GetNonEmptyString(a.accept,"*");h.className=f.fileInputClassName;l.className=f.signedInButtonClassName;g.AddContent(h,l);new tf.events.DOMChangeListener({domObj:e,target:h,callBack:c,optionalScope:e,callBackSettings:void 0});d={wrapper:g,fileInput:h,fileLabel:l};e.Show(!1)})()};
tf.GTFS.URLInput=function(a){function c(b){if(tf.js.GetFunctionOrNull(a.onGo))a.onGo({sender:e})}var e,d;this.Show=function(a){d.wrapper.GetHTMLElement().style.display=a?"flex":"none"};this.Reset=function(){d.urlInput.SetText("");checkHasValidPrefix()};this.GetAllContent=function(){return d};this.SetFocus=function(){d.urlInput.GetInputBox().focus()};this.GetURLStr=function(){return d.urlInput.GetText()};e=this;(function(){var b=a.cssClasses.GetClassNames(),g=new tf.dom.Div({cssClass:b.emailPasswordWrapper}),
b={onChange:void 0,onGo:c,className:b.emailPasswordInputClassName,maxLength:200},b=tf.js.ShallowMerge({placeHolder:tf.js.GetNonEmptyString(a.prefixPlaceHolder,"enter URL")},b),b=new tf.TFMap.InputBox(b),f=b.GetInputBox();f.autocomplete="off";g.AddContent(f);d={wrapper:g,urlInput:b};e.Show(!1)})()};
tf.GTFS.XHR=function(a){var c=a.transitServerURL+a.urlVerb,e=new XMLHttpRequest({mozSystem:!0});try{var d=!!a.formData,b=d?a.formData:a.formObject?JSON.stringify(a.formObject):void 0,d=d?void 0:"application/json";a.urlParamObject&&(c+="?"+tf.js.ObjectToURLParams(a.urlParamObject));e.open(a.xhrVerb,c,!0);e.withCredentials=!0;d&&e.setRequestHeader("Content-type",d);e.onreadystatechange=function(){if(4==e.readyState&&tf.js.GetFunctionOrNull(a.cb)){var b=200<=e.status&&300>e.status,c;e.responseText&&
((c=tf.js.JSONParse(e.responseText))||(c={ok:b,message:"connection unsuccessful"}));c||(c={ok:b,message:""});e.responseJSON=c;a.cb(e,a)}};e.send(b)}catch(g){console.log(g)}return{xhr:e}};tf.GTFS.CancelXHR=function(a){if(a&&a.xhr){try{a.abort()}catch(c){}a.xhr=void 0}};tf.GTFS.GetStatusFromXHR=function(a){var c="connection failed";a&&a.responseJSON&&(c=tf.js.GetNonEmptyString(a.responseJSON.message,c));return c};
tf.GTFS.APIClient=function(a){function c(a,b){tf.js.GetFunctionOrNull(a)&&a(b)}function e(a){return f(function(b){tf.js.GetFunctionOrNull(a)&&a(b)},"user","get",void 0,void 0)}function d(a){e(function(b,c){if(b&&b.responseJSON){var d=b.responseJSON.id,e=b.responseJSON.email,f=b.responseJSON.isAdmin;if(e!=p||f!=q||m!=d)p=e,q=f,m=d,d=k.GetAuth(),l.Notify(n,tf.js.ShallowMerge(d,{sender:k,eventName:n}))}a&&a()})}function b(a){return 1E7>a?++a:1}function g(a){if(A[a]){var b=A[a];delete A[a];tf.GTFS.CancelXHR(b)}}
function f(a,c,d,e,f,k){void 0==r&&(r={},A={});var l=c+"|"+d;void 0==r[l]?r[l]=0:g(A[l]);return A[l]=tf.GTFS.XHR({transitServerURL:h,cb:function(b,c){delete A[l];c&&c.gen==r[l]&&tf.js.GetFunctionOrNull(a)&&a(b)},urlVerb:c,xhrVerb:d,urlParamObject:e,formObject:f,formData:k,gen:r[l]=b(r[l])})}var k;if(!((k=this)instanceof tf.GTFS.APIClient))return new tf.GTFS.APIClient(a);var h,l,n,m,p,q,r,A;this.GetAuth=function(){return{id:m,email:p,isAdmin:q}};this.AddAuthListener=function(a){l.AddListener(n,a)};
this.RefreshUser=function(a){return d(a)};this.AuthDelete=function(a,b){return f(function(b){c(a,b);d()},"auth","delete",b,void 0)};this.AuthPost=function(a,b){return f(function(b){c(a,b);d()},"auth","post",void 0,b)};this.AdminUserPost=function(a,b){return f(function(b){c(a,b)},"admin/user","post",void 0,b)};this.AdminUserGet=function(a){return f(function(b){c(a,b)},"admin/user","get",void 0,void 0)};this.AdminUserDelete=function(a,b){return f(function(b){c(a,b)},"admin/user","delete",void 0,b)};
this.AdminUserPut=function(a,b){return f(function(b){c(a,b)},"admin/user","put",void 0,b)};this.AdminSessionDelete=function(a,b){return f(function(b){c(a,b)},"admin/session","delete",void 0,b)};this.AdminAgencyGet=function(a){return f(function(b){c(a,b)},"admin/agency","get",void 0,void 0)};this.AdminAgencyPost=function(a,b){return f(function(b){c(a,b)},"admin/agency","post",void 0,b)};this.AdminAgencyPut=function(a,b){return f(function(b){c(a,b)},"admin/agency","put",void 0,b)};this.AdminAgencyDelete=
function(a,b){return f(function(b){c(a,b)},"admin/agency","delete",void 0,b)};this.AdminAgencyUserPost=function(a,b){return f(function(b){c(a,b)},"admin/agency/user","post",void 0,b)};this.AdminAgencyUserDelete=function(a,b){return f(function(b){c(a,b)},"admin/agency/user","delete",void 0,b)};this.UserGet=function(a){return e(a)};this.UserPut=function(a,b){return f(function(b){c(a,b)},"user","put",void 0,b)};this.UserUsersGet=function(a){return f(function(b){c(a,b)},"user/users","get",void 0,void 0)};
this.UserAgenciesGet=function(a){return f(function(b){c(a,b)},"user/agencies","get",void 0,void 0)};this.AgencyMessagePost=function(a,b){return f(function(b){c(a,b)},"agency/message","post",void 0,b)};this.AgencyUploadPost=function(a,b){return f(function(b){c(a,b)},"agency/upload","post",void 0,void 0,b)};this.AgencyFetchPost=function(a,b){return f(function(b){c(a,b)},"agency/fetch","post",void 0,b,void 0)};this.AgencyPublishPost=function(a,b){return f(function(b){c(a,b)},"agency/publish","post",
void 0,b,void 0)};this.DesignAgenciesPost=function(a,b){return f(function(b){c(a,b)},"design/agencies","post",void 0,b)};this.DesignCalendarPost=function(a,b){return f(function(b){c(a,b)},"design/calendar","post",void 0,b)};this.DesignCalendarDatesPost=function(a,b){return f(function(b){c(a,b)},"design/calendar_dates","post",void 0,b)};this.DesignServicesPost=function(a,b){return f(function(b){c(a,b)},"design/services","post",void 0,b)};this.DesignStopsPost=function(a,b){return f(function(b){c(a,
b)},"design/stops","post",void 0,b)};this.DesignShapesPost=function(a,b){return f(function(b){c(a,b)},"design/shapes","post",void 0,b)};this.DesignRoutesPost=function(a,b){return f(function(b){c(a,b)},"design/routes","post",void 0,b)};this.DesignStopSequencesPost=function(a,b){return f(function(b){c(a,b)},"design/stop_sequences","post",void 0,b)};this.DesignTripsPost=function(a,b){return f(function(b){c(a,b)},"design/trips","post",void 0,b)};h=tf.js.GetNonEmptyString(a.transitServerURL,"http://192.168.0.121:1337/");
l=new tf.events.MultiEventNotifier({eventNames:[n="auth"]});d()};
tf.GTFS.Notify=function(a){function c(){b=io(a.transitServerURL);b.on("ev_messagein",function(a,b){});b.on("ev_connected",function(){console.log("CONNECTED")});b.on("ev_disconnect",function(){console.log("DISCONNECTED");a.apiClient.RefreshUser()});b.on("ev_refresh",function(){console.log("REFRESHED");a.apiClient.RefreshUser()});b.on("ev_notification",function(a,b){g.Notify(a,tf.js.ShallowMerge({evObj:b},{sender:d,eventName:a}))});b.on("ping",function(){});b.on("pong",function(a){})}function e(){var d=
void 0!=a.apiClient.GetAuth().email;d&&void 0==b?c():!d&&void 0!=b&&b&&(b.disconnect(),b=void 0)}var d,b,g,f;this.GetEventNames=function(){return f};this.AddUserAddedListener=function(a){return d.AddListener(a,f.userAdded)};this.AddUserChangedListener=function(a){return d.AddListener(a,f.userChanged)};this.AddUserDeletedListener=function(a){return d.AddListener(a,f.userDeleted)};this.AddUserAddedToAgencyListener=function(a){return d.AddListener(a,f.userAddedToAgency)};this.AddUserRemovedFromAgencyListener=
function(a){return d.AddListener(a,f.userRemovedFromAgency)};this.AddUserMessageListener=function(a){return d.AddListener(a,f.userMessage)};this.AddAgencyAddedListener=function(a){return d.AddListener(a,f.agencyAdded)};this.AddAgencyChangedListener=function(a){return d.AddListener(a,f.agencyChanged)};this.AddAgencyDeletedListener=function(a){return d.AddListener(a,f.agencyDeleted)};this.AddAgencyProgressListener=function(a){return d.AddListener(a,f.agencyProgress)};this.AddAgencyMessageListener=function(a){return d.AddListener(a,
f.agencyMessage)};this.AddListener=function(a,b){return g.AddListener(b,a)};d=this;f={userAdded:"ev_user_added",userChanged:"ev_user_changed",userDeleted:"ev_user_deleted",userAddedToAgency:"ev_user_into_agency",userRemovedFromAgency:"ev_user_outof_agency",userMessage:"ev_user_message",agencyAdded:"ev_agency_added",agencyChanged:"ev_agency_changed",agencyDeleted:"ev_agency_deleted",agencyProgress:"ev_agency_progress",agencyMessage:"ev_agency_message"};g=new tf.events.MultiEventNotifier({eventNames:tf.js.ObjectToArray(f)});
a.apiClient.AddAuthListener(function(){e()});e()};
tf.GTFS.SignInContent=function(a){function c(){var b=a.apiClient.GetAuth(),c;void 0!=b.email?(m=b.isAdmin?n.signedInAdmin:n.signedInUser,c=!0,q!=b.email&&(r=!1,q=b.email),r||(p=void 0)):(m=n.notSignedIn,r=c=!1);var d="";switch(m){case n.signedInAdmin:case n.signedInUser:r?(p&&(d=p+"<br />"),d+="The current value of fields left empty will be preserved"):(d=b.email,b.isAdmin&&(d+=" (admin)"));break;case n.notSignedIn:p&&(d=p+"<br />"),d+="enter credentials below"}b=l.statusWrapper.GetHTMLElement();
b.innerHTML=d;b.style.background=p?"firebrick":"royalblue";l.emailPasswordWrapper.GetHTMLElement().style.display=c?"none":"flex";l.signInButton.GetButton().style.display=c?"none":"block";d=c&&r?"flex":"none";l.changeEmailPassword.wrapper.GetHTMLElement().style.display=d;f(l.changingButtons,c&&r?"inline-block":"none");f(l.signedInButtons,c&&!r?"inline-block":"none")}function e(b){var d=!1;if(r&&b){b=tf.js.GetNonEmptyString(l.changeEmailPassword.emailInput.GetText(),void 0);var e=tf.js.GetNonEmptyString(l.changeEmailPassword.passwordInput.GetText(),
void 0);if(tf.js.GetIsNonEmptyString(b)||tf.js.GetIsNonEmptyString(e))d=!0,a.apiClient.UserPut(function(a){a.responseJSON?a.responseJSON.ok?p=void 0:(p=a.responseJSON.message)||(p=void 0,console.log("empty error message")):p="connection failed";void 0!=p&&c()},{email:b,password:e})}l.changeEmailPassword.emailInput.SetText("");l.changeEmailPassword.passwordInput.SetText("");d||(r=!r,c());r&&l.changeEmailPassword.emailInput.GetInputBox().focus()}function d(){var b=l.emailInput.GetText(),d=l.passwordInput.GetText();
tf.js.GetIsNonEmptyString(b)&&tf.js.GetIsNonEmptyString(d)&&(a.agenciesContent.GetTLF().SetIsExpanded(!0),a.apiClient.AuthPost(function(a){a.responseJSON?a.responseJSON.ok?p=void 0:(p=a.responseJSON.message)||(p=void 0,console.log("empty error message")):p="connection failed";void 0!=p&&c()},{email:b,password:d}),l.passwordInput.SetText(""))}function b(){return a.apiClient.AuthDelete()}function g(){return a.apiClient.AuthDelete(void 0,{allSessions:!0})}function f(a,b){for(var c in a)a[c].button.GetButton().style.display=
b}var k,h,l,n,m,p,q,r;this.OnCreated=function(a){l.emailInput.GetInputBox().focus()};this.OnVisibilityChange=function(a){k.SetIsVisible(a.isVisible)};this.SetIsVisible=function(a){h!=(a=!!a)&&(h=a,l.wrapper.GetHTMLElement().style.display=h?"block":"none")};k=this;r=!1;a.apiClient.AddAuthListener(function(a){c()});(function(){var c=a.customAppContentI;c.getMainToolBarButtonClasses();var f=c.getMainToolBarSpanClasses();a.appContent.GetAppStyles();var h=a.cssClasses,k=h.GetClassNames(),m=c.createNonScrollContent(),
n=c.createMainToolBar(),c=c.createNonScrollContent(),p=document.createElement("span");p.className=f;p.style.lineHeight="20px";p.innerHTML="Sign In";n.content.AddContent(p);m.AddContent(c);var f=new tf.dom.Div({cssClass:k.signInButtonsWrapper}),q=new tf.dom.Div({cssClass:k.emailPasswordStatus}),r=new tf.dom.Button({cssClass:k.signInButtonClassName,onClick:d}),C=r.GetButton();q.GetHTMLElement().innerHTML="";C.innerHTML="Click here to Sign In";f.AddContent(C);C={};C.signOutButton={innerHTML:"Sign out",
handler:b};C.signOutAllButton={innerHTML:"Sign out all",handler:g};C.modifyButton={innerHTML:"Modify",handler:e};var C=h.CreateButtons(C,k.signedInButtonClassName,f),G=h.CreateButtons({modify:{innerHTML:"Modify",handler:function(){e(!0)}},cancel:{innerHTML:"Cancel",handler:function(){e(!1)}}},k.signedInButtonClassName,f);tf.dom.AddCSSClass(c,k.contentWrapper);k=h.CreateEmailPasswordGroup(d,"gtfsemail","gtfspassword","enter email address","enter password",!0);h=h.CreateEmailPasswordGroup(e,void 0,
void 0,"enter new email address","enter new password",!1);c.AddContent(q,k.wrapper,h.wrapper,f);l={wrapper:m,toolBar:n,content:c,titleSpan:p,statusWrapper:q,emailInput:k.emailInput,passwordInput:k.passwordInput,signInButton:r,signInEmailPassword:k,changeEmailPassword:h,signedInButtons:C,changingButtons:G,emailPasswordWrapper:k.wrapper};a.customAppContentI.getContentWrapper().AddContent(m)})();n={signedInUser:"siu",signedInAdmin:"sia",notSignedIn:"nsi"};c()};
tf.GTFS.UsersList=function(a){function c(a){a&&a.responseJSON&&tf.js.GetIsArray(a.responseJSON)?b.UpdateFromNewData(a.responseJSON):b.UpdateFromNewData([])}function e(){var d=a.apiClient.GetAuth();d.email?d.isAdmin?a.apiClient.AdminUserGet(c):a.apiClient.UserUsersGet(c):b.UpdateFromNewData([])}function d(a){e()}var b;this.GetKL=function(){return b};(function(){b=new tf.js.KeyedList({name:"users",getKeyFromItemData:function(a){return a.id},needsUpdateItemData:function(a){return!0},filterAddItem:function(a){return!0}})})();
a.apiClient.AddAuthListener(function(){e()});a.notify.AddUserAddedListener(d);a.notify.AddUserChangedListener(d);a.notify.AddUserDeletedListener(d);a.notify.AddAgencyDeletedListener(d);a.notify.AddAgencyChangedListener(d);a.notify.AddUserAddedToAgencyListener(d);a.notify.AddUserRemovedFromAgencyListener(d);e()};
tf.GTFS.AgenciesList=function(a){function c(a){a&&a.responseJSON&&tf.js.GetIsArray(a.responseJSON)?g.UpdateFromNewData(a.responseJSON):g.UpdateFromNewData([])}function e(){var b=a.apiClient.GetAuth();b.email?b.isAdmin?a.apiClient.AdminAgencyGet(c):a.apiClient.UserAgenciesGet(c):g.UpdateFromNewData([])}function d(a){e();console.log("refreshed agencies")}function b(b){var c=a.apiClient.GetAuth();c.email&&c.isAdmin||d(b)}var g;this.GetKL=function(){return g};(function(){g=new tf.js.KeyedList({name:"agencies",
getKeyFromItemData:function(a){return a.id},needsUpdateItemData:function(a){return!0},filterAddItem:function(a){return!0}})})();a.apiClient.AddAuthListener(function(){e()});a.notify.AddAgencyAddedListener(d);a.notify.AddAgencyDeletedListener(function(a){console.log("agency deleted");return d(a)});a.notify.AddAgencyChangedListener(d);a.notify.AddUserAddedToAgencyListener(b);a.notify.AddUserRemovedFromAgencyListener(b);e()};
tf.GTFS.UsersAddContent=function(a){var c,e;this.GetAllContent=function(){return c};this.Show=function(a){e=!!a;c.wrapper.GetHTMLElement().style.display=e?"block":"none";c.userModifyControl.Show(!0,void 0)};this.GetIsShowing=function(){return e};e=!0;(function(){var d=a.cssClasses.GetClassNames(),b=new tf.dom.Div({cssClass:d.itemRowWrapperClassName}),e=new tf.GTFS.UserModifyControl(tf.js.ShallowMerge(a,{onGo:function(){a.onAddContent({confirmed:!0})}})),d=new tf.dom.Div({cssClass:d.emailPasswordStatus}),
f=new tf.GTFS.ModifyCancelTextButonRow(tf.js.ShallowMerge(a,{onModify:a.onAddContent})),k=new tf.GTFS.AutoHideStatus(a);d.GetHTMLElement().innerHTML="Enter new user attributes below";f.Rename("Add new","Done");b.AddContent(d,e.GetAllContent().wrapper,f.GetAllContent().wrapper,k.GetAllContent().statusWrapper);c={wrapper:b,titleWrapper:d,userModifyControl:e,modifyCancelRow:f,autoHideStatus:k}})()};
tf.GTFS.UsersSelectedContent=function(a){function c(b){var c=!0;if(b.confirmed){if(tf.js.GetFunctionOrNull(a.getItemFromContent)){var d=n.GetCurrentContent(),d=a.getItemFromContent(d),e=p.agenciesSelectControl.GetSelectedAgency();if(d&&e){var f=p.autoHideStatus.Show,d={userId:d.GetData().id,agencyId:e.id},c=!1;b.isAdd?(e="adding user to agency...",b=a.apiClient.AdminAgencyUserPost):(e="removing user from agency...",b=a.apiClient.AdminAgencyUserDelete);f(!0,e,!0);b(function(a){f(!0,tf.GTFS.GetStatusFromXHR(a))},
d)}}}else p.autoHideStatus.HideNow();c&&m.backToToolBar()}function e(b){var c=!0;if(b.confirmed){if(tf.js.GetFunctionOrNull(a.getItemFromContent)&&(b=n.GetCurrentContent(),b=a.getItemFromContent(b))){var d=p.autoHideStatus.Show;b=b.GetData();c=!1;switch(m.getCurrentVerb()){case "modify":var e=!1,f,g=p.userModifyControl,h={id:b.id,isAdmin:g.GetIsAdmin()},k=g.GetEmailPasswordStrs();k.hasAnyEmail&&(k.hasValidEmail?(h.email=k.email,e=!0):f="a valid email address is required");!f&&k.hasAnyPassword&&(k.hasValidPassword?
(h.password=k.password,e=!0):f=k.passwordMessage);f||(h.isAdmin!=b.isAdmin?e=!0:e||(f="no changes detected"));e&&!f?(d(!0,"modifying user...",!0),a.apiClient.AdminUserPut(function(a){d(!0,tf.GTFS.GetStatusFromXHR(a));m.backToToolBar()},h)):(g.SetFocusToEmail(),d(!0,f));break;case "signout":d(!0,"signing user out...",!0);a.apiClient.AdminSessionDelete(function(a){d(!0,tf.GTFS.GetStatusFromXHR(a));m.backToToolBar()},{userId:b.id});break;case "delete":d(!0,"deleting user...",!0);a.apiClient.AdminUserDelete(function(a){d(!0,
tf.GTFS.GetStatusFromXHR(a));m.backToToolBar()},{id:b.id});break;default:c=!0}}}else p.autoHideStatus.HideNow();c&&m.backToToolBar()}function d(b){var c;if(b){m.showTitle(!0,q);p.modifyCancelRow.Rename("Modify","Cancel");var d=a.getItemFromContent(n.GetCurrentContent());d&&(c=d.GetData())}p.userModifyControl.Show(b,c)}function b(a){a&&p.modifyCancelRow.Rename("Sign Out","Cancel")}function g(a){a&&p.modifyCancelRow.Rename("Delete","Cancel")}function f(a){a&&(m.showTitle(!0,r),p.modifyCancelRow.Rename("Add",
"Cancel"));p.agenciesSelectControl.Show(a);p.addDelCancelRow.Show(a)}function k(a){}function h(){var b=new tf.GTFS.UserModifyControl(tf.js.ShallowMerge(a,{onGo:function(){e({confirmed:!0})}})),d=new tf.GTFS.AgenciesSelectControl(tf.js.ShallowMerge(a,{onSelect:k})),f=new tf.GTFS.AddDelCancelRow(tf.js.ShallowMerge(a,{onAddDelCancel:c}));b.Show(!1);f.Show(!1);p=n.GetAllContent();p=tf.js.ShallowMerge(p,{addDelCancelRow:f,agenciesSelectControl:d,userModifyControl:b});p.wrapper.InsertContentAfter(b.GetAllContent().wrapper,
p.titleWrapper);p.wrapper.InsertContentAfter(d.GetHTMLElement(),p.titleWrapper);p.wrapper.InsertContentAfter(f.GetAllContent().wrapper,d.GetHTMLElement())}function l(){var a={};a.agency={text:"Agencies",toolTip:"Modify user agencies",onShow:f,isAdmin:!0,noModifyCancel:!0};a.modify={text:"Attributes",toolTip:"Modify user attributes",onShow:d,isAdmin:!0};a.signout={text:"Sign out",toolTip:"Sign user out of all sessions",onShow:b,isAdmin:!0};a["delete"]={text:"Delete",toolTip:"Delete user",onShow:g,
isAdmin:!0};return a}var n,m,p,q,r;n=this;(function(){q="Enter new attributes below";r="Select agency below";tf.GTFS.ListSelectedContent.call(n,tf.js.ShallowMerge(a,{verbs:l(),onModify:e,setInterface:function(a){m=a}}));h();n.GetAllContent=function(){return p}})()};tf.js.InheritFrom(tf.GTFS.UsersSelectedContent,tf.GTFS.ListSelectedContent);
tf.GTFS.UsersContent=function(a){function c(a,b){var c=a.itemData.email.toLowerCase(),d=b.itemData.email.toLowerCase();return c==d?0:c<d?-1:1}function e(a,b){return a}function d(a){var b=q.getContentFromItem(a);if(b){a=a.GetData();var c=a.email,d=a.isAdmin?" (admin)":"",e="",f=a.agencies.length;if(0<f){for(var e=" [",g=0;g<f;++g)e+=" "+a.agencies[g].prefix+" ";e+="]"}b.title.GetHTMLElement().innerHTML=c+d+e}}function b(b){p.GetTLF().Get();var c=a.cssClasses.GetClassNames();b=new tf.dom.Div({cssClass:c.itemWrapperClassName});
var d=new tf.dom.Div({cssClass:c.itemContentWrapperClassName}),e=new tf.dom.Div({cssClass:c.itemTitleClassName}),c=new tf.dom.Button({cssClass:c.itemButtonClassName,onClick:q.onItemClick}),f={itemButton:c,wrapper:b,contentWrapper:d,title:e};d.AddContent(e);b.AddContent(c,d);return c.content=f}function g(a){A.GetButton().style.display=a?"inline-block":"none"}function f(a){if(r){var b=p.GetTLF().GetIsExpanded();r.Show(a);g(!a&&b)}}function k(){f(!0)}function h(b){var c=!0,d=r.GetAllContent(),e=d.autoHideStatus.Show;
if(b.confirmed){b=c=!1;var g,d=d.userModifyControl,h={isAdmin:!!d.GetIsAdmin()},k=d.GetEmailPasswordStrs();k.hasAnyEmail?k.hasValidEmail?(h.email=k.email,b=!0):g="a valid email address is required":g="a valid email address is required";g||(k.hasAnyPassword?k.hasValidPassword?(h.password=k.password,b=!0):g=k.passwordMessage:g="a password is required");b&&!g?(e(!0,"creating user...",!0),a.apiClient.AdminUserPost(function(a){e(!0,tf.GTFS.GetStatusFromXHR(a))},h)):(d.SetFocusToEmail(),e(!0,g))}else d.autoHideStatus.HideNow();
c&&f(!1)}function l(){var a=p.GetTLF();a&&(a.GetIsExpanded()?g(!r.GetIsShowing()):f(!1))}function n(a){l()}function m(){var b=p.GetTLF().Get(),c=a.appContent;c.GetAppStyles();var d=a.cssClasses.GetClassNames(),e={wrapper:a.customAppContentI.getContentWrapper(),offsetY:-4,onClick:void 0,onHover:void 0,delayMillis:0,toolTipClass:"*start",toolTipArrowClass:"top"};r=new tf.GTFS.UsersAddContent(tf.js.ShallowMerge(a,{onAddContent:h}));r.Show(!1);b.toolBar.wrapper.AddContent(r.GetAllContent().wrapper);A=
tf.TFMap.CreateSVGButton(c,tf.js.ShallowMerge(e,{onClick:k}),void 0,d.itemToolBarTextButton+" "+d.itemToolBarFixWidthTextButton,"Add new users",void 0,"");c=A.GetButton();c.innerHTML="Add";c.style["float"]="right";b.toolBar.content.AddContent(c)}var p,q,r,A;p=this;(function(){var f=(void 0!=a.contentId?a.contentId:"")+"";tf.GTFS.ListContent.call(p,tf.js.ShallowMerge(a,{contentInItemAttributeName:"userContent"+f,itemInContentAttributeName:"userItem"+f,listTitle:"Users",itemNameSingle:"user",itemNamePlural:"users",
setInterface:function(a){q=a},attachedSelectedContentType:tf.GTFS.UsersSelectedContent,KL:a.usersList.GetKL(),onToggleExpanded:n,prepareSpareContent:e,createNewContent:b,updateContentForItem:d,compareContent:c}));m();l()})()};tf.js.InheritFrom(tf.GTFS.UsersContent,tf.GTFS.ListContent);
tf.GTFS.ChatMessage=function(a){var c,e,d,b,g,f;this.GetMessage=function(){return d};this.GetDate=function(){return b};this.GetIsSelfSent=function(){return g};this.GetOrder=function(){return f};this.GetAllContent=function(){return e};this.CompareWith=function(a){var b=c.GetDate().getTime(),d=a.GetDate().getTime(),b=b-d;0==b&&(b=c.GetOrder()-a.GetOrder());return b};c=this;(function(){var b=a.cssClasses.GetClassNames(),c=new tf.dom.Div({cssClass:b.chatBoxItemWrapper}),d=new tf.dom.Div({cssClass:b.chatBoxMessage}),
f=new tf.dom.Div({cssClass:b.chatBoxMessageEmail}),b=new tf.dom.Div({cssClass:b.chatBoxMessageDate}),m=a.notification.evObj,p=m.user,q=a.apiClient.GetAuth();if(g=void 0!=p&&p.id==q.id)d.GetHTMLElement().style.backgroundColor="beige";else{var p=c.GetHTMLElement().style,q=b.GetHTMLElement().style,r=f.GetHTMLElement().style;p.textAlign="right";p.flexFlow="row-reverse nowrap";r.right="4px";r.left="initial";q.left="4px";q.right="initial"}if(m.isWarning||m.isError)d.GetHTMLElement().style.backgroundColor=
"#ffb69e";c.AddContent(d,f,b);e={wrapper:c,message:d,email:f,date:b}})();(function(){var c=a.notification.evObj;b=new Date(c.timestamp);f=void 0!=c.order?c.order:0;d=e.message.GetHTMLElement().innerHTML=c.message;e.date.GetHTMLElement().innerHTML=tf.js.GetAMPMHourWithSeconds(b);if(g)c="self";else{var h=a.notification.evObj.user;h?(c=h.email,h.isAdmin&&(c+=" (admin)")):(c="System",e.email.GetHTMLElement().style.backgroundColor="palegreen")}e.email.GetHTMLElement().innerHTML=c})()};
tf.GTFS.ChatBox=function(a){function c(a){var b=d.GetMessageCount(),c=a.GetAllContent().wrapper;if(0==b)f.push(a),g.list.AddContent(c);else{var e=tf.js.BinarySearch(f,a,function(a,b){return a.CompareWith(b)});0>e&&(e=-(e+1));e==b?(f.push(a),g.list.AddContent(c)):(b=f[e].GetAllContent().wrapper,f.splice(e,0,a),g.list.InsertContentBefore(c,b))}}function e(){if(void 0!=b){var c=g.input.GetText();c.length&&(a.apiClient.AgencyMessagePost(void 0,{id:b,message:c}),g.input.SetText(""))}}var d,b,g,f;this.Clear=
function(){f=[];g.list.ClearContent()};this.SetFocus=function(){return g.input.GetInputBox().focus()};this.SetAgencyId=function(a){b=a};this.GetAgencyId=function(){return b};this.Show=function(a){g.wrapper.GetHTMLElement().style.display=a?"flex":"none";a&&(d.SetFocus(),d.ScrollVerticallyToEnd())};this.GetAllContent=function(){return g};this.GetAllMessages=function(){return f};this.GetMessageCount=function(){return d.GetAllMessages().length};this.ScrollVerticallyToEnd=function(){return tf.dom.ScrollVerticallyToEnd(g.list)};
this.OnMessage=function(b){a.notify.GetEventNames();b=new tf.GTFS.ChatMessage(tf.js.ShallowMerge(a,{notification:b}));var e=tf.dom.IsLastVerticalScrollElemVisible(g.list,0).isVisible;c(b);e&&d.ScrollVerticallyToEnd()};d=this;f=[];(function(){var b=tf.TFMap.LayoutSettings,c=a.cssClasses.GetClassNames(),f=new tf.dom.Div({cssClass:c.contentWrapper}),b=new tf.dom.Div({cssClass:c.chatBoxList+" "+b.customizedScrollBarClassName}),n=new tf.dom.Div({cssClass:c.horContentWrapper}),m=new tf.TFMap.InputBox({onChange:void 0,
onGo:e,className:c.emailPasswordInputClassName,maxLength:512,placeHolder:"Type message and click Send"}),p=m.GetInputBox(),q=new tf.dom.Button({cssClass:c.signedInButtonClassName,onClick:e}),r=q.GetButton(),c=new tf.dom.Button({cssClass:c.signedInButtonClassName,onClick:d.Clear}),A=c.GetButton();r.innerHTML="Send";r.style.flexGrow="0";r.style.backgroundColor="darkblue";p.autocomplete="off";A.innerHTML="Clear";A.style.flexGrow="0";A.style.backgroundColor="chocolate";A.autocomplete="off";n.AddContent(p,
r,A);f.AddContent(b,n);g={wrapper:f,list:b,inputWrapper:n,input:m,inputButton:q,clearButton:c};d.Show(!1)})()};
tf.GTFS.AgenciesSelectControl=function(a){function c(a){for(var b in a){var c=a[b].GetData(),d=c.prefix;g.AddOrSetOption({value:d,innerHTML:d,id:c.id})}}function e(a){c(a.addedItems);c(a.updatedItems);a=a.deletedItems;for(var b in a){var d=a[b].GetData().prefix;g.DelOption(d)}g.Sort()}function d(c){if(tf.js.GetFunctionOrNull(a.onSelect)){var d=g.GetCurrentOption();a.onSelect({sender:b,notification:c,option:d})}}var b,g;this.GetHTMLElement=function(){return g.GetHTMLElement()};this.Show=function(a){g.GetHTMLElement().style.display=
a?"flex":"none"};this.GetSelectedAgency=function(){var a,b,c=g.GetCurrentOption();c&&(a=c.settings.id,b=c.settings.value);return{id:a,prefix:b}};b=this;(function(){var c=a.cssClasses.GetClassNames();g=new tf.ui.Select({cssClass:c.agenciesSelectClassName,optionsCSSClass:c.agenciesSelectClassName,onChange:d});b.Show(!1);c=a.agenciesList.GetKL();c.AddAggregateListener(e);c.NotifyItemsAdded(e)})()};
tf.GTFS.AgenciesAddContent=function(a){var c,e;this.GetAllContent=function(){return c};this.Show=function(a){e=!!a;c.wrapper.GetHTMLElement().style.display=e?"block":"none";a&&c.agencyPrefixInput.SetFocusToPrefix()};this.GetIsShowing=function(){return e};(function(){var d=a.cssClasses.GetClassNames(),b=new tf.dom.Div({cssClass:d.itemRowWrapperClassName}),e=new tf.GTFS.AgencyPrefixInput(tf.js.ShallowMerge(a,{onGo:function(){a.onAddContent({confirmed:!0})}})),d=new tf.dom.Div({cssClass:d.emailPasswordStatus}),
f=new tf.GTFS.ModifyCancelTextButonRow(tf.js.ShallowMerge(a,{onModify:a.onAddContent})),k=new tf.GTFS.AutoHideStatus(a);d.GetHTMLElement().innerHTML="Enter new agency prefix below";f.Rename("Add new","Done");b.AddContent(d,e.GetAllContent().wrapper,f.GetAllContent().wrapper,k.GetAllContent().statusWrapper);c={wrapper:b,titleWrapper:d,agencyPrefixInput:e,modifyCancelRow:f,autoHideStatus:k}})()};
tf.GTFS.AgenciesSelectedContent=function(a){function c(b){var c=!0;if(b.confirmed){if(tf.js.GetFunctionOrNull(a.getItemFromContent)&&(b=l.GetCurrentContent(),b=a.getItemFromContent(b))){var d=m.autoHideStatus.Show;b=b.GetData();c=!1;switch(n.getCurrentVerb()){case "prefix":var e=!1,f,g=m.agencyPrefixInput,h=g.GetPrefixStatus(),k;h.hasAnyPrefix?h.hasValidPrefix?(k={id:b.id,prefix:h.prefix},e=!0):f=h.prefixMessage:f="a valid agency prefix is required";e&&!f?(d(!0,"modifying agency...",!0),a.apiClient.AdminAgencyPut(function(a){d(!0,
tf.GTFS.GetStatusFromXHR(a))},k)):(g.SetFocusToPrefix(),d(!0,f));break;case "delete":d(!0,"deleting agency...",!0);a.apiClient.AdminAgencyDelete(function(a){d(!0,tf.GTFS.GetStatusFromXHR(a));n.backToToolBar()},{id:b.id});break;case "upload":k=!1;(g=m.fileSelectInput.GetFirstFile())?(k=!0,e=new FormData,e.append("file",g),e.append("id",b.id)):f="Select local file to upload";k&&!f?(d(!0,"starting upload...",!0),a.apiClient.AgencyUploadPost(function(a){d(!0,tf.GTFS.GetStatusFromXHR(a))},e)):d(!0,f);
break;case "fetch":k=!1;g=m.urlInput.GetURLStr();tf.js.GetIsNonEmptyString(g)?(k=!0,e={id:b.id,url:g}):f=p;k&&!f?(d(!0,"starting fetch...",!0),a.apiClient.AgencyFetchPost(function(a){d(!0,tf.GTFS.GetStatusFromXHR(a))},e)):(m.urlInput.SetFocus(),d(!0,f));break;case "publish":d(!0,"publishing current GTFS...",!0);a.apiClient.AgencyPublishPost(function(a){d(!0,tf.GTFS.GetStatusFromXHR(a));n.backToToolBar()},{id:b.id});break;default:c=!0}}}else m.autoHideStatus.HideNow();c&&n.backToToolBar()}function e(){m=
l.GetAllContent();var b=new tf.GTFS.AgencyPrefixInput(tf.js.ShallowMerge(a,{onGo:function(){c({confirmed:!0})}})),d=new tf.GTFS.FileSelectInput(tf.js.ShallowMerge(a,{label:"Select local GTFS zip file"})),e=new tf.GTFS.URLInput(tf.js.ShallowMerge(a,{onGo:function(){c({confirmed:!0})},prefixPlaceHolder:p}));m=tf.js.ShallowMerge(m,{agencyPrefixInput:b,fileSelectInput:d,urlInput:e});b.Show(!1);m.wrapper.InsertContentAfter(b.GetAllContent().wrapper,m.titleWrapper);m.wrapper.InsertContentAfter(d.GetAllContent().wrapper,
b.GetAllContent().wrapper);m.wrapper.InsertContentAfter(e.GetAllContent().wrapper,d.GetAllContent().wrapper)}function d(a){a&&m.modifyCancelRow.Rename("Upload","Cancel");m.fileSelectInput.Show(a)}function b(a){m.urlInput.Show(a);a&&(m.urlInput.SetFocus(),m.modifyCancelRow.Rename("Fetch","Cancel"))}function g(a){m.agencyPrefixInput.Show(a);a&&(m.agencyPrefixInput.SetFocusToPrefix(),m.modifyCancelRow.Rename("Change","Cancel"))}function f(a){a&&m.modifyCancelRow.Rename("Delete","Cancel")}function k(a){a&&
m.modifyCancelRow.Rename("Publish","Cancel")}function h(){var c={};c.edit={text:"Edit",toolTip:"Edit current GTFS",onClick:a.onEditAgency,isAdmin:!1};c.upload={text:"Upload",toolTip:"Replace with local GTFS file",onShow:d,isAdmin:!1};c.fetch={text:"Fetch",toolTip:"Replace with remote GTFS file",onShow:b,isAdmin:!1};c.publish={text:"Publish",toolTip:"Publish current GTFS",onShow:k,isAdmin:!1};c.prefix={text:"Prefix",toolTip:"Change agency prefix",onShow:g,isAdmin:!0};c["delete"]={text:"Delete",toolTip:"Delete agency",
onShow:f,isAdmin:!0};return c}var l,n,m,p;l=this;(function(){p="Enter URL to remote GTFS zip file";tf.GTFS.ListSelectedContent.call(l,tf.js.ShallowMerge(a,{verbs:h(),onModify:c,setInterface:function(a){n=a}}));e();l.GetAllContent=function(){return m}})()};tf.js.InheritFrom(tf.GTFS.AgenciesSelectedContent,tf.GTFS.ListSelectedContent);
tf.GTFS.AgenciesContent=function(a){function c(a,b){var c=a.itemData.prefix.toLowerCase(),d=b.itemData.prefix.toLowerCase();return c==d?0:c<d?-1:1}function e(a,b){var c=b.GetData();a.chatBox.SetAgencyId(c.id);a.chatBox.Clear();a.chatBox.Show(!1);return a}function d(a,b){a.chatBox.Clear();a.chatBox.Show(!1)}function b(a,b){var c="";if(a){a.published_date&&(c+=a.published_date.substring(0,10));for(var d in a){var e=a[d],f="extent"!=d,g=d;f&&"n"==g[0]&&(f&="nSubAgencies"!==g||1<e)&&(c&&(c+=" | "),c+=
e+" "+g.slice(1))}}else c+="none";return b+": "+c}function g(a){var c=B.getContentFromItem(a);if(c){a=a.GetData();var d=a.prefix;c.title.GetHTMLElement().innerHTML=d;c.workingSetSummary.GetHTMLElement().innerHTML=b(a.workingSetInfo,"current GTFS");c.publishedSetSummary.GetHTMLElement().innerHTML=b(a.publishedSetInfo,"published GTFS")}}function f(b){u.GetTLF().Get();b=b.GetData();var c=a.cssClasses.GetClassNames(),d=new tf.dom.Div({cssClass:c.itemWrapperClassName}),e=new tf.dom.Div({cssClass:c.itemContentWrapperClassName}),
f=new tf.dom.Div({cssClass:c.itemTitleClassName}),g=new tf.dom.Div({cssClass:c.itemTitleSubClassName}),h=new tf.dom.Div({cssClass:c.itemTitleSubClassName}),c=new tf.dom.Button({cssClass:c.itemButtonClassName,onClick:B.onItemClick}),k=new tf.GTFS.ChatBox(tf.js.ShallowMerge(a,{})),l={itemButton:c,wrapper:d,contentWrapper:e,title:f,workingSetSummary:g,publishedSetSummary:h,chatBox:k};k.Show(!1);k.SetAgencyId(b.id);e.AddContent(f,g,h);d.AddContent(c,e,k.GetAllContent().wrapper);return c.content=l}function k(a){D.GetButton().style.display=
a?"inline-block":"none"}function h(a){if(E){var b=u.GetTLF().GetIsExpanded();E.Show(a);k(!a&&b)}}function l(){h(!0)}function n(b){var c=!0,d=E.GetAllContent(),e=d.autoHideStatus.Show;if(b.confirmed){b=c=!1;var f,d=d.agencyPrefixInput,g=d.GetPrefixStatus(),k;g.hasAnyPrefix?g.hasValidPrefix?(k={prefix:g.prefix},b=!0):f=g.prefixMessage:f="a valid agency prefix is required";b&&!f?(e(!0,"creating agency...",!0),a.apiClient.AdminAgencyPost(function(a){e(!0,tf.GTFS.GetStatusFromXHR(a))},k)):(d.SetFocusToPrefix(),
e(!0,f))}else d.autoHideStatus.HideNow();c&&h(!1)}function m(){var a=u.GetTLF();a&&(a.GetIsExpanded()?k(!E.GetIsShowing()):h(!1))}function p(a){m()}function q(){var b=u.GetTLF().Get(),c=a.appContent;c.GetAppStyles();var d=a.cssClasses.GetClassNames(),e={wrapper:a.customAppContentI.getContentWrapper(),offsetY:-4,onClick:void 0,onHover:void 0,delayMillis:0,toolTipClass:"*start",toolTipArrowClass:"top"};E=new tf.GTFS.AgenciesAddContent(tf.js.ShallowMerge(a,{onAddContent:n}));E.Show(!1);b.toolBar.wrapper.AddContent(E.GetAllContent().wrapper);
D=tf.TFMap.CreateSVGButton(c,tf.js.ShallowMerge(e,{onClick:l}),void 0,d.itemToolBarTextButton+" "+d.itemToolBarFixWidthTextButton,"Add new agencies",void 0,"");c=D.GetButton();c.innerHTML="Add";c.style["float"]="right";b.toolBar.content.AddContent(c)}function r(b){var c=b.evObj.id;(c=a.agenciesList.GetKL().GetItem(c))&&(c=B.getContentFromItem(c))&&c.chatBox.OnMessage(b)}function A(a){r(a)}function t(a){r(a)}function w(b){var c=b.isSelected;if(c){var d=u.GetSelectedItem();(d=(d=(d=d?d.GetData():void 0)?
d.workingSetInfo:void 0)?d.extent:void 0)&&a.appContent.SetMapExtent(d)}b.content.chatBox.Show(c)}function v(){var b=u.GetSelectedItem();if(b)a.onEditAgency(b)}var u,B,E,D;this.SelectItem=function(a){};u=this;(function(){var b=(void 0!=a.contentId?a.contentId:"")+"";tf.GTFS.ListContent.call(u,tf.js.ShallowMerge(a,{contentInItemAttributeName:"agencyContent"+b,itemInContentAttributeName:"agencyItem"+b,listTitle:"Agencies",itemNameSingle:"agency",itemNamePlural:"agencies",onEditAgency:v,setInterface:function(a){B=
a},attachedSelectedContentType:tf.GTFS.AgenciesSelectedContent,KL:a.agenciesList.GetKL(),onSelectedStyleChange:w,onToggleExpanded:p,onContentBecameSpare:d,prepareSpareContent:e,createNewContent:f,updateContentForItem:g,compareContent:c}));q();m();a.notify.AddAgencyProgressListener(A);a.notify.AddAgencyMessageListener(t)})()};tf.js.InheritFrom(tf.GTFS.AgenciesContent,tf.GTFS.ListContent);tf.GTFS.EditorAttributeTypes={url:"url"};tf.GTFS.CalendarDatesExceptionTypeAvailable=1;
tf.GTFS.CalendarDatesExceptionTypeUnavailable=2;tf.GTFS.StopWheelChairBordingArray=[{desc:"There is no accessibility information"},{desc:"At least some vehicles can be boarded by a rider in a wheelchair"},{desc:"Wheelchair boarding is not possible"}];tf.GTFS.TripWheelChairAccessibleArray=[{desc:"Information about wheelchair accomodations is not provided"},{desc:"Accomodations are available for at least one rider in a wheelchair"},{desc:"No riders with wheelchairs can be accomodated"}];
tf.GTFS.TripBikesAllowedArray=[{desc:"Information about bicycle accomodations is not provided"},{desc:"At least one bicycle can be accomodated"},{desc:"No bicycles are allowed"}];tf.GTFS.StopInStationWheelChairBordingArray=[{desc:"Accessibility information available in parent station"},{desc:"There exists some accessible path from outside the station"},{desc:"There exists no accessible path from outside the station"}];
tf.GTFS.RouteTypesArray=[{name:"Tram",desc:"Streetcar, Light rail.Any light rail or street level system within a metropolitan area"},{name:"Subway, Metro",desc:"Any underground rail system within a metropolitan area"},{name:"Rail",desc:"Used for intercity or long distance travel"},{name:"Bus",desc:"Used for short and long distance bus routes"},{name:"Ferry",desc:"Used for short and long distance boat service"},{name:"Cable car",desc:"Used for street level cable cars where the cable runs beneath the car"},
{name:"Gondola, Suspended cable car",desc:"Typically used for aerial cable cars where the car is suspended from the cable"},{name:"Funicular",desc:"Any rail system designed for steep inclines"}];tf.GTFS.StopLocationTypesArray=[{name:"Stop",desc:"A location where passengers board or disembark from a transit vehicle"},{name:"Station",desc:"A physical structure or area that contains one or more stops"}];
tf.GTFS.AssetListEditor=function(a){function c(b,c){var d=a.cssClasses.GetClassNames();c?tf.dom.AddCSSClass(b.wrapper,d.itemWrapperSelectedClassName):tf.dom.RemoveCSSClass(b.wrapper,d.itemWrapperSelectedClassName);if(tf.js.GetFunctionOrNull(a.onSelectedStyleChange))a.onSelectedStyleChange({sender:h,content:b,isSelected:c})}function e(){var b=l.GetItemCount(),b=0==b?"empty list":b+" "+(1==b?a.itemNameSingle:a.itemNamePlural);a.TLF.Get().footer.content.GetHTMLElement().innerHTML=b}function d(b){var c,
d;if(m){if(f=h.GetItemFromContent(m))c=f.GetData().id;d=p?p.GetCurrentContent():void 0;h.SetSelectedContent(void 0)}p&&p.DetachIfAttached();n.OnKLChange(b);if(void 0!=c){var f=l.GetItem(c);h.SetSelectedContent(h.GetContentFromItem(f));d&&m&&p&&p.AttachTo(m)}r&&r.OnKLChange(b);if(a.onKLChange)a.onKLChange(b);u&&setTimeout(e,0)}function b(b){if((r?r.GetSelectedMapFeature():void 0)!=b.mapFeature){var c=r.GetItemFromMapFeature(b.mapFeature);c&&r&&r.SetSelectedMapFeature(b.mapFeature)}if(c=r.GetItemFromMapFeature(b.mapFeature))if(c=
h.GetContentFromItem(c))a.checkSetCurrentEditor&&a.editor&&a.checkSetCurrentEditor(a.editor),h.GetSelectedContent()!=c?h.SetSelectedContent(c):h.EnsureContentVisible(c);A&&A(b)}function g(){q.SetVisible(!q.GetIsVisible())}function f(){q.SetUseClusters(!q.GetUsesClusters())}function k(b){c(b,!1);return a.prepareSpareContent?a.prepareSpareContent(b):b}var h;if(!((h=this)instanceof tf.GTFS.AssetListEditor))return new tf.GTFS.AssetListEditor(a);var l,n,m,p,q,r,A,t,w,v,u;this.GetIsVisible=function(){return u};
this.GetTopToolBar=function(){return w};this.GetKL=function(){return l};this.AddEditorToSettings=function(b){var c={};c[a.assetName.replace(" ","_")]=a.editor;b.editors=tf.js.ShallowMerge(b.editors,c)};this.GetEditor=function(){return a.editor};this.GetAssetName=function(){return a.assetName};this.ShowEditorLoadingToast=function(){h.CloseEditorLoadingToast();v=a.showToast("Loading "+h.GetAssetName()+" data...")};this.CloseEditorLoadingToast=function(){v&&(v.Close(),v=void 0)};this.GetAttachedSelectedContent=
function(){return p};this.GetAdditionalLayer=function(a){return t[a]};this.ShowHide=function(b){u=b;var c;b?(a.TLF.Get().topToolBar.AddContent(w),c="5",e()):(a.TLF.Get().topToolBar.RemoveContent(w),c="1");a.scrollWrapper.GetHTMLElement().style.display="flex";a.scrollWrapper.GetHTMLElement().style.zIndex=c;b&&(h.EnsureSelectedContentVisible(),e());if(a.onShowHide)a.onShowHide(b)};this.GetKL=function(){return l};this.GetLayer=function(){return q};this.RemoveAllItems=function(){p.DetachIfAttached();
h.SetSelectedContent(void 0);r&&r.Clear(l);h.UpdateFromNewData([])};this.UpdateFromNewData=function(a){l.UpdateFromNewData(a)};this.EnsureContentVisible=function(b){b&&tf.dom.ScrollVerticallyToEnsureVisible(a.scrollContent,b.wrapper,a.customAppContentI.getVerListWithFadePaddingTopBotInt())};this.EnsureSelectedContentVisible=function(){return h.EnsureContentVisible(m)};this.MakeSelectedMapFeatureVisible=function(){if(r){var b=r?r.GetSelectedMapFeature():void 0;b&&(r.GetIsPoint()?a.appContent.MakeSureMapCoordsAreVisible(b.GetPointCoords(),
150):a.appContent.SetMapExtent(b.GetGeom().GetExtent()))}};this.OnContentSelectToggle=function(a){a&&(h.SetSelectedContent(a==m?void 0:a),h.MakeSelectedMapFeatureVisible())};this.SetSelectedContent=function(a){if(a!=m){if(m){var b=m;m=void 0;c(b,!1);r&&r.SetSelectedMapFeature(void 0);p&&p.DetachIfAttached()}if(m=a)r&&(a=h.GetMapFeatureFromItem(h.GetItemFromContent(m)),r&&r.SetSelectedMapFeature(a)),c(m,!0),p&&p.AttachTo(m),h.EnsureContentVisible(m)}};this.SetSelectedItem=function(a,b,c){h.SetSelectedContent(h.GetContentFromItem(a));
m&&(b&&h.EnsureSelectedContentVisible(),c&&h.MakeSelectedMapFeatureVisible())};this.SelectFirstItem=function(){var a=l.GetFirstKeyedItem();h.SetSelectedItem(a);return a};this.GetSelectedContent=function(){return m};this.GetSelectedItem=function(){return h.GetItemFromContent(m)};this.GetSelectedMapFeature=function(){return r?r.GetSelectedMapFeature():void 0};this.GetItemFromContent=function(a){return n.GetItemFromContent(a)};this.GetContentFromItem=function(a){return n.GetContentFromItem(a)};this.GetItemFromMapFeature=
function(a){return r?r.GetItemFromMapFeature(a):void 0};this.GetMapFeatureFromItem=function(a){return r?r.GetMapFeatureFromItem(a):void 0};(function(){var c=a.appContent,m=a.cssClasses.GetClassNames(),v=a.customAppContentI.getToolBarSpanClasses(),u=a.customAppContentI.getContentWrapper(),C={};a.scrollWrapper.GetHTMLElement().style.display="none";l=new tf.js.KeyedList({name:a.assetName,getKeyFromItemData:function(a){return a.id},needsUpdateItemData:function(a){return!0},filterAddItem:function(a){return!0}});
n=new tf.TFMap.KeyedListContent({KL:l,wrapper:a.scrollWrapper,contentWrapper:a.scrollContent,contentWrapperDisplayVisibleVerb:"block",contentInItemAttributeName:a.contentInItemAttributeName,itemInContentAttributeName:a.itemInContentAttributeName,createNewContent:a.createNewContent,prepareSpareContent:k,onContentBecameSpare:a.onContentBecameSpare,updateContentForItem:a.updateContentForItem,compareContent:a.compareContent});l.AddAggregateListener(d);if(a.createLayer){var G={name:a.assetName,isVisible:!0,
isHidden:!0,useClusters:a.useClusters,clusterFeatureDistance:a.clusterFeatureDistance,clusterStyle:a.clusterStyle,clusterLabelStyle:a.clusterLabelStyle,zIndex:a.layerZIndex++};C.layer={text:"Layer",toolTip:"Toggle map layer visibility",onClick:g};a.useClusters&&(C.clusters={text:"Clusters",toolTip:"Toggle map feature clusters",onClick:f});q=a.appContent.CreateCustomMapLayer(G,!1);a.mapFeaturesSettings&&(A=tf.js.GetFunctionOrNull(a.mapFeaturesSettings.onClick),r=new tf.TFMap.KeyedListMapFeatures(tf.js.ShallowMerge(a.mapFeaturesSettings,
{layer:q,onClick:b})))}t={};if(a.additionalLayers)for(var H in a.additionalLayers){var I=a.additionalLayers[H],J=I.name,G={name:J,isVisible:!0,isHidden:!0,useClusters:I.useClusters,clusterFeatureDistance:I.clusterFeatureDistance,clusterStyle:I.clusterStyle,clusterLabelStyle:I.clusterLabelStyle,zIndex:a.layerZIndex++};t[J]=a.appContent.CreateCustomMapLayer(G,I.use3D)}a.attachedSelectedContentType&&(p=new a.attachedSelectedContentType(tf.js.ShallowMerge(a,{toolTipWrapper:u,getItemFromContent:h.GetItemFromContent})));
w=new tf.dom.Div({cssClass:m.itemRowToolBarClassName+" "+m.emptyBlockDivClassName});G=w.GetHTMLElement().style;G.backgroundColor="white";G.color="black";v=new tf.dom.Div({cssClass:v});G=v.GetHTMLElement();G.innerHTML=" List of "+a.itemNamePlural+" ";G.style.display="inline-block";w.AddContent(v);u={wrapper:u,offsetY:-4,onClick:void 0,onHover:void 0,delayMillis:0,toolTipClass:"*start",toolTipArrowClass:"top"};for(H in C)v=C[H],G=tf.TFMap.CreateSVGButton(c,tf.js.ShallowMerge(u,{onClick:function(a){return function(){switch(a){case "layer":g();
break;case "clusters":f()}}}(H)}),void 0,m.itemToolBarTextButton+" "+m.itemToolBarFixWidthTextButton,v.toolTip,void 0,"toolBarEdit"),G.GetButton().innerHTML=v.text,w.AddContent(G.GetButton());h.ShowHide(!1);e()})()};
tf.GTFS.AttributesRowEditor=function(a){var c;if(!((c=this)instanceof tf.GTFS.AttributesRowEditor))return new tf.GTFS.AttributesRowEditor(a);var e;this.Show=function(a){e.wrapper.GetHTMLElement().style.display=a?"block":"none"};this.GetAllContent=function(){return e};this.UpdateContent=function(c){var b=tf.js.GetNonEmptyString(a.itemAttribute.name,a.key);c=a.itemAttribute.translateData?a.itemAttribute.translateData(c):c[a.key];var g=!!c;g||(c="not defined");e.attrName.GetHTMLElement().innerHTML=b;
if(g)switch(a.itemAttribute.type){case tf.GTFS.EditorAttributeTypes.url:c="<a target='_blank' href='"+c+"' title='browse: "+c+"'>"+c+"</a>"}e.attrValue.GetHTMLElement().innerHTML=c;e.attrDesc.GetHTMLElement().innerHTML=a.itemAttribute.desc};(function(){var d=a.cssClasses.GetClassNames();e={wrapper:new tf.dom.Div({cssClass:d.emailPasswordWrapper})};e.attrName=new tf.dom.Div({cssClass:d.attributeNameClassName});e.attrValue=new tf.dom.Div({cssClass:d.attributeValueClassName});e.attrDesc=new tf.dom.Div({cssClass:d.attributeDescClassName});
e.wrapper.AddContent(e.attrName,e.attrDesc,e.attrValue);c.Show(!1)})()};
tf.GTFS.AttributesListEditor=function(a){var c;if(!((c=this)instanceof tf.GTFS.AttributesListEditor))return new tf.GTFS.AttributesListEditor(a);var e;this.Show=function(a){e.wrapper.GetHTMLElement().style.display=a?"block":"none";for(var b in e.rowEditors)e.rowEditors[b].Show(a)};this.GetAllContent=function(){return e};this.UpdateContent=function(a){for(var b in e.rowEditors)e.rowEditors[b].UpdateContent(a)};(function(){var d=a.cssClasses.GetClassNames();e={wrapper:new tf.dom.Div({cssClass:d.emailPasswordWrapper}),
rowEditors:{}};for(var b in a.itemAttributes)e.wrapper.AddContent((e.rowEditors[b]=tf.GTFS.AttributesRowEditor(tf.js.ShallowMerge(a,{key:b,itemAttribute:a.itemAttributes[b]}))).GetAllContent().wrapper);c.Show(!1)})()};
tf.GTFS.AssetSelectControl=function(a){function c(b){for(var c in b)h.selectUI.AddOrSetOption(a.getOption(b[c]))}function e(a){if(l){var b=[],c;for(c in a){var d=a[c],e=""+d.GetData().id;l[e]&&b.push(d)}a=b}return a}function d(){a.KL.NotifyItemsAdded(function(a){b({added:!0,addedItems:a.items,addedKeys:a.keys})})}function b(b){c(e(b.addedItems));c(e(b.updatedItems));b=b.deletedItems;for(var d in b)h.selectUI.DelOption(a.getValue(b[d]));a.compare&&h.selectUI.Sort(a.compare)}function g(b){a.updateListEditor&&
a.listEditor&&a.listEditor.GetAssetListEditor().SetSelectedItem(k.GetSelectedItem(),!0,!0);if(tf.js.GetFunctionOrNull(a.onSelect)){var c=h.selectUI.GetCurrentOption();a.onSelect({sender:k,notification:b,option:c})}}function f(){a.anyAllTitle&&h.selectUI.AddOrSetOption(n={id:0,innerHTML:a.anyAllTitle,value:"0"})}var k;if(!((k=this)instanceof tf.GTFS.AssetSelectControl))return new tf.GTFS.AssetSelectControl(a);var h,l,n;this.GetKL=function(){return a.KL};this.SetFilter=function(a){if(a){l={};for(var b in a)l[""+
a[b]]=!0}else l=void 0;a=k.GetSelectedOption();h.selectUI.Clear();f();d();k.SetSelectedOption(a.settings)};this.GetAllContent=function(){return h};this.SetTitle=function(a){var b=h.title.GetHTMLElement();a?(b.innerHTML=a,a="block"):a="none";b.style.display=a};this.Show=function(a){h.wrapper.GetHTMLElement().style.display=a?"flex":"none"};this.GetSelected=function(){var a,b=k.GetSelectedOption();b&&(a=b.settings.id);return{id:a}};this.GetSelectedOption=function(){return h.selectUI.GetCurrentOption()};
this.SetSelectedOption=function(a){a&&h.selectUI.SetCurrentOption(a.value)};this.GetSelectedItem=function(){var b=k.GetSelectedOption();return b?a.KL.GetItem(b.settings.id):void 0};this.SetDefaultOption=function(){return k.SetSelectedOption(n)};this.SetSelectedItem=function(b){k.SetSelectedOption(a.getOption(b))};(function(){var c=a.cssClasses,e=c.GetClassNames();h={};h.wrapper=c.CreateFullRowControlWrapper();h.title=new tf.dom.Div({cssClass:e.rowPromptClassName});h.selectUI=new tf.ui.Select({cssClass:e.agenciesSelectClassName,
optionsCSSClass:e.agenciesSelectClassName,onChange:g});h.wrapper.AddContent(h.title,h.selectUI.GetHTMLElement());k.SetTitle(a.title);f();a.KL.AddAggregateListener(b);d()})()};
tf.GTFS.ButtonRow=function(a){var c;if(!((c=this)instanceof tf.GTFS.ButtonRow))return new tf.GTFS.ButtonRow(a);var e;this.SetTitle=function(a){var b=e.title.GetHTMLElement();a?(b.innerHTML=a,a="block"):a="none";b.style.display=a};this.GetAllContent=function(){return e};(function(){var d=a.appContent;d.GetAppStyles();var b=a.cssClasses,g=b.GetClassNames(),f=a.customAppContentI.getContentWrapper();e={};e.wrapper=b.CreateFullRowControlWrapper();e.buttonsToolBar=new tf.dom.Div({cssClass:g.itemRowToolBarClassName});
b=e.buttonsToolBar.GetHTMLElement().style;f={wrapper:f,offsetY:-4,onClick:void 0,onHover:void 0,delayMillis:0,toolTipClass:"*start",toolTipArrowClass:"top"};e.title=new tf.dom.Div({cssClass:g.rowPromptClassName});e.buttons={};e.verbs=a.getVerbs();b.width="calc(100% - 8px)";b.paddingTop=b.paddingBottom="2px";for(var k in e.verbs){var b=e.verbs[k],h=tf.TFMap.CreateSVGButton(d,tf.js.ShallowMerge(f,{onClick:function(a){return function(){var b=e.verbs[a];if(b&&b.onClick)b.onClick({sender:c})}}(k)}),void 0,
g.itemToolBarTextButton+" "+g.itemToolBarFixWidthTextButton,b.toolTip,void 0,"toolBarEdit"),l=h.GetButton();l.innerHTML=b.text;l.style.marginTop=l.style.marginBottom="2px";e.buttonsToolBar.AddContent(l);e.buttons[k]={verb:b,button:h}}c.SetTitle(a.title);e.wrapper.AddContent(e.title,e.buttonsToolBar)})()};tf.GTFS.GetRouteSelectedServiceId=function(a){return a?void 0!==a.selectedServiceId?a.selectedServiceId:void 0:void 0};
tf.GTFS.SetRouteSelectedServiceId=function(a,c){a&&(a.selectedServiceId=void 0!==a.serviceIdsMap[c]?c:void 0)};tf.GTFS.GetRouteSelectedDirectionIndex=function(a){return a?void 0!==a.selectedDirectionIndex?a.selectedDirectionIndex:void 0:void 0};tf.GTFS.SetRouteSelectedDirectionIndex=function(a,c){a&&(a.selectedDirectionIndex=c)};tf.GTFS.GetRouteSelectedStopSequenceId=function(a){return a?void 0!==a.selectedStopSequenceId?a.selectedStopSequenceId:void 0:void 0};
tf.GTFS.SetRouteSelectedStopSequenceId=function(a,c){a&&(a.selectedStopSequenceId=void 0!==a.stopSequenceIdsMap[c]?c:void 0)};tf.GTFS.GetRouteName=function(a){var c;a.route_short_name?(c=a.route_short_name,a.route_long_name&&(c+=" "+a.route_long_name)):c=a.route_long_name?a.route_long_name:"unnamed route";return c};tf.GTFS.GetRouteTitle=function(a){return a.route_id+" - "+tf.GTFS.GetRouteName(a)};
tf.GTFS.RouteDirectionsButtons=function(a){function c(c){var e=n.buttons,f=t,g=(f=(f=f?f.GetData():void 0)?f.directions:void 0)?f.length:0,h=e[p].button.GetButton(),k=h.style,m=e[q].button.GetButton(),C=m.style,e=l.GetSelectedDirectionIndex();k.display=0<g?"inline-block":"none";C.display=1<g?"inline-block":"none";0<g&&(h.innerHTML=f[0].gtfs_direction_name,r[""+f[0].gtfs_direction]=0,A[0]=f[0].gtfs_direction,1<g&&(r[""+f[1].gtfs_direction]=1,A[1]=f[1].gtfs_direction,m.innerHTML=f[1].gtfs_direction_name));
f=0==e;b(l.GetDirectionButton(p),f);f=1==e;b(l.GetDirectionButton(q),f);c||a.noNotifyOnContentChange||d()}function e(a,b){a&&tf.GTFS.SetRouteSelectedDirectionIndex(a.GetData(),b)}function d(b){if(a.onChange)a.onChange(tf.js.ShallowMerge({sender:l},b))}function b(a,b){a.button.GetButton().style.backgroundColor=b?"navajowhite":"white"}function g(a,c){var f=l.GetSelectedDirectionIndex();void 0!==f&&(console.log("hiding direction index: "+f),b(l.GetDirectionButton(0==f?p:q),!1),e(t,void 0),d({isHiding:a,
isShowing:c}))}function f(a,c){var f=l.GetSelectedDirectionIndex();if(f!==a){if(f=t,g(!f||void 0===a,!1),f)if(f=f.GetData(),void 0!==a)if(f=f.directions,a<(f?f.length:0)){var h=f=a;e(t,h);b(l.GetDirectionButton(0==f?p:q),!0);d({isHiding:!1,isShowing:!0})}else console.log("trying to select invalid direction index: "+a);else e(t,void 0)}else c||(g(!0,!1),e(t,void 0))}function k(){f(0)}function h(){f(1)}var l;if(!((l=this)instanceof tf.GTFS.RouteDirectionsButtons))return new tf.GTFS.RouteDirectionsButtons(a);
var n,m,p,q,r,A,t;this.GetRouteDirectionToolTip=function(a){a="direction";if(t){var b=t.GetData();a=b.directions[b.selectedDirectionIndex].gtfs_direction_name+" "+a}return a};this.GetVerbs=function(){return m};this.SetRouteItem=function(a){t=a;c()};this.GetSelectedDirectionIndex=function(){return t?tf.GTFS.GetRouteSelectedDirectionIndex(t.GetData()):void 0};this.GetSelectedGTFSDirectionIndex=function(){var a=t?tf.GTFS.GetRouteSelectedDirectionIndex(t.GetData()):void 0;void 0!==a&&(a=A[a]);return a};
this.SetAllContent=function(a){n=a};this.GetAllContent=function(){return n};this.GetDirectionButton=function(a){return n.buttons[a]};this.ShowDirectionIndex=function(a,b){f(a,b)};this.ShowGTFSDirectionIndex=function(a,b){l.ShowDirectionIndex(r[a],b)};this.UpdateFromRouteItem=function(){c(!0)};p="dir0";q="dir1";r={};r[p]=0;r[q]=1;A=[0,1];(function(){m={};var b=tf.js.GetNonEmptyString(a.toolTip,"Show or hide this route direction");m[p]={text:"Direction 0",toolTip:b,onClick:k,isAdmin:!1};m[q]={text:"Direction 1",
toolTip:b,onClick:h,isAdmin:!1}})()};
tf.GTFS.RoutesSelectControl=function(a){function c(a){var c,d,e;if(a=a?a.GetData():void 0)d=a.id,c=""+d,e=tf.GTFS.GetRouteTitle(a);return{value:c,id:d,innerHTML:e}}function e(b){if(a.onSelect)a.onSelect(b)}var d;if(!((d=this)instanceof tf.GTFS.RoutesSelectControl))return new tf.GTFS.RoutesSelectControl(a);(function(){var b=a.getEditor("routes"),g=b.GetAssetListEditor().GetKL();tf.GTFS.AssetSelectControl.call(d,tf.js.ShallowMerge(a,{KL:g,getOption:c,getValue:function(a){return c(a).value},onSelect:e,
listEditor:b}))})()};tf.js.InheritFrom(tf.GTFS.RoutesSelectControl,tf.GTFS.AssetSelectControl);
tf.GTFS.RoutesMultiSelectControl=function(a){function c(){if(a.onChange)a.onChange({sender:f})}function e(a){a=k.routesSelectControl.GetSelectedItem();return f.SelectRoute(a,!0)}function d(a){a=(a=k.routesSelectControl.GetSelectedItem())?a.GetData():void 0;var b=k.servicesSelectControl.GetSelectedItem(),b=b?b.GetData():void 0;tf.GTFS.SetRouteSelectedServiceId(a,b?b.id:void 0);c()}function b(a){a=(a=k.routesSelectControl.GetSelectedItem())?a.GetData():void 0;var b=k.stopSequencesSelectControl.GetSelectedItem(),
b=b?b.GetData():void 0;tf.GTFS.SetRouteSelectedStopSequenceId(a,b?b.id:void 0);b?k.directionButtons.GetSelectedGTFSDirectionIndex()!==b.gtfs_direction?k.directionButtons.ShowGTFSDirectionIndex(b.gtfs_direction,!0):c():c()}function g(b){if(b.isHiding||b.isShowing){a.getEditor("routes").UpdateCurrentRouteDirections(void 0);if(b=k.stopSequencesSelectControl.GetSelectedItem())b=b.GetData(),k.directionButtons.GetSelectedGTFSDirectionIndex()!==b.gtfs_direction&&k.stopSequencesSelectControl.SetDefaultOption();
c()}}var f;if(!((f=this)instanceof tf.GTFS.RoutesMultiSelectControl))return new tf.GTFS.RoutesMultiSelectControl(a);var k;this.GetAllContent=function(){return k};this.GetSelections=function(){return{routeItem:k.routesSelectControl.GetSelectedItem(),routeDirectionId:k.directionButtons.GetSelectedDirectionIndex(),serviceItem:k.servicesSelectControl.GetSelectedItem(),routeStopSequenceItem:k.stopSequencesSelectControl.GetSelectedItem()}};this.Show=function(b){if(b){var c=a.getEditor("routes").GetAssetListEditor(),
d=c.GetSelectedItem(),e;void 0===d&&(d=c.SelectFirstItem(),e=!0);e||d!==k.routesSelectControl.GetSelectedItem()&&(e=!0);if(!e&&void 0!==d){c=d.GetData();e=tf.GTFS.GetRouteSelectedDirectionIndex(c);var g=k.directionButtons.GetSelectedDirectionIndex();e=e!=g;!e&&(g=k.stopSequencesSelectControl.GetSelectedItem())&&(g=g.GetData(),k.directionButtons.GetSelectedGTFSDirectionIndex()!==g.gtfs_direction&&(tf.GTFS.SetRouteSelectedStopSequenceId(c,void 0),e=!0))}e&&f.SelectRoute(d,!1)}k.wrapper.GetHTMLElement().style.display=
b?"block":"none"};this.SelectRoute=function(a,b){var d=a?a.GetData():void 0,e=d?d.stopSequenceIds:[],f=k.servicesSelectControl,g=k.stopSequencesSelectControl;f.SetFilter(d?d.serviceIds:[]);var r=tf.GTFS.GetRouteSelectedServiceId(d);void 0!==r?f.SetSelectedItem(f.GetKL().GetItem(r)):f.SetDefaultOption();g.SetFilter(e);d=tf.GTFS.GetRouteSelectedStopSequenceId(d);void 0!==d?g.SetSelectedItem(g.GetKL().GetItem(d)):g.SetDefaultOption();b||k.routesSelectControl.SetSelectedItem(a);k.directionButtons.SetRouteItem(a);
c()};(function(){var c=a.cssClasses.GetClassNames();k={};k.wrapper=new tf.dom.Div({cssClass:c.topBotPaddedRowWrapper});k.routesSelectControl=tf.GTFS.RoutesSelectControl(tf.js.ShallowMerge(a,{onSelect:e,title:a.routesTitle,updateListEditor:!0}));k.directionButtons=tf.GTFS.RouteDirectionsButtons(tf.js.ShallowMerge(a,{onChange:g,toolTip:"Select direction",noNotifyOnContentChange:!0}));k.directionButtonsRow=tf.GTFS.ButtonRow(tf.js.ShallowMerge(a,{getVerbs:k.directionButtons.GetVerbs,title:"Select direction"}));
k.directionButtons.SetAllContent(k.directionButtonsRow.GetAllContent());k.servicesSelectControl=tf.GTFS.ServicesSelectControl(tf.js.ShallowMerge(a,{onSelect:d,title:a.servicesTitle,anyAllTitle:"All scheduled route services",updateListEditor:!0}));k.stopSequencesSelectControl=tf.GTFS.StopSequencesSelectControl(tf.js.ShallowMerge(a,{onSelect:b,title:a.stopSequencesTitle,anyAllTitle:"All stop sequences in route",updateListEditor:!0}));k.wrapper.AddContent(k.routesSelectControl.GetAllContent().wrapper);
k.wrapper.AddContent(k.directionButtonsRow.GetAllContent().wrapper);k.wrapper.AddContent(k.servicesSelectControl.GetAllContent().wrapper);k.wrapper.AddContent(k.stopSequencesSelectControl.GetAllContent().wrapper);k.wrapper.GetHTMLElement().style.backgroundColor="beige";f.Show(!1)})()};
tf.GTFS.RoutesSelectedContent=function(a){function c(b){var c=!0;if(b.confirmed){if(tf.js.GetFunctionOrNull(a.getItemFromContent)&&(b=l.GetCurrentContent(),b=a.getItemFromContent(b)))switch(b.GetData(),n.getCurrentVerb()){default:c=!0}}else m.autoHideStatus.HideNow();c&&n.backToToolBar()}function e(a){var b=tf.GTFS.RouteTypesArray[a.route_type];return b=b?a.route_type+" - "+b.name+" ("+b.desc+")":"invalid route type"}function d(a){a=a.directions;var b="",c;for(c in a){var d=a[c],e=d.direction_id,
d=d.gtfs_direction_name;b&&(b+=" and ");b+=e+": "+d}return b}function b(b,c){var d=l.GetCurrentContent();if(d=a.getItemFromContent(d)){d.GetData();d=a.appContent;d.GetAppStyles();d.GetIsShowingAerial();var d=6,e=4;c.GetIsDisplayingInHover()&&(e+=2,d+=2);return[{line:!0,line_color:"#ffffff",line_width:e,line_opacity:100,zindex:d,snaptopixel:!1},{line:!0,line_color:"#000000",line_width:e,line_opacity:100,zindex:d+1,snaptopixel:!1,line_cap:"square",line_dash:[e,2*e,e/2,2*e]}]}console.log("route item is not defined")}
function g(a){}function f(c){if(p){var d=m.routeDirectionButtons.GetSelectedDirectionIndex();if(c||void 0===d)q&&(p.DelMapFeature(q),q=void 0);else if(c=l.GetCurrentContent(),c=a.getItemFromContent(c)){c=c.GetData();var e=c.directions.length-1;e<d&&(d=e);q=new tf.map.Feature({type:"multilinestring",coordinates:c.directions[d].direction_shape,style:b,hoverStyle:b,toolTipProps:{toolTipText:m.routeDirectionButtons.GetRouteDirectionToolTip,keepOnHoverOutTarget:!1,offsetX:24},onCustomAppClick:g});p.AddMapFeature(q)}}}
function k(){var b=l.GetCurrentContent(),b=a.getItemFromContent(b);m.routeDirectionButtons.SetRouteItem(b);m.attributesListEditor.UpdateContent(b.GetData())}function h(a){a.isAttached||f(!0)}var l;if(!((l=this)instanceof tf.GTFS.RoutesSelectedContent))return new tf.GTFS.RoutesSelectedContent(a);var n,m,p,q;this.SetDirectionShapeLayer=function(a){p=a};this.OnRouteDirectionChanged=function(a){m.routeDirectionButtons.UpdateFromRouteItem();f()};(function(){var b=tf.GTFS.RouteDirectionsButtons(tf.js.ShallowMerge(a,
{onChange:l.OnRouteDirectionChanged}));tf.GTFS.ListSelectedContent.call(l,tf.js.ShallowMerge(a,{verbs:tf.js.ShallowMerge(b.GetVerbs(),{}),onModify:c,setInterface:function(a){n=a},onContentChange:k,onAttachDetach:h}));m=l.GetAllContent();(m.attributesListEditor=tf.GTFS.AttributesListEditor(tf.js.ShallowMerge(a,{itemAttributes:{agency_id_in_agency:{name:"agency_id",desc:"the agency to which the route belongs"},route_id:{desc:"uniquely identifies the route within its agency"},route_short_name:{desc:"short name (2-5 characters) for the route"},
route_long_name:{desc:"full name of the route, more descriptive than route_short_name"},route_desc:{desc:"optional detailed description of the route"},route_type:{desc:"GTFS route type",translateData:e},route_url:{desc:"optional URL to route web page (other than agency_url)",type:tf.GTFS.EditorAttributeTypes.url},route_color:{desc:"optional color of the route (6 HEX digit format)"},route_text_color:{desc:"optional color of the name of the route (6 HEX digit format)"},route_directions:{desc:"directions calculated from trips in the route",
translateData:d}}}))).Show(!0);m.wrapper.InsertContentAfter(m.attributesListEditor.GetAllContent().wrapper,m.titleWrapper);m.routeDirectionButtons=b;m.routeDirectionButtons.SetAllContent(m);l.GetAllContent=function(){return m}})()};tf.js.InheritFrom(tf.GTFS.RoutesSelectedContent,tf.GTFS.ListSelectedContent);
tf.GTFS.RoutesListEditor=function(a){function c(a,b){return a}function e(a,b){}function d(a){var b=p.GetContentFromItem(a);b&&(a=a.GetData(),a=tf.GTFS.GetRouteTitle(a),b.title.GetHTMLElement().innerHTML=a)}function b(a){(a=a?a.domObj:void 0)&&p.OnContentSelectToggle(a.content)}function g(c){m.GetTLF().Get();c.GetData();var d=a.cssClasses.GetClassNames();c=new tf.dom.Div({cssClass:d.itemWrapperClassName});var e=new tf.dom.Div({cssClass:d.itemContentWrapperClassName}),f=new tf.dom.Div({cssClass:d.itemTitleClassName}),
d=new tf.dom.Button({cssClass:d.itemButtonClassName,onClick:b}),g={itemButton:d,wrapper:c,contentWrapper:e,title:f};e.AddContent(f);c.AddContent(d,e);return d.content=g}function f(b){var c=q.GetData();p.GetLayer();p.RemoveAllItems();p.ShowEditorLoadingToast();a.apiClient.DesignRoutesPost(function(a){var c=!1;a.responseJSON&&a.responseJSON.ok&&(p.UpdateFromNewData(a.responseJSON.result),c=!0);c||console.log("routes api call failed");p.CloseEditorLoadingToast();b&&b({sender:m})},{id:c.id,includeDirections:!0,
includeDirectionShape:!0,includeRouteShape:!0,includeServiceIds:!0,includeStopSequenceIds:!0,decodeData:!0})}function k(){function b(c,d){var e=p.GetItemFromMapFeature(d);if(e){var f=e.GetData(),e=a.appContent;e.GetAppStyles();e.GetIsShowingAerial();var e=d.GetIsDisplayingInHover(),g="#"+f.route_color,f={line:!0,line_color:g,line_width:2,line_opacity:100,zindex:3,snaptopixel:!1},g=[{line:!0,line_color:"#ffaaaa",line_width:18,line_opacity:50,zindex:2,snaptopixel:!1},{line:!0,line_color:g,line_width:2,
line_opacity:100,zindex:4,snaptopixel:!1}];return e?g:f}console.log("route item is not defined")}return{style:b,hoverStyle:b}}function h(a){return tf.GTFS.GetRouteTitle(p.GetItemFromMapFeature(a.mapFeature).GetData())}function l(a){console.log("route map feature clicked")}function n(a){}var m;if(!((m=this)instanceof tf.GTFS.RoutesListEditor))return new tf.GTFS.RoutesListEditor(a);var p,q;this.UpdateCurrentRouteDirections=function(a){p.GetAttachedSelectedContent().OnRouteDirectionChanged(a)};this.GetAssetListEditor=
function(){return p};this.GetTLF=function(){return a.TLF};this.RefreshForAgency=function(a,b){a!=q&&(q=a,f(b))};this.Show=function(a){a!=q&&(q=a,f());p.ShowHide(!0)};this.RemoveAllItems=function(){q=void 0;p.RemoveAllItems()};this.Hide=function(){p.ShowHide(!1)};(function(){p=new tf.GTFS.AssetListEditor(tf.js.ShallowMerge(a,{editor:m,TLF:m.GetTLF(),attachedSelectedContentType:tf.GTFS.RoutesSelectedContent,createNewContent:g,prepareSpareContent:c,onContentBecameSpare:e,updateContentForItem:d,itemNameSingle:"route",
itemNamePlural:"routes",assetName:"routes",contentInItemAttributeName:"routeContent",itemInContentAttributeName:"routeItem",onKLChange:n,createLayer:!0,useClusters:!1,mapFeaturesSettings:{itemDataFieldNameWithCoords:function(a){return a.route_shape?a.route_shape.route_shape:void 0},mapFeatureType:"multilinestring",refreshStyleOnUpdate:!1,onClick:l,mapFeatureInItemAttributeName:"routeFullMapFeature",itemInMapFeatureAttributeName:"routeItem",styles:k(),toolTipProps:{toolTipText:h,keepOnHoverOutTarget:!1,
offsetX:24},appContent:a.appContent},additionalLayers:[{name:"routeDirections",useClusters:!1,use3D:!1}]}));p.GetAttachedSelectedContent().SetDirectionShapeLayer(p.GetAdditionalLayer("routeDirections"))})()};tf.GTFS.GetStopSequenceName=function(a){return(a.route_id_in_agency?a.route_id_in_agency:"unnamed ")+" - "+(a.trip_headsign?a.trip_headsign:"headsign not defined")+" ("+a.stop_count+")"};tf.GTFS.GetStopSequenceTitle=function(a){return tf.GTFS.GetStopSequenceName(a)};
tf.GTFS.StopSequencesSelectControl=function(a){function c(a){var c,d,e;if(a=a?a.GetData():void 0)d=a.id,c=""+d,e=tf.GTFS.GetStopSequenceTitle(a);return{value:c,id:d,innerHTML:e}}function e(b){if(a.onSelect)a.onSelect(b)}var d;if(!((d=this)instanceof tf.GTFS.StopSequencesSelectControl))return new tf.GTFS.StopSequencesSelectControl(a);(function(){var b=a.getEditor("stop_sequences"),g=b.GetAssetListEditor().GetKL();tf.GTFS.AssetSelectControl.call(d,tf.js.ShallowMerge(a,{KL:g,getOption:c,getValue:function(a){return c(a).value},
onSelect:e,listEditor:b}))})()};tf.js.InheritFrom(tf.GTFS.StopSequencesSelectControl,tf.GTFS.AssetSelectControl);
tf.GTFS.StopSequenceStopsMapFeatures=function(a){function c(a,b){var c=b.GetIsDisplayingInHover(),d=b.GetSettings(),e=d.stopItemData,n=d.stopIndex,d=d.nStops,m=0===n||n===d-1,d=m?"#c5a00f":"#61788c",p=m?"#ffffff":"#f5f5dc",q=m?15:14,m=m?2:1,n=""+(n+1);c?(n+=" - "+tf.GTFS.GetStopTitle(e),c={marker:!0,label:n,zindex:10,font_height:q,line_opacity:50,snaptopixel:!1,border_width:2}):c={opacity:1,marker:!0,label:n,zindex:m,marker_color:d,font_color:p,font_height:q,line_color:"#000",line_width:1,line_opacity:50,
snaptopixel:!1,border_width:2};return c}function e(b){if(a.onClick)a.onClick(b)}var d;if(!((d=this)instanceof tf.GTFS.StopSequenceStopsMapFeatures))return new tf.GTFS.StopSequenceStopsMapFeatures(a);var b;this.Show=function(b){a.layer.SetVisible(b)};this.SetStopSequence=function(g){if(g!=b&&(b&&(b=void 0,a.layer.RemoveAllFeatures()),(b=g)&&b)){var f=b.GetData();g=f.stop_ids;for(var f=f.stop_count,k=a.getEditor("stops").GetAssetListEditor().GetKL(),h=0;h<f;++h){var l=k.GetItem(g[h]);if(l){var n=h,
m=f,p=l.GetData(),l=new tf.map.Feature(tf.js.ShallowMerge({type:"point",coordinates:[p.stop_lon,p.stop_lat],style:c,hoverStyle:c},{sender:d,stopItem:l,stopItemData:p,stopIndex:n,nStops:m},{onCustomAppClick:e}));a.layer.AddMapFeature(l,!0)}}a.layer.AddWithheldFeatures()}}};
tf.GTFS.StopSequencesSelectedContent=function(a){function c(b){b=b.mapFeature.GetSettings().stopItem;var c=a.getEditor("stops");c.GetAssetListEditor().SetSelectedItem(b);a.checkSetCurrentEditor(c)}function e(b){var c=!0;if(b.confirmed){if(tf.js.GetFunctionOrNull(a.getItemFromContent)&&(b=g.GetCurrentContent(),b=a.getItemFromContent(b)))switch(b.GetData(),f.getCurrentVerb()){default:c=!0}}else k.autoHideStatus.HideNow();c&&f.backToToolBar()}function d(){var b=g.GetCurrentContent(),b=a.getItemFromContent(b),
c=a.getEditor("stop_sequences").GetAssetListEditor().GetIsVisible();k.attributesListEditor.UpdateContent(b.GetData());l.SetStopSequence(b);if(c&&b){var c=a.getEditor("routes"),d=c.GetAssetListEditor(),e=d.GetKL().GetItem(b.GetData().route_id);e&&(b=b.GetData(),tf.GTFS.SetRouteSelectedDirectionIndex(e.GetData(),b.direction_id),d.SetSelectedItem(e,!0,!0),c.UpdateCurrentRouteDirections(void 0))}}function b(a){l.Show(a.isAttached)}var g;if(!((g=this)instanceof tf.GTFS.StopSequencesSelectedContent))return new tf.GTFS.StopSequencesSelectedContent(a);
var f,k,h,l;this.SetLayers=function(b){h=b;l=tf.GTFS.StopSequenceStopsMapFeatures(tf.js.ShallowMerge(a,{layer:h,onClick:c}))};(function(){tf.GTFS.ListSelectedContent.call(g,tf.js.ShallowMerge(a,{verbs:tf.js.ShallowMerge(void 0,{}),onModify:e,setInterface:function(a){f=a},onContentChange:d,onAttachDetach:b}));k=g.GetAllContent();(k.attributesListEditor=tf.GTFS.AttributesListEditor(tf.js.ShallowMerge(a,{itemAttributes:{route_id_in_agency:{name:"route_id",desc:"the route associated with this stop sequence"},
trip_headsign:{desc:"trip headsign displayed to riders"},stop_count:{desc:"number of stops in the sequence"},gtfs_direction_name:{name:"direction",desc:"direction calculated from stops in the sequence"}}}))).Show(!0);k.wrapper.InsertContentAfter(k.attributesListEditor.GetAllContent().wrapper,k.titleWrapper);g.GetAllContent=function(){return k}})()};tf.js.InheritFrom(tf.GTFS.StopSequencesSelectedContent,tf.GTFS.ListSelectedContent);
tf.GTFS.StopSequencesListEditor=function(a){function c(a){(a=a?a.domObj:void 0)&&b.OnContentSelectToggle(a.content)}function e(c){var e=g.GetData();b.GetLayer();b.RemoveAllItems();b.ShowEditorLoadingToast();a.apiClient.DesignStopSequencesPost(function(a){var e=!1;a.responseJSON&&a.responseJSON.ok&&(b.UpdateFromNewData(a.responseJSON.result),e=!0);e||console.log("stopSequences api call failed");b.CloseEditorLoadingToast();c&&c({sender:d})},{id:e.id,decodeData:!0})}var d;if(!((d=this)instanceof tf.GTFS.StopSequencesListEditor))return new tf.GTFS.StopSequencesListEditor(a);
var b,g;this.UpdateCurrentStopSequenceDirections=function(a){b.GetAttachedSelectedContent().OnStopSequenceDirectionChanged(a)};this.GetAssetListEditor=function(){return b};this.GetTLF=function(){return a.TLF};this.RefreshForAgency=function(a,b){a!=g&&(g=a,e(b))};this.Show=function(a){a!=g&&(g=a,e());b.ShowHide(!0)};this.RemoveAllItems=function(){g=void 0;b.RemoveAllItems()};this.Hide=function(){b.ShowHide(!1)};b=new tf.GTFS.AssetListEditor(tf.js.ShallowMerge(a,{editor:d,TLF:d.GetTLF(),attachedSelectedContentType:tf.GTFS.StopSequencesSelectedContent,
createNewContent:function(b){d.GetTLF().Get();b.GetData();var e=a.cssClasses.GetClassNames();b=new tf.dom.Div({cssClass:e.itemWrapperClassName});var g=new tf.dom.Div({cssClass:e.itemContentWrapperClassName}),l=new tf.dom.Div({cssClass:e.itemTitleClassName}),e=new tf.dom.Button({cssClass:e.itemButtonClassName,onClick:c}),n={itemButton:e,wrapper:b,contentWrapper:g,title:l};g.AddContent(l);b.AddContent(e,g);return e.content=n},prepareSpareContent:function(a,b){return a},onContentBecameSpare:function(a,
b){},updateContentForItem:function(a){var c=b.GetContentFromItem(a);c&&(a=a.GetData(),a=tf.GTFS.GetStopSequenceTitle(a),c.title.GetHTMLElement().innerHTML=a)},itemNameSingle:"stop sequence",itemNamePlural:"stop sequences",assetName:"stop sequences",contentInItemAttributeName:"stopSequenceContent",itemInContentAttributeName:"stopSequenceItem",onKLChange:function(a){},createLayer:!0,useClusters:!1,additionalLayers:[{name:"stopSequenceStops",useClusters:!1,use3D:!1}]}));b.GetAttachedSelectedContent().SetLayers(b.GetAdditionalLayer("stopSequenceStops"))};
tf.GTFS.TripTimesMapFeatures=function(a){function c(a,c){var d=c.GetIsDisplayingInHover(),e=c.GetSettings(),n=e.stopItemData,m=e.stopIndex,e=e.nStops,p=0===m||m===e-1,e=p?"#c5a00f":"#61788c",q=p?"#ffffff":"#f5f5dc",r=p?15:14,p=p?2:1,A=""+(m+1);if(b&&g){var t=g().stopTimes;if(t){var w=b.GetData(),t=t[w.stimes_id];void 0!=t&&(m=tf.js.TranslateHourMinSec(t.arrival_hms_offsets[m]+w.start_hms),A+=" - "+m.HMS)}}d?(A+=" - "+tf.GTFS.GetStopTitle(n),d={marker:!0,label:A,zindex:10,font_height:r,line_opacity:50,
snaptopixel:!1,border_width:2,marker_horpos:"center",marker_verpos:"bottom"}):d={opacity:1,marker:!0,label:A,zindex:p,marker_color:e,font_color:q,font_height:r,line_color:"#000",line_width:1,line_opacity:50,snaptopixel:!1,border_width:2,marker_horpos:"center",marker_verpos:"bottom"};return d}function e(b){if(a.onClick)a.onClick(b)}var d;if(!((d=this)instanceof tf.GTFS.TripTimesMapFeatures))return new tf.GTFS.TripTimesMapFeatures(a);var b,g;this.SetGetStopTimesAndShapes=function(a){g=a};this.Show=
function(b){a.layer.SetVisible(b)};this.SetTrip=function(f){if(f!=b&&(b&&(b=void 0,a.layer.RemoveAllFeatures()),(b=f)&&b&&(f=b.GetData(),f=a.getEditor("stop_sequences").GetAssetListEditor().GetKL().GetItem(f.sseq_id)))){var g=f.GetData();f=g.stop_ids;for(var g=g.stop_count,h=a.getEditor("stops").GetAssetListEditor().GetKL(),l=0;l<g;++l){var n=h.GetItem(f[l]);if(n){var m=l,p=g,q=n.GetData(),n=new tf.map.Feature(tf.js.ShallowMerge({type:"point",coordinates:[q.stop_lon,q.stop_lat],style:c,hoverStyle:c},
{sender:d,stopItem:n,stopItemData:q,stopIndex:m,nStops:p},{onCustomAppClick:e}));a.layer.AddMapFeature(n,!0)}}a.layer.AddWithheldFeatures()}}};
tf.GTFS.TripsSelectedContent=function(a){function c(a){console.log("clicked trip times map feature")}function e(b){var c=!0;if(b.confirmed){if(tf.js.GetFunctionOrNull(a.getItemFromContent)&&(b=k.GetCurrentContent(),b=a.getItemFromContent(b)))switch(b.GetData(),h.getCurrentVerb()){default:c=!0}}else l.autoHideStatus.HideNow();c&&h.backToToolBar()}function d(a){var b=tf.GTFS.TripBikesAllowedArray[a.bikes_allowed];return b=b?a.bikes_allowed+" - "+b.desc:"invalid bikes allowed value"}function b(a){var b=
tf.GTFS.TripWheelChairAccessibleArray[a.wheelchair_accessible];return b=b?a.wheelchair_accessible+" - "+b.desc:"invalid wheelchair accessibility"}function g(){var b=k.GetCurrentContent(),c=a.getItemFromContent(b);c&&(b=c.GetData(),l.attributesListEditor.UpdateContent(b),m.SetTrip(c),c=a.getEditor("stop_sequences").GetAssetListEditor(),(b=c.GetKL().GetItem(b.sseq_id))&&c.SetSelectedItem(b,!0,!0))}function f(a){m.Show(a.isAttached)}var k;if(!((k=this)instanceof tf.GTFS.TripsSelectedContent))return new tf.GTFS.TripsSelectedContent(a);
var h,l,n,m;this.SetGetStopTimesAndShapes=function(a){m.SetGetStopTimesAndShapes(a)};this.SetLayers=function(b,d){n=d;m=tf.GTFS.TripTimesMapFeatures(tf.js.ShallowMerge(a,{layer:n,onClick:c}))};(function(){tf.GTFS.ListSelectedContent.call(k,tf.js.ShallowMerge(a,{verbs:{},onModify:e,setInterface:function(a){h=a},onContentChange:g,onAttachDetach:f}));l=k.GetAllContent();(l.attributesListEditor=tf.GTFS.AttributesListEditor(tf.js.ShallowMerge(a,{itemAttributes:{trip_id:{desc:"uniquely identifies the trip within its agency"},
trip_headsign:{desc:"trip headsign displayed to riders"},trip_short_name:{desc:"optional trip name"},shape_id:{desc:"optional shape of the trip"},wheelchair_accessible:{desc:"optional information about wheelchair accessibility on the trip",translateData:b},bikes_allowed:{desc:"optional information about bicycle accomodations on the trip",translateData:d}}}))).Show(!0);l.wrapper.InsertContentAfter(l.attributesListEditor.GetAllContent().wrapper,l.titleWrapper);k.GetAllContent=function(){return l}})()};
tf.js.InheritFrom(tf.GTFS.TripsSelectedContent,tf.GTFS.ListSelectedContent);
tf.GTFS.TripsListEditor=function(a){function c(a,b){return a.itemData.start_hms-b.itemData.start_hms}function e(a,b){return a}function d(a,b){}function b(a){var b=p.GetContentFromItem(a);if(b){a=a.GetData();var c=a.trip_id+" - ",d;a.trip_short_name?(d=a.trip_short_name,a.trip_headsign&&(d+=" "+a.trip_headsign)):d=a.trip_headsign?a.trip_headsign:"unnamed trip";a=c+d;b.title.GetHTMLElement().innerHTML=a}}function g(a){(a=a?a.domObj:void 0)&&p.OnContentSelectToggle(a.content)}function f(b){m.GetTLF().Get();
b.GetData();var c=a.cssClasses.GetClassNames();b=new tf.dom.Div({cssClass:c.itemWrapperClassName});var d=new tf.dom.Div({cssClass:c.itemContentWrapperClassName}),e=new tf.dom.Div({cssClass:c.itemTitleClassName}),c=new tf.dom.Button({cssClass:c.itemButtonClassName,onClick:g}),f={itemButton:c,wrapper:b,contentWrapper:d,title:e};d.AddContent(e);b.AddContent(c,d);return c.content=f}function k(b){var c=q.GetData();p.GetLayer();var d=r.GetSelections();d.routeItem&&(c={id:c.id,includeStopTimes:!0,includeStopSequences:!1,
includeShapes:!0,decodeData:!0},c.routeId=d.routeItem.GetData().id,d.serviceItem&&(c.serviceIds=[d.serviceItem.GetData().id]),void 0!==d.routeDirectionId&&(c.routeDirectionId=d.routeDirectionId),d.routeStopSequenceItem&&(c.stopSequenceId=d.routeStopSequenceItem.GetData().id),p.RemoveAllItems(),p.ShowEditorLoadingToast(),a.apiClient.DesignTripsPost(function(a){var c=!1;if(a.responseJSON&&a.responseJSON.ok){a=a.responseJSON.result;for(var d in a.stopTimes){var c=a.stopTimes[d],e=c.id;t[e+""]=c}for(d in a.shapes)c=
a.shapes[d],e=c.id,A[e+""]=c;p.UpdateFromNewData(a.trips);c=!0}c||console.log("trips api call failed");p.CloseEditorLoadingToast();b&&b({sender:m})},c))}function h(a){}function l(a){k()}function n(){return{stopTimes:t,shapes:A}}var m;if(!((m=this)instanceof tf.GTFS.TripsListEditor))return new tf.GTFS.TripsListEditor(a);var p,q,r,A,t;this.GetAssetListEditor=function(){return p};this.GetTLF=function(){return a.TLF};this.RefreshForAgency=function(a,b){a!=q&&(q=a,A={},t={},k(b))};this.Show=function(a){a!=
q&&(q=a,k());p.ShowHide(!0);r.Show(!0)};this.RemoveAllItems=function(){q=void 0;p.RemoveAllItems()};this.Hide=function(){p.ShowHide(!1);r.Show(!1)};(function(){var g=m.GetTLF();g.Get();A={};t={};p=new tf.GTFS.AssetListEditor(tf.js.ShallowMerge(a,{editor:m,TLF:g,attachedSelectedContentType:tf.GTFS.TripsSelectedContent,createNewContent:f,prepareSpareContent:e,onContentBecameSpare:d,updateContentForItem:b,compareContent:c,itemNameSingle:"trip",itemNamePlural:"trips",assetName:"trips",contentInItemAttributeName:"tripContent",
itemInContentAttributeName:"tripItem",onKLChange:h,createLayer:!1,useClusters:!1,additionalLayers:[{name:"tripShapes",useClusters:!1,use3D:!1},{name:"tripTimes",useClusters:!1,use3D:!1}]}));r=tf.GTFS.RoutesMultiSelectControl(tf.js.ShallowMerge(a,{routesTitle:"Select<br/>Route",servicesTitle:"Select<br/>Service",stopSequencesTitle:"Select<br/>Sequence",onChange:l}));p.GetTopToolBar().AddContent(r.GetAllContent().wrapper);g=p.GetAttachedSelectedContent();g.SetLayers(p.GetAdditionalLayer("tripShapes"),
p.GetAdditionalLayer("tripTimes"));g.SetGetStopTimesAndShapes(n)})()};tf.GTFS.GetStopName=function(a){return a.stop_name?a.stop_name:"unnamed stop"};tf.GTFS.GetStopTitle=function(a){return a.stop_id+" - "+tf.GTFS.GetStopName(a)};
tf.GTFS.StopsSelectedContent=function(a){function c(b){var c=!0;if(b.confirmed){if(tf.js.GetFunctionOrNull(a.getItemFromContent)&&(b=g.GetCurrentContent(),b=a.getItemFromContent(b)))switch(b.GetData(),f.getCurrentVerb()){default:c=!0}}else k.autoHideStatus.HideNow();c&&f.backToToolBar()}function e(a){var b=tf.GTFS.StopLocationTypesArray[a.location_type];return b=b?a.location_type+" - "+b.name+" ("+b.desc+")":"invalid location type"}function d(a){var b=(0==a.location_type&&a.parent_station?tf.GTFS.StopInStationWheelChairBordingArray:
tf.GTFS.StopWheelChairBordingArray)[a.wheelchair_boarding];return b=b?a.location_type+" - "+b.desc:"invalid wheelchair boarding"}function b(){var b=g.GetCurrentContent();if(b=a.getItemFromContent(b))b=b.GetData(),k.attributesListEditor.UpdateContent(b)}var g;if(!((g=this)instanceof tf.GTFS.StopsSelectedContent))return new tf.GTFS.StopsSelectedContent(a);var f,k;(function(){tf.GTFS.ListSelectedContent.call(g,tf.js.ShallowMerge(a,{verbs:{},onModify:c,setInterface:function(a){f=a},onContentChange:b}));
k=g.GetAllContent();(k.attributesListEditor=tf.GTFS.AttributesListEditor(tf.js.ShallowMerge(a,{itemAttributes:{stop_id:{desc:"uniquely identifies the stop"},stop_code:{desc:"optional short text or number for display"},stop_name:{desc:"the name of the stop in local and tourist vernacular"},stop_desc:{desc:"optional detailed description of the stop"},stop_lat:{desc:"stop latitude coordinate"},stop_lon:{desc:"stop longitude coordinate"},zone_id:{desc:"optional stop zone id, used for fare calculations"},
stop_url:{desc:"optional url to stop web page (other than route and agency urls)",type:tf.GTFS.EditorAttributeTypes.url},location_type:{desc:"optional location type (stop or station)",translateData:e},parent_station:{desc:"optional parent station id"},stop_timezone:{desc:"optional stop timezone may be different than agency_timezone"},wheelchair_boarding:{desc:"optional information about wheelchair bording availability",translateData:d}}}))).Show(!0);k.wrapper.InsertContentAfter(k.attributesListEditor.GetAllContent().wrapper,
k.titleWrapper);g.GetAllContent=function(){return k}})()};tf.js.InheritFrom(tf.GTFS.StopsSelectedContent,tf.GTFS.ListSelectedContent);
tf.GTFS.StopsListEditor=function(a){function c(a,b){return a}function e(a,b){}function d(a){var b=q.GetContentFromItem(a);b&&(a=a.GetData(),b.title.GetHTMLElement().innerHTML=tf.GTFS.GetStopTitle(a))}function b(a){(a=a?a.domObj:void 0)&&q.OnContentSelectToggle(a.content)}function g(c){p.GetTLF().Get();c.GetData();var d=a.cssClasses.GetClassNames();c=new tf.dom.Div({cssClass:d.itemWrapperClassName});var e=new tf.dom.Div({cssClass:d.itemContentWrapperClassName}),f=new tf.dom.Div({cssClass:d.itemTitleClassName}),
d=new tf.dom.Button({cssClass:d.itemButtonClassName,onClick:b}),g={itemButton:d,wrapper:c,contentWrapper:e,title:f};e.AddContent(f);c.AddContent(d,e);return d.content=g}function f(b){var c=r.GetData();q.RemoveAllItems();q.ShowEditorLoadingToast();a.apiClient.DesignStopsPost(function(a){var c=!1;a.responseJSON&&a.responseJSON.ok&&(q.UpdateFromNewData(a.responseJSON.result),c=!0);c||console.log("stops api call failed");q.CloseEditorLoadingToast();b&&b({sender:p})},{id:c.id})}function k(){function b(c,
d){var e=a.appContent;e.GetAppStyles();e.GetIsShowingAerial();var e=d.GetIsDisplayingInHover(),f=1,g={snaptopixel:!1,zindex:f++,circle:!0,circle_radius:4,line:!0,fill:!0,fill_color:"#fdfdff",line_color:"#026",line_width:2,line_opacity:70,fill_opacity:50};return e?tf.js.ShallowMerge(g,{zindex:f++,circle_radius:7,line_color:"#ff0000",line_opacity:100,fill_color:"#aaaaff"}):g}return{style:b,hoverStyle:b}}function h(a){return tf.GTFS.GetStopTitle(q.GetItemFromMapFeature(a.mapFeature).GetData())}function l(a){console.log("stop map feature clicked")}
function n(a){}function m(a){var b=q.GetSelectedMapFeature();b&&a.showFeatureImmediately(b)}var p;if(!((p=this)instanceof tf.GTFS.StopsListEditor))return new tf.GTFS.StopsListEditor(a);var q,r;this.GetAssetListEditor=function(){return q};this.GetTLF=function(){return a.TLF};this.RefreshForAgency=function(a,b){a!=r&&(r=a,f(b))};this.Show=function(a){a!=r&&(r=a,f());q.ShowHide(!0)};this.RemoveAllItems=function(){r=void 0;q.RemoveAllItems()};this.Hide=function(){q.ShowHide(!1)};(function(){a.appContent.GetMap().AddListener(tf.consts.mapPostComposeEvent,
m);q=new tf.GTFS.AssetListEditor(tf.js.ShallowMerge(a,{editor:p,TLF:p.GetTLF(),attachedSelectedContentType:tf.GTFS.StopsSelectedContent,createLayer:!0,useClusters:!0,clusterFeatureDistance:32,clusterStyle:{zindex:100,circle:!0,circle_radius:tf.TFMap.LayoutSettings.clusterCircleRadius,fill:!0,fill_color:"#073",line:!0,line_color:"#fff",line_width:2,line_opacity:30},clusterLabelStyle:{font:"600 12px Roboto",zindex:101,text:!0,fill:!0,fill_color:"#fff",line:!0,line_opacity:70,line_color:"#000",line_width:2},
onKLChange:n,createNewContent:g,prepareSpareContent:c,onContentBecameSpare:e,updateContentForItem:d,itemNameSingle:"stop",itemNamePlural:"stops",assetName:"stops",contentInItemAttributeName:"stopContent",itemInContentAttributeName:"stopItem",mapFeaturesSettings:{itemDataFieldNameWithCoords:function(a){return[a.stop_lon,a.stop_lat]},mapFeatureType:"point",refreshStyleOnUpdate:!1,onClick:l,mapFeatureInItemAttributeName:"stopMapFeature",itemInMapFeatureAttributeName:"stopItem",styles:k(),toolTipProps:{toolTipText:h,
keepOnHoverOutTarget:!0,offsetX:16},appContent:a.appContent}}))})()};tf.GTFS.GetServiceName=function(a){return a.wd_mask_name};tf.GTFS.GetServiceTitle=function(a){return a.service_id+" - "+tf.GTFS.GetServiceName(a)};
tf.GTFS.ServicesSelectControl=function(a){function c(a){var c,d,e;if(a=a?a.GetData():void 0)d=a.id,c=""+d,e=tf.GTFS.GetServiceTitle(a);return{value:c,id:d,innerHTML:e}}function e(b){if(a.onSelect)a.onSelect(b)}var d;if(!((d=this)instanceof tf.GTFS.ServicesSelectControl))return new tf.GTFS.ServicesSelectControl(a);(function(){var b=a.getEditor("services"),g=b.GetAssetListEditor().GetKL();tf.GTFS.AssetSelectControl.call(d,tf.js.ShallowMerge(a,{KL:g,getOption:c,getValue:function(a){return c(a).value},
onSelect:e,listEditor:b}))})()};tf.js.InheritFrom(tf.GTFS.ServicesSelectControl,tf.GTFS.AssetSelectControl);
tf.GTFS.ServicesSelectedContent=function(a){function c(b){var c=!0;if(b.confirmed){if(tf.js.GetFunctionOrNull(a.getItemFromContent)&&(b=l.GetCurrentContent(),b=a.getItemFromContent(b)))switch(b.GetData(),n.getCurrentVerb()){default:c=!0}}else m.autoHideStatus.HideNow();c&&n.backToToolBar()}function e(a){return a?a:"service is only available on additional calendar dates"}function d(a){return e(a.start_date)}function b(a){return e(a.end_date)}function g(a){a=a.wd_mask;if(0==a)return"only available by calendar dates";
for(var b="",c="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),d=0;7>d;++d)a&1<<d&&(b&&(b+=", "),b+=c[d]);return b}function f(a,b){for(var c="",d=b?b.length:0,e=0;e<d;++e)c&&(c+=", "),c+=b[e];return a+": "+c}function k(a){var b,c=a.calendar_dates?a.calendar_dates.length:0;if(0<c){b={};for(var d=0;d<c;++d){var e=a.calendar_dates[d],g;switch(e.exception_type){case tf.GTFS.CalendarDatesExceptionTypeAvailable:case tf.GTFS.CalendarDatesExceptionTypeUnavailable:g=""+e.exception_type;
break;default:g=""+tf.GTFS.CalendarDatesExceptionTypeUnavailable}var h=b[g];h||(h=b[g]=[]);h.push(e.date)}a=b[tf.GTFS.CalendarDatesExceptionTypeAvailable];c=b[tf.GTFS.CalendarDatesExceptionTypeUnavailable];d=a?f("available on",b[tf.GTFS.CalendarDatesExceptionTypeAvailable]):"";b=c?f("unavailable on",b[tf.GTFS.CalendarDatesExceptionTypeUnavailable]):"";b=d+(a&&c?"<br />":"")+b}return b}function h(){var b=l.GetCurrentContent();if(b=a.getItemFromContent(b))b=b.GetData(),m.attributesListEditor.UpdateContent(b)}
var l;if(!((l=this)instanceof tf.GTFS.ServicesSelectedContent))return new tf.GTFS.ServicesSelectedContent(a);var n,m;(function(){tf.GTFS.ListSelectedContent.call(l,tf.js.ShallowMerge(a,{verbs:{},onModify:c,setInterface:function(a){n=a},onContentChange:h}));m=l.GetAllContent();(m.attributesListEditor=tf.GTFS.AttributesListEditor(tf.js.ShallowMerge(a,{itemAttributes:{service_id:{desc:"uniquely identifies the service"},wd_mask:{name:"available on",desc:"service availability by day of the week",translateData:g},
start_date:{desc:"initial date when service becomes available",translateData:d},end_date:{desc:"final date when service is still available",translateData:b},calendar_dates:{desc:"additional dates when service is available or unavailable",translateData:k}}}))).Show(!0);m.wrapper.InsertContentAfter(m.attributesListEditor.GetAllContent().wrapper,m.titleWrapper);l.GetAllContent=function(){return m}})()};tf.js.InheritFrom(tf.GTFS.ServicesSelectedContent,tf.GTFS.ListSelectedContent);
tf.GTFS.ServicesListEditor=function(a){function c(a){(a=a?a.domObj:void 0)&&b.OnContentSelectToggle(a.content)}function e(c){var e=g.GetData();b.RemoveAllItems();b.ShowEditorLoadingToast();a.apiClient.DesignServicesPost(function(a){var e=!1;a.responseJSON&&a.responseJSON.ok&&(b.UpdateFromNewData(a.responseJSON.result),e=!0);e||console.log("services api call failed");b.CloseEditorLoadingToast();c&&c({sender:d})},{id:e.id})}var d;if(!((d=this)instanceof tf.GTFS.ServicesListEditor))return new tf.GTFS.ServicesListEditor(a);
var b,g;this.GetAssetListEditor=function(){return b};this.GetTLF=function(){return a.TLF};this.RefreshForAgency=function(a,b){a!=g&&(g=a,e(b))};this.Show=function(a){a!=g&&(g=a,e());b.ShowHide(!0)};this.RemoveAllItems=function(){g=void 0;b.RemoveAllItems()};this.Hide=function(){b.ShowHide(!1)};b=new tf.GTFS.AssetListEditor(tf.js.ShallowMerge(a,{editor:d,TLF:d.GetTLF(),attachedSelectedContentType:tf.GTFS.ServicesSelectedContent,onKLChange:function(a){},createNewContent:function(b){d.GetTLF().Get();
b.GetData();var e=a.cssClasses.GetClassNames();b=new tf.dom.Div({cssClass:e.itemWrapperClassName});var g=new tf.dom.Div({cssClass:e.itemContentWrapperClassName}),l=new tf.dom.Div({cssClass:e.itemTitleClassName}),e=new tf.dom.Button({cssClass:e.itemButtonClassName,onClick:c}),n={itemButton:e,wrapper:b,contentWrapper:g,title:l};g.AddContent(l);b.AddContent(e,g);return e.content=n},prepareSpareContent:function(a,b){return a},onContentBecameSpare:function(a,b){},updateContentForItem:function(a){var c=
b.GetContentFromItem(a);c&&(a=a.GetData(),c.title.GetHTMLElement().innerHTML=tf.GTFS.GetServiceTitle(a))},itemNameSingle:"service",itemNamePlural:"services",assetName:"services",contentInItemAttributeName:"serviceContent",itemInContentAttributeName:"serviceItem"}))};
tf.GTFS.SubAgenciesSelectedContent=function(a){function c(c){var e=!0;if(c.confirmed){if(tf.js.GetFunctionOrNull(a.getItemFromContent)&&(c=d.GetCurrentContent(),c=a.getItemFromContent(c)))switch(c.GetData(),b.getCurrentVerb()){default:e=!0}}else g.autoHideStatus.HideNow();e&&b.backToToolBar()}function e(){var b=d.GetCurrentContent();if(b=a.getItemFromContent(b))b=b.GetData(),g.attributesListEditor.UpdateContent(b)}var d;if(!((d=this)instanceof tf.GTFS.SubAgenciesSelectedContent))return new tf.GTFS.SubAgenciesSelectedContent(a);
var b,g;(function(){tf.GTFS.ListSelectedContent.call(d,tf.js.ShallowMerge(a,{verbs:{},onModify:c,setInterface:function(a){b=a},onContentChange:e}));g=d.GetAllContent();(g.attributesListEditor=tf.GTFS.AttributesListEditor(tf.js.ShallowMerge(a,{itemAttributes:{agency_id:{desc:"uniquely identifies the sub agency"},agency_name:{desc:"the name of the sub agency for display"},agency_url:{desc:"optional url to sub agency web page",type:tf.GTFS.EditorAttributeTypes.url},agency_timezone:{desc:"sub agency timezone"},
agency_lang:{desc:"optional primary languaged used by the sub agency"},agency_phone:{desc:"optional sub agency voice telephone number"},agency_fare_url:{desc:"optional url to web page containing fare information",type:tf.GTFS.EditorAttributeTypes.url},agency_email:{desc:"optional customer service email address"}}}))).Show(!0);g.wrapper.InsertContentAfter(g.attributesListEditor.GetAllContent().wrapper,g.titleWrapper);d.GetAllContent=function(){return g}})()};
tf.js.InheritFrom(tf.GTFS.SubAgenciesSelectedContent,tf.GTFS.ListSelectedContent);
tf.GTFS.SubAgenciesListEditor=function(a){function c(a){(a=a?a.domObj:void 0)&&b.OnContentSelectToggle(a.content)}function e(c){var e=g.GetData();b.RemoveAllItems();b.ShowEditorLoadingToast();a.apiClient.DesignAgenciesPost(function(a){var e=!1;a.responseJSON&&a.responseJSON.ok&&(b.UpdateFromNewData(a.responseJSON.result),e=!0);e||console.log("subAgencies api call failed");b.CloseEditorLoadingToast();c&&c({sender:d})},{id:e.id})}var d;if(!((d=this)instanceof tf.GTFS.SubAgenciesListEditor))return new tf.GTFS.SubAgenciesListEditor(a);
var b,g;this.GetAssetListEditor=function(){return b};this.GetTLF=function(){return a.TLF};this.RefreshForAgency=function(a,b){a!=g&&(g=a,e(b))};this.Show=function(a){a!=g&&(g=a,e());b.ShowHide(!0)};this.RemoveAllItems=function(){g=void 0;b.RemoveAllItems()};this.Hide=function(){b.ShowHide(!1)};b=new tf.GTFS.AssetListEditor(tf.js.ShallowMerge(a,{editor:d,TLF:d.GetTLF(),attachedSelectedContentType:tf.GTFS.SubAgenciesSelectedContent,onKLChange:function(a){},createNewContent:function(b){d.GetTLF().Get();
b.GetData();var e=a.cssClasses.GetClassNames();b=new tf.dom.Div({cssClass:e.itemWrapperClassName});var g=new tf.dom.Div({cssClass:e.itemContentWrapperClassName}),l=new tf.dom.Div({cssClass:e.itemTitleClassName}),e=new tf.dom.Button({cssClass:e.itemButtonClassName,onClick:c}),n={itemButton:e,wrapper:b,contentWrapper:g,title:l};g.AddContent(l);b.AddContent(e,g);return e.content=n},prepareSpareContent:function(a,b){return a},onContentBecameSpare:function(a,b){},updateContentForItem:function(a){var c=
b.GetContentFromItem(a);c&&(a=a.GetData(),c.title.GetHTMLElement().innerHTML=a.agency_id+" - "+(a.agency_name?a.agency_name:"unnamed subAgency"))},itemNameSingle:"sub agency",itemNamePlural:"sub agencies",assetName:"sub agencies",contentInItemAttributeName:"subAgencyContent",itemInContentAttributeName:"subAgencyItem"}))};
tf.GTFS.AgencyEditor=function(a){function c(a){N.GetHTMLElement().style.display=a?"inline-block":"none"}function e(a){}function d(){f();G.RemoveAllItems();H.RemoveAllItems();C.RemoveAllItems();F.RemoveAllItems();I.RemoveAllItems();J.RemoveAllItems()}function b(a){var d;switch(a.sender){case G:d=H;break;case H:d=F;break;case F:d=C;break;case C:d=J}d?(a=d,c(!1),a.RefreshForAgency(E,b)):(v("All data loaded",1E3),c(!0),l())}function g(b){return a.editors[b]}function f(){D&&(D.Hide(),D=void 0)}function k(a){f();
(D=a)&&D.Show(E)}function h(a){a!==D&&(f(),(D=a)&&D.Show(E))}function l(){k(G)}function n(){k(F)}function m(){k(C)}function p(){k(J)}function q(){k(H)}function r(){k(I)}function A(){var a={};a.agencies={text:"Agencies",toolTip:"View list of sub agencies",onClick:l};a.services={text:"Services",toolTip:"View list of services",onClick:q};a.stops={text:"Stops",toolTip:"View list of stops",onClick:m};a.routes={text:"Routes",toolTip:"View list of routes",onClick:n};a.sequences={text:"Sequences",toolTip:"View list of stop sequences",
onClick:p};a.trips={text:"Trips",toolTip:"View list of trips",onClick:r};return a}function t(){a.onCloseAgencyEditor(E)}function w(){K&&(t(),d())}function v(b,c){var d=a.appContent.GetToaster();void 0==c&&(c=0);return d.Toast({text:b,timeout:c})}var u;if(!((u=this)instanceof tf.GTFS.AgencyEditor))return new tf.GTFS.AgencyEditor(a);var B,E,D,F,C,G,H,I,J,K,N;this.SetCurrentEditor=function(a){return k(a)};this.OnVisibilityChange=function(a){u.SetIsVisible(a.isVisible)};this.SetIsVisible=function(a){B.SetIsVisible(a)};
this.SetIsHidden=function(a){K=!!a;B.SetIsHidden(a)};this.SetIsExpanded=function(a){B.SetIsExpanded(a)};this.Edit=function(a){var e=E!=a;e&&d();(E=a)?(a=E.GetData(),B.Get().listTitleSpan.innerHTML="<< "+a.prefix,K=!0,e&&(e=G,c(!1),e.RefreshForAgency(E,b)),u.SetIsHidden(!1),u.SetIsExpanded(!0)):u.SetIsHidden(!0)};(function(){var b=a.appContent;b.GetAppStyles();var c=a.cssClasses.GetClassNames(),d=a.customAppContentI,f=d.getToolBarSpanClasses(),k=d.getContentWrapper();B=new tf.GTFS.TLF(tf.js.ShallowMerge(a,
{isVisible:!0,isExpanded:!0,isHidden:!0,onToggleExpanded:e,noScrollWrapperVisibility:!0,absoluteScrollers:!0}));d=B.Get();tf.dom.AddCSSClass(d.wrapper,c.fullEditorClassName);d.listTitleSpan=document.createElement("div");d.listTitleSpan.className=f;d.toolBar.content.AddContent(d.listTitleSpan);d.cellButton.SetOnClick(t);N=new tf.dom.Div({cssClass:c.itemRowToolBarClassName});var f={wrapper:k,offsetY:-4,onClick:void 0,onHover:void 0,delayMillis:0,toolTipClass:"*start",toolTipArrowClass:"top"},k=A(),
u=N.GetHTMLElement().style;u.maxWidth="60%";u.paddingTop=u.paddingBottom="2px";for(var D in k){var u=k[D],E=tf.TFMap.CreateSVGButton(b,tf.js.ShallowMerge(f,{onClick:function(a){return function(){switch(a){case "agencies":l();break;case "services":q();break;case "stops":m();break;case "sequences":p();break;case "routes":n();break;case "trips":r()}}}(D)}),void 0,c.itemToolBarTextButton+" "+c.itemToolBarFixWidthTextButtonWide,u.toolTip,void 0,"toolBarEdit").GetButton(),K=E.style;E.innerHTML=u.text;K.marginTop=
E.style.marginBottom="2px";N.AddContent(E)}a.showToast=v;a.checkSetCurrentEditor=h;a.getEditor=g;d.toolBar.content.AddContent(N);b=new tf.dom.Div({cssClass:c.emptyBlockDivClassName});d.topToolBar=b;d.wrapper.InsertContentAfter(b,d.toolBar.wrapper);F=tf.GTFS.RoutesListEditor(tf.js.ShallowMerge(a,{TLF:B,scrollContent:d.scrollContent,scrollWrapper:d.scrollWrapper}));F.GetAssetListEditor().AddEditorToSettings(a);b=B.AddScrollArea();G=tf.GTFS.SubAgenciesListEditor(tf.js.ShallowMerge(a,{TLF:B,scrollContent:b.scrollContent,
scrollWrapper:b.scrollWrapper}));G.GetAssetListEditor().AddEditorToSettings(a);b=B.AddScrollArea();H=tf.GTFS.ServicesListEditor(tf.js.ShallowMerge(a,{TLF:B,scrollContent:b.scrollContent,scrollWrapper:b.scrollWrapper}));H.GetAssetListEditor().AddEditorToSettings(a);b=B.AddScrollArea();C=tf.GTFS.StopsListEditor(tf.js.ShallowMerge(a,{TLF:B,scrollContent:b.scrollContent,scrollWrapper:b.scrollWrapper}));C.GetAssetListEditor().AddEditorToSettings(a);b=B.AddScrollArea();J=tf.GTFS.StopSequencesListEditor(tf.js.ShallowMerge(a,
{TLF:B,scrollContent:b.scrollContent,scrollWrapper:b.scrollWrapper}));J.GetAssetListEditor().AddEditorToSettings(a);b=B.AddScrollArea();I=tf.GTFS.TripsListEditor(tf.js.ShallowMerge(a,{TLF:B,scrollContent:b.scrollContent,scrollWrapper:b.scrollWrapper}));I.GetAssetListEditor().AddEditorToSettings(a);a.customAppContentI.getContentWrapper().AddContent(d.wrapper);a.agenciesList.GetKL().AddAggregateListener(w)})()};
tf.GTFS.Content=function(a){function c(a){if(tf.js.GetFunctionOrNull(a))for(var b in g)a(g[b])}function e(a,b){c(function(c){if(tf.js.GetFunctionOrNull(c[a]))c[a](b)})}function d(a){g.agencyEditor.Edit(a)}function b(a){g.agencyEditor.SetIsHidden(!0);g.agenciesContent.GetTLF().SetIsExpanded(!0);g.agenciesContent.SetSelectedItem(a)}var g;this.OnCreated=function(a){e("OnCreated",a)};this.OnVisibilityChange=function(a){e("OnVisibilityChange",a)};this.UpdateForMapType=function(){e("UpdateForMapType",void 0)};
(function(){var c=a.appContent.GetAppStyles(),e=a.customAppContentI,c=e.createTitleDescSVGLogo(a.panelName,a.appDesc,c.GetPoweredByTerraFlySVGForMap()),h=e.createNonScrollContent();h.AddContent(c.wrapper);e.getContentWrapper().AddContent(h);e=tf.js.ShallowMerge(a,{contentId:0,onEditAgency:d,onCloseAgencyEditor:b});c={cssClasses:tf.GTFS.CSSClasses,apiClient:tf.GTFS.APIClient,notify:tf.GTFS.Notify,signInContent:tf.GTFS.SignInContent,usersList:tf.GTFS.UsersList,agenciesList:tf.GTFS.AgenciesList,agenciesContent:tf.GTFS.AgenciesContent,
usersContent:tf.GTFS.UsersContent,agencyEditor:tf.GTFS.AgencyEditor};g={};for(var l in c)++e.contentId,g[l]=e[l]=new c[l](e)})()};
tf.GTFS.App=function(a){var c,e;a.showHistory||(a.showRT=!0);c=new tf.TFMap.CustomApp(tf.js.ShallowMerge(a,{onVisibilityChange:function(a){e&&e.OnVisibilityChange(a)},updateForMapType:function(){e&&e.UpdateForMapType()},appName:"GTFS Architect",sidePanelWidthInt:340,sidePanelWidthSmallInt:240,onContentSetInterface:function(d){e=new tf.GTFS.Content(tf.js.ShallowMerge(a,{appContent:c.GetTFMapApp().GetContent(),customAppContentI:d,panelName:"GTFS Architect",appDesc:"General Transit Feed Specification"}))},
onCreated:function(a){e.OnCreated(a)},onParametersParsed:function(a){a=a.mapSettings;a.panels=tf.urlapi.AddStringsWithSeparatorsIfAbsent(a.panels,[tf.consts.panelNameMeasure,tf.consts.panelNameDownload]);a.mapType=tf.consts.typeNameMap}}))};
function bootStrapApp(a){var c=tf.urlapi.ParseURLAPIParameters(a.fullURL)[tf.consts.appParamName],e;if(tf.js.GetIsNonEmptyString(c)){var d,b,g;switch(c.toLowerCase()){case "mdt":case "mdtrths":d={showRT:!0,showHistory:!0,startWithHistory:!1};break;case "mdthsrt":d={showRT:!0,showHistory:!0,startWithHistory:!0};break;case "mdtrt":d={showRT:!0,showHistory:!1,startWithHistory:!1};break;case "mdths":d={showRT:!1,showHistory:!0,startWithHistory:!0};break;case "geofence":case "geofencerths":b={showRT:!0,
showHistory:!0,startWithHistory:!1};break;case "geofencehsrt":b={showRT:!0,showHistory:!0,startWithHistory:!0};break;case "geofencert":b={showRT:!0,showHistory:!1,startWithHistory:!1};break;case "geofencehs":b={showRT:!1,showHistory:!0,startWithHistory:!0};break;case "gtfs":g={transitServerURL:"http://131.94.133.245/"}}void 0==e&&(c={layerZIndex:10},void 0!=b?e=new tf.GeoFenceApp.App(tf.js.ShallowMerge(a,b,c)):void 0!=d?e=new tf.MDTBusesApp.App(tf.js.ShallowMerge(a,d,c)):void 0!=g&&(e=new tf.GTFS.App(tf.js.ShallowMerge(a,
g,c))))}void 0==e&&(e=new tf.TFMap.App(a));return e}var fiuServer="http://transit.cs.fiu.edu/api/v1/",devServer="http://192.168.0.105:8080/v1/",centosServer="http://192.168.0.81/api/v1/",transitServerURL=fiuServer,appSettings={transitServerURL:transitServerURL,fullURL:window.location.href},globalMapApp;(function(){"undefined"===typeof tf_skip_bootstrap_app&&(globalMapApp=bootStrapApp(appSettings))})();
